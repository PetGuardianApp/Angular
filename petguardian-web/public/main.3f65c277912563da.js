"use strict";(self.webpackChunkpetguardian_web=self.webpackChunkpetguardian_web||[]).push([[179],{6304:(nn,ct,ce)=>{ce.d(ct,{Dh:()=>gt,GT:()=>Ye,cc:()=>_t,hO:()=>St,on:()=>ye,pX:()=>xe,xv:()=>Qe});var a=ce(5879),Le=ce(120),re=ce(2793);nn=ce.hmd(nn);const Oe=["ngOnDestroy"],xe=(me,on,$t,_e={})=>new Proxy(me,{get:(et,Ge)=>$t.runOutsideAngular(()=>{var ht;if(me[Ge])return!(null===(ht=_e?.spy)||void 0===ht)&&ht.get&&_e.spy.get(Ge,me[Ge]),me[Ge];if(Oe.indexOf(Ge)>-1)return()=>{};const Et=on.toPromise().then(Ze=>{const Ne=Ze&&Ze[Ge];return"function"==typeof Ne?Ne.bind(Ze):Ne&&Ne.then?Ne.then(It=>$t.run(()=>It)):$t.run(()=>Ne)});return new Proxy(()=>{},{get:(Ze,Ne)=>Et[Ne],apply:(Ze,Ne,It)=>Et.then(gn=>{var kn;const vi=gn&&gn(...It);return!(null===(kn=_e?.spy)||void 0===kn)&&kn.apply&&_e.spy.apply(Ge,It,vi),vi})})})}),Ye=(me,on)=>{on.forEach($t=>{Object.getOwnPropertyNames($t.prototype||$t).forEach(_e=>{Object.defineProperty(me.prototype,_e,Object.getOwnPropertyDescriptor($t.prototype||$t,_e))})})};class ke{constructor(on){return on}}const gt=new a.OlP("angularfire2.app.options"),Qe=new a.OlP("angularfire2.app.name");function ye(me,on,$t){const et="object"==typeof $t&&$t||{};et.name=et.name||"string"==typeof $t&&$t||"[DEFAULT]";const ht=Le.Z.apps.filter(Et=>Et&&Et.name===et.name)[0]||on.runOutsideAngular(()=>Le.Z.initializeApp(me,et));try{JSON.stringify(me)!==JSON.stringify(ht.options)&&Ee("error",`${ht.name} Firebase App already initialized with different options${nn.hot?", you may need to reload as Firebase is not HMR aware.":"."}`)}catch{}return new ke(ht)}const Ee=(me,...on)=>{(0,a.X6Q)()&&typeof console<"u"&&console[me](...on)},He={provide:ke,useFactory:ye,deps:[gt,a.R0b,[new a.FiY,Qe]]};let St=(()=>{class me{constructor($t){Le.Z.registerVersion("angularfire",re.q4.full,"core"),Le.Z.registerVersion("angularfire",re.q4.full,"app-compat"),Le.Z.registerVersion("angular",a.q4F.full,$t.toString())}static initializeApp($t,_e){return{ngModule:me,providers:[{provide:gt,useValue:$t},{provide:Qe,useValue:_e}]}}}return me.\u0275fac=function($t){return new($t||me)(a.LFG(a.Lbi))},me.\u0275mod=a.oAB({type:me}),me.\u0275inj=a.cJS({providers:[He]}),me})();function _t(me,on,$t,_e,et){const[,Ge,ht]=globalThis.\u0275AngularfireInstanceCache.find(Et=>Et[0]===me)||[];if(Ge)return function At(me,on){try{return me.toString()===on.toString()}catch{return me===on}}(et,ht)||(Ut("error",`${on} was already initialized on the ${$t} Firebase App with different settings.${xt?" You may need to reload as Firebase is not HMR aware.":""}`),Ut("warn",{is:et,was:ht})),Ge;{const Et=_e();return globalThis.\u0275AngularfireInstanceCache.push([me,Et,et]),Et}}const xt=!!nn.hot,Ut=(me,...on)=>{(0,a.X6Q)()&&typeof console<"u"&&console[me](...on)};globalThis.\u0275AngularfireInstanceCache||(globalThis.\u0275AngularfireInstanceCache=[])},2793:(nn,ct,ce)=>{ce.d(ct,{q4:()=>ue,iC:()=>uc,fc:()=>iu,HU:()=>Rp,vb:()=>Pp,JM:()=>Dl});var a=ce(5879),Le=ce(4097),re=ce(5861),Oe=ce(4303),xe=ce(9058),Ye=ce(4537),ke=ce(7879);const gt=(H,j)=>j.some(ee=>H instanceof ee);let Qe,ye;const St=new WeakMap,_t=new WeakMap,At=new WeakMap,xt=new WeakMap,Ut=new WeakMap;let $t={get(H,j,ee){if(H instanceof IDBTransaction){if("done"===j)return _t.get(H);if("objectStoreNames"===j)return H.objectStoreNames||At.get(H);if("store"===j)return ee.objectStoreNames[1]?void 0:ee.objectStore(ee.objectStoreNames[0])}return ht(H[j])},set:(H,j,ee)=>(H[j]=ee,!0),has:(H,j)=>H instanceof IDBTransaction&&("done"===j||"store"===j)||j in H};function Ge(H){return"function"==typeof H?function et(H){return H!==IDBDatabase.prototype.transaction||"objectStoreNames"in IDBTransaction.prototype?function He(){return ye||(ye=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}().includes(H)?function(...j){return H.apply(Et(this),j),ht(St.get(this))}:function(...j){return ht(H.apply(Et(this),j))}:function(j,...ee){const pe=H.call(Et(this),j,...ee);return At.set(pe,j.sort?j.sort():[j]),ht(pe)}}(H):(H instanceof IDBTransaction&&function on(H){if(_t.has(H))return;const j=new Promise((ee,pe)=>{const Me=()=>{H.removeEventListener("complete",Ve),H.removeEventListener("error",lt),H.removeEventListener("abort",lt)},Ve=()=>{ee(),Me()},lt=()=>{pe(H.error||new DOMException("AbortError","AbortError")),Me()};H.addEventListener("complete",Ve),H.addEventListener("error",lt),H.addEventListener("abort",lt)});_t.set(H,j)}(H),gt(H,function Ee(){return Qe||(Qe=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}())?new Proxy(H,$t):H)}function ht(H){if(H instanceof IDBRequest)return function me(H){const j=new Promise((ee,pe)=>{const Me=()=>{H.removeEventListener("success",Ve),H.removeEventListener("error",lt)},Ve=()=>{ee(ht(H.result)),Me()},lt=()=>{pe(H.error),Me()};H.addEventListener("success",Ve),H.addEventListener("error",lt)});return j.then(ee=>{ee instanceof IDBCursor&&St.set(ee,H)}).catch(()=>{}),Ut.set(j,H),j}(H);if(xt.has(H))return xt.get(H);const j=Ge(H);return j!==H&&(xt.set(H,j),Ut.set(j,H)),j}const Et=H=>Ut.get(H),It=["get","getKey","getAll","getAllKeys","count"],gn=["put","add","delete","clear"],kn=new Map;function vi(H,j){if(!(H instanceof IDBDatabase)||j in H||"string"!=typeof j)return;if(kn.get(j))return kn.get(j);const ee=j.replace(/FromIndex$/,""),pe=j!==ee,Me=gn.includes(ee);if(!(ee in(pe?IDBIndex:IDBObjectStore).prototype)||!Me&&!It.includes(ee))return;const Ve=function(){var lt=(0,re.Z)(function*(Yt,...Gt){const vn=this.transaction(Yt,Me?"readwrite":"readonly");let Vn=vn.store;return pe&&(Vn=Vn.index(Gt.shift())),(yield Promise.all([Vn[ee](...Gt),Me&&vn.done]))[0]});return function(Gt){return lt.apply(this,arguments)}}();return kn.set(j,Ve),Ve}!function _e(H){$t=H($t)}(H=>({...H,get:(j,ee,pe)=>vi(j,ee)||H.get(j,ee,pe),has:(j,ee)=>!!vi(j,ee)||H.has(j,ee)}));const Ai="@firebase/installations",Li="0.6.4",ki=1e4,tr=`w:${Li}`,qe="FIS_v2",nt="https://firebaseinstallations.googleapis.com/v1",Je=36e5,Ot=new xe.LL("installations","Installations",{"missing-app-config-values":'Missing App configuration value: "{$valueName}"',"not-registered":"Firebase Installation is not registered.","installation-not-found":"Firebase Installation not found.","request-failed":'{$requestName} request failed with error "{$serverCode} {$serverStatus}: {$serverMessage}"',"app-offline":"Could not process request. Application offline.","delete-pending-registration":"Can't delete installation while there is a pending registration request."});function Rt(H){return H instanceof xe.ZR&&H.code.includes("request-failed")}function yi({projectId:H}){return`${nt}/projects/${H}/installations`}function pn(H){return{token:H.token,requestStatus:2,expiresIn:Mr(H.expiresIn),creationTime:Date.now()}}function Yn(H,j){return dn.apply(this,arguments)}function dn(){return(dn=(0,re.Z)(function*(H,j){const pe=(yield j.json()).error;return Ot.create("request-failed",{requestName:H,serverCode:pe.code,serverMessage:pe.message,serverStatus:pe.status})})).apply(this,arguments)}function hi({apiKey:H}){return new Headers({"Content-Type":"application/json",Accept:"application/json","x-goog-api-key":H})}function Ui(H){return fi.apply(this,arguments)}function fi(){return(fi=(0,re.Z)(function*(H){const j=yield H();return j.status>=500&&j.status<600?H():j})).apply(this,arguments)}function Mr(H){return Number(H.replace("s","000"))}function fr(){return(fr=(0,re.Z)(function*({appConfig:H,heartbeatServiceProvider:j},{fid:ee}){const pe=yi(H),Me=hi(H),Ve=j.getImmediate({optional:!0});if(Ve){const vn=yield Ve.getHeartbeatsHeader();vn&&Me.append("x-firebase-client",vn)}const Yt={method:"POST",headers:Me,body:JSON.stringify({fid:ee,authVersion:qe,appId:H.appId,sdkVersion:tr})},Gt=yield Ui(()=>fetch(pe,Yt));if(Gt.ok){const vn=yield Gt.json();return{fid:vn.fid||ee,registrationStatus:2,refreshToken:vn.refreshToken,authToken:pn(vn.authToken)}}throw yield Yn("Create Installation",Gt)})).apply(this,arguments)}function hs(H){return new Promise(j=>{setTimeout(j,H)})}const ya=/^[cdef][\w-]{21}$/,yn="";function An(){try{const H=new Uint8Array(17);(self.crypto||self.msCrypto).getRandomValues(H),H[0]=112+H[0]%16;const ee=function Fn(H){return function Eo(H){return btoa(String.fromCharCode(...H)).replace(/\+/g,"-").replace(/\//g,"_")}(H).substr(0,22)}(H);return ya.test(ee)?ee:yn}catch{return yn}}function In(H){return`${H.appName}!${H.appId}`}const zi=new Map;function pr(H,j){const ee=In(H);oo(ee,j),function ti(H,j){const ee=function si(){return!Vr&&"BroadcastChannel"in self&&(Vr=new BroadcastChannel("[Firebase] FID Change"),Vr.onmessage=H=>{oo(H.data.key,H.data.fid)}),Vr}();ee&&ee.postMessage({key:H,fid:j}),function Ts(){0===zi.size&&Vr&&(Vr.close(),Vr=null)}()}(ee,j)}function oo(H,j){const ee=zi.get(H);if(ee)for(const pe of ee)pe(j)}let Vr=null;const Do="firebase-installations-database",To=1,Kr="firebase-installations-store";let So=null;function st(){return So||(So=function Ze(H,j,{blocked:ee,upgrade:pe,blocking:Me,terminated:Ve}={}){const lt=indexedDB.open(H,j),Yt=ht(lt);return pe&&lt.addEventListener("upgradeneeded",Gt=>{pe(ht(lt.result),Gt.oldVersion,Gt.newVersion,ht(lt.transaction))}),ee&&lt.addEventListener("blocked",()=>ee()),Yt.then(Gt=>{Ve&&Gt.addEventListener("close",()=>Ve()),Me&&Gt.addEventListener("versionchange",()=>Me())}).catch(()=>{}),Yt}(Do,To,{upgrade:(H,j)=>{0===j&&H.createObjectStore(Kr)}})),So}function Ae(H,j){return at.apply(this,arguments)}function at(){return(at=(0,re.Z)(function*(H,j){const ee=In(H),Me=(yield st()).transaction(Kr,"readwrite"),Ve=Me.objectStore(Kr),lt=yield Ve.get(ee);return yield Ve.put(j,ee),yield Me.done,(!lt||lt.fid!==j.fid)&&pr(H,j.fid),j})).apply(this,arguments)}function Nt(H){return Wt.apply(this,arguments)}function Wt(){return(Wt=(0,re.Z)(function*(H){const j=In(H),pe=(yield st()).transaction(Kr,"readwrite");yield pe.objectStore(Kr).delete(j),yield pe.done})).apply(this,arguments)}function mn(H,j){return li.apply(this,arguments)}function li(){return(li=(0,re.Z)(function*(H,j){const ee=In(H),Me=(yield st()).transaction(Kr,"readwrite"),Ve=Me.objectStore(Kr),lt=yield Ve.get(ee),Yt=j(lt);return void 0===Yt?yield Ve.delete(ee):yield Ve.put(Yt,ee),yield Me.done,Yt&&(!lt||lt.fid!==Yt.fid)&&pr(H,Yt.fid),Yt})).apply(this,arguments)}function Ce(H){return we.apply(this,arguments)}function we(){return we=(0,re.Z)(function*(H){let j;const ee=yield mn(H.appConfig,pe=>{const Me=function Fe(H){return Bn(H||{fid:An(),registrationStatus:0})}(pe),Ve=function mt(H,j){if(0===j.registrationStatus){if(!navigator.onLine)return{installationEntry:j,registrationPromise:Promise.reject(Ot.create("app-offline"))};const ee={fid:j.fid,registrationStatus:1,registrationTime:Date.now()},pe=function Ke(H,j){return Kt.apply(this,arguments)}(H,ee);return{installationEntry:ee,registrationPromise:pe}}return 1===j.registrationStatus?{installationEntry:j,registrationPromise:Ln(H)}:{installationEntry:j}}(H,Me);return j=Ve.registrationPromise,Ve.installationEntry});return ee.fid===yn?{installationEntry:yield j}:{installationEntry:ee,registrationPromise:j}}),we.apply(this,arguments)}function Kt(){return Kt=(0,re.Z)(function*(H,j){try{const ee=yield function Xr(H,j){return fr.apply(this,arguments)}(H,j);return Ae(H.appConfig,ee)}catch(ee){throw Rt(ee)&&409===ee.customData.serverCode?yield Nt(H.appConfig):yield Ae(H.appConfig,{fid:j.fid,registrationStatus:0}),ee}}),Kt.apply(this,arguments)}function Ln(H){return Tn.apply(this,arguments)}function Tn(){return(Tn=(0,re.Z)(function*(H){let j=yield kr(H.appConfig);for(;1===j.registrationStatus;)yield hs(100),j=yield kr(H.appConfig);if(0===j.registrationStatus){const{installationEntry:ee,registrationPromise:pe}=yield Ce(H);return pe||ee}return j})).apply(this,arguments)}function kr(H){return mn(H,j=>{if(!j)throw Ot.create("installation-not-found");return Bn(j)})}function Bn(H){return function gr(H){return 1===H.registrationStatus&&H.registrationTime+ki<Date.now()}(H)?{fid:H.fid,registrationStatus:0}:H}function Hr(){return(Hr=(0,re.Z)(function*({appConfig:H,heartbeatServiceProvider:j},ee){const pe=function ta(H,{fid:j}){return`${yi(H)}/${j}/authTokens:generate`}(H,ee),Me=function Oi(H,{refreshToken:j}){const ee=hi(H);return ee.append("Authorization",function ds(H){return`${qe} ${H}`}(j)),ee}(H,ee),Ve=j.getImmediate({optional:!0});if(Ve){const vn=yield Ve.getHeartbeatsHeader();vn&&Me.append("x-firebase-client",vn)}const Yt={method:"POST",headers:Me,body:JSON.stringify({installation:{sdkVersion:tr,appId:H.appId}})},Gt=yield Ui(()=>fetch(pe,Yt));if(Gt.ok)return pn(yield Gt.json());throw yield Yn("Generate Auth Token",Gt)})).apply(this,arguments)}function Va(H){return Lc.apply(this,arguments)}function Lc(){return Lc=(0,re.Z)(function*(H,j=!1){let ee;const pe=yield mn(H.appConfig,Ve=>{if(!l(Ve))throw Ot.create("not-registered");const lt=Ve.authToken;if(!j&&function u(H){return 2===H.requestStatus&&!function f(H){const j=Date.now();return j<H.creationTime||H.creationTime+H.expiresIn<j+Je}(H)}(lt))return Ve;if(1===lt.requestStatus)return ee=function ao(H,j){return Ro.apply(this,arguments)}(H,j),Ve;{if(!navigator.onLine)throw Ot.create("app-offline");const Yt=function m(H){const j={requestStatus:1,requestTime:Date.now()};return Object.assign(Object.assign({},H),{authToken:j})}(Ve);return ee=function lo(H,j){return J.apply(this,arguments)}(H,Yt),Yt}});return ee?yield ee:pe.authToken}),Lc.apply(this,arguments)}function Ro(){return(Ro=(0,re.Z)(function*(H,j){let ee=yield ks(H.appConfig);for(;1===ee.authToken.requestStatus;)yield hs(100),ee=yield ks(H.appConfig);const pe=ee.authToken;return 0===pe.requestStatus?Va(H,j):pe})).apply(this,arguments)}function ks(H){return mn(H,j=>{if(!l(j))throw Ot.create("not-registered");return function v(H){return 1===H.requestStatus&&H.requestTime+ki<Date.now()}(j.authToken)?Object.assign(Object.assign({},j),{authToken:{requestStatus:0}}):j})}function J(){return J=(0,re.Z)(function*(H,j){try{const ee=yield function ci(H,j){return Hr.apply(this,arguments)}(H,j),pe=Object.assign(Object.assign({},j),{authToken:ee});return yield Ae(H.appConfig,pe),ee}catch(ee){if(!Rt(ee)||401!==ee.customData.serverCode&&404!==ee.customData.serverCode){const pe=Object.assign(Object.assign({},j),{authToken:{requestStatus:0}});yield Ae(H.appConfig,pe)}else yield Nt(H.appConfig);throw ee}}),J.apply(this,arguments)}function l(H){return void 0!==H&&2===H.registrationStatus}function w(){return(w=(0,re.Z)(function*(H){const j=H,{installationEntry:ee,registrationPromise:pe}=yield Ce(j);return pe?pe.catch(console.error):Va(j).catch(console.error),ee.fid})).apply(this,arguments)}function I(){return I=(0,re.Z)(function*(H,j=!1){const ee=H;return yield function O(H){return P.apply(this,arguments)}(ee),(yield Va(ee,j)).token}),I.apply(this,arguments)}function P(){return(P=(0,re.Z)(function*(H){const{registrationPromise:j}=yield Ce(H);j&&(yield j)})).apply(this,arguments)}function R(H){return Ot.create("missing-app-config-values",{valueName:H})}const $="installations",de=H=>{const j=H.getProvider("app").getImmediate(),ee=function S(H){if(!H||!H.options)throw R("App Configuration");if(!H.name)throw R("App Name");const j=["projectId","apiKey","appId"];for(const ee of j)if(!H.options[ee])throw R(ee);return{appName:H.name,projectId:H.options.projectId,apiKey:H.options.apiKey,appId:H.options.appId}}(j);return{app:j,appConfig:ee,heartbeatServiceProvider:(0,Oe._getProvider)(j,"heartbeat"),_delete:()=>Promise.resolve()}},he=H=>{const j=H.getProvider("app").getImmediate(),ee=(0,Oe._getProvider)(j,$).getImmediate();return{getId:()=>function y(H){return w.apply(this,arguments)}(ee),getToken:Me=>function D(H){return I.apply(this,arguments)}(ee,Me)}};(function Ie(){(0,Oe._registerComponent)(new Ye.wA($,de,"PUBLIC")),(0,Oe._registerComponent)(new Ye.wA("installations-internal",he,"PRIVATE"))})(),(0,Oe.registerVersion)(Ai,Li),(0,Oe.registerVersion)(Ai,Li,"esm2017");const De="@firebase/remote-config",Pt=new xe.LL("remoteconfig","Remote Config",{"registration-window":"Undefined window object. This SDK only supports usage in a browser environment.","registration-project-id":"Undefined project identifier. Check Firebase app initialization.","registration-api-key":"Undefined API key. Check Firebase app initialization.","registration-app-id":"Undefined app identifier. Check Firebase app initialization.","storage-open":"Error thrown when opening storage. Original error: {$originalErrorMessage}.","storage-get":"Error thrown when reading from storage. Original error: {$originalErrorMessage}.","storage-set":"Error thrown when writing to storage. Original error: {$originalErrorMessage}.","storage-delete":"Error thrown when deleting from storage. Original error: {$originalErrorMessage}.","fetch-client-network":"Fetch client failed to connect to a network. Check Internet connection. Original error: {$originalErrorMessage}.","fetch-timeout":'The config fetch request timed out.  Configure timeout using "fetchTimeoutMillis" SDK setting.',"fetch-throttle":'The config fetch request timed out while in an exponential backoff state. Configure timeout using "fetchTimeoutMillis" SDK setting. Unix timestamp in milliseconds when fetch request throttling ends: {$throttleEndTimeMillis}.',"fetch-client-parse":"Fetch client could not parse response. Original error: {$originalErrorMessage}.","fetch-status":"Fetch server returned an HTTP error status. HTTP status: {$httpStatus}.","indexed-db-unavailable":"Indexed DB is not supported by current browser"});class Sn{constructor(j,ee,pe,Me){this.client=j,this.storage=ee,this.storageCache=pe,this.logger=Me}isCachedDataFresh(j,ee){if(!ee)return this.logger.debug("Config fetch cache check. Cache unpopulated."),!1;const pe=Date.now()-ee,Me=pe<=j;return this.logger.debug(`Config fetch cache check. Cache age millis: ${pe}. Cache max age millis (minimumFetchIntervalMillis setting): ${j}. Is cache hit: ${Me}.`),Me}fetch(j){var ee=this;return(0,re.Z)(function*(){const[pe,Me]=yield Promise.all([ee.storage.getLastSuccessfulFetchTimestampMillis(),ee.storage.getLastSuccessfulFetchResponse()]);if(Me&&ee.isCachedDataFresh(j.cacheMaxAgeMillis,pe))return Me;j.eTag=Me&&Me.eTag;const Ve=yield ee.client.fetch(j),lt=[ee.storageCache.setLastSuccessfulFetchTimestampMillis(Date.now())];return 200===Ve.status&&lt.push(ee.storage.setLastSuccessfulFetchResponse(Ve)),yield Promise.all(lt),Ve})()}}function rr(H=navigator){return H.languages&&H.languages[0]||H.language}class Ns{constructor(j,ee,pe,Me,Ve,lt){this.firebaseInstallations=j,this.sdkVersion=ee,this.namespace=pe,this.projectId=Me,this.apiKey=Ve,this.appId=lt}fetch(j){var ee=this;return(0,re.Z)(function*(){const[pe,Me]=yield Promise.all([ee.firebaseInstallations.getId(),ee.firebaseInstallations.getToken()]),lt=`${window.FIREBASE_REMOTE_CONFIG_URL_BASE||"https://firebaseremoteconfig.googleapis.com"}/v1/projects/${ee.projectId}/namespaces/${ee.namespace}:fetch?key=${ee.apiKey}`,Yt={"Content-Type":"application/json","Content-Encoding":"gzip","If-None-Match":j.eTag||"*"},Gt={sdk_version:ee.sdkVersion,app_instance_id:pe,app_instance_id_token:Me,app_id:ee.appId,language_code:rr()},vn={method:"POST",headers:Yt,body:JSON.stringify(Gt)},Vn=fetch(lt,vn),Hn=new Promise((Rs,Vo)=>{j.signal.addEventListener(()=>{const Fs=new Error("The operation was aborted.");Fs.name="AbortError",Vo(Fs)})});let Wr;try{yield Promise.race([Vn,Hn]),Wr=yield Vn}catch(Rs){let Vo="fetch-client-network";throw"AbortError"===Rs?.name&&(Vo="fetch-timeout"),Pt.create(Vo,{originalErrorMessage:Rs?.message})}let Nr=Wr.status;const Za=Wr.headers.get("ETag")||void 0;let yr,Bo;if(200===Wr.status){let Rs;try{Rs=yield Wr.json()}catch(Vo){throw Pt.create("fetch-client-parse",{originalErrorMessage:Vo?.message})}yr=Rs.entries,Bo=Rs.state}if("INSTANCE_STATE_UNSPECIFIED"===Bo?Nr=500:"NO_CHANGE"===Bo?Nr=304:("NO_TEMPLATE"===Bo||"EMPTY_CONFIG"===Bo)&&(yr={}),304!==Nr&&200!==Nr)throw Pt.create("fetch-status",{httpStatus:Nr});return{status:Nr,eTag:Za,config:yr}})()}}class Vc{constructor(j,ee){this.client=j,this.storage=ee}fetch(j){var ee=this;return(0,re.Z)(function*(){const pe=(yield ee.storage.getThrottleMetadata())||{backoffCount:0,throttleEndTimeMillis:Date.now()};return ee.attemptFetch(j,pe)})()}attemptFetch(j,{throttleEndTimeMillis:ee,backoffCount:pe}){var Me=this;return(0,re.Z)(function*(){yield function cl(H,j){return new Promise((ee,pe)=>{const Me=Math.max(j-Date.now(),0),Ve=setTimeout(ee,Me);H.addEventListener(()=>{clearTimeout(Ve),pe(Pt.create("fetch-throttle",{throttleEndTimeMillis:j}))})})}(j.signal,ee);try{const Ve=yield Me.client.fetch(j);return yield Me.storage.deleteThrottleMetadata(),Ve}catch(Ve){if(!function zr(H){if(!(H instanceof xe.ZR&&H.customData))return!1;const j=Number(H.customData.httpStatus);return 429===j||500===j||503===j||504===j}(Ve))throw Ve;const lt={throttleEndTimeMillis:Date.now()+(0,xe.$s)(pe),backoffCount:pe+1};return yield Me.storage.setThrottleMetadata(lt),Me.attemptFetch(j,lt)}})()}}class Xl{constructor(j,ee,pe,Me,Ve){this.app=j,this._client=ee,this._storageCache=pe,this._storage=Me,this._logger=Ve,this._isInitializationComplete=!1,this.settings={fetchTimeoutMillis:6e4,minimumFetchIntervalMillis:432e5},this.defaultConfig={}}get fetchTimeMillis(){return this._storageCache.getLastSuccessfulFetchTimestampMillis()||-1}get lastFetchStatus(){return this._storageCache.getLastFetchStatus()||"no-fetch-yet"}}function On(H,j){const ee=H.target.error||void 0;return Pt.create(j,{originalErrorMessage:ee&&ee?.message})}const fs="app_namespace_store";class xh{constructor(j,ee,pe,Me=function sr(){return new Promise((H,j)=>{try{const ee=indexedDB.open("firebase_remote_config",1);ee.onerror=pe=>{j(On(pe,"storage-open"))},ee.onsuccess=pe=>{H(pe.target.result)},ee.onupgradeneeded=pe=>{0===pe.oldVersion&&pe.target.result.createObjectStore(fs,{keyPath:"compositeKey"})}}catch(ee){j(Pt.create("storage-open",{originalErrorMessage:ee?.message}))}})}()){this.appId=j,this.appName=ee,this.namespace=pe,this.openDbPromise=Me}getLastFetchStatus(){return this.get("last_fetch_status")}setLastFetchStatus(j){return this.set("last_fetch_status",j)}getLastSuccessfulFetchTimestampMillis(){return this.get("last_successful_fetch_timestamp_millis")}setLastSuccessfulFetchTimestampMillis(j){return this.set("last_successful_fetch_timestamp_millis",j)}getLastSuccessfulFetchResponse(){return this.get("last_successful_fetch_response")}setLastSuccessfulFetchResponse(j){return this.set("last_successful_fetch_response",j)}getActiveConfig(){return this.get("active_config")}setActiveConfig(j){return this.set("active_config",j)}getActiveConfigEtag(){return this.get("active_config_etag")}setActiveConfigEtag(j){return this.set("active_config_etag",j)}getThrottleMetadata(){return this.get("throttle_metadata")}setThrottleMetadata(j){return this.set("throttle_metadata",j)}deleteThrottleMetadata(){return this.delete("throttle_metadata")}get(j){var ee=this;return(0,re.Z)(function*(){const pe=yield ee.openDbPromise;return new Promise((Me,Ve)=>{const Yt=pe.transaction([fs],"readonly").objectStore(fs),Gt=ee.createCompositeKey(j);try{const vn=Yt.get(Gt);vn.onerror=Vn=>{Ve(On(Vn,"storage-get"))},vn.onsuccess=Vn=>{const Hn=Vn.target.result;Me(Hn?Hn.value:void 0)}}catch(vn){Ve(Pt.create("storage-get",{originalErrorMessage:vn?.message}))}})})()}set(j,ee){var pe=this;return(0,re.Z)(function*(){const Me=yield pe.openDbPromise;return new Promise((Ve,lt)=>{const Gt=Me.transaction([fs],"readwrite").objectStore(fs),vn=pe.createCompositeKey(j);try{const Vn=Gt.put({compositeKey:vn,value:ee});Vn.onerror=Hn=>{lt(On(Hn,"storage-set"))},Vn.onsuccess=()=>{Ve()}}catch(Vn){lt(Pt.create("storage-set",{originalErrorMessage:Vn?.message}))}})})()}delete(j){var ee=this;return(0,re.Z)(function*(){const pe=yield ee.openDbPromise;return new Promise((Me,Ve)=>{const Yt=pe.transaction([fs],"readwrite").objectStore(fs),Gt=ee.createCompositeKey(j);try{const vn=Yt.delete(Gt);vn.onerror=Vn=>{Ve(On(Vn,"storage-delete"))},vn.onsuccess=()=>{Me()}}catch(vn){Ve(Pt.create("storage-delete",{originalErrorMessage:vn?.message}))}})})()}createCompositeKey(j){return[this.appId,this.appName,this.namespace,j].join()}}class ul{constructor(j){this.storage=j}getLastFetchStatus(){return this.lastFetchStatus}getLastSuccessfulFetchTimestampMillis(){return this.lastSuccessfulFetchTimestampMillis}getActiveConfig(){return this.activeConfig}loadFromStorage(){var j=this;return(0,re.Z)(function*(){const ee=j.storage.getLastFetchStatus(),pe=j.storage.getLastSuccessfulFetchTimestampMillis(),Me=j.storage.getActiveConfig(),Ve=yield ee;Ve&&(j.lastFetchStatus=Ve);const lt=yield pe;lt&&(j.lastSuccessfulFetchTimestampMillis=lt);const Yt=yield Me;Yt&&(j.activeConfig=Yt)})()}setLastFetchStatus(j){return this.lastFetchStatus=j,this.storage.setLastFetchStatus(j)}setLastSuccessfulFetchTimestampMillis(j){return this.lastSuccessfulFetchTimestampMillis=j,this.storage.setLastSuccessfulFetchTimestampMillis(j)}setActiveConfig(j){return this.activeConfig=j,this.storage.setActiveConfig(j)}}function Ua(){return co.apply(this,arguments)}function co(){return(co=(0,re.Z)(function*(){if(!(0,xe.hl)())return!1;try{return yield(0,xe.eu)()}catch{return!1}})).apply(this,arguments)}!function Qr(){(0,Oe._registerComponent)(new Ye.wA("remote-config",function H(j,{instanceIdentifier:ee}){const pe=j.getProvider("app").getImmediate(),Me=j.getProvider("installations-internal").getImmediate();if(typeof window>"u")throw Pt.create("registration-window");if(!(0,xe.hl)())throw Pt.create("indexed-db-unavailable");const{projectId:Ve,apiKey:lt,appId:Yt}=pe.options;if(!Ve)throw Pt.create("registration-project-id");if(!lt)throw Pt.create("registration-api-key");if(!Yt)throw Pt.create("registration-app-id");const Gt=new xh(Yt,pe.name,ee=ee||"firebase"),vn=new ul(Gt),Vn=new ke.Yd(De);Vn.logLevel=ke.in.ERROR;const Hn=new Ns(Me,Oe.SDK_VERSION,ee,Ve,lt,Yt),Wr=new Vc(Hn,Gt),Nr=new Sn(Wr,Gt,vn,Vn),Za=new Xl(pe,Nr,vn,Gt,Vn);return function Ur(H){const j=(0,xe.m9)(H);j._initializePromise||(j._initializePromise=j._storageCache.loadFromStorage().then(()=>{j._isInitializationComplete=!0}))}(Za),Za},"PUBLIC").setMultipleInstances(!0)),(0,Oe.registerVersion)(De,"0.4.4"),(0,Oe.registerVersion)(De,"0.4.4","esm2017")}();const Hc=(H,j)=>j.some(ee=>H instanceof ee);let za,$n;const Yu=new WeakMap,Jr=new WeakMap,dl=new WeakMap,es=new WeakMap,ja=new WeakMap;let ts={get(H,j,ee){if(H instanceof IDBTransaction){if("done"===j)return Jr.get(H);if("objectStoreNames"===j)return H.objectStoreNames||dl.get(H);if("store"===j)return ee.objectStoreNames[1]?void 0:ee.objectStore(ee.objectStoreNames[0])}return uo(H[j])},set:(H,j,ee)=>(H[j]=ee,!0),has:(H,j)=>H instanceof IDBTransaction&&("done"===j||"store"===j)||j in H};function hl(H){return"function"==typeof H?function qu(H){return H!==IDBDatabase.prototype.transaction||"objectStoreNames"in IDBTransaction.prototype?function Kl(){return $n||($n=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}().includes(H)?function(...j){return H.apply(Gs(this),j),uo(Yu.get(this))}:function(...j){return uo(H.apply(Gs(this),j))}:function(j,...ee){const pe=H.call(Gs(this),j,...ee);return dl.set(pe,j.sort?j.sort():[j]),uo(pe)}}(H):(H instanceof IDBTransaction&&function Pm(H){if(Jr.has(H))return;const j=new Promise((ee,pe)=>{const Me=()=>{H.removeEventListener("complete",Ve),H.removeEventListener("error",lt),H.removeEventListener("abort",lt)},Ve=()=>{ee(),Me()},lt=()=>{pe(H.error||new DOMException("AbortError","AbortError")),Me()};H.addEventListener("complete",Ve),H.addEventListener("error",lt),H.addEventListener("abort",lt)});Jr.set(H,j)}(H),Hc(H,function N_(){return za||(za=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}())?new Proxy(H,ts):H)}function uo(H){if(H instanceof IDBRequest)return function ps(H){const j=new Promise((ee,pe)=>{const Me=()=>{H.removeEventListener("success",Ve),H.removeEventListener("error",lt)},Ve=()=>{ee(uo(H.result)),Me()},lt=()=>{pe(H.error),Me()};H.addEventListener("success",Ve),H.addEventListener("error",lt)});return j.then(ee=>{ee instanceof IDBCursor&&Yu.set(ee,H)}).catch(()=>{}),ja.set(j,H),j}(H);if(es.has(H))return es.get(H);const j=hl(H);return j!==H&&(es.set(H,j),ja.set(j,H)),j}const Gs=H=>ja.get(H);function Ql(H,j,{blocked:ee,upgrade:pe,blocking:Me,terminated:Ve}={}){const lt=indexedDB.open(H,j),Yt=uo(lt);return pe&&lt.addEventListener("upgradeneeded",Gt=>{pe(uo(lt.result),Gt.oldVersion,Gt.newVersion,uo(lt.transaction))}),ee&&lt.addEventListener("blocked",()=>ee()),Yt.then(Gt=>{Ve&&Gt.addEventListener("close",()=>Ve()),Me&&Gt.addEventListener("versionchange",()=>Me())}).catch(()=>{}),Yt}function Jl(H,{blocked:j}={}){const ee=indexedDB.deleteDatabase(H);return j&&ee.addEventListener("blocked",()=>j()),uo(ee).then(()=>{})}const Ch=["get","getKey","getAll","getAllKeys","count"],P_=["put","add","delete","clear"],Zu=new Map;function Eh(H,j){if(!(H instanceof IDBDatabase)||j in H||"string"!=typeof j)return;if(Zu.get(j))return Zu.get(j);const ee=j.replace(/FromIndex$/,""),pe=j!==ee,Me=P_.includes(ee);if(!(ee in(pe?IDBIndex:IDBObjectStore).prototype)||!Me&&!Ch.includes(ee))return;const Ve=function(){var lt=(0,re.Z)(function*(Yt,...Gt){const vn=this.transaction(Yt,Me?"readwrite":"readonly");let Vn=vn.store;return pe&&(Vn=Vn.index(Gt.shift())),(yield Promise.all([Vn[ee](...Gt),Me&&vn.done]))[0]});return function(Gt){return lt.apply(this,arguments)}}();return Zu.set(j,Ve),Ve}!function Ss(H){ts=H(ts)}(H=>({...H,get:(j,ee,pe)=>Eh(j,ee)||H.get(j,ee,pe),has:(j,ee)=>!!Eh(j,ee)||H.has(j,ee)}));const cp="/firebase-messaging-sw.js",Dh="/firebase-cloud-messaging-push-scope",up="BDOU99-h67HcA6JeFXHbSNMu7e2yNNu3RzoMj8TM4W88jITfq7ZmPvIM1Iv-4_l2LxQcYwhqby2xGpWwzjfAnG4",R_="https://fcmregistrations.googleapis.com/v1",or="google.c.a.c_id",F_="google.c.a.c_l",Rm="google.c.a.ts";var dp=function(H){return H.PUSH_RECEIVED="push-received",H.NOTIFICATION_CLICKED="notification-clicked",H}(dp||{});function Ca(H){const j=new Uint8Array(H);return btoa(String.fromCharCode(...j)).replace(/=/g,"").replace(/\+/g,"-").replace(/\//g,"_")}function Th(H){const ee=(H+"=".repeat((4-H.length%4)%4)).replace(/\-/g,"+").replace(/_/g,"/"),pe=atob(ee),Me=new Uint8Array(pe.length);for(let Ve=0;Ve<pe.length;++Ve)Me[Ve]=pe.charCodeAt(Ve);return Me}const ec="fcm_token_details_db",Sh=5,Uc="fcm_token_object_Store";function zc(){return zc=(0,re.Z)(function*(H){if("databases"in indexedDB&&!(yield indexedDB.databases()).map(Ve=>Ve.name).includes(ec))return null;let j=null;return(yield Ql(ec,Sh,{upgrade:(pe=(0,re.Z)(function*(Me,Ve,lt,Yt){var Gt;if(Ve<2||!Me.objectStoreNames.contains(Uc))return;const vn=Yt.objectStore(Uc),Vn=yield vn.index("fcmSenderId").get(H);if(yield vn.clear(),Vn)if(2===Ve){const Hn=Vn;if(!Hn.auth||!Hn.p256dh||!Hn.endpoint)return;j={token:Hn.fcmToken,createTime:null!==(Gt=Hn.createTime)&&void 0!==Gt?Gt:Date.now(),subscriptionOptions:{auth:Hn.auth,p256dh:Hn.p256dh,endpoint:Hn.endpoint,swScope:Hn.swScope,vapidKey:"string"==typeof Hn.vapidKey?Hn.vapidKey:Ca(Hn.vapidKey)}}}else if(3===Ve){const Hn=Vn;j={token:Hn.fcmToken,createTime:Hn.createTime,subscriptionOptions:{auth:Ca(Hn.auth),p256dh:Ca(Hn.p256dh),endpoint:Hn.endpoint,swScope:Hn.swScope,vapidKey:Ca(Hn.vapidKey)}}}else if(4===Ve){const Hn=Vn;j={token:Hn.fcmToken,createTime:Hn.createTime,subscriptionOptions:{auth:Ca(Hn.auth),p256dh:Ca(Hn.p256dh),endpoint:Hn.endpoint,swScope:Hn.swScope,vapidKey:Ca(Hn.vapidKey)}}}}),function(Ve,lt,Yt,Gt){return pe.apply(this,arguments)})})).close(),yield Jl(ec),yield Jl("fcm_vapid_details_db"),yield Jl("undefined"),function fl(H){if(!H||!H.subscriptionOptions)return!1;const{subscriptionOptions:j}=H;return"number"==typeof H.createTime&&H.createTime>0&&"string"==typeof H.token&&H.token.length>0&&"string"==typeof j.auth&&j.auth.length>0&&"string"==typeof j.p256dh&&j.p256dh.length>0&&"string"==typeof j.endpoint&&j.endpoint.length>0&&"string"==typeof j.swScope&&j.swScope.length>0&&"string"==typeof j.vapidKey&&j.vapidKey.length>0}(j)?j:null;var pe}),zc.apply(this,arguments)}const na="firebase-messaging-database",hp=1,Io="firebase-messaging-store";let jr=null;function pl(){return jr||(jr=Ql(na,hp,{upgrade:(H,j)=>{0===j&&H.createObjectStore(Io)}})),jr}function Ws(H){return gl.apply(this,arguments)}function gl(){return gl=(0,re.Z)(function*(H){const j=Gc(H),pe=yield(yield pl()).transaction(Io).objectStore(Io).get(j);if(pe)return pe;{const Me=yield function Ix(H){return zc.apply(this,arguments)}(H.appConfig.senderId);if(Me)return yield Ah(H,Me),Me}}),gl.apply(this,arguments)}function Ah(H,j){return jc.apply(this,arguments)}function jc(){return(jc=(0,re.Z)(function*(H,j){const ee=Gc(H),Me=(yield pl()).transaction(Io,"readwrite");return yield Me.objectStore(Io).put(j,ee),yield Me.done,j})).apply(this,arguments)}function tc(){return(tc=(0,re.Z)(function*(H){const j=Gc(H),pe=(yield pl()).transaction(Io,"readwrite");yield pe.objectStore(Io).delete(j),yield pe.done})).apply(this,arguments)}function Gc({appConfig:H}){return H.appId}const ns=new xe.LL("messaging","Messaging",{"missing-app-config-values":'Missing App configuration value: "{$valueName}"',"only-available-in-window":"This method is available in a Window context.","only-available-in-sw":"This method is available in a service worker context.","permission-default":"The notification permission was not granted and dismissed instead.","permission-blocked":"The notification permission was not granted and blocked instead.","unsupported-browser":"This browser doesn't support the API's required to use the Firebase SDK.","indexed-db-unsupported":"This browser doesn't support indexedDb.open() (ex. Safari iFrame, Firefox Private Browsing, etc)","failed-service-worker-registration":"We are unable to register the default service worker. {$browserErrorMessage}","token-subscribe-failed":"A problem occurred while subscribing the user to FCM: {$errorInfo}","token-subscribe-no-token":"FCM returned no token when subscribing the user to push.","token-unsubscribe-failed":"A problem occurred while unsubscribing the user from FCM: {$errorInfo}","token-update-failed":"A problem occurred while updating the user from FCM: {$errorInfo}","token-update-no-token":"FCM returned no token when updating the user to push.","use-sw-after-get-token":"The useServiceWorker() method may only be called once and must be called before calling getToken() to ensure your service worker is used.","invalid-sw-registration":"The input to useServiceWorker() must be a ServiceWorkerRegistration.","invalid-bg-handler":"The input to setBackgroundMessageHandler() must be a function.","invalid-vapid-key":"The public VAPID key must be a string.","use-vapid-key-after-get-token":"The usePublicVapidKey() method may only be called once and must be called before calling getToken() to ensure your VAPID key is used."});function Ih(H,j){return Mh.apply(this,arguments)}function Mh(){return(Mh=(0,re.Z)(function*(H,j){const ee=yield gp(H),pe=L_(j),Me={method:"POST",headers:ee,body:JSON.stringify(pe)};let Ve;try{Ve=yield(yield fetch($c(H.appConfig),Me)).json()}catch(lt){throw ns.create("token-subscribe-failed",{errorInfo:lt?.toString()})}if(Ve.error)throw ns.create("token-subscribe-failed",{errorInfo:Ve.error.message});if(!Ve.token)throw ns.create("token-subscribe-no-token");return Ve.token})).apply(this,arguments)}function Wc(){return(Wc=(0,re.Z)(function*(H,j){const ee=yield gp(H),pe=L_(j.subscriptionOptions),Me={method:"PATCH",headers:ee,body:JSON.stringify(pe)};let Ve;try{Ve=yield(yield fetch(`${$c(H.appConfig)}/${j.token}`,Me)).json()}catch(lt){throw ns.create("token-update-failed",{errorInfo:lt?.toString()})}if(Ve.error)throw ns.create("token-update-failed",{errorInfo:Ve.error.message});if(!Ve.token)throw ns.create("token-update-no-token");return Ve.token})).apply(this,arguments)}function ml(H,j){return Ga.apply(this,arguments)}function Ga(){return(Ga=(0,re.Z)(function*(H,j){const pe={method:"DELETE",headers:yield gp(H)};try{const Ve=yield(yield fetch(`${$c(H.appConfig)}/${j}`,pe)).json();if(Ve.error)throw ns.create("token-unsubscribe-failed",{errorInfo:Ve.error.message})}catch(Me){throw ns.create("token-unsubscribe-failed",{errorInfo:Me?.toString()})}})).apply(this,arguments)}function $c({projectId:H}){return`${R_}/projects/${H}/registrations`}function gp(H){return Xu.apply(this,arguments)}function Xu(){return(Xu=(0,re.Z)(function*({appConfig:H,installations:j}){const ee=yield j.getToken();return new Headers({"Content-Type":"application/json",Accept:"application/json","x-goog-api-key":H.apiKey,"x-goog-firebase-installations-auth":`FIS ${ee}`})})).apply(this,arguments)}function L_({p256dh:H,auth:j,endpoint:ee,vapidKey:pe}){const Me={web:{endpoint:ee,auth:j,p256dh:H}};return pe!==up&&(Me.web.applicationPubKey=pe),Me}const mp=6048e5;function Oh(){return Oh=(0,re.Z)(function*(H){const j=yield function Yc(H,j){return Nh.apply(this,arguments)}(H.swRegistration,H.vapidKey),ee={vapidKey:H.vapidKey,swScope:H.swRegistration.scope,endpoint:j.endpoint,auth:Ca(j.getKey("auth")),p256dh:Ca(j.getKey("p256dh"))},pe=yield Ws(H.firebaseDependencies);if(pe){if(function yp(H,j){return j.vapidKey===H.vapidKey&&j.endpoint===H.endpoint&&j.auth===H.auth&&j.p256dh===H.p256dh}(pe.subscriptionOptions,ee))return Date.now()>=pe.createTime+mp?function Lm(H,j){return nc.apply(this,arguments)}(H,{token:pe.token,createTime:Date.now(),subscriptionOptions:ee}):pe.token;try{yield ml(H.firebaseDependencies,pe.token)}catch(Me){console.warn(Me)}return V_(H.firebaseDependencies,ee)}return V_(H.firebaseDependencies,ee)}),Oh.apply(this,arguments)}function Ku(){return Ku=(0,re.Z)(function*(H){const j=yield Ws(H.firebaseDependencies);j&&(yield ml(H.firebaseDependencies,j.token),yield function fp(H){return tc.apply(this,arguments)}(H.firebaseDependencies));const ee=yield H.swRegistration.pushManager.getSubscription();return!ee||ee.unsubscribe()}),Ku.apply(this,arguments)}function nc(){return nc=(0,re.Z)(function*(H,j){try{const ee=yield function kh(H,j){return Wc.apply(this,arguments)}(H.firebaseDependencies,j),pe=Object.assign(Object.assign({},j),{token:ee,createTime:Date.now()});return yield Ah(H.firebaseDependencies,pe),ee}catch(ee){throw yield function vp(H){return Ku.apply(this,arguments)}(H),ee}}),nc.apply(this,arguments)}function V_(H,j){return ic.apply(this,arguments)}function ic(){return(ic=(0,re.Z)(function*(H,j){const pe={token:yield Ih(H,j),createTime:Date.now(),subscriptionOptions:j};return yield Ah(H,pe),pe.token})).apply(this,arguments)}function Nh(){return(Nh=(0,re.Z)(function*(H,j){return(yield H.pushManager.getSubscription())||H.pushManager.subscribe({userVisibleOnly:!0,applicationServerKey:Th(j)})})).apply(this,arguments)}function Qu(H){const j={from:H.from,collapseKey:H.collapse_key,messageId:H.fcmMessageId};return function qc(H,j){if(!j.notification)return;H.notification={};const ee=j.notification.title;ee&&(H.notification.title=ee);const pe=j.notification.body;pe&&(H.notification.body=pe);const Me=j.notification.image;Me&&(H.notification.image=Me);const Ve=j.notification.icon;Ve&&(H.notification.icon=Ve)}(j,H),function Bm(H,j){j.data&&(H.data=j.data)}(j,H),function Ph(H,j){var ee,pe,Me,Ve,lt;if(!(j.fcmOptions||null!==(ee=j.notification)&&void 0!==ee&&ee.click_action))return;H.fcmOptions={};const Yt=null!==(Me=null===(pe=j.fcmOptions)||void 0===pe?void 0:pe.link)&&void 0!==Me?Me:null===(Ve=j.notification)||void 0===Ve?void 0:Ve.click_action;Yt&&(H.fcmOptions.link=Yt);const Gt=null===(lt=j.fcmOptions)||void 0===lt?void 0:lt.analytics_label;Gt&&(H.fcmOptions.analyticsLabel=Gt)}(j,H),j}function Rh(H,j){const ee=[];for(let pe=0;pe<H.length;pe++)ee.push(H.charAt(pe)),pe<j.length&&ee.push(j.charAt(pe));return ee.join("")}function Fh(H){return ns.create("missing-app-config-values",{valueName:H})}Rh("hts/frbslgigp.ogepscmv/ieo/eaylg","tp:/ieaeogn-agolai.o/1frlglgc/o"),Rh("AzSCbw63g1R0nCw85jG8","Iaya3yLKwmgvh7cF0q4");class Hm{constructor(j,ee,pe){this.deliveryMetricsExportedToBigQueryEnabled=!1,this.onBackgroundMessageHandler=null,this.onMessageHandler=null,this.logEvents=[],this.isLogServiceStarted=!1;const Me=function Vm(H){if(!H||!H.options)throw Fh("App Configuration Object");if(!H.name)throw Fh("App Name");const j=["projectId","apiKey","appId","messagingSenderId"],{options:ee}=H;for(const pe of j)if(!ee[pe])throw Fh(pe);return{appName:H.name,projectId:ee.projectId,apiKey:ee.apiKey,appId:ee.appId,senderId:ee.messagingSenderId}}(j);this.firebaseDependencies={app:j,appConfig:Me,installations:ee,analyticsProvider:pe}}_delete(){return Promise.resolve()}}function Zc(){return(Zc=(0,re.Z)(function*(H){try{H.swRegistration=yield navigator.serviceWorker.register(cp,{scope:Dh}),H.swRegistration.update().catch(()=>{})}catch(j){throw ns.create("failed-service-worker-registration",{browserErrorMessage:j?.message})}})).apply(this,arguments)}function vl(){return(vl=(0,re.Z)(function*(H,j){if(!j&&!H.swRegistration&&(yield function Ju(H){return Zc.apply(this,arguments)}(H)),j||!H.swRegistration){if(!(j instanceof ServiceWorkerRegistration))throw ns.create("invalid-sw-registration");H.swRegistration=j}})).apply(this,arguments)}function yl(){return(yl=(0,re.Z)(function*(H,j){j?H.vapidKey=j:H.vapidKey||(H.vapidKey=up)})).apply(this,arguments)}function Xc(){return Xc=(0,re.Z)(function*(H,j){if(!navigator)throw ns.create("only-available-in-window");if("default"===Notification.permission&&(yield Notification.requestPermission()),"granted"!==Notification.permission)throw ns.create("permission-blocked");return yield function ia(H,j){return yl.apply(this,arguments)}(H,j?.vapidKey),yield function Um(H,j){return vl.apply(this,arguments)}(H,j?.serviceWorkerRegistration),function B_(H){return Oh.apply(this,arguments)}(H)}),Xc.apply(this,arguments)}function Fo(){return(Fo=(0,re.Z)(function*(H,j,ee){const pe=function bp(H){switch(H){case dp.NOTIFICATION_CLICKED:return"notification_open";case dp.PUSH_RECEIVED:return"notification_foreground";default:throw new Error}}(j);(yield H.firebaseDependencies.analyticsProvider.get()).logEvent(pe,{message_id:ee[or],message_name:ee[F_],message_time:ee[Rm],message_device_time:Math.floor(Date.now()/1e3)})})).apply(this,arguments)}function Mi(){return Mi=(0,re.Z)(function*(H,j){const ee=j.data;if(!ee.isFirebaseMessaging)return;H.onMessageHandler&&ee.messageType===dp.PUSH_RECEIVED&&("function"==typeof H.onMessageHandler?H.onMessageHandler(Qu(ee)):H.onMessageHandler.next(Qu(ee)));const pe=ee.data;(function H_(H){return"object"==typeof H&&!!H&&or in H})(pe)&&"1"===pe["google.c.a.e"]&&(yield function zm(H,j,ee){return Fo.apply(this,arguments)}(H,ee.messageType,pe))}),Mi.apply(this,arguments)}const Wa="@firebase/messaging",gs=H=>{const j=new Hm(H.getProvider("app").getImmediate(),H.getProvider("installations-internal").getImmediate(),H.getProvider("analytics-internal"));return navigator.serviceWorker.addEventListener("message",ee=>function wp(H,j){return Mi.apply(this,arguments)}(j,ee)),j},jm=H=>{const j=H.getProvider("messaging").getImmediate();return{getToken:pe=>function _p(H,j){return Xc.apply(this,arguments)}(j,pe)}};function bl(){return ms.apply(this,arguments)}function ms(){return(ms=(0,re.Z)(function*(){try{yield(0,xe.eu)()}catch{return!1}return typeof window<"u"&&(0,xe.hl)()&&(0,xe.zI)()&&"serviceWorker"in navigator&&"PushManager"in window&&"Notification"in window&&"fetch"in window&&ServiceWorkerRegistration.prototype.hasOwnProperty("showNotification")&&PushSubscription.prototype.hasOwnProperty("getKey")})).apply(this,arguments)}!function Lh(){(0,Oe._registerComponent)(new Ye.wA("messaging",gs,"PUBLIC")),(0,Oe._registerComponent)(new Ye.wA("messaging-internal",jm,"PRIVATE")),(0,Oe.registerVersion)(Wa,"0.12.4"),(0,Oe.registerVersion)(Wa,"0.12.4","esm2017")}();const Xi="analytics",z_="firebase_id",Nn="origin",xp=6e4,Cp="https://firebase.googleapis.com/v1alpha/projects/-/apps/{app-id}/webConfig",td="https://www.googletagmanager.com/gtag/js",is=new ke.Yd("@firebase/analytics"),vs=new xe.LL("analytics","Analytics",{"already-exists":"A Firebase Analytics instance with the appId {$id}  already exists. Only one Firebase Analytics instance can be created for each appId.","already-initialized":"initializeAnalytics() cannot be called again with different options than those it was initially called with. It can be called again with the same options to return the existing instance, or getAnalytics() can be used to get a reference to the already-intialized instance.","already-initialized-settings":"Firebase Analytics has already been initialized.settings() must be called before initializing any Analytics instanceor it will have no effect.","interop-component-reg-failed":"Firebase Analytics Interop Component failed to instantiate: {$reason}","invalid-analytics-context":"Firebase Analytics is not supported in this environment. Wrap initialization of analytics in analytics.isSupported() to prevent initialization in unsupported environments. Details: {$errorInfo}","indexeddb-unavailable":"IndexedDB unavailable or restricted in this environment. Wrap initialization of analytics in analytics.isSupported() to prevent initialization in unsupported environments. Details: {$errorInfo}","fetch-throttle":"The config fetch request timed out while in an exponential backoff state. Unix timestamp in milliseconds when fetch request throttling ends: {$throttleEndTimeMillis}.","config-fetch-failed":"Dynamic config fetch failed: [{$httpStatus}] {$responseMessage}","no-api-key":'The "apiKey" field is empty in the local Firebase config. Firebase Analytics requires this field tocontain a valid API key.',"no-app-id":'The "appId" field is empty in the local Firebase config. Firebase Analytics requires this field tocontain a valid app ID.',"no-client-id":'The "client_id" field is empty.',"invalid-gtag-resource":"Trusted Types detected an invalid gtag resource: {$gtagURL}."});function ra(H){if(!H.startsWith(td)){const j=vs.create("invalid-gtag-resource",{gtagURL:H});return is.warn(j.message),""}return H}function nd(H){return Promise.all(H.map(j=>j.catch(ee=>ee)))}function wt(){return(wt=(0,re.Z)(function*(H,j,ee,pe,Me,Ve){const lt=pe[Me];try{if(lt)yield j[lt];else{const Gt=(yield nd(ee)).find(vn=>vn.measurementId===Me);Gt&&(yield j[Gt.appId])}}catch(Yt){is.error(Yt)}H("config",Me,Ve)})).apply(this,arguments)}function Lo(){return(Lo=(0,re.Z)(function*(H,j,ee,pe,Me){try{let Ve=[];if(Me&&Me.send_to){let lt=Me.send_to;Array.isArray(lt)||(lt=[lt]);const Yt=yield nd(ee);for(const Gt of lt){const vn=Yt.find(Hn=>Hn.measurementId===Gt),Vn=vn&&j[vn.appId];if(!Vn){Ve=[];break}Ve.push(Vn)}}0===Ve.length&&(Ve=Object.values(j)),yield Promise.all(Ve),H("event",pe,Me||{})}catch(Ve){is.error(Ve)}})).apply(this,arguments)}const sc=30,Hh=new class wl{constructor(j={},ee=1e3){this.throttleMetadata=j,this.intervalMillis=ee}getThrottleMetadata(j){return this.throttleMetadata[j]}setThrottleMetadata(j,ee){this.throttleMetadata[j]=ee}deleteThrottleMetadata(j){delete this.throttleMetadata[j]}};function Ym(H){return new Headers({Accept:"application/json","x-goog-api-key":H})}function Uh(){return(Uh=(0,re.Z)(function*(H){var j;const{appId:ee,apiKey:pe}=H,Me={method:"GET",headers:Ym(pe)},Ve=Cp.replace("{app-id}",ee),lt=yield fetch(Ve,Me);if(200!==lt.status&&304!==lt.status){let Yt="";try{const Gt=yield lt.json();null!==(j=Gt.error)&&void 0!==j&&j.message&&(Yt=Gt.error.message)}catch{}throw vs.create("config-fetch-failed",{httpStatus:lt.status,responseMessage:Yt})}return lt.json()})).apply(this,arguments)}function ho(){return(ho=(0,re.Z)(function*(H,j=Hh,ee){const{appId:pe,apiKey:Me,measurementId:Ve}=H.options;if(!pe)throw vs.create("no-app-id");if(!Me){if(Ve)return{measurementId:Ve,appId:pe};throw vs.create("no-api-key")}const lt=j.getThrottleMetadata(pe)||{backoffCount:0,throttleEndTimeMillis:Date.now()},Yt=new jh;return setTimeout((0,re.Z)(function*(){Yt.abort()}),void 0!==ee?ee:xp),Dp({appId:pe,apiKey:Me,measurementId:Ve},lt,Yt,j)})).apply(this,arguments)}function Dp(H,j,ee){return xl.apply(this,arguments)}function xl(){return xl=(0,re.Z)(function*(H,{throttleEndTimeMillis:j,backoffCount:ee},pe,Me=Hh){var Ve;const{appId:lt,measurementId:Yt}=H;try{yield function sa(H,j){return new Promise((ee,pe)=>{const Me=Math.max(j-Date.now(),0),Ve=setTimeout(ee,Me);H.addEventListener(()=>{clearTimeout(Ve),pe(vs.create("fetch-throttle",{throttleEndTimeMillis:j}))})})}(pe,j)}catch(Gt){if(Yt)return is.warn(`Timed out fetching this Firebase app's measurement ID from the server. Falling back to the measurement ID ${Yt} provided in the "measurementId" field in the local Firebase config. [${Gt?.message}]`),{appId:lt,measurementId:Yt};throw Gt}try{const Gt=yield function Mx(H){return Uh.apply(this,arguments)}(H);return Me.deleteThrottleMetadata(lt),Gt}catch(Gt){const vn=Gt;if(!function zh(H){if(!(H instanceof xe.ZR&&H.customData))return!1;const j=Number(H.customData.httpStatus);return 429===j||500===j||503===j||504===j}(vn)){if(Me.deleteThrottleMetadata(lt),Yt)return is.warn(`Failed to fetch this Firebase app's measurement ID from the server. Falling back to the measurement ID ${Yt} provided in the "measurementId" field in the local Firebase config. [${vn?.message}]`),{appId:lt,measurementId:Yt};throw Gt}const Vn=503===Number(null===(Ve=vn?.customData)||void 0===Ve?void 0:Ve.httpStatus)?(0,xe.$s)(ee,Me.intervalMillis,sc):(0,xe.$s)(ee,Me.intervalMillis),Hn={throttleEndTimeMillis:Date.now()+Vn,backoffCount:ee+1};return Me.setThrottleMetadata(lt,Hn),is.debug(`Calling attemptFetch again in ${Vn} millis`),Dp(H,Hn,pe,Me)}}),xl.apply(this,arguments)}class jh{constructor(){this.listeners=[]}addEventListener(j){this.listeners.push(j)}abort(){this.listeners.forEach(j=>j())}}let ad,ys;function ld(){return(ld=(0,re.Z)(function*(H,j,ee,pe,Me){if(Me&&Me.global)H("event",ee,pe);else{const Ve=yield j;H("event",ee,Object.assign(Object.assign({},pe),{send_to:Ve}))}})).apply(this,arguments)}function Ea(){return(Ea=(0,re.Z)(function*(){if(!(0,xe.hl)())return is.warn(vs.create("indexeddb-unavailable",{errorInfo:"IndexedDB is not available in this environment."}).message),!1;try{yield(0,xe.eu)()}catch(H){return is.warn(vs.create("indexeddb-unavailable",{errorInfo:H?.toString()}).message),!1}return!0})).apply(this,arguments)}function ss(){return ss=(0,re.Z)(function*(H,j,ee,pe,Me,Ve,lt){var Yt;const Gt=function Ys(H){return ho.apply(this,arguments)}(H);Gt.then(Nr=>{ee[Nr.measurementId]=Nr.appId,H.options.measurementId&&Nr.measurementId!==H.options.measurementId&&is.warn(`The measurement ID in the local Firebase config (${H.options.measurementId}) does not match the measurement ID fetched from the server (${Nr.measurementId}). To ensure analytics events are always sent to the correct Analytics property, update the measurement ID field in the local config or remove it from the local config.`)}).catch(Nr=>is.error(Nr)),j.push(Gt);const vn=function Bt(){return Ea.apply(this,arguments)}().then(Nr=>{if(Nr)return pe.getId()}),[Vn,Hn]=yield Promise.all([Gt,vn]);(function od(H){const j=window.document.getElementsByTagName("script");for(const ee of Object.values(j))if(ee.src&&ee.src.includes(td)&&ee.src.includes(H))return ee;return null})(Ve)||function rd(H,j){const ee=function id(H,j){let ee;return window.trustedTypes&&(ee=window.trustedTypes.createPolicy(H,j)),ee}("firebase-js-sdk-policy",{createScriptURL:ra}),pe=document.createElement("script"),Me=`${td}?l=${H}&id=${j}`;pe.src=ee?ee?.createScriptURL(Me):Me,pe.async=!0,document.head.appendChild(pe)}(Ve,Vn.measurementId),ys&&(Me("consent","default",ys),function Cl(H){ys=H}(void 0)),Me("js",new Date);const Wr=null!==(Yt=lt?.config)&&void 0!==Yt?Yt:{};return Wr[Nn]="firebase",Wr.update=!0,null!=Hn&&(Wr[z_]=Hn),Me("config",Vn.measurementId,Wr),ad&&(Me("set",ad),function Bi(H){ad=H}(void 0)),Vn.measurementId}),ss.apply(this,arguments)}class Ya{constructor(j){this.app=j}_delete(){return delete fo[this.app.options.appId],Promise.resolve()}}let fo={},Kc=[];const Or={};let Gr,wi,lr="dataLayer",Da=!1;function Ta(H,j,ee){!function ud(){const H=[];if((0,xe.ru)()&&H.push("This is a browser extension environment."),(0,xe.zI)()||H.push("Cookies are not available."),H.length>0){const j=H.map((pe,Me)=>`(${Me+1}) ${pe}`).join(" "),ee=vs.create("invalid-analytics-context",{errorInfo:j});is.warn(ee.message)}}();const pe=H.options.appId;if(!pe)throw vs.create("no-app-id");if(!H.options.apiKey){if(!H.options.measurementId)throw vs.create("no-api-key");is.warn(`The "apiKey" field is empty in the local Firebase config. This is needed to fetch the latest measurement ID for this Firebase app. Falling back to the measurement ID ${H.options.measurementId} provided in the "measurementId" field in the local Firebase config.`)}if(null!=fo[pe])throw vs.create("already-exists",{id:pe});if(!Da){!function j_(H){let j=[];Array.isArray(window[H])?j=window[H]:window[H]=j}(lr);const{wrappedGtag:Ve,gtagCore:lt}=function rs(H,j,ee,pe,Me){let Ve=function(...lt){window[pe].push(arguments)};return window[Me]&&"function"==typeof window[Me]&&(Ve=window[Me]),window[Me]=function sd(H,j,ee,pe){function Ve(){return Ve=(0,re.Z)(function*(lt,...Yt){try{if("event"===lt){const[Gt,vn]=Yt;yield function ni(H,j,ee,pe,Me){return Lo.apply(this,arguments)}(H,j,ee,Gt,vn)}else if("config"===lt){const[Gt,vn]=Yt;yield function Vh(H,j,ee,pe,Me,Ve){return wt.apply(this,arguments)}(H,j,ee,pe,Gt,vn)}else if("consent"===lt){const[Gt]=Yt;H("consent","update",Gt)}else if("get"===lt){const[Gt,vn,Vn]=Yt;H("get",Gt,vn,Vn)}else if("set"===lt){const[Gt]=Yt;H("set",Gt)}else H(lt,...Yt)}catch(Gt){is.error(Gt)}}),Ve.apply(this,arguments)}return function Me(lt){return Ve.apply(this,arguments)}}(Ve,H,j,ee),{gtagCore:Ve,wrappedGtag:window[Me]}}(fo,Kc,Or,lr,"gtag");wi=Ve,Gr=lt,Da=!0}return fo[pe]=function Gi(H,j,ee,pe,Me,Ve,lt){return ss.apply(this,arguments)}(H,Kc,Or,j,Gr,lr,ee),new Ya(H)}function Qc(){return oa.apply(this,arguments)}function oa(){return(oa=(0,re.Z)(function*(){if((0,xe.ru)()||!(0,xe.zI)()||!(0,xe.hl)())return!1;try{return yield(0,xe.eu)()}catch{return!1}})).apply(this,arguments)}const eu="@firebase/analytics";!function $_(){(0,Oe._registerComponent)(new Ye.wA(Xi,(j,{options:ee})=>Ta(j.getProvider("app").getImmediate(),j.getProvider("installations-internal").getImmediate(),ee),"PUBLIC")),(0,Oe._registerComponent)(new Ye.wA("analytics-internal",function H(j){try{const ee=j.getProvider(Xi).getImmediate();return{logEvent:(pe,Me,Ve)=>function Xm(H,j,ee,pe){H=(0,xe.m9)(H),function G_(H,j,ee,pe,Me){return ld.apply(this,arguments)}(wi,fo[H.app.options.appId],j,ee,pe).catch(Me=>is.error(Me))}(ee,pe,Me,Ve)}}catch(ee){throw vs.create("interop-component-reg-failed",{reason:ee})}},"PRIVATE")),(0,Oe.registerVersion)(eu,"0.10.0"),(0,Oe.registerVersion)(eu,"0.10.0","esm2017")}();var lc=ce(1954),Gh=ce(2631);const Qm=new class Km extends Gh.v{}(class kp extends lc.o{constructor(j,ee){super(j,ee),this.scheduler=j,this.work=ee}schedule(j,ee=0){return ee>0?super.schedule(j,ee):(this.delay=ee,this.state=j,this.scheduler.flush(this),this)}execute(j,ee){return ee>0||this.closed?super.execute(j,ee):this._execute(j,ee)}requestAsyncId(j,ee,pe=0){return null!=pe&&pe>0||null==pe&&this.delay>0?super.requestAsyncId(j,ee,pe):(j.flush(this),0)}});var Op=ce(6321),it=ce(9397),Qi=ce(3093),os=ce(5137);const ue=new a.GfV("7.6.1"),As="__angularfire_symbol__analyticsIsSupportedValue",aa="__angularfire_symbol__analyticsIsSupported",cc="__angularfire_symbol__remoteConfigIsSupportedValue",hd="__angularfire_symbol__remoteConfigIsSupported",Wi="__angularfire_symbol__messagingIsSupportedValue",tu="__angularfire_symbol__messagingIsSupported";function Dl(H,j,ee){if(j){if(1===j.length)return j[0];const Ve=j.filter(lt=>lt.app===ee);if(1===Ve.length)return Ve[0]}return ee.container.getProvider(H).getImmediate({optional:!0})}globalThis[aa]||(globalThis[aa]=Qc().then(H=>globalThis[As]=H).catch(()=>globalThis[As]=!1)),globalThis[tu]||(globalThis[tu]=bl().then(H=>globalThis[Wi]=H).catch(()=>globalThis[Wi]=!1)),globalThis[hd]||(globalThis[hd]=Ua().then(H=>globalThis[cc]=H).catch(()=>globalThis[cc]=!1));const Pp=(H,j)=>{const ee=j?[j]:(0,Le.C6)(),pe=[];return ee.forEach(Me=>{Me.container.getProvider(H).instances.forEach(lt=>{pe.includes(lt)||pe.push(lt)})}),pe};function Sa(){}class $h{constructor(j,ee=Qm){this.zone=j,this.delegate=ee}now(){return this.delegate.now()}schedule(j,ee,pe){const Me=this.zone;return this.delegate.schedule(function(lt){Me.runGuarded(()=>{j.apply(this,[lt])})},ee,pe)}}class nu{constructor(j){this.zone=j,this.task=null}call(j,ee){const pe=this.unscheduleTask.bind(this);return this.task=this.zone.run(()=>Zone.current.scheduleMacroTask("firebaseZoneBlock",Sa,{},Sa,Sa)),ee.pipe((0,it.b)({next:pe,complete:pe,error:pe})).subscribe(j).add(pe)}unscheduleTask(){setTimeout(()=>{null!=this.task&&"scheduled"===this.task.state&&(this.task.invoke(),this.task=null)},10)}}let Rp=(()=>{class H{constructor(ee){this.ngZone=ee,this.outsideAngular=ee.runOutsideAngular(()=>new $h(Zone.current)),this.insideAngular=ee.run(()=>new $h(Zone.current,Op.z)),globalThis.\u0275AngularFireScheduler||(globalThis.\u0275AngularFireScheduler=this)}}return H.\u0275fac=function(ee){return new(ee||H)(a.LFG(a.R0b))},H.\u0275prov=a.Yz7({token:H,factory:H.\u0275fac,providedIn:"root"}),H})();function ii(){const H=globalThis.\u0275AngularFireScheduler;if(!H)throw new Error("Either AngularFireModule has not been provided in your AppModule (this can be done manually or implictly using\nprovideFirebaseApp) or you're calling an AngularFire method outside of an NgModule (which is not supported).");return H}function iu(H){return H.pipe((0,Qi.Q)(ii().outsideAngular))}function uc(H){return ii(),function ru(H){return function(ee){return(ee=ee.lift(new nu(H.ngZone))).pipe((0,os.R)(H.outsideAngular),(0,Qi.Q)(H.insideAngular))}}(ii())(H)}},9058:(nn,ct,ce)=>{ce.d(ct,{$s:()=>Nt,BH:()=>Ge,DV:()=>Mr,Dv:()=>oo,G6:()=>tr,GJ:()=>Ui,L:()=>Qe,LL:()=>vt,Pz:()=>et,Sg:()=>ht,UG:()=>Ne,UI:()=>Xr,US:()=>Ye,Wj:()=>si,Wl:()=>pn,Yr:()=>ki,ZB:()=>He,ZR:()=>dt,aH:()=>_e,b$:()=>kn,cI:()=>yi,dS:()=>Do,eu:()=>nt,g5:()=>re,gK:()=>ti,gQ:()=>Fn,h$:()=>gt,hl:()=>qe,hu:()=>Le,jU:()=>It,lb:()=>Ts,m9:()=>li,ne:()=>In,p$:()=>Ee,pd:()=>An,r3:()=>fi,ru:()=>gn,tV:()=>ye,uI:()=>Ze,ug:()=>To,vZ:()=>fr,w1:()=>Ai,w9:()=>Oi,xO:()=>ya,xb:()=>ds,z$:()=>Et,zI:()=>Je,zd:()=>yn});const a={NODE_CLIENT:!1,NODE_ADMIN:!1,SDK_VERSION:"${JSCORE_VERSION}"},Le=function(Ce,we){if(!Ce)throw re(we)},re=function(Ce){return new Error("Firebase Database ("+a.SDK_VERSION+") INTERNAL ASSERT FAILED: "+Ce)},Oe=function(Ce){const we=[];let Fe=0;for(let mt=0;mt<Ce.length;mt++){let Ke=Ce.charCodeAt(mt);Ke<128?we[Fe++]=Ke:Ke<2048?(we[Fe++]=Ke>>6|192,we[Fe++]=63&Ke|128):55296==(64512&Ke)&&mt+1<Ce.length&&56320==(64512&Ce.charCodeAt(mt+1))?(Ke=65536+((1023&Ke)<<10)+(1023&Ce.charCodeAt(++mt)),we[Fe++]=Ke>>18|240,we[Fe++]=Ke>>12&63|128,we[Fe++]=Ke>>6&63|128,we[Fe++]=63&Ke|128):(we[Fe++]=Ke>>12|224,we[Fe++]=Ke>>6&63|128,we[Fe++]=63&Ke|128)}return we},Ye={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:"function"==typeof atob,encodeByteArray(Ce,we){if(!Array.isArray(Ce))throw Error("encodeByteArray takes an array as a parameter");this.init_();const Fe=we?this.byteToCharMapWebSafe_:this.byteToCharMap_,mt=[];for(let Ke=0;Ke<Ce.length;Ke+=3){const Kt=Ce[Ke],Ln=Ke+1<Ce.length,Tn=Ln?Ce[Ke+1]:0,kr=Ke+2<Ce.length,Bn=kr?Ce[Ke+2]:0;let Hr=(15&Tn)<<2|Bn>>6,ta=63&Bn;kr||(ta=64,Ln||(Hr=64)),mt.push(Fe[Kt>>2],Fe[(3&Kt)<<4|Tn>>4],Fe[Hr],Fe[ta])}return mt.join("")},encodeString(Ce,we){return this.HAS_NATIVE_SUPPORT&&!we?btoa(Ce):this.encodeByteArray(Oe(Ce),we)},decodeString(Ce,we){return this.HAS_NATIVE_SUPPORT&&!we?atob(Ce):function(Ce){const we=[];let Fe=0,mt=0;for(;Fe<Ce.length;){const Ke=Ce[Fe++];if(Ke<128)we[mt++]=String.fromCharCode(Ke);else if(Ke>191&&Ke<224){const Kt=Ce[Fe++];we[mt++]=String.fromCharCode((31&Ke)<<6|63&Kt)}else if(Ke>239&&Ke<365){const kr=((7&Ke)<<18|(63&Ce[Fe++])<<12|(63&Ce[Fe++])<<6|63&Ce[Fe++])-65536;we[mt++]=String.fromCharCode(55296+(kr>>10)),we[mt++]=String.fromCharCode(56320+(1023&kr))}else{const Kt=Ce[Fe++],Ln=Ce[Fe++];we[mt++]=String.fromCharCode((15&Ke)<<12|(63&Kt)<<6|63&Ln)}}return we.join("")}(this.decodeStringToByteArray(Ce,we))},decodeStringToByteArray(Ce,we){this.init_();const Fe=we?this.charToByteMapWebSafe_:this.charToByteMap_,mt=[];for(let Ke=0;Ke<Ce.length;){const Kt=Fe[Ce.charAt(Ke++)],Tn=Ke<Ce.length?Fe[Ce.charAt(Ke)]:0;++Ke;const Bn=Ke<Ce.length?Fe[Ce.charAt(Ke)]:64;++Ke;const ci=Ke<Ce.length?Fe[Ce.charAt(Ke)]:64;if(++Ke,null==Kt||null==Tn||null==Bn||null==ci)throw new ke;mt.push(Kt<<2|Tn>>4),64!==Bn&&(mt.push(Tn<<4&240|Bn>>2),64!==ci&&mt.push(Bn<<6&192|ci))}return mt},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let Ce=0;Ce<this.ENCODED_VALS.length;Ce++)this.byteToCharMap_[Ce]=this.ENCODED_VALS.charAt(Ce),this.charToByteMap_[this.byteToCharMap_[Ce]]=Ce,this.byteToCharMapWebSafe_[Ce]=this.ENCODED_VALS_WEBSAFE.charAt(Ce),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[Ce]]=Ce,Ce>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(Ce)]=Ce,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(Ce)]=Ce)}}};class ke extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const gt=function(Ce){const we=Oe(Ce);return Ye.encodeByteArray(we,!0)},Qe=function(Ce){return gt(Ce).replace(/\./g,"")},ye=function(Ce){try{return Ye.decodeString(Ce,!0)}catch(we){console.error("base64Decode failed: ",we)}return null};function Ee(Ce){return He(void 0,Ce)}function He(Ce,we){if(!(we instanceof Object))return we;switch(we.constructor){case Date:return new Date(we.getTime());case Object:void 0===Ce&&(Ce={});break;case Array:Ce=[];break;default:return we}for(const Fe in we)!we.hasOwnProperty(Fe)||!St(Fe)||(Ce[Fe]=He(Ce[Fe],we[Fe]));return Ce}function St(Ce){return"__proto__"!==Ce}const me=()=>{try{return function _t(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}().__FIREBASE_DEFAULTS__||(()=>{if(typeof process>"u"||typeof process.env>"u")return;const Ce=process.env.__FIREBASE_DEFAULTS__;return Ce?JSON.parse(Ce):void 0})()||(()=>{if(typeof document>"u")return;let Ce;try{Ce=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const we=Ce&&ye(Ce[1]);return we&&JSON.parse(we)})()}catch(Ce){return void console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${Ce}`)}},_e=()=>{var Ce;return null===(Ce=me())||void 0===Ce?void 0:Ce.config},et=Ce=>{var we;return null===(we=me())||void 0===we?void 0:we[`_${Ce}`]};class Ge{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((we,Fe)=>{this.resolve=we,this.reject=Fe})}wrapCallback(we){return(Fe,mt)=>{Fe?this.reject(Fe):this.resolve(mt),"function"==typeof we&&(this.promise.catch(()=>{}),1===we.length?we(Fe):we(Fe,mt))}}}function ht(Ce,we){if(Ce.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const mt=we||"demo-project",Ke=Ce.iat||0,Kt=Ce.sub||Ce.user_id;if(!Kt)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const Ln=Object.assign({iss:`https://securetoken.google.com/${mt}`,aud:mt,iat:Ke,exp:Ke+3600,auth_time:Ke,sub:Kt,user_id:Kt,firebase:{sign_in_provider:"custom",identities:{}}},Ce);return[Qe(JSON.stringify({alg:"none",type:"JWT"})),Qe(JSON.stringify(Ln)),""].join(".")}function Et(){return typeof navigator<"u"&&"string"==typeof navigator.userAgent?navigator.userAgent:""}function Ze(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(Et())}function Ne(){var Ce;const we=null===(Ce=me())||void 0===Ce?void 0:Ce.forceEnvironment;if("node"===we)return!0;if("browser"===we)return!1;try{return"[object process]"===Object.prototype.toString.call(global.process)}catch{return!1}}function It(){return"object"==typeof self&&self.self===self}function gn(){const Ce="object"==typeof chrome?chrome.runtime:"object"==typeof browser?browser.runtime:void 0;return"object"==typeof Ce&&void 0!==Ce.id}function kn(){return"object"==typeof navigator&&"ReactNative"===navigator.product}function Ai(){const Ce=Et();return Ce.indexOf("MSIE ")>=0||Ce.indexOf("Trident/")>=0}function ki(){return!0===a.NODE_CLIENT||!0===a.NODE_ADMIN}function tr(){return!Ne()&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function qe(){try{return"object"==typeof indexedDB}catch{return!1}}function nt(){return new Promise((Ce,we)=>{try{let Fe=!0;const mt="validate-browser-context-for-indexeddb-analytics-module",Ke=self.indexedDB.open(mt);Ke.onsuccess=()=>{Ke.result.close(),Fe||self.indexedDB.deleteDatabase(mt),Ce(!0)},Ke.onupgradeneeded=()=>{Fe=!1},Ke.onerror=()=>{var Kt;we((null===(Kt=Ke.error)||void 0===Kt?void 0:Kt.message)||"")}}catch(Fe){we(Fe)}})}function Je(){return!(typeof navigator>"u"||!navigator.cookieEnabled)}class dt extends Error{constructor(we,Fe,mt){super(Fe),this.code=we,this.customData=mt,this.name="FirebaseError",Object.setPrototypeOf(this,dt.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,vt.prototype.create)}}class vt{constructor(we,Fe,mt){this.service=we,this.serviceName=Fe,this.errors=mt}create(we,...Fe){const mt=Fe[0]||{},Ke=`${this.service}/${we}`,Kt=this.errors[we],Ln=Kt?function Ot(Ce,we){return Ce.replace(Rt,(Fe,mt)=>{const Ke=we[mt];return null!=Ke?String(Ke):`<${mt}?>`})}(Kt,mt):"Error";return new dt(Ke,`${this.serviceName}: ${Ln} (${Ke}).`,mt)}}const Rt=/\{\$([^}]+)}/g;function yi(Ce){return JSON.parse(Ce)}function pn(Ce){return JSON.stringify(Ce)}const Yn=function(Ce){let we={},Fe={},mt={},Ke="";try{const Kt=Ce.split(".");we=yi(ye(Kt[0])||""),Fe=yi(ye(Kt[1])||""),Ke=Kt[2],mt=Fe.d||{},delete Fe.d}catch{}return{header:we,claims:Fe,data:mt,signature:Ke}},Oi=function(Ce){const Fe=Yn(Ce).claims;return!!Fe&&"object"==typeof Fe&&Fe.hasOwnProperty("iat")},Ui=function(Ce){const we=Yn(Ce).claims;return"object"==typeof we&&!0===we.admin};function fi(Ce,we){return Object.prototype.hasOwnProperty.call(Ce,we)}function Mr(Ce,we){if(Object.prototype.hasOwnProperty.call(Ce,we))return Ce[we]}function ds(Ce){for(const we in Ce)if(Object.prototype.hasOwnProperty.call(Ce,we))return!1;return!0}function Xr(Ce,we,Fe){const mt={};for(const Ke in Ce)Object.prototype.hasOwnProperty.call(Ce,Ke)&&(mt[Ke]=we.call(Fe,Ce[Ke],Ke,Ce));return mt}function fr(Ce,we){if(Ce===we)return!0;const Fe=Object.keys(Ce),mt=Object.keys(we);for(const Ke of Fe){if(!mt.includes(Ke))return!1;const Kt=Ce[Ke],Ln=we[Ke];if(hs(Kt)&&hs(Ln)){if(!fr(Kt,Ln))return!1}else if(Kt!==Ln)return!1}for(const Ke of mt)if(!Fe.includes(Ke))return!1;return!0}function hs(Ce){return null!==Ce&&"object"==typeof Ce}function ya(Ce){const we=[];for(const[Fe,mt]of Object.entries(Ce))Array.isArray(mt)?mt.forEach(Ke=>{we.push(encodeURIComponent(Fe)+"="+encodeURIComponent(Ke))}):we.push(encodeURIComponent(Fe)+"="+encodeURIComponent(mt));return we.length?"&"+we.join("&"):""}function yn(Ce){const we={};return Ce.replace(/^\?/,"").split("&").forEach(mt=>{if(mt){const[Ke,Kt]=mt.split("=");we[decodeURIComponent(Ke)]=decodeURIComponent(Kt)}}),we}function An(Ce){const we=Ce.indexOf("?");if(!we)return"";const Fe=Ce.indexOf("#",we);return Ce.substring(we,Fe>0?Fe:void 0)}class Fn{constructor(){this.chain_=[],this.buf_=[],this.W_=[],this.pad_=[],this.inbuf_=0,this.total_=0,this.blockSize=64,this.pad_[0]=128;for(let we=1;we<this.blockSize;++we)this.pad_[we]=0;this.reset()}reset(){this.chain_[0]=1732584193,this.chain_[1]=4023233417,this.chain_[2]=2562383102,this.chain_[3]=271733878,this.chain_[4]=3285377520,this.inbuf_=0,this.total_=0}compress_(we,Fe){Fe||(Fe=0);const mt=this.W_;if("string"==typeof we)for(let ci=0;ci<16;ci++)mt[ci]=we.charCodeAt(Fe)<<24|we.charCodeAt(Fe+1)<<16|we.charCodeAt(Fe+2)<<8|we.charCodeAt(Fe+3),Fe+=4;else for(let ci=0;ci<16;ci++)mt[ci]=we[Fe]<<24|we[Fe+1]<<16|we[Fe+2]<<8|we[Fe+3],Fe+=4;for(let ci=16;ci<80;ci++){const Hr=mt[ci-3]^mt[ci-8]^mt[ci-14]^mt[ci-16];mt[ci]=4294967295&(Hr<<1|Hr>>>31)}let Bn,gr,Ke=this.chain_[0],Kt=this.chain_[1],Ln=this.chain_[2],Tn=this.chain_[3],kr=this.chain_[4];for(let ci=0;ci<80;ci++){ci<40?ci<20?(Bn=Tn^Kt&(Ln^Tn),gr=1518500249):(Bn=Kt^Ln^Tn,gr=1859775393):ci<60?(Bn=Kt&Ln|Tn&(Kt|Ln),gr=2400959708):(Bn=Kt^Ln^Tn,gr=3395469782);const Hr=(Ke<<5|Ke>>>27)+Bn+kr+gr+mt[ci]&4294967295;kr=Tn,Tn=Ln,Ln=4294967295&(Kt<<30|Kt>>>2),Kt=Ke,Ke=Hr}this.chain_[0]=this.chain_[0]+Ke&4294967295,this.chain_[1]=this.chain_[1]+Kt&4294967295,this.chain_[2]=this.chain_[2]+Ln&4294967295,this.chain_[3]=this.chain_[3]+Tn&4294967295,this.chain_[4]=this.chain_[4]+kr&4294967295}update(we,Fe){if(null==we)return;void 0===Fe&&(Fe=we.length);const mt=Fe-this.blockSize;let Ke=0;const Kt=this.buf_;let Ln=this.inbuf_;for(;Ke<Fe;){if(0===Ln)for(;Ke<=mt;)this.compress_(we,Ke),Ke+=this.blockSize;if("string"==typeof we){for(;Ke<Fe;)if(Kt[Ln]=we.charCodeAt(Ke),++Ln,++Ke,Ln===this.blockSize){this.compress_(Kt),Ln=0;break}}else for(;Ke<Fe;)if(Kt[Ln]=we[Ke],++Ln,++Ke,Ln===this.blockSize){this.compress_(Kt),Ln=0;break}}this.inbuf_=Ln,this.total_+=Fe}digest(){const we=[];let Fe=8*this.total_;this.update(this.pad_,this.inbuf_<56?56-this.inbuf_:this.blockSize-(this.inbuf_-56));for(let Ke=this.blockSize-1;Ke>=56;Ke--)this.buf_[Ke]=255&Fe,Fe/=256;this.compress_(this.buf_);let mt=0;for(let Ke=0;Ke<5;Ke++)for(let Kt=24;Kt>=0;Kt-=8)we[mt]=this.chain_[Ke]>>Kt&255,++mt;return we}}function In(Ce,we){const Fe=new zi(Ce,we);return Fe.subscribe.bind(Fe)}class zi{constructor(we,Fe){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=Fe,this.task.then(()=>{we(this)}).catch(mt=>{this.error(mt)})}next(we){this.forEachObserver(Fe=>{Fe.next(we)})}error(we){this.forEachObserver(Fe=>{Fe.error(we)}),this.close(we)}complete(){this.forEachObserver(we=>{we.complete()}),this.close()}subscribe(we,Fe,mt){let Ke;if(void 0===we&&void 0===Fe&&void 0===mt)throw new Error("Missing Observer.");Ke=function di(Ce,we){if("object"!=typeof Ce||null===Ce)return!1;for(const Fe of we)if(Fe in Ce&&"function"==typeof Ce[Fe])return!0;return!1}(we,["next","error","complete"])?we:{next:we,error:Fe,complete:mt},void 0===Ke.next&&(Ke.next=nr),void 0===Ke.error&&(Ke.error=nr),void 0===Ke.complete&&(Ke.complete=nr);const Kt=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?Ke.error(this.finalError):Ke.complete()}catch{}}),this.observers.push(Ke),Kt}unsubscribeOne(we){void 0===this.observers||void 0===this.observers[we]||(delete this.observers[we],this.observerCount-=1,0===this.observerCount&&void 0!==this.onNoObservers&&this.onNoObservers(this))}forEachObserver(we){if(!this.finalized)for(let Fe=0;Fe<this.observers.length;Fe++)this.sendOne(Fe,we)}sendOne(we,Fe){this.task.then(()=>{if(void 0!==this.observers&&void 0!==this.observers[we])try{Fe(this.observers[we])}catch(mt){typeof console<"u"&&console.error&&console.error(mt)}})}close(we){this.finalized||(this.finalized=!0,void 0!==we&&(this.finalError=we),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function nr(){}const oo=function(Ce,we,Fe,mt){let Ke;if(mt<we?Ke="at least "+we:mt>Fe&&(Ke=0===Fe?"none":"no more than "+Fe),Ke)throw new Error(Ce+" failed: Was called with "+mt+(1===mt?" argument.":" arguments.")+" Expects "+Ke+".")};function ti(Ce,we){return`${Ce} failed: ${we} argument `}function si(Ce,we,Fe,mt){if((!mt||Fe)&&"function"!=typeof Fe)throw new Error(ti(Ce,we)+"must be a valid function.")}function Ts(Ce,we,Fe,mt){if((!mt||Fe)&&("object"!=typeof Fe||null===Fe))throw new Error(ti(Ce,we)+"must be a valid context object.")}const Do=function(Ce){const we=[];let Fe=0;for(let mt=0;mt<Ce.length;mt++){let Ke=Ce.charCodeAt(mt);if(Ke>=55296&&Ke<=56319){const Kt=Ke-55296;mt++,Le(mt<Ce.length,"Surrogate pair missing trail surrogate."),Ke=65536+(Kt<<10)+(Ce.charCodeAt(mt)-56320)}Ke<128?we[Fe++]=Ke:Ke<2048?(we[Fe++]=Ke>>6|192,we[Fe++]=63&Ke|128):Ke<65536?(we[Fe++]=Ke>>12|224,we[Fe++]=Ke>>6&63|128,we[Fe++]=63&Ke|128):(we[Fe++]=Ke>>18|240,we[Fe++]=Ke>>12&63|128,we[Fe++]=Ke>>6&63|128,we[Fe++]=63&Ke|128)}return we},To=function(Ce){let we=0;for(let Fe=0;Fe<Ce.length;Fe++){const mt=Ce.charCodeAt(Fe);mt<128?we++:mt<2048?we+=2:mt>=55296&&mt<=56319?(we+=4,Fe++):we+=3}return we},So=1e3,st=2,Ae=144e5,at=.5;function Nt(Ce,we=So,Fe=st){const mt=we*Math.pow(Fe,Ce),Ke=Math.round(at*mt*(Math.random()-.5)*2);return Math.min(Ae,mt+Ke)}function li(Ce){return Ce&&Ce._delegate?Ce._delegate:Ce}},7122:(nn,ct,ce)=>{var a=ce(5879);let Le=null;function re(){return Le}class xe{}const Ye=new a.OlP("DocumentToken");let ke=(()=>{class n{historyGo(e){throw new Error("Not implemented")}static#e=this.\u0275fac=function(i){return new(i||n)};static#t=this.\u0275prov=a.Yz7({token:n,factory:function(){return(0,a.f3M)(Qe)},providedIn:"platform"})}return n})();const gt=new a.OlP("Location Initialized");let Qe=(()=>{class n extends ke{constructor(){super(),this._doc=(0,a.f3M)(Ye),this._location=window.location,this._history=window.history}getBaseHrefFromDOM(){return re().getBaseHref(this._doc)}onPopState(e){const i=re().getGlobalEventTarget(this._doc,"window");return i.addEventListener("popstate",e,!1),()=>i.removeEventListener("popstate",e)}onHashChange(e){const i=re().getGlobalEventTarget(this._doc,"window");return i.addEventListener("hashchange",e,!1),()=>i.removeEventListener("hashchange",e)}get href(){return this._location.href}get protocol(){return this._location.protocol}get hostname(){return this._location.hostname}get port(){return this._location.port}get pathname(){return this._location.pathname}get search(){return this._location.search}get hash(){return this._location.hash}set pathname(e){this._location.pathname=e}pushState(e,i,r){this._history.pushState(e,i,r)}replaceState(e,i,r){this._history.replaceState(e,i,r)}forward(){this._history.forward()}back(){this._history.back()}historyGo(e=0){this._history.go(e)}getState(){return this._history.state}static#e=this.\u0275fac=function(i){return new(i||n)};static#t=this.\u0275prov=a.Yz7({token:n,factory:function(){return new n},providedIn:"platform"})}return n})();function ye(n,t){if(0==n.length)return t;if(0==t.length)return n;let e=0;return n.endsWith("/")&&e++,t.startsWith("/")&&e++,2==e?n+t.substring(1):1==e?n+t:n+"/"+t}function Ee(n){const t=n.match(/#|\?|$/),e=t&&t.index||n.length;return n.slice(0,e-("/"===n[e-1]?1:0))+n.slice(e)}function He(n){return n&&"?"!==n[0]?"?"+n:n}let St=(()=>{class n{historyGo(e){throw new Error("Not implemented")}static#e=this.\u0275fac=function(i){return new(i||n)};static#t=this.\u0275prov=a.Yz7({token:n,factory:function(){return(0,a.f3M)(At)},providedIn:"root"})}return n})();const _t=new a.OlP("appBaseHref");let At=(()=>{class n extends St{constructor(e,i){super(),this._platformLocation=e,this._removeListenerFns=[],this._baseHref=i??this._platformLocation.getBaseHrefFromDOM()??(0,a.f3M)(Ye).location?.origin??""}ngOnDestroy(){for(;this._removeListenerFns.length;)this._removeListenerFns.pop()()}onPopState(e){this._removeListenerFns.push(this._platformLocation.onPopState(e),this._platformLocation.onHashChange(e))}getBaseHref(){return this._baseHref}prepareExternalUrl(e){return ye(this._baseHref,e)}path(e=!1){const i=this._platformLocation.pathname+He(this._platformLocation.search),r=this._platformLocation.hash;return r&&e?`${i}${r}`:i}pushState(e,i,r,s){const c=this.prepareExternalUrl(r+He(s));this._platformLocation.pushState(e,i,c)}replaceState(e,i,r,s){const c=this.prepareExternalUrl(r+He(s));this._platformLocation.replaceState(e,i,c)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}getState(){return this._platformLocation.getState()}historyGo(e=0){this._platformLocation.historyGo?.(e)}static#e=this.\u0275fac=function(i){return new(i||n)(a.LFG(ke),a.LFG(_t,8))};static#t=this.\u0275prov=a.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})(),xt=(()=>{class n extends St{constructor(e,i){super(),this._platformLocation=e,this._baseHref="",this._removeListenerFns=[],null!=i&&(this._baseHref=i)}ngOnDestroy(){for(;this._removeListenerFns.length;)this._removeListenerFns.pop()()}onPopState(e){this._removeListenerFns.push(this._platformLocation.onPopState(e),this._platformLocation.onHashChange(e))}getBaseHref(){return this._baseHref}path(e=!1){let i=this._platformLocation.hash;return null==i&&(i="#"),i.length>0?i.substring(1):i}prepareExternalUrl(e){const i=ye(this._baseHref,e);return i.length>0?"#"+i:i}pushState(e,i,r,s){let c=this.prepareExternalUrl(r+He(s));0==c.length&&(c=this._platformLocation.pathname),this._platformLocation.pushState(e,i,c)}replaceState(e,i,r,s){let c=this.prepareExternalUrl(r+He(s));0==c.length&&(c=this._platformLocation.pathname),this._platformLocation.replaceState(e,i,c)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}getState(){return this._platformLocation.getState()}historyGo(e=0){this._platformLocation.historyGo?.(e)}static#e=this.\u0275fac=function(i){return new(i||n)(a.LFG(ke),a.LFG(_t,8))};static#t=this.\u0275prov=a.Yz7({token:n,factory:n.\u0275fac})}return n})(),Ut=(()=>{class n{constructor(e){this._subject=new a.vpe,this._urlChangeListeners=[],this._urlChangeSubscription=null,this._locationStrategy=e;const i=this._locationStrategy.getBaseHref();this._basePath=function _e(n){if(new RegExp("^(https?:)?//").test(n)){const[,e]=n.split(/\/\/[^\/]+/);return e}return n}(Ee($t(i))),this._locationStrategy.onPopState(r=>{this._subject.emit({url:this.path(!0),pop:!0,state:r.state,type:r.type})})}ngOnDestroy(){this._urlChangeSubscription?.unsubscribe(),this._urlChangeListeners=[]}path(e=!1){return this.normalize(this._locationStrategy.path(e))}getState(){return this._locationStrategy.getState()}isCurrentPathEqualTo(e,i=""){return this.path()==this.normalize(e+He(i))}normalize(e){return n.stripTrailingSlash(function on(n,t){if(!n||!t.startsWith(n))return t;const e=t.substring(n.length);return""===e||["/",";","?","#"].includes(e[0])?e:t}(this._basePath,$t(e)))}prepareExternalUrl(e){return e&&"/"!==e[0]&&(e="/"+e),this._locationStrategy.prepareExternalUrl(e)}go(e,i="",r=null){this._locationStrategy.pushState(r,"",e,i),this._notifyUrlChangeListeners(this.prepareExternalUrl(e+He(i)),r)}replaceState(e,i="",r=null){this._locationStrategy.replaceState(r,"",e,i),this._notifyUrlChangeListeners(this.prepareExternalUrl(e+He(i)),r)}forward(){this._locationStrategy.forward()}back(){this._locationStrategy.back()}historyGo(e=0){this._locationStrategy.historyGo?.(e)}onUrlChange(e){return this._urlChangeListeners.push(e),this._urlChangeSubscription||(this._urlChangeSubscription=this.subscribe(i=>{this._notifyUrlChangeListeners(i.url,i.state)})),()=>{const i=this._urlChangeListeners.indexOf(e);this._urlChangeListeners.splice(i,1),0===this._urlChangeListeners.length&&(this._urlChangeSubscription?.unsubscribe(),this._urlChangeSubscription=null)}}_notifyUrlChangeListeners(e="",i){this._urlChangeListeners.forEach(r=>r(e,i))}subscribe(e,i,r){return this._subject.subscribe({next:e,error:i,complete:r})}static#e=this.normalizeQueryParams=He;static#t=this.joinWithSlash=ye;static#n=this.stripTrailingSlash=Ee;static#i=this.\u0275fac=function(i){return new(i||n)(a.LFG(St))};static#r=this.\u0275prov=a.Yz7({token:n,factory:function(){return function me(){return new Ut((0,a.LFG)(St))}()},providedIn:"root"})}return n})();function $t(n){return n.replace(/\/index.html$/,"")}var ht=function(n){return n[n.Zero=0]="Zero",n[n.One=1]="One",n[n.Two=2]="Two",n[n.Few=3]="Few",n[n.Many=4]="Many",n[n.Other=5]="Other",n}(ht||{}),Et=function(n){return n[n.Format=0]="Format",n[n.Standalone=1]="Standalone",n}(Et||{}),Ze=function(n){return n[n.Narrow=0]="Narrow",n[n.Abbreviated=1]="Abbreviated",n[n.Wide=2]="Wide",n[n.Short=3]="Short",n}(Ze||{}),Ne=function(n){return n[n.Short=0]="Short",n[n.Medium=1]="Medium",n[n.Long=2]="Long",n[n.Full=3]="Full",n}(Ne||{}),It=function(n){return n[n.Decimal=0]="Decimal",n[n.Group=1]="Group",n[n.List=2]="List",n[n.PercentSign=3]="PercentSign",n[n.PlusSign=4]="PlusSign",n[n.MinusSign=5]="MinusSign",n[n.Exponential=6]="Exponential",n[n.SuperscriptingExponent=7]="SuperscriptingExponent",n[n.PerMille=8]="PerMille",n[n.Infinity=9]="Infinity",n[n.NaN=10]="NaN",n[n.TimeSeparator=11]="TimeSeparator",n[n.CurrencyDecimal=12]="CurrencyDecimal",n[n.CurrencyGroup=13]="CurrencyGroup",n}(It||{});function nt(n,t){return fi((0,a.cg1)(n)[a.wAp.DateFormat],t)}function Je(n,t){return fi((0,a.cg1)(n)[a.wAp.TimeFormat],t)}function rt(n,t){return fi((0,a.cg1)(n)[a.wAp.DateTimeFormat],t)}function dt(n,t){const e=(0,a.cg1)(n),i=e[a.wAp.NumberSymbols][t];if(typeof i>"u"){if(t===It.CurrencyDecimal)return e[a.wAp.NumberSymbols][It.Decimal];if(t===It.CurrencyGroup)return e[a.wAp.NumberSymbols][It.Group]}return i}const Yn=a.kL8;function dn(n){if(!n[a.wAp.ExtraData])throw new Error(`Missing extra locale data for the locale "${n[a.wAp.LocaleId]}". Use "registerLocaleData" to load new data. See the "I18n guide" on angular.io to know more.`)}function fi(n,t){for(let e=t;e>-1;e--)if(typeof n[e]<"u")return n[e];throw new Error("Locale data API: locale data undefined")}function Mr(n){const[t,e]=n.split(":");return{hours:+t,minutes:+e}}const hs=/^(\d{4,})-?(\d\d)-?(\d\d)(?:T(\d\d)(?::?(\d\d)(?::?(\d\d)(?:\.(\d+))?)?)?(Z|([+-])(\d\d):?(\d\d))?)?$/,Eo={},ya=/((?:[^BEGHLMOSWYZabcdhmswyz']+)|(?:'(?:[^']|'')*')|(?:G{1,5}|y{1,4}|Y{1,4}|M{1,5}|L{1,5}|w{1,2}|W{1}|d{1,2}|E{1,6}|c{1,6}|a{1,5}|b{1,5}|B{1,5}|h{1,2}|H{1,2}|m{1,2}|s{1,2}|S{1,3}|z{1,4}|Z{1,5}|O{1,4}))([\s\S]*)/;var yn=function(n){return n[n.Short=0]="Short",n[n.ShortGMT=1]="ShortGMT",n[n.Long=2]="Long",n[n.Extended=3]="Extended",n}(yn||{}),An=function(n){return n[n.FullYear=0]="FullYear",n[n.Month=1]="Month",n[n.Date=2]="Date",n[n.Hours=3]="Hours",n[n.Minutes=4]="Minutes",n[n.Seconds=5]="Seconds",n[n.FractionalSeconds=6]="FractionalSeconds",n[n.Day=7]="Day",n}(An||{}),Fn=function(n){return n[n.DayPeriods=0]="DayPeriods",n[n.Days=1]="Days",n[n.Months=2]="Months",n[n.Eras=3]="Eras",n}(Fn||{});function In(n,t,e,i){let r=function we(n){if(mt(n))return n;if("number"==typeof n&&!isNaN(n))return new Date(n);if("string"==typeof n){if(n=n.trim(),/^(\d{4}(-\d{1,2}(-\d{1,2})?)?)$/.test(n)){const[r,s=1,c=1]=n.split("-").map(p=>+p);return zi(r,s-1,c)}const e=parseFloat(n);if(!isNaN(n-e))return new Date(e);let i;if(i=n.match(hs))return function Fe(n){const t=new Date(0);let e=0,i=0;const r=n[8]?t.setUTCFullYear:t.setFullYear,s=n[8]?t.setUTCHours:t.setHours;n[9]&&(e=Number(n[9]+n[10]),i=Number(n[9]+n[11])),r.call(t,Number(n[1]),Number(n[2])-1,Number(n[3]));const c=Number(n[4]||0)-e,p=Number(n[5]||0)-i,_=Number(n[6]||0),C=Math.floor(1e3*parseFloat("0."+(n[7]||0)));return s.call(t,c,p,_,C),t}(i)}const t=new Date(n);if(!mt(t))throw new Error(`Unable to convert "${n}" into a date`);return t}(n);t=pr(e,t)||t;let p,c=[];for(;t;){if(p=ya.exec(t),!p){c.push(t);break}{c=c.concat(p.slice(1));const M=c.pop();if(!M)break;t=M}}let _=r.getTimezoneOffset();i&&(_=mn(i,_),r=function Ce(n,t,e){const i=e?-1:1,r=n.getTimezoneOffset();return function li(n,t){return(n=new Date(n.getTime())).setMinutes(n.getMinutes()+t),n}(n,i*(mn(t,r)-r))}(r,i,!0));let C="";return c.forEach(M=>{const V=function Wt(n){if(Nt[n])return Nt[n];let t;switch(n){case"G":case"GG":case"GGG":t=si(Fn.Eras,Ze.Abbreviated);break;case"GGGG":t=si(Fn.Eras,Ze.Wide);break;case"GGGGG":t=si(Fn.Eras,Ze.Narrow);break;case"y":t=ti(An.FullYear,1,0,!1,!0);break;case"yy":t=ti(An.FullYear,2,0,!0,!0);break;case"yyy":t=ti(An.FullYear,3,0,!1,!0);break;case"yyyy":t=ti(An.FullYear,4,0,!1,!0);break;case"Y":t=at(1);break;case"YY":t=at(2,!0);break;case"YYY":t=at(3);break;case"YYYY":t=at(4);break;case"M":case"L":t=ti(An.Month,1,1);break;case"MM":case"LL":t=ti(An.Month,2,1);break;case"MMM":t=si(Fn.Months,Ze.Abbreviated);break;case"MMMM":t=si(Fn.Months,Ze.Wide);break;case"MMMMM":t=si(Fn.Months,Ze.Narrow);break;case"LLL":t=si(Fn.Months,Ze.Abbreviated,Et.Standalone);break;case"LLLL":t=si(Fn.Months,Ze.Wide,Et.Standalone);break;case"LLLLL":t=si(Fn.Months,Ze.Narrow,Et.Standalone);break;case"w":t=Ae(1);break;case"ww":t=Ae(2);break;case"W":t=Ae(1,!0);break;case"d":t=ti(An.Date,1);break;case"dd":t=ti(An.Date,2);break;case"c":case"cc":t=ti(An.Day,1);break;case"ccc":t=si(Fn.Days,Ze.Abbreviated,Et.Standalone);break;case"cccc":t=si(Fn.Days,Ze.Wide,Et.Standalone);break;case"ccccc":t=si(Fn.Days,Ze.Narrow,Et.Standalone);break;case"cccccc":t=si(Fn.Days,Ze.Short,Et.Standalone);break;case"E":case"EE":case"EEE":t=si(Fn.Days,Ze.Abbreviated);break;case"EEEE":t=si(Fn.Days,Ze.Wide);break;case"EEEEE":t=si(Fn.Days,Ze.Narrow);break;case"EEEEEE":t=si(Fn.Days,Ze.Short);break;case"a":case"aa":case"aaa":t=si(Fn.DayPeriods,Ze.Abbreviated);break;case"aaaa":t=si(Fn.DayPeriods,Ze.Wide);break;case"aaaaa":t=si(Fn.DayPeriods,Ze.Narrow);break;case"b":case"bb":case"bbb":t=si(Fn.DayPeriods,Ze.Abbreviated,Et.Standalone,!0);break;case"bbbb":t=si(Fn.DayPeriods,Ze.Wide,Et.Standalone,!0);break;case"bbbbb":t=si(Fn.DayPeriods,Ze.Narrow,Et.Standalone,!0);break;case"B":case"BB":case"BBB":t=si(Fn.DayPeriods,Ze.Abbreviated,Et.Format,!0);break;case"BBBB":t=si(Fn.DayPeriods,Ze.Wide,Et.Format,!0);break;case"BBBBB":t=si(Fn.DayPeriods,Ze.Narrow,Et.Format,!0);break;case"h":t=ti(An.Hours,1,-12);break;case"hh":t=ti(An.Hours,2,-12);break;case"H":t=ti(An.Hours,1);break;case"HH":t=ti(An.Hours,2);break;case"m":t=ti(An.Minutes,1);break;case"mm":t=ti(An.Minutes,2);break;case"s":t=ti(An.Seconds,1);break;case"ss":t=ti(An.Seconds,2);break;case"S":t=ti(An.FractionalSeconds,1);break;case"SS":t=ti(An.FractionalSeconds,2);break;case"SSS":t=ti(An.FractionalSeconds,3);break;case"Z":case"ZZ":case"ZZZ":t=Do(yn.Short);break;case"ZZZZZ":t=Do(yn.Extended);break;case"O":case"OO":case"OOO":case"z":case"zz":case"zzz":t=Do(yn.ShortGMT);break;case"OOOO":case"ZZZZ":case"zzzz":t=Do(yn.Long);break;default:return null}return Nt[n]=t,t}(M);C+=V?V(r,e,_):"''"===M?"'":M.replace(/(^'|'$)/g,"").replace(/''/g,"'")}),C}function zi(n,t,e){const i=new Date(0);return i.setFullYear(n,t,e),i.setHours(0,0,0),i}function pr(n,t){const e=function kn(n){return(0,a.cg1)(n)[a.wAp.LocaleId]}(n);if(Eo[e]=Eo[e]||{},Eo[e][t])return Eo[e][t];let i="";switch(t){case"shortDate":i=nt(n,Ne.Short);break;case"mediumDate":i=nt(n,Ne.Medium);break;case"longDate":i=nt(n,Ne.Long);break;case"fullDate":i=nt(n,Ne.Full);break;case"shortTime":i=Je(n,Ne.Short);break;case"mediumTime":i=Je(n,Ne.Medium);break;case"longTime":i=Je(n,Ne.Long);break;case"fullTime":i=Je(n,Ne.Full);break;case"short":const r=pr(n,"shortTime"),s=pr(n,"shortDate");i=di(rt(n,Ne.Short),[r,s]);break;case"medium":const c=pr(n,"mediumTime"),p=pr(n,"mediumDate");i=di(rt(n,Ne.Medium),[c,p]);break;case"long":const _=pr(n,"longTime"),C=pr(n,"longDate");i=di(rt(n,Ne.Long),[_,C]);break;case"full":const M=pr(n,"fullTime"),V=pr(n,"fullDate");i=di(rt(n,Ne.Full),[M,V])}return i&&(Eo[e][t]=i),i}function di(n,t){return t&&(n=n.replace(/\{([^}]+)}/g,function(e,i){return null!=t&&i in t?t[i]:e})),n}function nr(n,t,e="-",i,r){let s="";(n<0||r&&n<=0)&&(r?n=1-n:(n=-n,s=e));let c=String(n);for(;c.length<t;)c="0"+c;return i&&(c=c.slice(c.length-t)),s+c}function ti(n,t,e=0,i=!1,r=!1){return function(s,c){let p=function Vr(n,t){switch(n){case An.FullYear:return t.getFullYear();case An.Month:return t.getMonth();case An.Date:return t.getDate();case An.Hours:return t.getHours();case An.Minutes:return t.getMinutes();case An.Seconds:return t.getSeconds();case An.FractionalSeconds:return t.getMilliseconds();case An.Day:return t.getDay();default:throw new Error(`Unknown DateType value "${n}".`)}}(n,s);if((e>0||p>-e)&&(p+=e),n===An.Hours)0===p&&-12===e&&(p=12);else if(n===An.FractionalSeconds)return function oo(n,t){return nr(n,3).substring(0,t)}(p,t);const _=dt(c,It.MinusSign);return nr(p,t,_,i,r)}}function si(n,t,e=Et.Format,i=!1){return function(r,s){return function Ts(n,t,e,i,r,s){switch(e){case Fn.Months:return function Li(n,t,e){const i=(0,a.cg1)(n),s=fi([i[a.wAp.MonthsFormat],i[a.wAp.MonthsStandalone]],t);return fi(s,e)}(t,r,i)[n.getMonth()];case Fn.Days:return function Ai(n,t,e){const i=(0,a.cg1)(n),s=fi([i[a.wAp.DaysFormat],i[a.wAp.DaysStandalone]],t);return fi(s,e)}(t,r,i)[n.getDay()];case Fn.DayPeriods:const c=n.getHours(),p=n.getMinutes();if(s){const C=function hi(n){const t=(0,a.cg1)(n);return dn(t),(t[a.wAp.ExtraData][2]||[]).map(i=>"string"==typeof i?Mr(i):[Mr(i[0]),Mr(i[1])])}(t),M=function Oi(n,t,e){const i=(0,a.cg1)(n);dn(i);const s=fi([i[a.wAp.ExtraData][0],i[a.wAp.ExtraData][1]],t)||[];return fi(s,e)||[]}(t,r,i),V=C.findIndex(W=>{if(Array.isArray(W)){const[K,oe]=W,ae=c>=K.hours&&p>=K.minutes,fe=c<oe.hours||c===oe.hours&&p<oe.minutes;if(K.hours<oe.hours){if(ae&&fe)return!0}else if(ae||fe)return!0}else if(W.hours===c&&W.minutes===p)return!0;return!1});if(-1!==V)return M[V]}return function vi(n,t,e){const i=(0,a.cg1)(n),s=fi([i[a.wAp.DayPeriodsFormat],i[a.wAp.DayPeriodsStandalone]],t);return fi(s,e)}(t,r,i)[c<12?0:1];case Fn.Eras:return function ki(n,t){return fi((0,a.cg1)(n)[a.wAp.Eras],t)}(t,i)[n.getFullYear()<=0?0:1];default:throw new Error(`unexpected translation type ${e}`)}}(r,s,n,t,e,i)}}function Do(n){return function(t,e,i){const r=-1*i,s=dt(e,It.MinusSign),c=r>0?Math.floor(r/60):Math.ceil(r/60);switch(n){case yn.Short:return(r>=0?"+":"")+nr(c,2,s)+nr(Math.abs(r%60),2,s);case yn.ShortGMT:return"GMT"+(r>=0?"+":"")+nr(c,1,s);case yn.Long:return"GMT"+(r>=0?"+":"")+nr(c,2,s)+":"+nr(Math.abs(r%60),2,s);case yn.Extended:return 0===i?"Z":(r>=0?"+":"")+nr(c,2,s)+":"+nr(Math.abs(r%60),2,s);default:throw new Error(`Unknown zone width "${n}"`)}}}const To=0,Kr=4;function st(n){return zi(n.getFullYear(),n.getMonth(),n.getDate()+(Kr-n.getDay()))}function Ae(n,t=!1){return function(e,i){let r;if(t){const s=new Date(e.getFullYear(),e.getMonth(),1).getDay()-1,c=e.getDate();r=1+Math.floor((c+s)/7)}else{const s=st(e),c=function So(n){const t=zi(n,To,1).getDay();return zi(n,0,1+(t<=Kr?Kr:Kr+7)-t)}(s.getFullYear()),p=s.getTime()-c.getTime();r=1+Math.round(p/6048e5)}return nr(r,n,dt(i,It.MinusSign))}}function at(n,t=!1){return function(e,i){return nr(st(e).getFullYear(),n,dt(i,It.MinusSign),t)}}const Nt={};function mn(n,t){n=n.replace(/:/g,"");const e=Date.parse("Jan 01, 1970 00:00:00 "+n)/6e4;return isNaN(e)?t:e}function mt(n){return n instanceof Date&&!isNaN(n.valueOf())}let u=(()=>{class n{static#e=this.\u0275fac=function(i){return new(i||n)};static#t=this.\u0275prov=a.Yz7({token:n,factory:function(i){let r=null;return i?r=new i:(s=a.LFG(a.soG),r=new m(s)),r;var s},providedIn:"root"})}return n})();let m=(()=>{class n extends u{constructor(e){super(),this.locale=e}getPluralCategory(e,i){switch(Yn(i||this.locale)(e)){case ht.Zero:return"zero";case ht.One:return"one";case ht.Two:return"two";case ht.Few:return"few";case ht.Many:return"many";default:return"other"}}static#e=this.\u0275fac=function(i){return new(i||n)(a.LFG(a.soG))};static#t=this.\u0275prov=a.Yz7({token:n,factory:n.\u0275fac})}return n})();function v(n,t,e){return(0,a.dwT)(n,t,e)}function y(n,t){t=encodeURIComponent(t);for(const e of n.split(";")){const i=e.indexOf("="),[r,s]=-1==i?[e,""]:[e.slice(0,i),e.slice(i+1)];if(r.trim()===t)return decodeURIComponent(s)}return null}const w=/\s+/,D=[];let I=(()=>{class n{constructor(e,i,r,s){this._iterableDiffers=e,this._keyValueDiffers=i,this._ngEl=r,this._renderer=s,this.initialClasses=D,this.stateMap=new Map}set klass(e){this.initialClasses=null!=e?e.trim().split(w):D}set ngClass(e){this.rawClass="string"==typeof e?e.trim().split(w):e}ngDoCheck(){for(const i of this.initialClasses)this._updateState(i,!0);const e=this.rawClass;if(Array.isArray(e)||e instanceof Set)for(const i of e)this._updateState(i,!0);else if(null!=e)for(const i of Object.keys(e))this._updateState(i,!!e[i]);this._applyStateDiff()}_updateState(e,i){const r=this.stateMap.get(e);void 0!==r?(r.enabled!==i&&(r.changed=!0,r.enabled=i),r.touched=!0):this.stateMap.set(e,{enabled:i,changed:!0,touched:!0})}_applyStateDiff(){for(const e of this.stateMap){const i=e[0],r=e[1];r.changed?(this._toggleClass(i,r.enabled),r.changed=!1):r.touched||(r.enabled&&this._toggleClass(i,!1),this.stateMap.delete(i)),r.touched=!1}}_toggleClass(e,i){(e=e.trim()).length>0&&e.split(w).forEach(r=>{i?this._renderer.addClass(this._ngEl.nativeElement,r):this._renderer.removeClass(this._ngEl.nativeElement,r)})}static#e=this.\u0275fac=function(i){return new(i||n)(a.Y36(a.ZZ4),a.Y36(a.aQg),a.Y36(a.SBq),a.Y36(a.Qsj))};static#t=this.\u0275dir=a.lG2({type:n,selectors:[["","ngClass",""]],inputs:{klass:["class","klass"],ngClass:"ngClass"},standalone:!0})}return n})();class L{constructor(t,e,i,r){this.$implicit=t,this.ngForOf=e,this.index=i,this.count=r}get first(){return 0===this.index}get last(){return this.index===this.count-1}get even(){return this.index%2==0}get odd(){return!this.even}}let U=(()=>{class n{set ngForOf(e){this._ngForOf=e,this._ngForOfDirty=!0}set ngForTrackBy(e){this._trackByFn=e}get ngForTrackBy(){return this._trackByFn}constructor(e,i,r){this._viewContainer=e,this._template=i,this._differs=r,this._ngForOf=null,this._ngForOfDirty=!0,this._differ=null}set ngForTemplate(e){e&&(this._template=e)}ngDoCheck(){if(this._ngForOfDirty){this._ngForOfDirty=!1;const e=this._ngForOf;!this._differ&&e&&(this._differ=this._differs.find(e).create(this.ngForTrackBy))}if(this._differ){const e=this._differ.diff(this._ngForOf);e&&this._applyChanges(e)}}_applyChanges(e){const i=this._viewContainer;e.forEachOperation((r,s,c)=>{if(null==r.previousIndex)i.createEmbeddedView(this._template,new L(r.item,this._ngForOf,-1,-1),null===c?void 0:c);else if(null==c)i.remove(null===s?void 0:s);else if(null!==s){const p=i.get(s);i.move(p,c),G(p,r)}});for(let r=0,s=i.length;r<s;r++){const p=i.get(r).context;p.index=r,p.count=s,p.ngForOf=this._ngForOf}e.forEachIdentityChange(r=>{G(i.get(r.currentIndex),r)})}static ngTemplateContextGuard(e,i){return!0}static#e=this.\u0275fac=function(i){return new(i||n)(a.Y36(a.s_b),a.Y36(a.Rgc),a.Y36(a.ZZ4))};static#t=this.\u0275dir=a.lG2({type:n,selectors:[["","ngFor","","ngForOf",""]],inputs:{ngForOf:"ngForOf",ngForTrackBy:"ngForTrackBy",ngForTemplate:"ngForTemplate"},standalone:!0})}return n})();function G(n,t){n.context.$implicit=t.item}let Q=(()=>{class n{constructor(e,i){this._viewContainer=e,this._context=new ie,this._thenTemplateRef=null,this._elseTemplateRef=null,this._thenViewRef=null,this._elseViewRef=null,this._thenTemplateRef=i}set ngIf(e){this._context.$implicit=this._context.ngIf=e,this._updateView()}set ngIfThen(e){le("ngIfThen",e),this._thenTemplateRef=e,this._thenViewRef=null,this._updateView()}set ngIfElse(e){le("ngIfElse",e),this._elseTemplateRef=e,this._elseViewRef=null,this._updateView()}_updateView(){this._context.$implicit?this._thenViewRef||(this._viewContainer.clear(),this._elseViewRef=null,this._thenTemplateRef&&(this._thenViewRef=this._viewContainer.createEmbeddedView(this._thenTemplateRef,this._context))):this._elseViewRef||(this._viewContainer.clear(),this._thenViewRef=null,this._elseTemplateRef&&(this._elseViewRef=this._viewContainer.createEmbeddedView(this._elseTemplateRef,this._context)))}static ngTemplateContextGuard(e,i){return!0}static#e=this.\u0275fac=function(i){return new(i||n)(a.Y36(a.s_b),a.Y36(a.Rgc))};static#t=this.\u0275dir=a.lG2({type:n,selectors:[["","ngIf",""]],inputs:{ngIf:"ngIf",ngIfThen:"ngIfThen",ngIfElse:"ngIfElse"},standalone:!0})}return n})();class ie{constructor(){this.$implicit=null,this.ngIf=null}}function le(n,t){if(t&&!t.createEmbeddedView)throw new Error(`${n} must be a TemplateRef, but received '${(0,a.AaK)(t)}'.`)}class S{constructor(t,e){this._viewContainerRef=t,this._templateRef=e,this._created=!1}create(){this._created=!0,this._viewContainerRef.createEmbeddedView(this._templateRef)}destroy(){this._created=!1,this._viewContainerRef.clear()}enforceState(t){t&&!this._created?this.create():!t&&this._created&&this.destroy()}}let R=(()=>{class n{constructor(){this._defaultViews=[],this._defaultUsed=!1,this._caseCount=0,this._lastCaseCheckIndex=0,this._lastCasesMatched=!1}set ngSwitch(e){this._ngSwitch=e,0===this._caseCount&&this._updateDefaultCases(!0)}_addCase(){return this._caseCount++}_addDefault(e){this._defaultViews.push(e)}_matchCase(e){const i=e==this._ngSwitch;return this._lastCasesMatched=this._lastCasesMatched||i,this._lastCaseCheckIndex++,this._lastCaseCheckIndex===this._caseCount&&(this._updateDefaultCases(!this._lastCasesMatched),this._lastCaseCheckIndex=0,this._lastCasesMatched=!1),i}_updateDefaultCases(e){if(this._defaultViews.length>0&&e!==this._defaultUsed){this._defaultUsed=e;for(const i of this._defaultViews)i.enforceState(e)}}static#e=this.\u0275fac=function(i){return new(i||n)};static#t=this.\u0275dir=a.lG2({type:n,selectors:[["","ngSwitch",""]],inputs:{ngSwitch:"ngSwitch"},standalone:!0})}return n})(),$=(()=>{class n{constructor(e,i,r){this.ngSwitch=r,r._addCase(),this._view=new S(e,i)}ngDoCheck(){this._view.enforceState(this.ngSwitch._matchCase(this.ngSwitchCase))}static#e=this.\u0275fac=function(i){return new(i||n)(a.Y36(a.s_b),a.Y36(a.Rgc),a.Y36(R,9))};static#t=this.\u0275dir=a.lG2({type:n,selectors:[["","ngSwitchCase",""]],inputs:{ngSwitchCase:"ngSwitchCase"},standalone:!0})}return n})(),De=(()=>{class n{constructor(e,i,r){this._ngEl=e,this._differs=i,this._renderer=r,this._ngStyle=null,this._differ=null}set ngStyle(e){this._ngStyle=e,!this._differ&&e&&(this._differ=this._differs.find(e).create())}ngDoCheck(){if(this._differ){const e=this._differ.diff(this._ngStyle);e&&this._applyChanges(e)}}_setStyle(e,i){const[r,s]=e.split("."),c=-1===r.indexOf("-")?void 0:a.JOm.DashCase;null!=i?this._renderer.setStyle(this._ngEl.nativeElement,r,s?`${i}${s}`:i,c):this._renderer.removeStyle(this._ngEl.nativeElement,r,c)}_applyChanges(e){e.forEachRemovedItem(i=>this._setStyle(i.key,null)),e.forEachAddedItem(i=>this._setStyle(i.key,i.currentValue)),e.forEachChangedItem(i=>this._setStyle(i.key,i.currentValue))}static#e=this.\u0275fac=function(i){return new(i||n)(a.Y36(a.SBq),a.Y36(a.aQg),a.Y36(a.Qsj))};static#t=this.\u0275dir=a.lG2({type:n,selectors:[["","ngStyle",""]],inputs:{ngStyle:"ngStyle"},standalone:!0})}return n})(),$e=(()=>{class n{constructor(e){this._viewContainerRef=e,this._viewRef=null,this.ngTemplateOutletContext=null,this.ngTemplateOutlet=null,this.ngTemplateOutletInjector=null}ngOnChanges(e){if(e.ngTemplateOutlet||e.ngTemplateOutletInjector){const i=this._viewContainerRef;if(this._viewRef&&i.remove(i.indexOf(this._viewRef)),this.ngTemplateOutlet){const{ngTemplateOutlet:r,ngTemplateOutletContext:s,ngTemplateOutletInjector:c}=this;this._viewRef=i.createEmbeddedView(r,s,c?{injector:c}:void 0)}else this._viewRef=null}else this._viewRef&&e.ngTemplateOutletContext&&this.ngTemplateOutletContext&&(this._viewRef.context=this.ngTemplateOutletContext)}static#e=this.\u0275fac=function(i){return new(i||n)(a.Y36(a.s_b))};static#t=this.\u0275dir=a.lG2({type:n,selectors:[["","ngTemplateOutlet",""]],inputs:{ngTemplateOutletContext:"ngTemplateOutletContext",ngTemplateOutlet:"ngTemplateOutlet",ngTemplateOutletInjector:"ngTemplateOutletInjector"},standalone:!0,features:[a.TTD]})}return n})();function ot(n,t){return new a.vHH(2100,!1)}class Lt{createSubscription(t,e){return(0,a.rg0)(()=>t.subscribe({next:e,error:i=>{throw i}}))}dispose(t){(0,a.rg0)(()=>t.unsubscribe())}}class Pt{createSubscription(t,e){return t.then(e,i=>{throw i})}dispose(t){}}const Mn=new Pt,Wn=new Lt;let Zn=(()=>{class n{constructor(e){this._latestValue=null,this._subscription=null,this._obj=null,this._strategy=null,this._ref=e}ngOnDestroy(){this._subscription&&this._dispose(),this._ref=null}transform(e){return this._obj?e!==this._obj?(this._dispose(),this.transform(e)):this._latestValue:(e&&this._subscribe(e),this._latestValue)}_subscribe(e){this._obj=e,this._strategy=this._selectStrategy(e),this._subscription=this._strategy.createSubscription(e,i=>this._updateLatestValue(e,i))}_selectStrategy(e){if((0,a.QGY)(e))return Mn;if((0,a.F4k)(e))return Wn;throw ot()}_dispose(){this._strategy.dispose(this._subscription),this._latestValue=null,this._subscription=null,this._obj=null}_updateLatestValue(e,i){e===this._obj&&(this._latestValue=i,this._ref.markForCheck())}static#e=this.\u0275fac=function(i){return new(i||n)(a.Y36(a.sBO,16))};static#t=this.\u0275pipe=a.Yjl({name:"async",type:n,pure:!1,standalone:!0})}return n})();const _i=/#/g;let Ha=(()=>{class n{constructor(e){this._localization=e}transform(e,i,r){if(null==e)return"";if("object"!=typeof i||null===i)throw ot();return i[function f(n,t,e,i){let r=`=${n}`;if(t.indexOf(r)>-1||(r=e.getPluralCategory(n,i),t.indexOf(r)>-1))return r;if(t.indexOf("other")>-1)return"other";throw new Error(`No plural message found for value "${n}"`)}(e,Object.keys(i),this._localization,r)].replace(_i,e.toString())}static#e=this.\u0275fac=function(i){return new(i||n)(a.Y36(u,16))};static#t=this.\u0275pipe=a.Yjl({name:"i18nPlural",type:n,pure:!0,standalone:!0})}return n})(),zr=(()=>{class n{transform(e,i,r){if(null==e)return null;if(!this.supports(e))throw ot();return e.slice(i,r)}supports(e){return"string"==typeof e||Array.isArray(e)}static#e=this.\u0275fac=function(i){return new(i||n)};static#t=this.\u0275pipe=a.Yjl({name:"slice",type:n,pure:!1,standalone:!0})}return n})(),Fi=(()=>{class n{static#e=this.\u0275fac=function(i){return new(i||n)};static#t=this.\u0275mod=a.oAB({type:n});static#n=this.\u0275inj=a.cJS({})}return n})();const _a="browser";function wh(n){return n===_a}function ba(n){return"server"===n}let Qr=(()=>{class n{static#e=this.\u0275prov=(0,a.Yz7)({token:n,providedIn:"root",factory:()=>new wa((0,a.LFG)(Ye),window)})}return n})();class wa{constructor(t,e){this.document=t,this.window=e,this.offset=()=>[0,0]}setOffset(t){this.offset=Array.isArray(t)?()=>t:t}getScrollPosition(){return this.supportsScrolling()?[this.window.pageXOffset,this.window.pageYOffset]:[0,0]}scrollToPosition(t){this.supportsScrolling()&&this.window.scrollTo(t[0],t[1])}scrollToAnchor(t){if(!this.supportsScrolling())return;const e=function xa(n,t){const e=n.getElementById(t)||n.getElementsByName(t)[0];if(e)return e;if("function"==typeof n.createTreeWalker&&n.body&&"function"==typeof n.body.attachShadow){const i=n.createTreeWalker(n.body,NodeFilter.SHOW_ELEMENT);let r=i.currentNode;for(;r;){const s=r.shadowRoot;if(s){const c=s.getElementById(t)||s.querySelector(`[name="${t}"]`);if(c)return c}r=i.nextNode()}}return null}(this.document,t);e&&(this.scrollToElement(e),e.focus())}setHistoryScrollRestoration(t){this.supportsScrolling()&&(this.window.history.scrollRestoration=t)}scrollToElement(t){const e=t.getBoundingClientRect(),i=e.left+this.window.pageXOffset,r=e.top+this.window.pageYOffset,s=this.offset();this.window.scrollTo(i-s[0],r-s[1])}supportsScrolling(){try{return!!this.window&&!!this.window.scrollTo&&"pageXOffset"in this.window}catch{return!1}}}class co{}class yp extends xe{constructor(){super(...arguments),this.supportsDOMEvents=!0}}class Qu extends yp{static makeCurrent(){!function Oe(n){Le||(Le=n)}(new Qu)}onAndCancel(t,e,i){return t.addEventListener(e,i),()=>{t.removeEventListener(e,i)}}dispatchEvent(t,e){t.dispatchEvent(e)}remove(t){t.parentNode&&t.parentNode.removeChild(t)}createElement(t,e){return(e=e||this.getDefaultDocument()).createElement(t)}createHtmlDocument(){return document.implementation.createHTMLDocument("fakeTitle")}getDefaultDocument(){return document}isElementNode(t){return t.nodeType===Node.ELEMENT_NODE}isShadowRoot(t){return t instanceof DocumentFragment}getGlobalEventTarget(t,e){return"window"===e?window:"document"===e?t:"body"===e?t.body:null}getBaseHref(t){const e=function Bm(){return qc=qc||document.querySelector("base"),qc?qc.getAttribute("href"):null}();return null==e?null:function H_(n){Ph=Ph||document.createElement("a"),Ph.setAttribute("href",n);const t=Ph.pathname;return"/"===t.charAt(0)?t:`/${t}`}(e)}resetBaseElement(){qc=null}getUserAgent(){return window.navigator.userAgent}getCookie(t){return y(document.cookie,t)}}let Ph,qc=null,Vm=(()=>{class n{build(){return new XMLHttpRequest}static#e=this.\u0275fac=function(i){return new(i||n)};static#t=this.\u0275prov=a.Yz7({token:n,factory:n.\u0275fac})}return n})();const Fh=new a.OlP("EventManagerPlugins");let Hm=(()=>{class n{constructor(e,i){this._zone=i,this._eventNameToPlugin=new Map,e.forEach(r=>{r.manager=this}),this._plugins=e.slice().reverse()}addEventListener(e,i,r){return this._findPluginFor(i).addEventListener(e,i,r)}getZone(){return this._zone}_findPluginFor(e){let i=this._eventNameToPlugin.get(e);if(i)return i;if(i=this._plugins.find(s=>s.supports(e)),!i)throw new a.vHH(5101,!1);return this._eventNameToPlugin.set(e,i),i}static#e=this.\u0275fac=function(i){return new(i||n)(a.LFG(Fh),a.LFG(a.R0b))};static#t=this.\u0275prov=a.Yz7({token:n,factory:n.\u0275fac})}return n})();class Ju{constructor(t){this._doc=t}}const Zc="ng-app-id";let Um=(()=>{class n{constructor(e,i,r,s={}){this.doc=e,this.appId=i,this.nonce=r,this.platformId=s,this.styleRef=new Map,this.hostNodes=new Set,this.styleNodesInDOM=this.collectServerRenderedStyles(),this.platformIsServer=ba(s),this.resetHostNodes()}addStyles(e){for(const i of e)1===this.changeUsageCount(i,1)&&this.onStyleAdded(i)}removeStyles(e){for(const i of e)this.changeUsageCount(i,-1)<=0&&this.onStyleRemoved(i)}ngOnDestroy(){const e=this.styleNodesInDOM;e&&(e.forEach(i=>i.remove()),e.clear());for(const i of this.getAllStyles())this.onStyleRemoved(i);this.resetHostNodes()}addHost(e){this.hostNodes.add(e);for(const i of this.getAllStyles())this.addStyleToHost(e,i)}removeHost(e){this.hostNodes.delete(e)}getAllStyles(){return this.styleRef.keys()}onStyleAdded(e){for(const i of this.hostNodes)this.addStyleToHost(i,e)}onStyleRemoved(e){const i=this.styleRef;i.get(e)?.elements?.forEach(r=>r.remove()),i.delete(e)}collectServerRenderedStyles(){const e=this.doc.head?.querySelectorAll(`style[${Zc}="${this.appId}"]`);if(e?.length){const i=new Map;return e.forEach(r=>{null!=r.textContent&&i.set(r.textContent,r)}),i}return null}changeUsageCount(e,i){const r=this.styleRef;if(r.has(e)){const s=r.get(e);return s.usage+=i,s.usage}return r.set(e,{usage:i,elements:[]}),i}getStyleElement(e,i){const r=this.styleNodesInDOM,s=r?.get(i);if(s?.parentNode===e)return r.delete(i),s.removeAttribute(Zc),s;{const c=this.doc.createElement("style");return this.nonce&&c.setAttribute("nonce",this.nonce),c.textContent=i,this.platformIsServer&&c.setAttribute(Zc,this.appId),c}}addStyleToHost(e,i){const r=this.getStyleElement(e,i);e.appendChild(r);const s=this.styleRef,c=s.get(i)?.elements;c?c.push(r):s.set(i,{elements:[r],usage:1})}resetHostNodes(){const e=this.hostNodes;e.clear(),e.add(this.doc.head)}static#e=this.\u0275fac=function(i){return new(i||n)(a.LFG(Ye),a.LFG(a.AFp),a.LFG(a.Ojb,8),a.LFG(a.Lbi))};static#t=this.\u0275prov=a.Yz7({token:n,factory:n.\u0275fac})}return n})();const vl={svg:"http://www.w3.org/2000/svg",xhtml:"http://www.w3.org/1999/xhtml",xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/",math:"http://www.w3.org/1998/MathML/"},ia=/%COMP%/g,Fo=new a.OlP("RemoveStylesOnCompDestroy",{providedIn:"root",factory:()=>!1});function Mi(n,t){return t.map(e=>e.replace(ia,n))}let Wa=(()=>{class n{constructor(e,i,r,s,c,p,_,C=null){this.eventManager=e,this.sharedStylesHost=i,this.appId=r,this.removeStylesOnCompDestroy=s,this.doc=c,this.platformId=p,this.ngZone=_,this.nonce=C,this.rendererByCompId=new Map,this.platformIsServer=ba(p),this.defaultRenderer=new _l(e,c,_,this.platformIsServer)}createRenderer(e,i){if(!e||!i)return this.defaultRenderer;this.platformIsServer&&i.encapsulation===a.ifc.ShadowDom&&(i={...i,encapsulation:a.ifc.Emulated});const r=this.getOrCreateRenderer(e,i);return r instanceof Gm?r.applyToHost(e):r instanceof ms&&r.applyStyles(),r}getOrCreateRenderer(e,i){const r=this.rendererByCompId;let s=r.get(i.id);if(!s){const c=this.doc,p=this.ngZone,_=this.eventManager,C=this.sharedStylesHost,M=this.removeStylesOnCompDestroy,V=this.platformIsServer;switch(i.encapsulation){case a.ifc.Emulated:s=new Gm(_,C,i,this.appId,M,c,p,V);break;case a.ifc.ShadowDom:return new bl(_,C,e,i,c,p,this.nonce,V);default:s=new ms(_,C,i,M,c,p,V)}r.set(i.id,s)}return s}ngOnDestroy(){this.rendererByCompId.clear()}static#e=this.\u0275fac=function(i){return new(i||n)(a.LFG(Hm),a.LFG(Um),a.LFG(a.AFp),a.LFG(Fo),a.LFG(Ye),a.LFG(a.Lbi),a.LFG(a.R0b),a.LFG(a.Ojb))};static#t=this.\u0275prov=a.Yz7({token:n,factory:n.\u0275fac})}return n})();class _l{constructor(t,e,i,r){this.eventManager=t,this.doc=e,this.ngZone=i,this.platformIsServer=r,this.data=Object.create(null),this.destroyNode=null}destroy(){}createElement(t,e){return e?this.doc.createElementNS(vl[e]||e,t):this.doc.createElement(t)}createComment(t){return this.doc.createComment(t)}createText(t){return this.doc.createTextNode(t)}appendChild(t,e){(Lh(t)?t.content:t).appendChild(e)}insertBefore(t,e,i){t&&(Lh(t)?t.content:t).insertBefore(e,i)}removeChild(t,e){t&&t.removeChild(e)}selectRootElement(t,e){let i="string"==typeof t?this.doc.querySelector(t):t;if(!i)throw new a.vHH(-5104,!1);return e||(i.textContent=""),i}parentNode(t){return t.parentNode}nextSibling(t){return t.nextSibling}setAttribute(t,e,i,r){if(r){e=r+":"+e;const s=vl[r];s?t.setAttributeNS(s,e,i):t.setAttribute(e,i)}else t.setAttribute(e,i)}removeAttribute(t,e,i){if(i){const r=vl[i];r?t.removeAttributeNS(r,e):t.removeAttribute(`${i}:${e}`)}else t.removeAttribute(e)}addClass(t,e){t.classList.add(e)}removeClass(t,e){t.classList.remove(e)}setStyle(t,e,i,r){r&(a.JOm.DashCase|a.JOm.Important)?t.style.setProperty(e,i,r&a.JOm.Important?"important":""):t.style[e]=i}removeStyle(t,e,i){i&a.JOm.DashCase?t.style.removeProperty(e):t.style[e]=""}setProperty(t,e,i){t[e]=i}setValue(t,e){t.nodeValue=e}listen(t,e,i){if("string"==typeof t&&!(t=re().getGlobalEventTarget(this.doc,t)))throw new Error(`Unsupported event target ${t} for event ${e}`);return this.eventManager.addEventListener(t,e,this.decoratePreventDefault(i))}decoratePreventDefault(t){return e=>{if("__ngUnwrap__"===e)return t;!1===(this.platformIsServer?this.ngZone.runGuarded(()=>t(e)):t(e))&&e.preventDefault()}}}function Lh(n){return"TEMPLATE"===n.tagName&&void 0!==n.content}class bl extends _l{constructor(t,e,i,r,s,c,p,_){super(t,s,c,_),this.sharedStylesHost=e,this.hostEl=i,this.shadowRoot=i.attachShadow({mode:"open"}),this.sharedStylesHost.addHost(this.shadowRoot);const C=Mi(r.id,r.styles);for(const M of C){const V=document.createElement("style");p&&V.setAttribute("nonce",p),V.textContent=M,this.shadowRoot.appendChild(V)}}nodeOrShadowRoot(t){return t===this.hostEl?this.shadowRoot:t}appendChild(t,e){return super.appendChild(this.nodeOrShadowRoot(t),e)}insertBefore(t,e,i){return super.insertBefore(this.nodeOrShadowRoot(t),e,i)}removeChild(t,e){return super.removeChild(this.nodeOrShadowRoot(t),e)}parentNode(t){return this.nodeOrShadowRoot(super.parentNode(this.nodeOrShadowRoot(t)))}destroy(){this.sharedStylesHost.removeHost(this.shadowRoot)}}class ms extends _l{constructor(t,e,i,r,s,c,p,_){super(t,s,c,p),this.sharedStylesHost=e,this.removeStylesOnCompDestroy=r,this.styles=_?Mi(_,i.styles):i.styles}applyStyles(){this.sharedStylesHost.addStyles(this.styles)}destroy(){this.removeStylesOnCompDestroy&&this.sharedStylesHost.removeStyles(this.styles)}}class Gm extends ms{constructor(t,e,i,r,s,c,p,_){const C=r+"-"+i.id;super(t,e,i,s,c,p,_,C),this.contentAttr=function bp(n){return"_ngcontent-%COMP%".replace(ia,n)}(C),this.hostAttr=function wp(n){return"_nghost-%COMP%".replace(ia,n)}(C)}applyToHost(t){this.applyStyles(),this.setAttribute(t,this.hostAttr,"")}createElement(t,e){const i=super.createElement(t,e);return super.setAttribute(i,this.contentAttr,""),i}}let rc=(()=>{class n extends Ju{constructor(e){super(e)}supports(e){return!0}addEventListener(e,i,r){return e.addEventListener(i,r,!1),()=>this.removeEventListener(e,i,r)}removeEventListener(e,i,r){return e.removeEventListener(i,r)}static#e=this.\u0275fac=function(i){return new(i||n)(a.LFG(Ye))};static#t=this.\u0275prov=a.Yz7({token:n,factory:n.\u0275fac})}return n})();const Wm=["alt","control","meta","shift"],$s={"\b":"Backspace","\t":"Tab","\x7f":"Delete","\x1b":"Escape",Del:"Delete",Esc:"Escape",Left:"ArrowLeft",Right:"ArrowRight",Up:"ArrowUp",Down:"ArrowDown",Menu:"ContextMenu",Scroll:"ScrollLock",Win:"OS"},$m={alt:n=>n.altKey,control:n=>n.ctrlKey,meta:n=>n.metaKey,shift:n=>n.shiftKey};let Bh=(()=>{class n extends Ju{constructor(e){super(e)}supports(e){return null!=n.parseEventName(e)}addEventListener(e,i,r){const s=n.parseEventName(i),c=n.eventCallback(s.fullKey,r,this.manager.getZone());return this.manager.getZone().runOutsideAngular(()=>re().onAndCancel(e,s.domEventName,c))}static parseEventName(e){const i=e.toLowerCase().split("."),r=i.shift();if(0===i.length||"keydown"!==r&&"keyup"!==r)return null;const s=n._normalizeKey(i.pop());let c="",p=i.indexOf("code");if(p>-1&&(i.splice(p,1),c="code."),Wm.forEach(C=>{const M=i.indexOf(C);M>-1&&(i.splice(M,1),c+=C+".")}),c+=s,0!=i.length||0===s.length)return null;const _={};return _.domEventName=r,_.fullKey=c,_}static matchEventFullKeyCode(e,i){let r=$s[e.key]||e.key,s="";return i.indexOf("code.")>-1&&(r=e.code,s="code."),!(null==r||!r)&&(r=r.toLowerCase()," "===r?r="space":"."===r&&(r="dot"),Wm.forEach(c=>{c!==r&&(0,$m[c])(e)&&(s+=c+".")}),s+=r,s===i)}static eventCallback(e,i,r){return s=>{n.matchEventFullKeyCode(s,e)&&r.runGuarded(()=>i(s))}}static _normalizeKey(e){return"esc"===e?"escape":e}static#e=this.\u0275fac=function(i){return new(i||n)(a.LFG(Ye))};static#t=this.\u0275prov=a.Yz7({token:n,factory:n.\u0275fac})}return n})();const is=(0,a.eFA)(a._c5,"browser",[{provide:a.Lbi,useValue:_a},{provide:a.g9A,useValue:function Nn(){Qu.makeCurrent()},multi:!0},{provide:Ye,useFactory:function Cp(){return(0,a.RDi)(document),document},deps:[]}]),Ep=new a.OlP(""),vs=[{provide:a.rWj,useClass:class Rh{addToWindow(t){a.dqk.getAngularTestability=(i,r=!0)=>{const s=t.findTestabilityInTree(i,r);if(null==s)throw new a.vHH(5103,!1);return s},a.dqk.getAllAngularTestabilities=()=>t.getAllTestabilities(),a.dqk.getAllAngularRootElements=()=>t.getAllRootElements(),a.dqk.frameworkStabilizers||(a.dqk.frameworkStabilizers=[]),a.dqk.frameworkStabilizers.push(i=>{const r=a.dqk.getAllAngularTestabilities();let s=r.length,c=!1;const p=function(_){c=c||_,s--,0==s&&i(c)};r.forEach(_=>{_.whenStable(p)})})}findTestabilityInTree(t,e,i){return null==e?null:t.getTestability(e)??(i?re().isShadowRoot(e)?this.findTestabilityInTree(t,e.host,!0):this.findTestabilityInTree(t,e.parentElement,!0):null)}},deps:[]},{provide:a.lri,useClass:a.dDg,deps:[a.R0b,a.eoX,a.rWj]},{provide:a.dDg,useClass:a.dDg,deps:[a.R0b,a.eoX,a.rWj]}],ra=[{provide:a.zSh,useValue:"root"},{provide:a.qLn,useFactory:function xp(){return new a.qLn},deps:[]},{provide:Fh,useClass:rc,multi:!0,deps:[Ye,a.R0b,a.Lbi]},{provide:Fh,useClass:Bh,multi:!0,deps:[Ye]},Wa,Um,Hm,{provide:a.FYo,useExisting:Wa},{provide:co,useClass:Vm,deps:[]},[]];let nd=(()=>{class n{constructor(e){}static withServerTransition(e){return{ngModule:n,providers:[{provide:a.AFp,useValue:e.appId}]}}static#e=this.\u0275fac=function(i){return new(i||n)(a.LFG(Ep,12))};static#t=this.\u0275mod=a.oAB({type:n});static#n=this.\u0275inj=a.cJS({providers:[...ra,...vs],imports:[Fi,a.hGG]})}return n})(),wt=(()=>{class n{constructor(e){this._doc=e}getTitle(){return this._doc.title}setTitle(e){this._doc.title=e||""}static#e=this.\u0275fac=function(i){return new(i||n)(a.LFG(Ye))};static#t=this.\u0275prov=a.Yz7({token:n,factory:function(i){let r=null;return r=i?new i:function Vh(){return new wt((0,a.LFG)(Ye))}(),r},providedIn:"root"})}return n})();typeof window<"u"&&window;let sa=(()=>{class n{static#e=this.\u0275fac=function(i){return new(i||n)};static#t=this.\u0275prov=a.Yz7({token:n,factory:function(i){let r=null;return r=i?new(i||n):a.LFG(jh),r},providedIn:"root"})}return n})(),jh=(()=>{class n extends sa{constructor(e){super(),this._doc=e}sanitize(e,i){if(null==i)return null;switch(e){case a.q3G.NONE:return i;case a.q3G.HTML:return(0,a.qzn)(i,"HTML")?(0,a.z3N)(i):(0,a.EiD)(this._doc,String(i)).toString();case a.q3G.STYLE:return(0,a.qzn)(i,"Style")?(0,a.z3N)(i):i;case a.q3G.SCRIPT:if((0,a.qzn)(i,"Script"))return(0,a.z3N)(i);throw new a.vHH(5200,!1);case a.q3G.URL:return(0,a.qzn)(i,"URL")?(0,a.z3N)(i):(0,a.mCW)(String(i));case a.q3G.RESOURCE_URL:if((0,a.qzn)(i,"ResourceURL"))return(0,a.z3N)(i);throw new a.vHH(5201,!1);default:throw new a.vHH(5202,!1)}}bypassSecurityTrustHtml(e){return(0,a.JVY)(e)}bypassSecurityTrustStyle(e){return(0,a.L6k)(e)}bypassSecurityTrustScript(e){return(0,a.eBb)(e)}bypassSecurityTrustUrl(e){return(0,a.LAX)(e)}bypassSecurityTrustResourceUrl(e){return(0,a.pB0)(e)}static#e=this.\u0275fac=function(i){return new(i||n)(a.LFG(Ye))};static#t=this.\u0275prov=a.Yz7({token:n,factory:function(i){let r=null;return r=i?new i:function zh(n){return new jh(n.get(Ye))}(a.LFG(a.zs3)),r},providedIn:"root"})}return n})();var Ki=ce(6304),Pn=ce(8645),hn=ce(2096),ar=ce(5592),bi=ce(2459),ys=ce(3019),Cl=ce(3093),Bi=ce(4664),Bt=ce(7398),Ea=ce(4552);class Gi extends Pn.x{constructor(t=1/0,e=1/0,i=Ea.l){super(),this._bufferSize=t,this._windowTime=e,this._timestampProvider=i,this._buffer=[],this._infiniteTimeWindow=!0,this._infiniteTimeWindow=e===1/0,this._bufferSize=Math.max(1,t),this._windowTime=Math.max(1,e)}next(t){const{isStopped:e,_buffer:i,_infiniteTimeWindow:r,_timestampProvider:s,_windowTime:c}=this;e||(i.push(t),!r&&i.push(s.now()+c)),this._trimBuffer(),super.next(t)}_subscribe(t){this._throwIfClosed(),this._trimBuffer();const e=this._innerSubscribe(t),{_infiniteTimeWindow:i,_buffer:r}=this,s=r.slice();for(let c=0;c<s.length&&!t.closed;c+=i?1:2)t.next(s[c]);return this._checkFinalizedStatuses(t),e}_trimBuffer(){const{_bufferSize:t,_timestampProvider:e,_buffer:i,_infiniteTimeWindow:r}=this,s=(r?1:2)*t;if(t<1/0&&s<i.length&&i.splice(0,i.length-s),!r){const c=e.now();let p=0;for(let _=1;_<i.length&&i[_]<=c;_+=2)p=_;p&&i.splice(0,p+1)}}}var ss=ce(3020);function Ya(n,t,e){let i,r=!1;return n&&"object"==typeof n?({bufferSize:i=1/0,windowTime:t=1/0,refCount:r=!1,scheduler:e}=n):i=n??1/0,(0,ss.B)({connector:()=>new Gi(i,t,e),resetOnError:!0,resetOnComplete:!1,resetOnRefCountZero:r})}const Kc=(0,ce(2306).d)(n=>function(){n(this),this.name="EmptyError",this.message="no elements in sequence"});var Or=ce(9360),lr=ce(8251);function Kn(n,t){return(0,Or.e)((e,i)=>{let r=0;e.subscribe((0,lr.x)(i,s=>n.call(t,s,r++)&&i.next(s)))})}var Gr=ce(6232);function wi(n){return n<=0?()=>Gr.E:(0,Or.e)((t,e)=>{let i=0;t.subscribe((0,lr.x)(e,r=>{++i<=n&&(e.next(r),n<=i&&e.complete())}))})}function Da(n){return(0,Or.e)((t,e)=>{let i=!1;t.subscribe((0,lr.x)(e,r=>{i=!0,e.next(r)},()=>{i||e.next(n),e.complete()}))})}function oc(n=ud){return(0,Or.e)((t,e)=>{let i=!1;t.subscribe((0,lr.x)(e,r=>{i=!0,e.next(r)},()=>i?e.complete():e.error(n())))})}function ud(){return new Kc}var Ta=ce(2737);function qa(n,t){const e=arguments.length>=2;return i=>i.pipe(n?Kn((r,s)=>n(r,s,i)):Ta.y,wi(1),e?Da(t):oc(()=>new Kc))}var Ps=ce(4674);function Qc(n,t){return(0,Ps.m)(t)?(0,Bi.w)(()=>n,t):(0,Bi.w)(()=>n)}var oa=ce(5137),Qn=ce(2793);ce(4097);var it=ce(5861),Qi=ce(4303),os=ce(4537),ue=ce(9058),As=ce(7879);const aa=new Map,cc={activated:!1,tokenObservers:[]},hd={initialized:!1,enabled:!1};function Wi(n){return aa.get(n)||Object.assign({},cc)}function El(){return hd}const fd="https://content-firebaseappcheck.googleapis.com/v1",Dl="exchangeDebugToken",Pp={OFFSET_DURATION:3e5,RETRIAL_MIN_WAIT:3e4,RETRIAL_MAX_WAIT:96e4};class $h{constructor(t,e,i,r,s){if(this.operation=t,this.retryPolicy=e,this.getWaitDuration=i,this.lowerBound=r,this.upperBound=s,this.pending=null,this.nextErrorWaitInterval=r,r>s)throw new Error("Proactive refresh lower bound greater than upper bound!")}start(){this.nextErrorWaitInterval=this.lowerBound,this.process(!0).catch(()=>{})}stop(){this.pending&&(this.pending.reject("cancelled"),this.pending=null)}isRunning(){return!!this.pending}process(t){var e=this;return(0,it.Z)(function*(){e.stop();try{e.pending=new ue.BH,yield function nu(n){return new Promise(t=>{setTimeout(t,n)})}(e.getNextRun(t)),e.pending.resolve(),yield e.pending.promise,e.pending=new ue.BH,yield e.operation(),e.pending.resolve(),yield e.pending.promise,e.process(!0).catch(()=>{})}catch(i){e.retryPolicy(i)?e.process(!1).catch(()=>{}):e.stop()}})()}getNextRun(t){if(t)return this.nextErrorWaitInterval=this.lowerBound,this.getWaitDuration();{const e=this.nextErrorWaitInterval;return this.nextErrorWaitInterval*=2,this.nextErrorWaitInterval>this.upperBound&&(this.nextErrorWaitInterval=this.upperBound),e}}}const ii=new ue.LL("appCheck","AppCheck",{"already-initialized":"You have already called initializeAppCheck() for FirebaseApp {$appName} with different options. To avoid this error, call initializeAppCheck() with the same options as when it was originally called. This will return the already initialized instance.","use-before-activation":"App Check is being used before initializeAppCheck() is called for FirebaseApp {$appName}. Call initializeAppCheck() before instantiating other Firebase services.","fetch-network-error":"Fetch failed to connect to a network. Check Internet connection. Original error: {$originalErrorMessage}.","fetch-parse-error":"Fetch client could not parse response. Original error: {$originalErrorMessage}.","fetch-status-error":"Fetch server returned an HTTP error status. HTTP status: {$httpStatus}.","storage-open":"Error thrown when opening storage. Original error: {$originalErrorMessage}.","storage-get":"Error thrown when reading from storage. Original error: {$originalErrorMessage}.","storage-set":"Error thrown when writing to storage. Original error: {$originalErrorMessage}.","recaptcha-error":"ReCAPTCHA error.",throttled:"Requests throttled due to {$httpStatus} error. Attempts allowed again after {$time}"});function la(n){if(!Wi(n).activated)throw ii.create("use-before-activation",{appName:n.name})}function uc(n,t){return ru.apply(this,arguments)}function ru(){return(ru=(0,it.Z)(function*({url:n,body:t},e){const i={"Content-Type":"application/json"},r=e.getImmediate({optional:!0});if(r){const V=yield r.getHeartbeatsHeader();V&&(i["X-Firebase-Client"]=V)}const s={method:"POST",body:JSON.stringify(t),headers:i};let c,p;try{c=yield fetch(n,s)}catch(V){throw ii.create("fetch-network-error",{originalErrorMessage:V?.message})}if(200!==c.status)throw ii.create("fetch-status-error",{httpStatus:c.status});try{p=yield c.json()}catch(V){throw ii.create("fetch-parse-error",{originalErrorMessage:V?.message})}const _=p.ttl.match(/^([\d.]+)(s)$/);if(!_||!_[2]||isNaN(Number(_[1])))throw ii.create("fetch-parse-error",{originalErrorMessage:`ttl field (timeToLive) is not in standard Protobuf Duration format: ${p.ttl}`});const C=1e3*Number(_[1]),M=Date.now();return{token:p.token,expireTimeMillis:M+C,issuedAtTimeMillis:M}})).apply(this,arguments)}function H(n,t){const{projectId:e,appId:i,apiKey:r}=n.options;return{url:`${fd}/projects/${e}/apps/${i}:${Dl}?key=${r}`,body:{debug_token:t}}}const j="firebase-app-check-database",ee=1,pe="firebase-app-check-store";let Ve=null;function Wr(){return(Wr=(0,it.Z)(function*(n,t){const i=(yield function lt(){return Ve||(Ve=new Promise((n,t)=>{try{const e=indexedDB.open(j,ee);e.onsuccess=i=>{n(i.target.result)},e.onerror=i=>{var r;t(ii.create("storage-open",{originalErrorMessage:null===(r=i.target.error)||void 0===r?void 0:r.message}))},e.onupgradeneeded=i=>{0===i.oldVersion&&i.target.result.createObjectStore(pe,{keyPath:"compositeKey"})}}catch(e){t(ii.create("storage-open",{originalErrorMessage:e?.message}))}}),Ve)}()).transaction(pe,"readwrite"),s=i.objectStore(pe).put({compositeKey:n,value:t});return new Promise((c,p)=>{s.onsuccess=_=>{c()},i.onerror=_=>{var C;p(ii.create("storage-set",{originalErrorMessage:null===(C=_.target.error)||void 0===C?void 0:C.message}))}})})).apply(this,arguments)}const Bo=new As.Yd("@firebase/app-check");function Fs(n,t){return(0,ue.hl)()?function Gt(n,t){return function Hn(n,t){return Wr.apply(this,arguments)}(function yr(n){return`${n.options.appId}-${n.name}`}(n),t)}(n,t).catch(e=>{Bo.warn(`Failed to write token to IndexedDB. Error: ${e}`)}):Promise.resolve()}function qh(){return El().enabled}function Sl(){return Lp.apply(this,arguments)}function Lp(){return(Lp=(0,it.Z)(function*(){const n=El();if(n.enabled&&n.token)return n.token.promise;throw Error("\n            Can't get debug token in production mode.\n        ")})).apply(this,arguments)}const q_={error:"UNKNOWN_ERROR"};function Ox(n){return ue.US.encodeString(JSON.stringify(n),!1)}function qs(n){return Zh.apply(this,arguments)}function Zh(){return(Zh=(0,it.Z)(function*(n,t=!1){const e=n.app;la(e);const i=Wi(e);let s,r=i.token;if(r&&!pd(r)&&(i.token=void 0,r=void 0),!r){const _=yield i.cachedTokenPromise;_&&(pd(_)?r=_:yield Fs(e,void 0))}if(!t&&r&&pd(r))return{token:r.token};let p,c=!1;if(qh()){i.exchangeTokenPromise||(i.exchangeTokenPromise=uc(H(e,yield Sl()),n.heartbeatServiceProvider).finally(()=>{i.exchangeTokenPromise=void 0}),c=!0);const _=yield i.exchangeTokenPromise;return yield Fs(e,_),i.token=_,{token:_.token}}try{i.exchangeTokenPromise||(i.exchangeTokenPromise=i.provider.getToken().finally(()=>{i.exchangeTokenPromise=void 0}),c=!0),r=yield Wi(e).exchangeTokenPromise}catch(_){"appCheck/throttled"===_.code?Bo.warn(_.message):Bo.error(_),s=_}return r?s?p=pd(r)?{token:r.token,internalError:s}:K_(s):(p={token:r.token},i.token=r,yield Fs(e,r)):p=K_(s),c&&function fc(n,t){const e=Wi(n).tokenObservers;for(const i of e)try{"EXTERNAL"===i.type&&null!=t.error?i.error(t.error):i.next(t)}catch{}}(e,p),p})).apply(this,arguments)}function ou(n){return Z_.apply(this,arguments)}function Z_(){return(Z_=(0,it.Z)(function*(n){const t=n.app;la(t);const{provider:e}=Wi(t);if(qh()){const i=yield Sl(),{token:r}=yield uc(H(t,i),n.heartbeatServiceProvider);return{token:r}}{const{token:i}=yield e.getToken();return{token:i}}})).apply(this,arguments)}function Vp(n,t){const e=Wi(n),i=e.tokenObservers.filter(r=>r.next!==t);0===i.length&&e.tokenRefresher&&e.tokenRefresher.isRunning()&&e.tokenRefresher.stop(),e.tokenObservers=i}function X_(n){const{app:t}=n,e=Wi(t);let i=e.tokenRefresher;i||(i=function pS(n){const{app:t}=n;return new $h((0,it.Z)(function*(){let i;if(i=Wi(t).token?yield qs(n,!0):yield qs(n),i.error)throw i.error;if(i.internalError)throw i.internalError}),()=>!0,()=>{const e=Wi(t);if(e.token){let i=e.token.issuedAtTimeMillis+.5*(e.token.expireTimeMillis-e.token.issuedAtTimeMillis)+3e5;return i=Math.min(i,e.token.expireTimeMillis-3e5),Math.max(0,i-Date.now())}return 0},Pp.RETRIAL_MIN_WAIT,Pp.RETRIAL_MAX_WAIT)}(n),e.tokenRefresher=i),!i.isRunning()&&e.isTokenAutoRefreshEnabled&&i.start()}function pd(n){return n.expireTimeMillis-Date.now()>0}function K_(n){return{token:Ox(q_),error:n}}class Xh{constructor(t,e){this.app=t,this.heartbeatServiceProvider=e}_delete(){const{tokenObservers:t}=Wi(this.app);for(const e of t)Vp(this.app,e.next);return Promise.resolve()}}const Lx="app-check-internal";!function Bx(){(0,Qi._registerComponent)(new os.wA("app-check",n=>function Hp(n,t){return new Xh(n,t)}(n.getProvider("app").getImmediate(),n.getProvider("heartbeat")),"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((n,t,e)=>{n.getProvider(Lx).initialize()})),(0,Qi._registerComponent)(new os.wA(Lx,n=>function ev(n){return{getToken:t=>qs(n,t),getLimitedUseToken:()=>ou(n),addTokenListener:t=>function Bp(n,t,e,i){const{app:r}=n,s=Wi(r);if(s.tokenObservers=[...s.tokenObservers,{next:e,error:i,type:t}],s.token&&pd(s.token)){const p=s.token;Promise.resolve().then(()=>{e({token:p.token}),X_(n)}).catch(()=>{})}s.cachedTokenPromise.then(()=>X_(n))}(n,"INTERNAL",t),removeTokenListener:t=>Vp(n.app,t)}}(n.getProvider("app-check").getImmediate()),"PUBLIC").setInstantiationMode("EXPLICIT")),(0,Qi.registerVersion)("@firebase/app-check","0.8.0")}();class Jh{constructor(){return(0,Qn.vb)("app-check")}}typeof window<"u"&&window;var lu=ce(120);const xd=new a.OlP("angularfire2.auth.use-emulator"),cu=new a.OlP("angularfire2.auth.settings"),cv=new a.OlP("angularfire2.auth.tenant-id"),Xa=new a.OlP("angularfire2.auth.langugage-code"),Gp=new a.OlP("angularfire2.auth.use-device-language"),Wp=new a.OlP("angularfire.auth.persistence"),nf=(n,t,e,i,r,s,c,p)=>(0,Ki.cc)(`${n.name}.auth`,"AngularFireAuth",n.name,()=>{const _=t.runOutsideAngular(()=>n.auth());if(e&&_.useEmulator(...e),i&&(_.tenantId=i),_.languageCode=r,s&&_.useDeviceLanguage(),c)for(const[C,M]of Object.entries(c))_.settings[C]=M;return p&&_.setPersistence(p),_},[e,i,r,s,c,p]);let Cd=(()=>{class n{constructor(e,i,r,s,c,p,_,C,M,V,W,K){const oe=new Pn.x,ae=(0,hn.of)(void 0).pipe((0,Cl.Q)(c.outsideAngular),(0,Bi.w)(()=>s.runOutsideAngular(()=>Promise.resolve().then(ce.bind(ce,8977)))),(0,Bt.U)(()=>(0,Ki.on)(e,s,i)),(0,Bt.U)(fe=>nf(fe,s,p,C,M,V,_,W)),Ya({bufferSize:1,refCount:!1}));if(ba(r))this.authState=this.user=this.idToken=this.idTokenResult=this.credential=(0,hn.of)(null);else{ae.pipe(qa()).subscribe();const Pe=ae.pipe((0,Bi.w)(ze=>ze.getRedirectResult().then(ut=>ut,()=>null)),Qn.iC,Ya({bufferSize:1,refCount:!1})),Be=ae.pipe((0,Bi.w)(ze=>new ar.y(ut=>({unsubscribe:s.runOutsideAngular(()=>ze.onAuthStateChanged(bt=>ut.next(bt),bt=>ut.error(bt),()=>ut.complete()))})))),Re=ae.pipe((0,Bi.w)(ze=>new ar.y(ut=>({unsubscribe:s.runOutsideAngular(()=>ze.onIdTokenChanged(bt=>ut.next(bt),bt=>ut.error(bt),()=>ut.complete()))}))));this.authState=Pe.pipe(Qc(Be),(0,oa.R)(c.outsideAngular),(0,Cl.Q)(c.insideAngular)),this.user=Pe.pipe(Qc(Re),(0,oa.R)(c.outsideAngular),(0,Cl.Q)(c.insideAngular)),this.idToken=this.user.pipe((0,Bi.w)(ze=>ze?(0,bi.D)(ze.getIdToken()):(0,hn.of)(null))),this.idTokenResult=this.user.pipe((0,Bi.w)(ze=>ze?(0,bi.D)(ze.getIdTokenResult()):(0,hn.of)(null))),this.credential=(0,ys.T)(Pe,oe,this.authState.pipe(Kn(ze=>!ze))).pipe((0,Bt.U)(ze=>ze?.user?ze:null),(0,oa.R)(c.outsideAngular),(0,Cl.Q)(c.insideAngular))}return(0,Ki.pX)(this,ae,s,{spy:{apply:(fe,Pe,Be)=>{(fe.startsWith("signIn")||fe.startsWith("createUser"))&&Be.then(Re=>oe.next(Re))}}})}}return n.\u0275fac=function(e){return new(e||n)(a.LFG(Ki.Dh),a.LFG(Ki.xv,8),a.LFG(a.Lbi),a.LFG(a.R0b),a.LFG(Qn.HU),a.LFG(xd,8),a.LFG(cu,8),a.LFG(cv,8),a.LFG(Xa,8),a.LFG(Gp,8),a.LFG(Wp,8),a.LFG(Jh,8))},n.\u0275prov=a.Yz7({token:n,factory:n.\u0275fac,providedIn:"any"}),n})(),sb=(()=>{class n{constructor(){lu.Z.registerVersion("angularfire",Qn.q4.full,"auth-compat")}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=a.oAB({type:n}),n.\u0275inj=a.cJS({providers:[Cd]}),n})();var _s=ce(6321);function rf(n,t=_s.z){return(0,Or.e)((e,i)=>{let r=null,s=null,c=null;const p=()=>{if(r){r.unsubscribe(),r=null;const C=s;s=null,i.next(C)}};function _(){const C=c+n,M=t.now();if(M<C)return r=this.schedule(void 0,C-M),void i.add(r);p()}e.subscribe((0,lr.x)(i,C=>{s=C,c=t.now(),r||(r=t.schedule(_,n),i.add(r))},()=>{p(),i.complete()},void 0,()=>{s=r=null}))})}class uv{constructor(t,e){this._delegate=t,this.firebase=e,(0,Qi._addComponent)(t,new os.wA("app-compat",()=>this,"PUBLIC")),this.container=t.container}get automaticDataCollectionEnabled(){return this._delegate.automaticDataCollectionEnabled}set automaticDataCollectionEnabled(t){this._delegate.automaticDataCollectionEnabled=t}get name(){return this._delegate.name}get options(){return this._delegate.options}delete(){return new Promise(t=>{this._delegate.checkDestroyed(),t()}).then(()=>(this.firebase.INTERNAL.removeApp(this.name),(0,Qi.deleteApp)(this._delegate)))}_getService(t,e=Qi._DEFAULT_ENTRY_NAME){var i;this._delegate.checkDestroyed();const r=this._delegate.container.getProvider(t);return!r.isInitialized()&&"EXPLICIT"===(null===(i=r.getComponent())||void 0===i?void 0:i.instantiationMode)&&r.initialize(),r.getImmediate({identifier:e})}_removeServiceInstance(t,e=Qi._DEFAULT_ENTRY_NAME){this._delegate.container.getProvider(t).clearInstance(e)}_addComponent(t){(0,Qi._addComponent)(this._delegate,t)}_addOrOverwriteComponent(t){(0,Qi._addOrOverwriteComponent)(this._delegate,t)}toJSON(){return{name:this.name,automaticDataCollectionEnabled:this.automaticDataCollectionEnabled,options:this.options}}}const br=new ue.LL("app-compat","Firebase",{"no-app":"No Firebase App '{$appName}' has been created - call Firebase App.initializeApp()","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance."}),Yp=function $p(){const n=function uu(n){const t={},e={__esModule:!0,initializeApp:function s(C,M={}){const V=Qi.initializeApp(C,M);if((0,ue.r3)(t,V.name))return t[V.name];const W=new n(V,e);return t[V.name]=W,W},app:r,registerVersion:Qi.registerVersion,setLogLevel:Qi.setLogLevel,onLog:Qi.onLog,apps:null,SDK_VERSION:Qi.SDK_VERSION,INTERNAL:{registerComponent:function p(C){const M=C.name,V=M.replace("-compat","");if(Qi._registerComponent(C)&&"PUBLIC"===C.type){const W=(K=r())=>{if("function"!=typeof K[V])throw br.create("invalid-app-argument",{appName:M});return K[V]()};void 0!==C.serviceProps&&(0,ue.ZB)(W,C.serviceProps),e[V]=W,n.prototype[V]=function(...K){return this._getService.bind(this,M).apply(this,C.multipleInstances?K:[])}}return"PUBLIC"===C.type?e[V]:null},removeApp:function i(C){delete t[C]},useAsService:function _(C,M){return"serverAuth"===M?null:M},modularAPIs:Qi}};function r(C){if(!(0,ue.r3)(t,C=C||Qi._DEFAULT_ENTRY_NAME))throw br.create("no-app",{appName:C});return t[C]}return e.default=e,Object.defineProperty(e,"apps",{get:function c(){return Object.keys(t).map(C=>t[C])}}),r.App=n,e}(uv);return n.INTERNAL=Object.assign(Object.assign({},n.INTERNAL),{createFirebaseNamespace:$p,extendNamespace:function t(e){(0,ue.ZB)(n,e)},createSubscribe:ue.ne,ErrorFactory:ue.LL,deepExtend:ue.ZB}),n}(),Ls=new As.Yd("@firebase/app-compat");if((0,ue.jU)()&&void 0!==self.firebase){Ls.warn("\n    Warning: Firebase is already defined in the global scope. Please make sure\n    Firebase library is only loaded once.\n  ");const n=self.firebase.SDK_VERSION;n&&n.indexOf("LITE")>=0&&Ls.warn("\n    Warning: You are trying to load Firebase while using Firebase Performance standalone script.\n    You should load Firebase Performance with this instance of Firebase to avoid loading duplicate code.\n    ")}const jx=Yp;!function ab(n){(0,Qi.registerVersion)("@firebase/app-compat","0.2.19",n)}();const dv="firebasestorage.googleapis.com",N="storageBucket";class q extends ue.ZR{constructor(t,e,i=0){super(Te(t),`Firebase Storage: ${e} (${Te(t)})`),this.status_=i,this.customData={serverResponse:null},this._baseMessage=this.message,Object.setPrototypeOf(this,q.prototype)}get status(){return this.status_}set status(t){this.status_=t}_codeEquals(t){return Te(t)===this.code}get serverResponse(){return this.customData.serverResponse}set serverResponse(t){this.customData.serverResponse=t,this.message=this.customData.serverResponse?`${this._baseMessage}\n${this.customData.serverResponse}`:this._baseMessage}}var ne=function(n){return n.UNKNOWN="unknown",n.OBJECT_NOT_FOUND="object-not-found",n.BUCKET_NOT_FOUND="bucket-not-found",n.PROJECT_NOT_FOUND="project-not-found",n.QUOTA_EXCEEDED="quota-exceeded",n.UNAUTHENTICATED="unauthenticated",n.UNAUTHORIZED="unauthorized",n.UNAUTHORIZED_APP="unauthorized-app",n.RETRY_LIMIT_EXCEEDED="retry-limit-exceeded",n.INVALID_CHECKSUM="invalid-checksum",n.CANCELED="canceled",n.INVALID_EVENT_NAME="invalid-event-name",n.INVALID_URL="invalid-url",n.INVALID_DEFAULT_BUCKET="invalid-default-bucket",n.NO_DEFAULT_BUCKET="no-default-bucket",n.CANNOT_SLICE_BLOB="cannot-slice-blob",n.SERVER_FILE_WRONG_SIZE="server-file-wrong-size",n.NO_DOWNLOAD_URL="no-download-url",n.INVALID_ARGUMENT="invalid-argument",n.INVALID_ARGUMENT_COUNT="invalid-argument-count",n.APP_DELETED="app-deleted",n.INVALID_ROOT_OPERATION="invalid-root-operation",n.INVALID_FORMAT="invalid-format",n.INTERNAL_ERROR="internal-error",n.UNSUPPORTED_ENVIRONMENT="unsupported-environment",n}(ne||{});function Te(n){return"storage/"+n}function je(){return new q(ne.UNKNOWN,"An unknown error occurred, please check the error payload for server response.")}function Uo(){return new q(ne.RETRY_LIMIT_EXCEEDED,"Max retry time for operation exceeded, please try again.")}function Ed(){return new q(ne.CANCELED,"User canceled the upload/download.")}function sf(){return new q(ne.CANNOT_SLICE_BLOB,"Cannot slice blob for upload. Please retry the upload.")}function pc(n){return new q(ne.INVALID_ARGUMENT,n)}function fv(){return new q(ne.APP_DELETED,"The Firebase app was deleted.")}function ub(n){return new q(ne.INVALID_ROOT_OPERATION,"The operation '"+n+"' cannot be performed on a root reference, create a non-root reference using child, such as .child('file.png').")}function fu(n,t){return new q(ne.INVALID_FORMAT,"String does not match format '"+n+"': "+t)}function Sd(n){throw new q(ne.INTERNAL_ERROR,"Internal error: "+n)}class Bs{constructor(t,e){this.bucket=t,this.path_=e}get path(){return this.path_}get isRoot(){return 0===this.path.length}fullServerUrl(){const t=encodeURIComponent;return"/b/"+t(this.bucket)+"/o/"+t(this.path)}bucketOnlyServerUrl(){return"/b/"+encodeURIComponent(this.bucket)+"/o"}static makeFromBucketSpec(t,e){let i;try{i=Bs.makeFromUrl(t,e)}catch{return new Bs(t,"")}if(""===i.path)return i;throw function Dd(n){return new q(ne.INVALID_DEFAULT_BUCKET,"Invalid default bucket '"+n+"'.")}(t)}static makeFromUrl(t,e){let i=null;const r="([A-Za-z0-9.\\-_]+)",p=new RegExp("^gs://"+r+"(/(.*))?$","i");function C(ze){ze.path_=decodeURIComponent(ze.path)}const V=e.replace(/[.]/g,"\\."),Re=[{regex:p,indices:{bucket:1,path:3},postModify:function s(ze){"/"===ze.path.charAt(ze.path.length-1)&&(ze.path_=ze.path_.slice(0,-1))}},{regex:new RegExp(`^https?://${V}/v[A-Za-z0-9_]+/b/${r}/o(/([^?#]*).*)?$`,"i"),indices:{bucket:1,path:3},postModify:C},{regex:new RegExp(`^https?://${e===dv?"(?:storage.googleapis.com|storage.cloud.google.com)":e}/${r}/([^?#]*)`,"i"),indices:{bucket:1,path:2},postModify:C}];for(let ze=0;ze<Re.length;ze++){const ut=Re[ze],bt=ut.regex.exec(t);if(bt){let Vt=bt[ut.indices.path];Vt||(Vt=""),i=new Bs(bt[ut.indices.bucket],Vt),ut.postModify(i);break}}if(null==i)throw function hu(n){return new q(ne.INVALID_URL,"Invalid URL '"+n+"'.")}(t);return i}}class Gx{constructor(t){this.promise_=Promise.reject(t)}getPromise(){return this.promise_}cancel(t=!1){}}function gc(n){return"string"==typeof n||n instanceof String}function Yx(n){return db()&&n instanceof Blob}function db(){return typeof Blob<"u"&&!(0,ue.UG)()}function qx(n,t,e,i){if(i<t)throw pc(`Invalid value for '${n}'. Expected ${t} or greater.`);if(i>e)throw pc(`Invalid value for '${n}'. Expected ${e} or less.`)}function Ad(n,t,e){let i=t;return null==e&&(i=`https://${t}`),`${e}://${i}/v0${n}`}function pv(n){const t=encodeURIComponent;let e="?";for(const i in n)n.hasOwnProperty(i)&&(e=e+(t(i)+"=")+t(n[i])+"&");return e=e.slice(0,-1),e}var qp=function(n){return n[n.NO_ERROR=0]="NO_ERROR",n[n.NETWORK_ERROR=1]="NETWORK_ERROR",n[n.ABORT=2]="ABORT",n}(qp||{});function Zx(n,t){const e=n>=500&&n<600,r=-1!==[408,429].indexOf(n),s=-1!==t.indexOf(n);return e||r||s}class _S{constructor(t,e,i,r,s,c,p,_,C,M,V,W=!0){this.url_=t,this.method_=e,this.headers_=i,this.body_=r,this.successCodes_=s,this.additionalRetryCodes_=c,this.callback_=p,this.errorCallback_=_,this.timeout_=C,this.progressCallback_=M,this.connectionFactory_=V,this.retry=W,this.pendingConnection_=null,this.backoffId_=null,this.canceled_=!1,this.appDelete_=!1,this.promise_=new Promise((K,oe)=>{this.resolve_=K,this.reject_=oe,this.start_()})}start_(){const e=(i,r)=>{const s=this.resolve_,c=this.reject_,p=r.connection;if(r.wasSuccessCode)try{const _=this.callback_(p,p.getResponse());!function tP(n){return void 0!==n}(_)?s():s(_)}catch(_){c(_)}else if(null!==p){const _=je();_.serverResponse=p.getErrorText(),c(this.errorCallback_?this.errorCallback_(p,_):_)}else c(r.canceled?this.appDelete_?fv():Ed():Uo())};this.canceled_?e(0,new gv(!1,null,!0)):this.backoffId_=function Wx(n,t,e){let i=1,r=null,s=null,c=!1,p=0;function _(){return 2===p}let C=!1;function M(...fe){C||(C=!0,t.apply(null,fe))}function V(fe){r=setTimeout(()=>{r=null,n(K,_())},fe)}function W(){s&&clearTimeout(s)}function K(fe,...Pe){if(C)return void W();if(fe)return W(),void M.call(null,fe,...Pe);if(_()||c)return W(),void M.call(null,fe,...Pe);let Re;i<64&&(i*=2),1===p?(p=2,Re=0):Re=1e3*(i+Math.random()),V(Re)}let oe=!1;function ae(fe){oe||(oe=!0,W(),!C&&(null!==r?(fe||(p=2),clearTimeout(r),V(0)):fe||(p=1)))}return V(0),s=setTimeout(()=>{c=!0,ae(!0)},e),ae}((i,r)=>{if(r)return void i(!1,new gv(!1,null,!0));const s=this.connectionFactory_();this.pendingConnection_=s;const c=p=>{null!==this.progressCallback_&&this.progressCallback_(p.loaded,p.lengthComputable?p.total:-1)};null!==this.progressCallback_&&s.addUploadProgressListener(c),s.send(this.url_,this.method_,this.body_,this.headers_).then(()=>{null!==this.progressCallback_&&s.removeUploadProgressListener(c),this.pendingConnection_=null;const p=s.getErrorCode()===qp.NO_ERROR,_=s.getStatus();if(!p||Zx(_,this.additionalRetryCodes_)&&this.retry){const M=s.getErrorCode()===qp.ABORT;return void i(!1,new gv(!1,null,M))}const C=-1!==this.successCodes_.indexOf(_);i(!0,new gv(C,s))})},e,this.timeout_)}getPromise(){return this.promise_}cancel(t){this.canceled_=!0,this.appDelete_=t||!1,null!==this.backoffId_&&function eP(n){n(!1)}(this.backoffId_),null!==this.pendingConnection_&&this.pendingConnection_.abort()}}class gv{constructor(t,e,i){this.wasSuccessCode=t,this.connection=e,this.canceled=!!i}}function fb(...n){const t=function Kx(){return typeof BlobBuilder<"u"?BlobBuilder:typeof WebKitBlobBuilder<"u"?WebKitBlobBuilder:void 0}();if(void 0!==t){const e=new t;for(let i=0;i<n.length;i++)e.append(n[i]);return e.getBlob()}if(db())return new Blob(n);throw new q(ne.UNSUPPORTED_ENVIRONMENT,"This browser doesn't seem to support creating Blobs")}const po={RAW:"raw",BASE64:"base64",BASE64URL:"base64url",DATA_URL:"data_url"};class Jx{constructor(t,e){this.data=t,this.contentType=e||null}}function pb(n,t){switch(n){case po.RAW:return new Jx(CS(t));case po.BASE64:case po.BASE64URL:return new Jx(ES(n,t));case po.DATA_URL:return new Jx(function DS(n){const t=new eC(n);return t.base64?ES(po.BASE64,t.rest):function nP(n){let t;try{t=decodeURIComponent(n)}catch{throw fu(po.DATA_URL,"Malformed data URL.")}return CS(t)}(t.rest)}(t),function gb(n){return new eC(n).contentType}(t))}throw je()}function CS(n){const t=[];for(let e=0;e<n.length;e++){let i=n.charCodeAt(e);i<=127?t.push(i):i<=2047?t.push(192|i>>6,128|63&i):55296==(64512&i)?e<n.length-1&&56320==(64512&n.charCodeAt(e+1))?(i=65536|(1023&i)<<10|1023&n.charCodeAt(++e),t.push(240|i>>18,128|i>>12&63,128|i>>6&63,128|63&i)):t.push(239,191,189):56320==(64512&i)?t.push(239,191,189):t.push(224|i>>12,128|i>>6&63,128|63&i)}return new Uint8Array(t)}function ES(n,t){switch(n){case po.BASE64:{const r=-1!==t.indexOf("-"),s=-1!==t.indexOf("_");if(r||s)throw fu(n,"Invalid character '"+(r?"-":"_")+"' found: is it base64url encoded?");break}case po.BASE64URL:{const r=-1!==t.indexOf("+"),s=-1!==t.indexOf("/");if(r||s)throw fu(n,"Invalid character '"+(r?"+":"/")+"' found: is it base64 encoded?");t=t.replace(/-/g,"+").replace(/_/g,"/");break}}let e;try{e=function Qx(n){if(typeof atob>"u")throw function cb(n){return new q(ne.UNSUPPORTED_ENVIRONMENT,`${n} is missing. Make sure to install the required polyfills. See https://firebase.google.com/docs/web/environments-js-sdk#polyfills for more information.`)}("base-64");return atob(n)}(t)}catch(r){throw r.message.includes("polyfill")?r:fu(n,"Invalid character found")}const i=new Uint8Array(e.length);for(let r=0;r<e.length;r++)i[r]=e.charCodeAt(r);return i}class eC{constructor(t){this.base64=!1,this.contentType=null;const e=t.match(/^data:([^,]+)?,/);if(null===e)throw fu(po.DATA_URL,"Must be formatted 'data:[<mediatype>][;base64],<data>");const i=e[1]||null;null!=i&&(this.base64=function tC(n,t){return n.length>=t.length&&n.substring(n.length-t.length)===t}(i,";base64"),this.contentType=this.base64?i.substring(0,i.length-7):i),this.rest=t.substring(t.indexOf(",")+1)}}class zo{constructor(t,e){let i=0,r="";Yx(t)?(this.data_=t,i=t.size,r=t.type):t instanceof ArrayBuffer?(e?this.data_=new Uint8Array(t):(this.data_=new Uint8Array(t.byteLength),this.data_.set(new Uint8Array(t))),i=this.data_.length):t instanceof Uint8Array&&(e?this.data_=t:(this.data_=new Uint8Array(t.length),this.data_.set(t)),i=t.length),this.size_=i,this.type_=r}size(){return this.size_}type(){return this.type_}slice(t,e){if(Yx(this.data_)){const r=function xS(n,t,e){return n.webkitSlice?n.webkitSlice(t,e):n.mozSlice?n.mozSlice(t,e):n.slice?n.slice(t,e):null}(this.data_,t,e);return null===r?null:new zo(r)}{const i=new Uint8Array(this.data_.buffer,t,e-t);return new zo(i,!0)}}static getBlob(...t){if(db()){const e=t.map(i=>i instanceof zo?i.data_:i);return new zo(fb.apply(null,e))}{const e=t.map(c=>gc(c)?pb(po.RAW,c).data:c.data_);let i=0;e.forEach(c=>{i+=c.byteLength});const r=new Uint8Array(i);let s=0;return e.forEach(c=>{for(let p=0;p<c.length;p++)r[s++]=c[p]}),new zo(r,!0)}}uploadData(){return this.data_}}function nC(n){let t;try{t=JSON.parse(n)}catch{return null}return function yS(n){return"object"==typeof n&&!Array.isArray(n)}(t)?t:null}function TS(n){const t=n.lastIndexOf("/",n.length-2);return-1===t?n:n.slice(t+1)}function iC(n,t){return t}class jo{constructor(t,e,i,r){this.server=t,this.local=e||t,this.writable=!!i,this.xform=r||iC}}let pu=null;function af(){if(pu)return pu;const n=[];n.push(new jo("bucket")),n.push(new jo("generation")),n.push(new jo("metageneration")),n.push(new jo("name","fullPath",!0));const e=new jo("name");e.xform=function t(s,c){return function mb(n){return!gc(n)||n.length<2?n:TS(n)}(c)},n.push(e);const r=new jo("size");return r.xform=function i(s,c){return void 0!==c?Number(c):c},n.push(r),n.push(new jo("timeCreated")),n.push(new jo("updated")),n.push(new jo("md5Hash",null,!0)),n.push(new jo("cacheControl",null,!0)),n.push(new jo("contentDisposition",null,!0)),n.push(new jo("contentEncoding",null,!0)),n.push(new jo("contentLanguage",null,!0)),n.push(new jo("contentType",null,!0)),n.push(new jo("metadata","customMetadata",!0)),pu=n,pu}function rC(n,t,e){const i=nC(t);return null===i?null:function AS(n,t,e){const i={type:"file"},r=e.length;for(let s=0;s<r;s++){const c=e[s];i[c.local]=c.xform(i,t[c.server])}return function SS(n,t){Object.defineProperty(n,"ref",{get:function e(){const s=new Bs(n.bucket,n.fullPath);return t._makeStorageReference(s)}})}(i,n),i}(n,i,e)}function sC(n,t){const e={},i=t.length;for(let r=0;r<i;r++){const s=t[r];s.writable&&(e[s.server]=n[s.local])}return JSON.stringify(e)}const IS="prefixes",MS="items";class Zs{constructor(t,e,i,r){this.url=t,this.method=e,this.handler=i,this.timeout=r,this.urlParams={},this.headers={},this.body=null,this.errorHandler=null,this.progressCallback=null,this.successCodes=[200],this.additionalRetryCodes=[]}}function Go(n){if(!n)throw je()}function vb(n,t){return function e(i,r){const s=rC(n,r,t);return Go(null!==s),s}}function Zp(n){return function t(e,i){let r;return r=401===e.getStatus()?e.getErrorText().includes("Firebase App Check token is invalid")?function cn(){return new q(ne.UNAUTHORIZED_APP,"This app does not have permission to access Firebase Storage on this project.")}():function an(){return new q(ne.UNAUTHENTICATED,"User is not authenticated, please authenticate using Firebase Authentication and try again.")}():402===e.getStatus()?function Ft(n){return new q(ne.QUOTA_EXCEEDED,"Quota for bucket '"+n+"' exceeded, please view quota on https://firebase.google.com/pricing/.")}(n.bucket):403===e.getStatus()?function _r(n){return new q(ne.UNAUTHORIZED,"User does not have permission to access '"+n+"'.")}(n.path):i,r.status=e.getStatus(),r.serverResponse=i.serverResponse,r}}function vv(n){const t=Zp(n);return function e(i,r){let s=t(i,r);return 404===i.getStatus()&&(s=function Tt(n){return new q(ne.OBJECT_NOT_FOUND,"Object '"+n+"' does not exist.")}(n.path)),s.serverResponse=r.serverResponse,s}}function kS(n,t,e){const r=Ad(t.fullServerUrl(),n.host,n._protocol),c=n.maxOperationRetryTime,p=new Zs(r,"GET",vb(n,e),c);return p.errorHandler=vv(t),p}function OS(n,t,e,i,r){const s={};s.prefix=t.isRoot?"":t.path+"/",e&&e.length>0&&(s.delimiter=e),i&&(s.pageToken=i),r&&(s.maxResults=r);const p=Ad(t.bucketOnlyServerUrl(),n.host,n._protocol),C=n.maxOperationRetryTime,M=new Zs(p,"GET",function oP(n,t){return function e(i,r){const s=function sP(n,t,e){const i=nC(e);return null===i?null:function rP(n,t,e){const i={prefixes:[],items:[],nextPageToken:e.nextPageToken};if(e[IS])for(const r of e[IS]){const s=r.replace(/\/$/,""),c=n._makeStorageReference(new Bs(t,s));i.prefixes.push(c)}if(e[MS])for(const r of e[MS]){const s=n._makeStorageReference(new Bs(t,r.name));i.items.push(s)}return i}(n,t,i)}(n,t,r);return Go(null!==s),s}}(n,t.bucket),C);return M.urlParams=s,M.errorHandler=Zp(t),M}function mc(n,t,e){const i=Object.assign({},e);return i.fullPath=n.path,i.size=t.size(),i.contentType||(i.contentType=function yb(n,t){return n&&n.contentType||t&&t.type()||"application/octet-stream"}(null,t)),i}class yv{constructor(t,e,i,r){this.current=t,this.total=e,this.finalized=!!i,this.metadata=r||null}}function _b(n,t){let e=null;try{e=n.getResponseHeader("X-Goog-Upload-Status")}catch{Go(!1)}return Go(!!e&&-1!==(t||["active"]).indexOf(e)),e}const oC={STATE_CHANGED:"state_changed"},go={RUNNING:"running",PAUSED:"paused",SUCCESS:"success",CANCELED:"canceled",ERROR:"error"};function RS(n){switch(n){case"running":case"pausing":case"canceling":return go.RUNNING;case"paused":return go.PAUSED;case"success":return go.SUCCESS;case"canceled":return go.CANCELED;default:return go.ERROR}}class TV{constructor(t,e,i){if(function $x(n){return"function"==typeof n}(t)||null!=e||null!=i)this.next=t,this.error=e??void 0,this.complete=i??void 0;else{const s=t;this.next=s.next,this.error=s.error,this.complete=s.complete}}}function cf(n){return(...t)=>{Promise.resolve().then(()=>n(...t))}}let FS=null;class hP{constructor(){this.sent_=!1,this.xhr_=new XMLHttpRequest,this.initXhr(),this.errorCode_=qp.NO_ERROR,this.sendPromise_=new Promise(t=>{this.xhr_.addEventListener("abort",()=>{this.errorCode_=qp.ABORT,t()}),this.xhr_.addEventListener("error",()=>{this.errorCode_=qp.NETWORK_ERROR,t()}),this.xhr_.addEventListener("load",()=>{t()})})}send(t,e,i,r){if(this.sent_)throw Sd("cannot .send() more than once");if(this.sent_=!0,this.xhr_.open(e,t,!0),void 0!==r)for(const s in r)r.hasOwnProperty(s)&&this.xhr_.setRequestHeader(s,r[s].toString());return void 0!==i?this.xhr_.send(i):this.xhr_.send(),this.sendPromise_}getErrorCode(){if(!this.sent_)throw Sd("cannot .getErrorCode() before sending");return this.errorCode_}getStatus(){if(!this.sent_)throw Sd("cannot .getStatus() before sending");try{return this.xhr_.status}catch{return-1}}getResponse(){if(!this.sent_)throw Sd("cannot .getResponse() before sending");return this.xhr_.response}getErrorText(){if(!this.sent_)throw Sd("cannot .getErrorText() before sending");return this.xhr_.statusText}abort(){this.xhr_.abort()}getResponseHeader(t){return this.xhr_.getResponseHeader(t)}addUploadProgressListener(t){null!=this.xhr_.upload&&this.xhr_.upload.addEventListener("progress",t)}removeUploadProgressListener(t){null!=this.xhr_.upload&&this.xhr_.upload.removeEventListener("progress",t)}}class fP extends hP{initXhr(){this.xhr_.responseType="text"}}function Al(){return FS?FS():new fP}class VS{constructor(t,e,i=null){this._transferred=0,this._needToFetchStatus=!1,this._needToFetchMetadata=!1,this._observers=[],this._error=void 0,this._uploadUrl=void 0,this._request=void 0,this._chunkMultiplier=1,this._resolve=void 0,this._reject=void 0,this._ref=t,this._blob=e,this._metadata=i,this._mappings=af(),this._resumable=this._shouldDoResumable(this._blob),this._state="running",this._errorHandler=r=>{if(this._request=void 0,this._chunkMultiplier=1,r._codeEquals(ne.CANCELED))this._needToFetchStatus=!0,this.completeTransitions_();else{const s=this.isExponentialBackoffExpired();if(Zx(r.status,[])){if(!s)return this.sleepTime=Math.max(2*this.sleepTime,1e3),this._needToFetchStatus=!0,void this.completeTransitions_();r=Uo()}this._error=r,this._transition("error")}},this._metadataErrorHandler=r=>{this._request=void 0,r._codeEquals(ne.CANCELED)?this.completeTransitions_():(this._error=r,this._transition("error"))},this.sleepTime=0,this.maxSleepTime=this._ref.storage.maxUploadRetryTime,this._promise=new Promise((r,s)=>{this._resolve=r,this._reject=s,this._start()}),this._promise.then(null,()=>{})}isExponentialBackoffExpired(){return this.sleepTime>this.maxSleepTime}_makeProgressCallback(){const t=this._transferred;return e=>this._updateProgress(t+e)}_shouldDoResumable(t){return t.size()>262144}_start(){"running"===this._state&&void 0===this._request&&(this._resumable?void 0===this._uploadUrl?this._createResumable():this._needToFetchStatus?this._fetchStatus():this._needToFetchMetadata?this._fetchMetadata():this.pendingTimeout=setTimeout(()=>{this.pendingTimeout=void 0,this._continueUpload()},this.sleepTime):this._oneShotUpload())}_resolveToken(t){Promise.all([this._ref.storage._getAuthToken(),this._ref.storage._getAppCheckToken()]).then(([e,i])=>{switch(this._state){case"running":t(e,i);break;case"canceling":this._transition("canceled");break;case"pausing":this._transition("paused")}})}_createResumable(){this._resolveToken((t,e)=>{const i=function PS(n,t,e,i,r){const s=t.bucketOnlyServerUrl(),c=mc(t,i,r),p={name:c.fullPath},_=Ad(s,n.host,n._protocol),M={"X-Goog-Upload-Protocol":"resumable","X-Goog-Upload-Command":"start","X-Goog-Upload-Header-Content-Length":`${i.size()}`,"X-Goog-Upload-Header-Content-Type":c.contentType,"Content-Type":"application/json; charset=utf-8"},V=sC(c,e),oe=new Zs(_,"POST",function K(ae){let fe;_b(ae);try{fe=ae.getResponseHeader("X-Goog-Upload-URL")}catch{Go(!1)}return Go(gc(fe)),fe},n.maxUploadRetryTime);return oe.urlParams=p,oe.headers=M,oe.body=V,oe.errorHandler=Zp(t),oe}(this._ref.storage,this._ref._location,this._mappings,this._blob,this._metadata),r=this._ref.storage._makeRequest(i,Al,t,e);this._request=r,r.getPromise().then(s=>{this._request=void 0,this._uploadUrl=s,this._needToFetchStatus=!1,this.completeTransitions_()},this._errorHandler)})}_fetchStatus(){const t=this._uploadUrl;this._resolveToken((e,i)=>{const r=function EV(n,t,e,i){const _=new Zs(e,"POST",function s(C){const M=_b(C,["active","final"]);let V=null;try{V=C.getResponseHeader("X-Goog-Upload-Size-Received")}catch{Go(!1)}V||Go(!1);const W=Number(V);return Go(!isNaN(W)),new yv(W,i.size(),"final"===M)},n.maxUploadRetryTime);return _.headers={"X-Goog-Upload-Command":"query"},_.errorHandler=Zp(t),_}(this._ref.storage,this._ref._location,t,this._blob),s=this._ref.storage._makeRequest(r,Al,e,i);this._request=s,s.getPromise().then(c=>{this._request=void 0,this._updateProgress(c.current),this._needToFetchStatus=!1,c.finalized&&(this._needToFetchMetadata=!0),this.completeTransitions_()},this._errorHandler)})}_continueUpload(){const t=262144*this._chunkMultiplier,e=new yv(this._transferred,this._blob.size()),i=this._uploadUrl;this._resolveToken((r,s)=>{let c;try{c=function DV(n,t,e,i,r,s,c,p){const _=new yv(0,0);if(c?(_.current=c.current,_.total=c.total):(_.current=0,_.total=i.size()),i.size()!==_.total)throw function Td(){return new q(ne.SERVER_FILE_WRONG_SIZE,"Server recorded incorrect upload file size, please retry the upload.")}();const C=_.total-_.current;let M=C;r>0&&(M=Math.min(M,r));const V=_.current;let K="";K=0===M?"finalize":C===M?"upload, finalize":"upload";const oe={"X-Goog-Upload-Command":K,"X-Goog-Upload-Offset":`${_.current}`},ae=i.slice(V,V+M);if(null===ae)throw sf();const Re=new Zs(e,"POST",function fe(ze,ut){const bt=_b(ze,["active","final"]),jt=_.current+M,Vt=i.size();let Jt;return Jt="final"===bt?vb(t,s)(ze,ut):null,new yv(jt,Vt,"final"===bt,Jt)},t.maxUploadRetryTime);return Re.headers=oe,Re.body=ae.uploadData(),Re.progressCallback=p||null,Re.errorHandler=Zp(n),Re}(this._ref._location,this._ref.storage,i,this._blob,t,this._mappings,e,this._makeProgressCallback())}catch(_){return this._error=_,void this._transition("error")}const p=this._ref.storage._makeRequest(c,Al,r,s,!1);this._request=p,p.getPromise().then(_=>{this._increaseMultiplier(),this._request=void 0,this._updateProgress(_.current),_.finalized?(this._metadata=_.metadata,this._transition("success")):this.completeTransitions_()},this._errorHandler)})}_increaseMultiplier(){262144*this._chunkMultiplier*2<33554432&&(this._chunkMultiplier*=2)}_fetchMetadata(){this._resolveToken((t,e)=>{const i=kS(this._ref.storage,this._ref._location,this._mappings),r=this._ref.storage._makeRequest(i,Al,t,e);this._request=r,r.getPromise().then(s=>{this._request=void 0,this._metadata=s,this._transition("success")},this._metadataErrorHandler)})}_oneShotUpload(){this._resolveToken((t,e)=>{const i=function Xp(n,t,e,i,r){const s=t.bucketOnlyServerUrl(),c={"X-Goog-Upload-Protocol":"multipart"},_=function p(){let Re="";for(let ze=0;ze<2;ze++)Re+=Math.random().toString().slice(2);return Re}();c["Content-Type"]="multipart/related; boundary="+_;const C=mc(t,i,r),M=sC(C,e),K=zo.getBlob("--"+_+"\r\nContent-Type: application/json; charset=utf-8\r\n\r\n"+M+"\r\n--"+_+"\r\nContent-Type: "+C.contentType+"\r\n\r\n",i,"\r\n--"+_+"--");if(null===K)throw sf();const oe={name:C.fullPath},ae=Ad(s,n.host,n._protocol),Pe=n.maxUploadRetryTime,Be=new Zs(ae,"POST",vb(n,e),Pe);return Be.urlParams=oe,Be.headers=c,Be.body=K.uploadData(),Be.errorHandler=Zp(t),Be}(this._ref.storage,this._ref._location,this._mappings,this._blob,this._metadata),r=this._ref.storage._makeRequest(i,Al,t,e);this._request=r,r.getPromise().then(s=>{this._request=void 0,this._metadata=s,this._updateProgress(this._blob.size()),this._transition("success")},this._errorHandler)})}_updateProgress(t){const e=this._transferred;this._transferred=t,this._transferred!==e&&this._notifyObservers()}_transition(t){if(this._state!==t)switch(t){case"canceling":case"pausing":this._state=t,void 0!==this._request?this._request.cancel():this.pendingTimeout&&(clearTimeout(this.pendingTimeout),this.pendingTimeout=void 0,this.completeTransitions_());break;case"running":const e="paused"===this._state;this._state=t,e&&(this._notifyObservers(),this._start());break;case"paused":case"error":case"success":this._state=t,this._notifyObservers();break;case"canceled":this._error=Ed(),this._state=t,this._notifyObservers()}}completeTransitions_(){switch(this._state){case"pausing":this._transition("paused");break;case"canceling":this._transition("canceled");break;case"running":this._start()}}get snapshot(){const t=RS(this._state);return{bytesTransferred:this._transferred,totalBytes:this._blob.size(),state:t,metadata:this._metadata,task:this,ref:this._ref}}on(t,e,i,r){const s=new TV(e||void 0,i||void 0,r||void 0);return this._addObserver(s),()=>{this._removeObserver(s)}}then(t,e){return this._promise.then(t,e)}catch(t){return this.then(null,t)}_addObserver(t){this._observers.push(t),this._notifyObserver(t)}_removeObserver(t){const e=this._observers.indexOf(t);-1!==e&&this._observers.splice(e,1)}_notifyObservers(){this._finishPromise(),this._observers.slice().forEach(e=>{this._notifyObserver(e)})}_finishPromise(){if(void 0!==this._resolve){let t=!0;switch(RS(this._state)){case go.SUCCESS:cf(this._resolve.bind(null,this.snapshot))();break;case go.CANCELED:case go.ERROR:cf(this._reject.bind(null,this._error))();break;default:t=!1}t&&(this._resolve=void 0,this._reject=void 0)}}_notifyObserver(t){switch(RS(this._state)){case go.RUNNING:case go.PAUSED:t.next&&cf(t.next.bind(t,this.snapshot))();break;case go.SUCCESS:t.complete&&cf(t.complete.bind(t))();break;default:t.error&&cf(t.error.bind(t,this._error))()}}resume(){const t="paused"===this._state||"pausing"===this._state;return t&&this._transition("running"),t}pause(){const t="running"===this._state;return t&&this._transition("pausing"),t}cancel(){const t="running"===this._state||"pausing"===this._state;return t&&this._transition("canceling"),t}}class Aa{constructor(t,e){this._service=t,this._location=e instanceof Bs?e:Bs.makeFromUrl(e,t.host)}toString(){return"gs://"+this._location.bucket+"/"+this._location.path}_newRef(t,e){return new Aa(t,e)}get root(){const t=new Bs(this._location.bucket,"");return this._newRef(this._service,t)}get bucket(){return this._location.bucket}get fullPath(){return this._location.path}get name(){return TS(this._location.path)}get storage(){return this._service}get parent(){const t=function iP(n){if(0===n.length)return null;const t=n.lastIndexOf("/");return-1===t?"":n.slice(0,t)}(this._location.path);if(null===t)return null;const e=new Bs(this._location.bucket,t);return new Aa(this._service,e)}_throwIfRoot(t){if(""===this._location.path)throw ub(t)}}function zS(n,t,e){return cC.apply(this,arguments)}function cC(){return(cC=(0,it.Z)(function*(n,t,e){const r=yield uC(n,{pageToken:e});t.prefixes.push(...r.prefixes),t.items.push(...r.items),null!=r.nextPageToken&&(yield zS(n,t,r.nextPageToken))})).apply(this,arguments)}function uC(n,t){null!=t&&"number"==typeof t.maxResults&&qx("options.maxResults",1,1e3,t.maxResults);const e=t||{},i=OS(n.storage,n._location,"/",e.pageToken,e.maxResults);return n.storage.makeRequestWithTokens(i,Al)}function _v(n){n._throwIfRoot("getDownloadURL");const t=function lP(n,t,e){const r=Ad(t.fullServerUrl(),n.host,n._protocol),c=n.maxOperationRetryTime,p=new Zs(r,"GET",function aP(n,t){return function e(i,r){const s=rC(n,r,t);return Go(null!==s),function lf(n,t,e,i){const r=nC(t);if(null===r||!gc(r.downloadTokens))return null;const s=r.downloadTokens;if(0===s.length)return null;const c=encodeURIComponent;return s.split(",").map(C=>{const V=n.fullPath;return Ad("/b/"+c(n.bucket)+"/o/"+c(V),e,i)+pv({alt:"media",token:C})})[0]}(s,r,n.host,n._protocol)}}(n,e),c);return p.errorHandler=vv(t),p}(n.storage,n._location,af());return n.storage.makeRequestWithTokens(t,Al).then(e=>{if(null===e)throw function lb(){return new q(ne.NO_DOWNLOAD_URL,"The given file does not have any download URLs.")}();return e})}function Kp(n,t){const e=function CV(n,t){const e=t.split("/").filter(i=>i.length>0).join("/");return 0===n.length?e:n+"/"+e}(n._location.path,t),i=new Bs(n._location.bucket,e);return new Aa(n.storage,i)}function wb(n,t){if(n instanceof xb){const e=n;if(null==e._bucket)throw function hv(){return new q(ne.NO_DEFAULT_BUCKET,"No default bucket found. Did you set the '"+N+"' property when initializing the app?")}();const i=new Aa(e,e._bucket);return null!=t?wb(i,t):i}return void 0!==t?Kp(n,t):n}function dC(n,t){if(t&&function jS(n){return/^[A-Za-z]+:\/\//.test(n)}(t)){if(n instanceof xb)return function GS(n,t){return new Aa(n,t)}(n,t);throw pc("To use ref(service, url), the first argument must be a Storage instance.")}return wb(n,t)}function WS(n,t){const e=t?.[N];return null==e?null:Bs.makeFromBucketSpec(e,n)}class xb{constructor(t,e,i,r,s){this.app=t,this._authProvider=e,this._appCheckProvider=i,this._url=r,this._firebaseVersion=s,this._bucket=null,this._host=dv,this._protocol="https",this._appId=null,this._deleted=!1,this._maxOperationRetryTime=12e4,this._maxUploadRetryTime=6e5,this._requests=new Set,this._bucket=null!=r?Bs.makeFromBucketSpec(r,this._host):WS(this._host,this.app.options)}get host(){return this._host}set host(t){this._host=t,this._bucket=null!=this._url?Bs.makeFromBucketSpec(this._url,t):WS(t,this.app.options)}get maxUploadRetryTime(){return this._maxUploadRetryTime}set maxUploadRetryTime(t){qx("time",0,Number.POSITIVE_INFINITY,t),this._maxUploadRetryTime=t}get maxOperationRetryTime(){return this._maxOperationRetryTime}set maxOperationRetryTime(t){qx("time",0,Number.POSITIVE_INFINITY,t),this._maxOperationRetryTime=t}_getAuthToken(){var t=this;return(0,it.Z)(function*(){if(t._overrideAuthToken)return t._overrideAuthToken;const e=t._authProvider.getImmediate({optional:!0});if(e){const i=yield e.getToken();if(null!==i)return i.accessToken}return null})()}_getAppCheckToken(){var t=this;return(0,it.Z)(function*(){const e=t._appCheckProvider.getImmediate({optional:!0});return e?(yield e.getToken()).token:null})()}_delete(){return this._deleted||(this._deleted=!0,this._requests.forEach(t=>t.cancel()),this._requests.clear()),Promise.resolve()}_makeStorageReference(t){return new Aa(this,t)}_makeRequest(t,e,i,r,s=!0){if(this._deleted)return new Gx(fv());{const c=function wS(n,t,e,i,r,s,c=!0){const p=pv(n.urlParams),_=n.url+p,C=Object.assign({},n.headers);return function hb(n,t){t&&(n["X-Firebase-GMPID"]=t)}(C,t),function Xx(n,t){null!==t&&t.length>0&&(n.Authorization="Firebase "+t)}(C,e),function bS(n,t){n["X-Firebase-Storage-Version"]="webjs/"+(t??"AppManager")}(C,s),function mv(n,t){null!==t&&(n["X-Firebase-AppCheck"]=t)}(C,i),new _S(_,n.method,C,n.body,n.successCodes,n.additionalRetryCodes,n.handler,n.errorHandler,n.timeout,n.progressCallback,r,c)}(t,this._appId,i,r,e,this._firebaseVersion,s);return this._requests.add(c),c.getPromise().then(()=>this._requests.delete(c),()=>this._requests.delete(c)),c}}makeRequestWithTokens(t,e){var i=this;return(0,it.Z)(function*(){const[r,s]=yield Promise.all([i._getAuthToken(),i._getAppCheckToken()]);return i._makeRequest(t,e,r,s).getPromise()})()}}const bv="@firebase/storage";function wv(n,t){return dC(n=(0,ue.m9)(n),t)}function ZS(n,{instanceIdentifier:t}){const e=n.getProvider("app").getImmediate(),i=n.getProvider("auth-internal"),r=n.getProvider("app-check-internal");return new xb(e,i,r,t,Qi.SDK_VERSION)}!function Qp(){(0,Qi._registerComponent)(new os.wA("storage",ZS,"PUBLIC").setMultipleInstances(!0)),(0,Qi.registerVersion)(bv,"0.11.2",""),(0,Qi.registerVersion)(bv,"0.11.2","esm2017")}();class Tb{constructor(t,e,i){this._delegate=t,this.task=e,this.ref=i}get bytesTransferred(){return this._delegate.bytesTransferred}get metadata(){return this._delegate.metadata}get state(){return this._delegate.state}get totalBytes(){return this._delegate.totalBytes}}class XS{constructor(t,e){this._delegate=t,this._ref=e,this.cancel=this._delegate.cancel.bind(this._delegate),this.catch=this._delegate.catch.bind(this._delegate),this.pause=this._delegate.pause.bind(this._delegate),this.resume=this._delegate.resume.bind(this._delegate)}get snapshot(){return new Tb(this._delegate.snapshot,this,this._ref)}then(t,e){return this._delegate.then(i=>{if(t)return t(new Tb(i,this,this._ref))},e)}on(t,e,i,r){let s;return e&&(s="function"==typeof e?c=>e(new Tb(c,this,this._ref)):{next:e.next?c=>e.next(new Tb(c,this,this._ref)):void 0,complete:e.complete||void 0,error:e.error||void 0}),this._delegate.on(t,s,i||void 0,r||void 0)}}class KS{constructor(t,e){this._delegate=t,this._service=e}get prefixes(){return this._delegate.prefixes.map(t=>new Il(t,this._service))}get items(){return this._delegate.items.map(t=>new Il(t,this._service))}get nextPageToken(){return this._delegate.nextPageToken||null}}class Il{constructor(t,e){this._delegate=t,this.storage=e}get name(){return this._delegate.name}get bucket(){return this._delegate.bucket}get fullPath(){return this._delegate.fullPath}toString(){return this._delegate.toString()}child(t){const e=function vc(n,t){return Kp(n,t)}(this._delegate,t);return new Il(e,this.storage)}get root(){return new Il(this._delegate.root,this.storage)}get parent(){const t=this._delegate.parent;return null==t?null:new Il(t,this.storage)}put(t,e){return this._throwIfRoot("put"),new XS(function qS(n,t,e){return function US(n,t,e){return n._throwIfRoot("uploadBytesResumable"),new VS(n,new zo(t),e)}(n=(0,ue.m9)(n),t,e)}(this._delegate,t,e),this)}putString(t,e=po.RAW,i){this._throwIfRoot("putString");const r=pb(e,t),s=Object.assign({},i);return null==s.contentType&&null!=r.contentType&&(s.contentType=r.contentType),new XS(new VS(this._delegate,new zo(r.data,!0),s),this)}listAll(){return function Eb(n){return function mP(n){const t={prefixes:[],items:[]};return zS(n,t).then(()=>t)}(n=(0,ue.m9)(n))}(this._delegate).then(t=>new KS(t,this.storage))}list(t){return function hC(n,t){return uC(n=(0,ue.m9)(n),t)}(this._delegate,t||void 0).then(e=>new KS(e,this.storage))}getMetadata(){return function uf(n){return function SV(n){n._throwIfRoot("getMetadata");const t=kS(n.storage,n._location,af());return n.storage.makeRequestWithTokens(t,Al)}(n=(0,ue.m9)(n))}(this._delegate)}updateMetadata(t){return function _P(n,t){return function AV(n,t){n._throwIfRoot("updateMetadata");const e=function cP(n,t,e,i){const s=Ad(t.fullServerUrl(),n.host,n._protocol),p=sC(e,i),C=n.maxOperationRetryTime,M=new Zs(s,"PATCH",vb(n,i),C);return M.headers={"Content-Type":"application/json; charset=utf-8"},M.body=p,M.errorHandler=vv(t),M}(n.storage,n._location,t,af());return n.storage.makeRequestWithTokens(e,Al)}(n=(0,ue.m9)(n),t)}(this._delegate,t)}getDownloadURL(){return function bP(n){return _v(n=(0,ue.m9)(n))}(this._delegate)}delete(){return this._throwIfRoot("delete"),function fC(n){return function Vi(n){n._throwIfRoot("deleteObject");const t=function uP(n,t){const i=Ad(t.fullServerUrl(),n.host,n._protocol),p=new Zs(i,"DELETE",function c(_,C){},n.maxOperationRetryTime);return p.successCodes=[200,204],p.errorHandler=vv(t),p}(n.storage,n._location);return n.storage.makeRequestWithTokens(t,Al)}(n=(0,ue.m9)(n))}(this._delegate)}_throwIfRoot(t){if(""===this._delegate._location.path)throw ub(t)}}class gC{constructor(t,e){this.app=t,this._delegate=e}get maxOperationRetryTime(){return this._delegate.maxOperationRetryTime}get maxUploadRetryTime(){return this._delegate.maxUploadRetryTime}ref(t){if(QS(t))throw pc("ref() expected a child path but got a URL, use refFromURL instead.");return new Il(wv(this._delegate,t),this)}refFromURL(t){if(!QS(t))throw pc("refFromURL() expected a full URL but got a child path, use ref() instead.");try{Bs.makeFromUrl(t,this._delegate.host)}catch{throw pc("refFromUrl() expected a valid full URL but got an invalid one.")}return new Il(wv(this._delegate,t),this)}setMaxUploadRetryTime(t){this._delegate.maxUploadRetryTime=t}setMaxOperationRetryTime(t){this._delegate.maxOperationRetryTime=t}useEmulator(t,e,i={}){!function Db(n,t,e,i={}){!function $S(n,t,e,i={}){n.host=`${t}:${e}`,n._protocol="http";const{mockUserToken:r}=i;r&&(n._overrideAuthToken="string"==typeof r?r:(0,ue.Sg)(r,n.app.options.projectId))}(n,t,e,i)}(this._delegate,t,e,i)}}function QS(n){return/^[A-Za-z]+:\/\//.test(n)}function wP(n,{instanceIdentifier:t}){const e=n.getProvider("app-compat").getImmediate(),i=n.getProvider("storage").getImmediate({identifier:t});return new gC(e,i)}function EP(n){const t=function CP(n){return new ar.y(t=>{const e=c=>t.next(c);e(n.snapshot);const s=n.on("state_changed",e);return n.then(c=>{e(c),t.complete()},c=>{e(n.snapshot),(c=>{t.error(c)})(c)}),function(){s()}}).pipe(rf(0))}(n);return{task:n,then:n.then.bind(n),catch:n.catch.bind(n),pause:n.pause.bind(n),cancel:n.cancel.bind(n),resume:n.resume.bind(n),snapshotChanges:()=>t,percentageChanges:()=>t.pipe((0,Bt.U)(e=>e.bytesTransferred/e.totalBytes*100))}}function vC(n){return{getDownloadURL:()=>(0,hn.of)(void 0).pipe(Qn.fc,(0,Bi.w)(()=>n.getDownloadURL()),Qn.iC),getMetadata:()=>(0,hn.of)(void 0).pipe(Qn.fc,(0,Bi.w)(()=>n.getMetadata()),Qn.iC),delete:()=>(0,bi.D)(n.delete()),child:t=>vC(n.child(t)),updateMetadata:t=>(0,bi.D)(n.updateMetadata(t)),put:(t,e)=>EP(n.put(t,e)),putString:(t,e,i)=>EP(n.putString(t,e,i)),list:t=>(0,bi.D)(n.list(t)),listAll:()=>(0,bi.D)(n.listAll())}}!function xP(n){const t={TaskState:go,TaskEvent:oC,StringFormat:po,Storage:gC,Reference:Il};n.INTERNAL.registerComponent(new os.wA("storage-compat",wP,"PUBLIC").setServiceProps(t).setMultipleInstances(!0)),n.registerVersion("@firebase/storage-compat","0.3.2")}(jx);const Sb=new a.OlP("angularfire2.storageBucket"),DP=new a.OlP("angularfire2.storage.maxUploadRetryTime"),yC=new a.OlP("angularfire2.storage.maxOperationRetryTime"),_C=new a.OlP("angularfire2.storage.use-emulator");let Jp=(()=>{class n{constructor(e,i,r,s,c,p,_,C,M,V){const W=(0,Ki.on)(e,c,i);this.storage=(0,Ki.cc)(`${W.name}.storage.${r}`,"AngularFireStorage",W.name,()=>{const K=c.runOutsideAngular(()=>W.storage(r||void 0)),oe=M;return oe&&K.useEmulator(...oe),_&&K.setMaxUploadRetryTime(_),C&&K.setMaxOperationRetryTime(C),K},[_,C])}ref(e){return vC(this.storage.ref(e))}refFromURL(e){return vC(this.storage.refFromURL(e))}upload(e,i,r){return vC(this.storage.ref(e)).put(i,r)}}return n.\u0275fac=function(e){return new(e||n)(a.LFG(Ki.Dh),a.LFG(Ki.xv,8),a.LFG(Sb,8),a.LFG(a.Lbi),a.LFG(a.R0b),a.LFG(Qn.HU),a.LFG(DP,8),a.LFG(yC,8),a.LFG(_C,8),a.LFG(Jh,8))},n.\u0275prov=a.Yz7({token:n,factory:n.\u0275fac,providedIn:"any"}),n})(),bC=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=a.oAB({type:n}),n.\u0275inj=a.cJS({}),n})(),xv=(()=>{class n{constructor(){lu.Z.registerVersion("angularfire",Qn.q4.full,"gcs-compat")}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=a.oAB({type:n}),n.\u0275inj=a.cJS({providers:[Jp],imports:[bC]}),n})();var Id=ce(7537),gu=ce(9940);function Md(...n){return function eg(){return(0,Id.J)(1)}()((0,bi.D)(n,(0,gu.yG)(n)))}function Ml(...n){const t=(0,gu.yG)(n);return(0,Or.e)((e,i)=>{(t?Md(n,e,t):Md(n,e)).subscribe(i)})}function Cv(){return(0,Or.e)((n,t)=>{let e,i=!1;n.subscribe((0,lr.x)(t,r=>{const s=e;e=r,i&&t.next([s,r]),i=!0}))})}function Ab(n,t,e,i,r){return(s,c)=>{let p=e,_=t,C=0;s.subscribe((0,lr.x)(c,M=>{const V=C++;_=p?n(_,M,V):(p=!0,M),i&&c.next(_)},r&&(()=>{p&&c.next(_),c.complete()})))}}function yc(n,t){return(0,Or.e)(Ab(n,t,arguments.length>=2,!0))}var rn,Ib=ce(3997),tA=(ce(8977),ce(3399)),kd=ce(7592),wC=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{},Ka={},xC=xC||{},Xn=wC||self;function Mb(n){var t=typeof n;return"array"==(t="object"!=t?t:n?Array.isArray(n)?"array":t:"null")||"object"==t&&"number"==typeof n.length}function Od(n){var t=typeof n;return"object"==t&&null!=n||"function"==t}var EC="closure_uid_"+(1e9*Math.random()>>>0),nA=0;function DC(n,t,e){return n.call.apply(n.bind,arguments)}function kb(n,t,e){if(!n)throw Error();if(2<arguments.length){var i=Array.prototype.slice.call(arguments,2);return function(){var r=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(r,i),n.apply(t,r)}}return function(){return n.apply(t,arguments)}}function Mo(n,t,e){return(Mo=Function.prototype.bind&&-1!=Function.prototype.bind.toString().indexOf("native code")?DC:kb).apply(null,arguments)}function Ev(n,t){var e=Array.prototype.slice.call(arguments,1);return function(){var i=e.slice();return i.push.apply(i,arguments),n.apply(this,i)}}function Xs(n,t){function e(){}e.prototype=t.prototype,n.$=t.prototype,n.prototype=new e,n.prototype.constructor=n,n.ac=function(i,r,s){for(var c=Array(arguments.length-2),p=2;p<arguments.length;p++)c[p-2]=arguments[p];return t.prototype[r].apply(i,c)}}function mu(){this.s=this.s,this.o=this.o}mu.prototype.s=!1,mu.prototype.sa=function(){!this.s&&(this.s=!0,this.N(),0)&&function CC(n){Object.prototype.hasOwnProperty.call(n,EC)&&n[EC]||(n[EC]=++nA)}(this)},mu.prototype.N=function(){if(this.o)for(;this.o.length;)this.o.shift()()};const iA=Array.prototype.indexOf?function(n,t){return Array.prototype.indexOf.call(n,t,void 0)}:function(n,t){if("string"==typeof n)return"string"!=typeof t||1!=t.length?-1:n.indexOf(t,0);for(let e=0;e<n.length;e++)if(e in n&&n[e]===t)return e;return-1};function df(n){const t=n.length;if(0<t){const e=Array(t);for(let i=0;i<t;i++)e[i]=n[i];return e}return[]}function rA(n,t){for(let e=1;e<arguments.length;e++){const i=arguments[e];if(Mb(i)){const r=n.length||0,s=i.length||0;n.length=r+s;for(let c=0;c<s;c++)n[r+c]=i[c]}else n.push(i)}}function bs(n,t){this.type=n,this.g=this.target=t,this.defaultPrevented=!1}bs.prototype.h=function(){this.defaultPrevented=!0};var Dv=function(){if(!Xn.addEventListener||!Object.defineProperty)return!1;var n=!1,t=Object.defineProperty({},"passive",{get:function(){n=!0}});try{Xn.addEventListener("test",()=>{},t),Xn.removeEventListener("test",()=>{},t)}catch{}return n}();function Tv(n){return/^[\s\xa0]*$/.test(n)}function Sv(){var n=Xn.navigator;return n&&(n=n.userAgent)?n:""}function _c(n){return-1!=Sv().indexOf(n)}function TC(n){return TC[" "](n),n}TC[" "]=function(){};var SC,n,sA=_c("Opera"),hf=_c("Trident")||_c("MSIE"),Ob=_c("Edge"),oA=Ob||hf,Nb=_c("Gecko")&&!(-1!=Sv().toLowerCase().indexOf("webkit")&&!_c("Edge"))&&!(_c("Trident")||_c("MSIE"))&&!_c("Edge"),aA=-1!=Sv().toLowerCase().indexOf("webkit")&&!_c("Edge");function lA(){var n=Xn.document;return n?n.documentMode:void 0}e:{var Pb="",AC=(n=Sv(),Nb?/rv:([^\);]+)(\)|;)/.exec(n):Ob?/Edge\/([\d\.]+)/.exec(n):hf?/\b(?:MSIE|rv)[: ]([^\);]+)(\)|;)/.exec(n):aA?/WebKit\/(\S+)/.exec(n):sA?/(?:Version)[ \/]?(\S+)/.exec(n):void 0);if(AC&&(Pb=AC?AC[1]:""),hf){var Rb=lA();if(null!=Rb&&Rb>parseFloat(Pb)){SC=String(Rb);break e}}SC=Pb}var PV=Xn.document&&hf&&(lA()||parseInt(SC,10))||void 0;function tg(n,t){if(bs.call(this,n?n.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,n){var e=this.type=n.type,i=n.changedTouches&&n.changedTouches.length?n.changedTouches[0]:null;if(this.target=n.target||n.srcElement,this.g=t,t=n.relatedTarget){if(Nb){e:{try{TC(t.nodeName);var r=!0;break e}catch{}r=!1}r||(t=null)}}else"mouseover"==e?t=n.fromElement:"mouseout"==e&&(t=n.toElement);this.relatedTarget=t,i?(this.clientX=void 0!==i.clientX?i.clientX:i.pageX,this.clientY=void 0!==i.clientY?i.clientY:i.pageY,this.screenX=i.screenX||0,this.screenY=i.screenY||0):(this.clientX=void 0!==n.clientX?n.clientX:n.pageX,this.clientY=void 0!==n.clientY?n.clientY:n.pageY,this.screenX=n.screenX||0,this.screenY=n.screenY||0),this.button=n.button,this.key=n.key||"",this.ctrlKey=n.ctrlKey,this.altKey=n.altKey,this.shiftKey=n.shiftKey,this.metaKey=n.metaKey,this.pointerId=n.pointerId||0,this.pointerType="string"==typeof n.pointerType?n.pointerType:uA[n.pointerType]||"",this.state=n.state,this.i=n,n.defaultPrevented&&tg.$.h.call(this)}}Xs(tg,bs);var uA={2:"touch",3:"pen",4:"mouse"};tg.prototype.h=function(){tg.$.h.call(this);var n=this.i;n.preventDefault?n.preventDefault():n.returnValue=!1};var Wo="closure_listenable_"+(1e6*Math.random()|0),dA=0;function RV(n,t,e,i,r){this.listener=n,this.proxy=null,this.src=t,this.type=e,this.capture=!!i,this.la=r,this.key=++dA,this.fa=this.ia=!1}function ng(n){n.fa=!0,n.listener=null,n.proxy=null,n.src=null,n.la=null}function bc(n,t,e){for(const i in n)t.call(e,n[i],i,n)}function hA(n){const t={};for(const e in n)t[e]=n[e];return t}const AP="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function fA(n,t){let e,i;for(let r=1;r<arguments.length;r++){for(e in i=arguments[r],i)n[e]=i[e];for(let s=0;s<AP.length;s++)e=AP[s],Object.prototype.hasOwnProperty.call(i,e)&&(n[e]=i[e])}}function ig(n){this.src=n,this.g={},this.h=0}function Qa(n,t){var e=t.type;if(e in n.g){var s,i=n.g[e],r=iA(i,t);(s=0<=r)&&Array.prototype.splice.call(i,r,1),s&&(ng(t),0==n.g[e].length&&(delete n.g[e],n.h--))}}function Fb(n,t,e,i){for(var r=0;r<n.length;++r){var s=n[r];if(!s.fa&&s.listener==t&&s.capture==!!e&&s.la==i)return r}return-1}ig.prototype.add=function(n,t,e,i,r){var s=n.toString();(n=this.g[s])||(n=this.g[s]=[],this.h++);var c=Fb(n,t,i,r);return-1<c?(t=n[c],e||(t.ia=!1)):((t=new RV(t,this.src,s,!!i,r)).ia=e,n.push(t)),t};var kC="closure_lm_"+(1e6*Math.random()|0),pA={};function Vs(n,t,e,i,r){if(i&&i.once)return mA(n,t,e,i,r);if(Array.isArray(t)){for(var s=0;s<t.length;s++)Vs(n,t[s],e,i,r);return null}return e=Bb(e),n&&n[Wo]?n.O(t,e,Od(i)?!!i.capture:!!i,r):gA(n,t,e,!1,i,r)}function gA(n,t,e,i,r,s){if(!t)throw Error("Invalid event type");var c=Od(r)?!!r.capture:!!r,p=PC(n);if(p||(n[kC]=p=new ig(n)),(e=p.add(t,e,i,c,s)).proxy)return e;if(i=function OC(){const t=yA;return function n(e){return t.call(n.src,n.listener,e)}}(),e.proxy=i,i.src=n,i.listener=e,n.addEventListener)Dv||(r=c),void 0===r&&(r=!1),n.addEventListener(t.toString(),i,r);else if(n.attachEvent)n.attachEvent(NC(t.toString()),i);else{if(!n.addListener||!n.removeListener)throw Error("addEventListener and attachEvent are unavailable.");n.addListener(i)}return e}function mA(n,t,e,i,r){if(Array.isArray(t)){for(var s=0;s<t.length;s++)mA(n,t[s],e,i,r);return null}return e=Bb(e),n&&n[Wo]?n.P(t,e,Od(i)?!!i.capture:!!i,r):gA(n,t,e,!0,i,r)}function vA(n,t,e,i,r){if(Array.isArray(t))for(var s=0;s<t.length;s++)vA(n,t[s],e,i,r);else i=Od(i)?!!i.capture:!!i,e=Bb(e),n&&n[Wo]?(n=n.i,(t=String(t).toString())in n.g&&-1<(e=Fb(s=n.g[t],e,i,r))&&(ng(s[e]),Array.prototype.splice.call(s,e,1),0==s.length&&(delete n.g[t],n.h--))):n&&(n=PC(n))&&(t=n.g[t.toString()],n=-1,t&&(n=Fb(t,e,i,r)),(e=-1<n?t[n]:null)&&Av(e))}function Av(n){if("number"!=typeof n&&n&&!n.fa){var t=n.src;if(t&&t[Wo])Qa(t.i,n);else{var e=n.type,i=n.proxy;t.removeEventListener?t.removeEventListener(e,i,n.capture):t.detachEvent?t.detachEvent(NC(e),i):t.addListener&&t.removeListener&&t.removeListener(i),(e=PC(t))?(Qa(e,n),0==e.h&&(e.src=null,t[kC]=null)):ng(n)}}}function NC(n){return n in pA?pA[n]:pA[n]="on"+n}function yA(n,t){if(n.fa)n=!0;else{t=new tg(t,this);var e=n.listener,i=n.la||n.src;n.ia&&Av(n),n=e.call(i,t)}return n}function PC(n){return(n=n[kC])instanceof ig?n:null}var Lb="__closure_events_fn_"+(1e9*Math.random()>>>0);function Bb(n){return"function"==typeof n?n:(n[Lb]||(n[Lb]=function(t){return n.handleEvent(t)}),n[Lb])}function Ks(){mu.call(this),this.i=new ig(this),this.S=this,this.J=null}function mo(n,t){var e,i=n.J;if(i)for(e=[];i;i=i.J)e.push(i);if(n=n.S,i=t.type||t,"string"==typeof t)t=new bs(t,n);else if(t instanceof bs)t.target=t.target||n;else{var r=t;fA(t=new bs(i,n),r)}if(r=!0,e)for(var s=e.length-1;0<=s;s--){var c=t.g=e[s];r=Vb(c,i,!0,t)&&r}if(r=Vb(c=t.g=n,i,!0,t)&&r,r=Vb(c,i,!1,t)&&r,e)for(s=0;s<e.length;s++)r=Vb(c=t.g=e[s],i,!1,t)&&r}function Vb(n,t,e,i){if(!(t=n.i.g[String(t)]))return!0;t=t.concat();for(var r=!0,s=0;s<t.length;++s){var c=t[s];if(c&&!c.fa&&c.capture==e){var p=c.listener,_=c.la||c.src;c.ia&&Qa(n.i,c),r=!1!==p.call(_,i)&&r}}return r&&!i.defaultPrevented}Xs(Ks,mu),Ks.prototype[Wo]=!0,Ks.prototype.removeEventListener=function(n,t,e,i){vA(this,n,t,e,i)},Ks.prototype.N=function(){if(Ks.$.N.call(this),this.i){var t,n=this.i;for(t in n.g){for(var e=n.g[t],i=0;i<e.length;i++)ng(e[i]);delete n.g[t],n.h--}}this.J=null},Ks.prototype.O=function(n,t,e,i){return this.i.add(String(n),t,!1,e,i)},Ks.prototype.P=function(n,t,e,i){return this.i.add(String(n),t,!0,e,i)};var Hb=Xn.JSON.stringify;function vu(){var n=og;let t=null;return n.g&&(t=n.g,n.g=n.g.next,n.g||(n.h=null),t.next=null),t}var _A=new class rg{constructor(t,e){this.i=t,this.j=e,this.h=0,this.g=null}get(){let t;return 0<this.h?(this.h--,t=this.g,this.g=t.next,t.next=null):t=this.i(),t}}(()=>new IP,n=>n.reset());class IP{constructor(){this.next=this.g=this.h=null}set(t,e){this.h=t,this.g=e,this.next=null}reset(){this.next=this.g=this.h=null}}function bA(n){var t=1;n=n.split(":");const e=[];for(;0<t&&n.length;)e.push(n.shift()),t--;return n.length&&e.push(n.join(":")),e}function wA(n){Xn.setTimeout(()=>{throw n},0)}let ff,yu=!1,og=new class sg{constructor(){this.h=this.g=null}add(t,e){const i=_A.get();i.set(t,e),this.h?this.h.next=i:this.g=i,this.h=i}},RC=()=>{const n=Xn.Promise.resolve(void 0);ff=()=>{n.then(xA)}};var xA=()=>{for(var n;n=vu();){try{n.h.call(n.g)}catch(e){wA(e)}var t=_A;t.j(n),100>t.h&&(t.h++,n.next=t.g,t.g=n)}yu=!1};function Ub(n,t){Ks.call(this),this.h=n||1,this.g=t||Xn,this.j=Mo(this.qb,this),this.l=Date.now()}function FC(n){n.ga=!1,n.T&&(n.g.clearTimeout(n.T),n.T=null)}function LC(n,t,e){if("function"==typeof n)e&&(n=Mo(n,e));else{if(!n||"function"!=typeof n.handleEvent)throw Error("Invalid listener argument");n=Mo(n.handleEvent,n)}return 2147483647<Number(t)?-1:Xn.setTimeout(n,t||0)}function CA(n){n.g=LC(()=>{n.g=null,n.i&&(n.i=!1,CA(n))},n.j);const t=n.h;n.h=null,n.m.apply(null,t)}Xs(Ub,Ks),(rn=Ub.prototype).ga=!1,rn.T=null,rn.qb=function(){if(this.ga){var n=Date.now()-this.l;0<n&&n<.8*this.h?this.T=this.g.setTimeout(this.j,this.h-n):(this.T&&(this.g.clearTimeout(this.T),this.T=null),mo(this,"tick"),this.ga&&(FC(this),this.start()))}},rn.start=function(){this.ga=!0,this.T||(this.T=this.g.setTimeout(this.j,this.h),this.l=Date.now())},rn.N=function(){Ub.$.N.call(this),FC(this),delete this.g};class EA extends mu{constructor(t,e){super(),this.m=t,this.j=e,this.h=null,this.i=!1,this.g=null}l(t){this.h=arguments,this.g?this.i=!0:CA(this)}N(){super.N(),this.g&&(Xn.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function zb(n){mu.call(this),this.h=n,this.g={}}Xs(zb,mu);var DA=[];function MP(n,t,e,i){Array.isArray(e)||(e&&(DA[0]=e.toString()),e=DA);for(var r=0;r<e.length;r++){var s=Vs(t,e[r],i||n.handleEvent,!1,n.h||n);if(!s)break;n.g[s.key]=s}}function kP(n){bc(n.g,function(t,e){this.g.hasOwnProperty(e)&&Av(t)},n),n.g={}}function Iv(){this.g=!0}function _u(n,t,e,i){n.info(function(){return"XMLHTTP TEXT ("+t+"): "+function SA(n,t){if(!n.g)return t;if(!t)return null;try{var e=JSON.parse(t);if(e)for(n=0;n<e.length;n++)if(Array.isArray(e[n])){var i=e[n];if(!(2>i.length)){var r=i[1];if(Array.isArray(r)&&!(1>r.length)){var s=r[0];if("noop"!=s&&"stop"!=s&&"close"!=s)for(var c=1;c<r.length;c++)r[c]=""}}}return Hb(e)}catch{return t}}(n,e)+(i?" "+i:"")})}zb.prototype.N=function(){zb.$.N.call(this),kP(this)},zb.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")},Iv.prototype.Ea=function(){this.g=!1},Iv.prototype.info=function(){};var Nd={},AA=null;function Mv(){return AA=AA||new Ks}function BC(n){bs.call(this,Nd.Ta,n)}function zn(n){const t=Mv();mo(t,new BC(t))}function VC(n,t){bs.call(this,Nd.STAT_EVENT,n),this.stat=t}function ko(n){const t=Mv();mo(t,new VC(t,n))}function pf(n,t){bs.call(this,Nd.Ua,n),this.size=t}function ag(n,t){if("function"!=typeof n)throw Error("Fn must not be null and must be a function");return Xn.setTimeout(function(){n()},t)}Nd.Ta="serverreachability",Xs(BC,bs),Nd.STAT_EVENT="statevent",Xs(VC,bs),Nd.Ua="timingevent",Xs(pf,bs);var jb={NO_ERROR:0,rb:1,Eb:2,Db:3,yb:4,Cb:5,Fb:6,Qa:7,TIMEOUT:8,Ib:9},kv={wb:"complete",Sb:"success",Ra:"error",Qa:"abort",Kb:"ready",Lb:"readystatechange",TIMEOUT:"timeout",Gb:"incrementaldata",Jb:"progress",zb:"downloadprogress",$b:"uploadprogress"};function Pd(){}function lg(){}Pd.prototype.h=null;var Pv,cg={OPEN:"a",vb:"b",Ra:"c",Hb:"d"};function Ov(){bs.call(this,"d")}function Nv(){bs.call(this,"c")}function Rv(){}function gf(n,t,e,i){this.l=n,this.j=t,this.m=e,this.W=i||1,this.U=new zb(this),this.P=OP,this.V=new Ub(n=oA?125:void 0),this.I=null,this.i=!1,this.s=this.A=this.v=this.L=this.G=this.Y=this.B=null,this.F=[],this.g=null,this.C=0,this.o=this.u=null,this.ca=-1,this.J=!1,this.O=0,this.M=null,this.ba=this.K=this.aa=this.S=!1,this.h=new IA}function IA(){this.i=null,this.g="",this.h=!1}Xs(Ov,bs),Xs(Nv,bs),Xs(Rv,Pd),Rv.prototype.g=function(){return new XMLHttpRequest},Rv.prototype.i=function(){return{}},Pv=new Rv;var OP=45e3,HC={},Fv={};function UC(n,t,e){n.L=1,n.v=Zb(wc(t)),n.s=e,n.S=!0,MA(n,null)}function MA(n,t){n.G=Date.now(),ug(n),n.A=wc(n.v);var e=n.A,i=n.W;Array.isArray(i)||(i=[String(i)]),LP(e.i,"t",i),n.C=0,e=n.l.J,n.h=new IA,n.g=JA(n.l,e?t:null,!n.s),0<n.O&&(n.M=new EA(Mo(n.Pa,n,n.g),n.O)),MP(n.U,n.g,"readystatechange",n.nb),t=n.I?hA(n.I):{},n.s?(n.u||(n.u="POST"),t["Content-Type"]="application/x-www-form-urlencoded",n.g.ha(n.A,n.u,n.s,t)):(n.u="GET",n.g.ha(n.A,n.u,null,t)),zn(),function TA(n,t,e,i,r,s){n.info(function(){if(n.g)if(s)for(var c="",p=s.split("&"),_=0;_<p.length;_++){var C=p[_].split("=");if(1<C.length){var M=C[0];C=C[1];var V=M.split("_");c=2<=V.length&&"type"==V[1]?c+(M+"=")+C+"&":c+(M+"=redacted&")}}else c=null;else c=s;return"XMLHTTP REQ ("+i+") [attempt "+r+"]: "+t+"\n"+e+"\n"+c})}(n.j,n.u,n.A,n.m,n.W,n.s)}function kA(n){return!!n.g&&"GET"==n.u&&2!=n.L&&n.l.Ha}function OA(n,t,e){let r,i=!0;for(;!n.J&&n.C<e.length;){if(r=NA(n,e),r==Fv){4==t&&(n.o=4,ko(14),i=!1),_u(n.j,n.m,null,"[Incomplete Response]");break}if(r==HC){n.o=4,ko(15),_u(n.j,n.m,e,"[Invalid Chunk]"),i=!1;break}_u(n.j,n.m,r,null),zC(n,r)}kA(n)&&r!=Fv&&r!=HC&&(n.h.g="",n.C=0),4!=t||0!=e.length||n.h.h||(n.o=1,ko(16),i=!1),n.i=n.i&&i,i?0<e.length&&!n.ba&&(n.ba=!0,(t=n.l).g==n&&t.ca&&!t.M&&(t.l.info("Great, no buffering proxy detected. Bytes received: "+e.length),o0(t),t.M=!0,ko(11))):(_u(n.j,n.m,e,"[Invalid Chunked Response]"),mf(n),vo(n))}function NA(n,t){var e=n.C,i=t.indexOf("\n",e);return-1==i?Fv:(e=Number(t.substring(e,i)),isNaN(e)?HC:(i+=1)+e>t.length?Fv:(t=t.slice(i,i+e),n.C=i+e,t))}function ug(n){n.Y=Date.now()+n.P,PA(n,n.P)}function PA(n,t){if(null!=n.B)throw Error("WatchDog timer not null");n.B=ag(Mo(n.lb,n),t)}function Wb(n){n.B&&(Xn.clearTimeout(n.B),n.B=null)}function vo(n){0==n.l.H||n.J||zP(n.l,n)}function mf(n){Wb(n);var t=n.M;t&&"function"==typeof t.sa&&t.sa(),n.M=null,FC(n.V),kP(n.U),n.g&&(t=n.g,n.g=null,t.abort(),t.sa())}function zC(n,t){try{var e=n.l;if(0!=e.H&&(e.g==n||qC(e.i,n)))if(!n.K&&qC(e.i,n)&&3==e.H){try{var i=e.Ja.g.parse(t)}catch{i=null}if(Array.isArray(i)&&3==i.length){var r=i;if(0==r[0]){e:if(!e.u){if(e.g){if(!(e.g.G+3e3<n.G))break e;a0(e),n0(e)}s0(e),ko(18)}}else e.Fa=r[1],0<e.Fa-e.V&&37500>r[2]&&e.G&&0==e.A&&!e.v&&(e.v=ag(Mo(e.ib,e),6e3));if(1>=VA(e.i)&&e.oa){try{e.oa()}catch{}e.oa=void 0}}else Rd(e,11)}else if((n.K||e.g==n)&&a0(e),!Tv(t))for(r=e.Ja.g.parse(t),t=0;t<r.length;t++){let C=r[t];if(e.V=C[0],C=C[1],2==e.H)if("c"==C[0]){e.K=C[1],e.pa=C[2];const M=C[3];null!=M&&(e.ra=M,e.l.info("VER="+e.ra));const V=C[4];null!=V&&(e.Ga=V,e.l.info("SVER="+e.Ga));const W=C[5];null!=W&&"number"==typeof W&&0<W&&(e.L=i=1.5*W,e.l.info("backChannelRequestTimeoutMs_="+i)),i=e;const K=n.g;if(K){const oe=K.g?K.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(oe){var s=i.i;s.g||-1==oe.indexOf("spdy")&&-1==oe.indexOf("quic")&&-1==oe.indexOf("h2")||(s.j=s.l,s.g=new Set,s.h&&(Hv(s,s.h),s.h=null))}if(i.F){const ae=K.g?K.g.getResponseHeader("X-HTTP-Session-Id"):null;ae&&(i.Da=ae,wr(i.I,i.F,ae))}}e.H=3,e.h&&e.h.Ba(),e.ca&&(e.S=Date.now()-n.G,e.l.info("Handshake RTT: "+e.S+"ms"));var c=n;if((i=e).wa=qv(i,i.J?i.pa:null,i.Y),c.K){HA(i.i,c);var p=c,_=i.L;_&&p.setTimeout(_),p.B&&(Wb(p),ug(p)),i.g=c}else QA(i);0<e.j.length&&r0(e)}else"stop"!=C[0]&&"close"!=C[0]||Rd(e,7);else 3==e.H&&("stop"==C[0]||"close"==C[0]?"stop"==C[0]?Rd(e,7):Wv(e):"noop"!=C[0]&&e.h&&e.h.Aa(C),e.A=0)}zn()}catch{}}function GC(n,t){if(n.forEach&&"function"==typeof n.forEach)n.forEach(t,void 0);else if(Mb(n)||"string"==typeof n)Array.prototype.forEach.call(n,t,void 0);else for(var e=function jC(n){if(n.ta&&"function"==typeof n.ta)return n.ta();if(!n.Z||"function"!=typeof n.Z){if(typeof Map<"u"&&n instanceof Map)return Array.from(n.keys());if(!(typeof Set<"u"&&n instanceof Set)){if(Mb(n)||"string"==typeof n){var t=[];n=n.length;for(var e=0;e<n;e++)t.push(e);return t}t=[],e=0;for(const i in n)t[e++]=i;return t}}}(n),i=function BV(n){if(n.Z&&"function"==typeof n.Z)return n.Z();if(typeof Map<"u"&&n instanceof Map||typeof Set<"u"&&n instanceof Set)return Array.from(n.values());if("string"==typeof n)return n.split("");if(Mb(n)){for(var t=[],e=n.length,i=0;i<e;i++)t.push(n[i]);return t}for(i in t=[],e=0,n)t[e++]=n[i];return t}(n),r=i.length,s=0;s<r;s++)t.call(void 0,i[s],e&&e[s],n)}(rn=gf.prototype).setTimeout=function(n){this.P=n},rn.nb=function(n){n=n.target;const t=this.M;t&&3==Cc(n)?t.l():this.Pa(n)},rn.Pa=function(n){try{if(n==this.g)e:{const M=Cc(this.g);var t=this.g.Ia();if(this.g.da(),!(3>M)&&(3!=M||oA||this.g&&(this.h.h||this.g.ja()||qA(this.g)))){this.J||4!=M||7==t||zn(),Wb(this);var e=this.g.da();this.ca=e;t:if(kA(this)){var i=qA(this.g);n="";var r=i.length,s=4==Cc(this.g);if(!this.h.i){if(typeof TextDecoder>"u"){mf(this),vo(this);var c="";break t}this.h.i=new Xn.TextDecoder}for(t=0;t<r;t++)this.h.h=!0,n+=this.h.i.decode(i[t],{stream:s&&t==r-1});i.splice(0,r),this.h.g+=n,this.C=0,c=this.h.g}else c=this.g.ja();if(this.i=200==e,function FV(n,t,e,i,r,s,c){n.info(function(){return"XMLHTTP RESP ("+i+") [ attempt "+r+"]: "+t+"\n"+e+"\n"+s+" "+c})}(this.j,this.u,this.A,this.m,this.W,M,e),this.i){if(this.aa&&!this.K){t:{if(this.g){var p,_=this.g;if((p=_.g?_.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!Tv(p)){var C=p;break t}}C=null}if(!(e=C)){this.i=!1,this.o=3,ko(12),mf(this),vo(this);break e}_u(this.j,this.m,e,"Initial handshake response via X-HTTP-Initial-Response"),this.K=!0,zC(this,e)}this.S?(OA(this,M,c),oA&&this.i&&3==M&&(MP(this.U,this.V,"tick",this.mb),this.V.start())):(_u(this.j,this.m,c,null),zC(this,c)),4==M&&mf(this),this.i&&!this.J&&(4==M?zP(this.l,this):(this.i=!1,ug(this)))}else(function HP(n){const t={};n=(n.g&&2<=Cc(n)&&n.g.getAllResponseHeaders()||"").split("\r\n");for(let i=0;i<n.length;i++){if(Tv(n[i]))continue;var e=bA(n[i]);const r=e[0];if("string"!=typeof(e=e[1]))continue;e=e.trim();const s=t[r]||[];t[r]=s,s.push(e)}!function MC(n,t){for(const e in n)t.call(void 0,n[e],e,n)}(t,function(i){return i.join(", ")})})(this.g),400==e&&0<c.indexOf("Unknown SID")?(this.o=3,ko(12)):(this.o=0,ko(13)),mf(this),vo(this)}}}catch{}},rn.mb=function(){if(this.g){var n=Cc(this.g),t=this.g.ja();this.C<t.length&&(Wb(this),OA(this,n,t),this.i&&4!=n&&ug(this))}},rn.cancel=function(){this.J=!0,mf(this)},rn.lb=function(){this.B=null;const n=Date.now();0<=n-this.Y?(function LV(n,t){n.info(function(){return"TIMEOUT: "+t})}(this.j,this.A),2!=this.L&&(zn(),ko(17)),mf(this),this.o=2,vo(this)):PA(this,this.Y-n)};var RA=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function vf(n){if(this.g=this.s=this.j="",this.m=null,this.o=this.l="",this.h=!1,n instanceof vf){this.h=n.h,$b(this,n.j),this.s=n.s,this.g=n.g,Yb(this,n.m),this.l=n.l;var t=n.i,e=new dg;e.i=t.i,t.g&&(e.g=new Map(t.g),e.h=t.h),qb(this,e),this.o=n.o}else n&&(t=String(n).match(RA))?(this.h=!1,$b(this,t[1]||"",!0),this.s=Lv(t[2]||""),this.g=Lv(t[3]||"",!0),Yb(this,t[4]),this.l=Lv(t[5]||"",!0),qb(this,t[6]||"",!0),this.o=Lv(t[7]||"")):(this.h=!1,this.i=new dg(null,this.h))}function wc(n){return new vf(n)}function $b(n,t,e){n.j=e?Lv(t,!0):t,n.j&&(n.j=n.j.replace(/:$/,""))}function Yb(n,t){if(t){if(t=Number(t),isNaN(t)||0>t)throw Error("Bad port number "+t);n.m=t}else n.m=null}function qb(n,t,e){t instanceof dg?(n.i=t,function LA(n,t){t&&!n.j&&(bu(n),n.i=null,n.g.forEach(function(e,i){var r=i.toLowerCase();i!=r&&(Vv(this,i),LP(this,r,e))},n)),n.j=t}(n.i,n.h)):(e||(t=Bv(t,FA)),n.i=new dg(t,n.h))}function wr(n,t,e){n.i.set(t,e)}function Zb(n){return wr(n,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),n}function Lv(n,t){return n?t?decodeURI(n.replace(/%25/g,"%2525")):decodeURIComponent(n):""}function Bv(n,t,e){return"string"==typeof n?(n=encodeURI(n).replace(t,PP),e&&(n=n.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),n):null}function PP(n){return"%"+((n=n.charCodeAt(0))>>4&15).toString(16)+(15&n).toString(16)}vf.prototype.toString=function(){var n=[],t=this.j;t&&n.push(Bv(t,kl,!0),":");var e=this.g;return(e||"file"==t)&&(n.push("//"),(t=this.s)&&n.push(Bv(t,kl,!0),"@"),n.push(encodeURIComponent(String(e)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),null!=(e=this.m)&&n.push(":",String(e))),(e=this.l)&&(this.g&&"/"!=e.charAt(0)&&n.push("/"),n.push(Bv(e,"/"==e.charAt(0)?RP:WC,!0))),(e=this.i.toString())&&n.push("?",e),(e=this.o)&&n.push("#",Bv(e,FP)),n.join("")};var kl=/[#\/\?@]/g,WC=/[#\?:]/g,RP=/[#\?]/g,FA=/[#\?@]/g,FP=/#/g;function dg(n,t){this.h=this.g=null,this.i=n||null,this.j=!!t}function bu(n){n.g||(n.g=new Map,n.h=0,n.i&&function NP(n,t){if(n){n=n.split("&");for(var e=0;e<n.length;e++){var i=n[e].indexOf("="),r=null;if(0<=i){var s=n[e].substring(0,i);r=n[e].substring(i+1)}else s=n[e];t(s,r?decodeURIComponent(r.replace(/\+/g," ")):"")}}}(n.i,function(t,e){n.add(decodeURIComponent(t.replace(/\+/g," ")),e)}))}function Vv(n,t){bu(n),t=yf(n,t),n.g.has(t)&&(n.i=null,n.h-=n.g.get(t).length,n.g.delete(t))}function Xb(n,t){return bu(n),t=yf(n,t),n.g.has(t)}function LP(n,t,e){Vv(n,t),0<e.length&&(n.i=null,n.g.set(yf(n,t),df(e)),n.h+=e.length)}function yf(n,t){return t=String(t),n.j&&(t=t.toLowerCase()),t}function $C(n){this.l=n||YC,n=Xn.PerformanceNavigationTiming?0<(n=Xn.performance.getEntriesByType("navigation")).length&&("hq"==n[0].nextHopProtocol||"h2"==n[0].nextHopProtocol):!!(Xn.g&&Xn.g.Ka&&Xn.g.Ka()&&Xn.g.Ka().ec),this.j=n?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}(rn=dg.prototype).add=function(n,t){bu(this),this.i=null,n=yf(this,n);var e=this.g.get(n);return e||this.g.set(n,e=[]),e.push(t),this.h+=1,this},rn.forEach=function(n,t){bu(this),this.g.forEach(function(e,i){e.forEach(function(r){n.call(t,r,i,this)},this)},this)},rn.ta=function(){bu(this);const n=Array.from(this.g.values()),t=Array.from(this.g.keys()),e=[];for(let i=0;i<t.length;i++){const r=n[i];for(let s=0;s<r.length;s++)e.push(t[i])}return e},rn.Z=function(n){bu(this);let t=[];if("string"==typeof n)Xb(this,n)&&(t=t.concat(this.g.get(yf(this,n))));else{n=Array.from(this.g.values());for(let e=0;e<n.length;e++)t=t.concat(n[e])}return t},rn.set=function(n,t){return bu(this),this.i=null,Xb(this,n=yf(this,n))&&(this.h-=this.g.get(n).length),this.g.set(n,[t]),this.h+=1,this},rn.get=function(n,t){return n&&0<(n=this.Z(n)).length?String(n[0]):t},rn.toString=function(){if(this.i)return this.i;if(!this.g)return"";const n=[],t=Array.from(this.g.keys());for(var e=0;e<t.length;e++){var i=t[e];const s=encodeURIComponent(String(i)),c=this.Z(i);for(i=0;i<c.length;i++){var r=s;""!==c[i]&&(r+="="+encodeURIComponent(String(c[i]))),n.push(r)}}return this.i=n.join("&")};var YC=10;function xc(n){return!!n.h||!!n.g&&n.g.size>=n.j}function VA(n){return n.h?1:n.g?n.g.size:0}function qC(n,t){return n.h?n.h==t:!!n.g&&n.g.has(t)}function Hv(n,t){n.g?n.g.add(t):n.h=t}function HA(n,t){n.h&&n.h==t?n.h=null:n.g&&n.g.has(t)&&n.g.delete(t)}function ZC(n){if(null!=n.h)return n.i.concat(n.h.F);if(null!=n.g&&0!==n.g.size){let t=n.i;for(const e of n.g.values())t=t.concat(e.F);return t}return df(n.i)}$C.prototype.cancel=function(){if(this.i=ZC(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&0!==this.g.size){for(const n of this.g.values())n.cancel();this.g.clear()}};var BP=class{stringify(n){return Xn.JSON.stringify(n,void 0)}parse(n){return Xn.JSON.parse(n,void 0)}};function Kb(){this.g=new BP}function Uv(n,t,e){const i=e||"";try{GC(n,function(r,s){let c=r;Od(r)&&(c=Hb(r)),t.push(i+s+"="+encodeURIComponent(c))})}catch(r){throw t.push(i+"type="+encodeURIComponent("_badmap")),r}}function _f(n,t,e,i,r){try{t.onload=null,t.onerror=null,t.onabort=null,t.ontimeout=null,r(i)}catch{}}function Qb(n){this.l=n.fc||null,this.j=n.ob||!1}function Jb(n,t){Ks.call(this),this.F=n,this.u=t,this.m=void 0,this.readyState=e0,this.status=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.v=new Headers,this.h=null,this.C="GET",this.B="",this.g=!1,this.A=this.j=this.l=null}Xs(Qb,Pd),Qb.prototype.g=function(){return new Jb(this.l,this.j)},Qb.prototype.i=function(n){return function(){return n}}({}),Xs(Jb,Ks);var e0=0;function XC(n){n.j.read().then(n.Xa.bind(n)).catch(n.ka.bind(n))}function zv(n){n.readyState=4,n.l=null,n.j=null,n.A=null,jv(n)}function jv(n){n.onreadystatechange&&n.onreadystatechange.call(n)}(rn=Jb.prototype).open=function(n,t){if(this.readyState!=e0)throw this.abort(),Error("Error reopening a connection");this.C=n,this.B=t,this.readyState=1,jv(this)},rn.send=function(n){if(1!=this.readyState)throw this.abort(),Error("need to call open() first. ");this.g=!0;const t={headers:this.v,method:this.C,credentials:this.m,cache:void 0};n&&(t.body=n),(this.F||Xn).fetch(new Request(this.B,t)).then(this.$a.bind(this),this.ka.bind(this))},rn.abort=function(){this.response=this.responseText="",this.v=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),1<=this.readyState&&this.g&&4!=this.readyState&&(this.g=!1,zv(this)),this.readyState=e0},rn.$a=function(n){if(this.g&&(this.l=n,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=n.headers,this.readyState=2,jv(this)),this.g&&(this.readyState=3,jv(this),this.g)))if("arraybuffer"===this.responseType)n.arrayBuffer().then(this.Ya.bind(this),this.ka.bind(this));else if(typeof Xn.ReadableStream<"u"&&"body"in n){if(this.j=n.body.getReader(),this.u){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.A=new TextDecoder;XC(this)}else n.text().then(this.Za.bind(this),this.ka.bind(this))},rn.Xa=function(n){if(this.g){if(this.u&&n.value)this.response.push(n.value);else if(!this.u){var t=n.value?n.value:new Uint8Array(0);(t=this.A.decode(t,{stream:!n.done}))&&(this.response=this.responseText+=t)}n.done?zv(this):jv(this),3==this.readyState&&XC(this)}},rn.Za=function(n){this.g&&(this.response=this.responseText=n,zv(this))},rn.Ya=function(n){this.g&&(this.response=n,zv(this))},rn.ka=function(){this.g&&zv(this)},rn.setRequestHeader=function(n,t){this.v.append(n,t)},rn.getResponseHeader=function(n){return this.h&&this.h.get(n.toLowerCase())||""},rn.getAllResponseHeaders=function(){if(!this.h)return"";const n=[],t=this.h.entries();for(var e=t.next();!e.done;)n.push((e=e.value)[0]+": "+e[1]),e=t.next();return n.join("\r\n")},Object.defineProperty(Jb.prototype,"withCredentials",{get:function(){return"include"===this.m},set:function(n){this.m=n?"include":"same-origin"}});var zA=Xn.JSON.parse;function $r(n){Ks.call(this),this.headers=new Map,this.u=n||null,this.h=!1,this.C=this.g=null,this.I="",this.m=0,this.j="",this.l=this.G=this.v=this.F=!1,this.B=0,this.A=null,this.K=hg,this.L=this.M=!1}Xs($r,Ks);var hg="",VP=/^https?$/i,jA=["POST","PUT"];function WA(n,t){n.h=!1,n.g&&(n.l=!0,n.g.abort(),n.l=!1),n.j=t,n.m=5,$A(n),t0(n)}function $A(n){n.F||(n.F=!0,mo(n,"complete"),mo(n,"error"))}function fg(n){if(n.h&&typeof xC<"u"&&(!n.C[1]||4!=Cc(n)||2!=n.da()))if(n.v&&4==Cc(n))LC(n.La,0,n);else if(mo(n,"readystatechange"),4==Cc(n)){n.h=!1;try{const c=n.da();e:switch(c){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var t=!0;break e;default:t=!1}var e;if(!(e=t)){var i;if(i=0===c){var r=String(n.I).match(RA)[1]||null;!r&&Xn.self&&Xn.self.location&&(r=Xn.self.location.protocol.slice(0,-1)),i=!VP.test(r?r.toLowerCase():"")}e=i}if(e)mo(n,"complete"),mo(n,"success");else{n.m=6;try{var s=2<Cc(n)?n.g.statusText:""}catch{s=""}n.j=s+" ["+n.da()+"]",$A(n)}}finally{t0(n)}}}function t0(n,t){if(n.g){YA(n);const e=n.g,i=n.C[0]?()=>{}:null;n.g=null,n.C=null,t||mo(n,"ready");try{e.onreadystatechange=i}catch{}}}function YA(n){n.g&&n.L&&(n.g.ontimeout=null),n.A&&(Xn.clearTimeout(n.A),n.A=null)}function Cc(n){return n.g?n.g.readyState:0}function qA(n){try{if(!n.g)return null;if("response"in n.g)return n.g.response;switch(n.K){case hg:case"text":return n.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in n.g)return n.g.mozResponseArrayBuffer}return null}catch{return null}}function ZA(n){let t="";return bc(n,function(e,i){t+=i,t+=":",t+=e,t+="\r\n"}),t}function KC(n,t,e){e:{for(i in e){var i=!1;break e}i=!0}i||(e=ZA(e),"string"==typeof n?null!=e&&encodeURIComponent(String(e)):wr(n,t,e))}function Gv(n,t,e){return e&&e.internalChannelParams&&e.internalChannelParams[n]||t}function QC(n){this.Ga=0,this.j=[],this.l=new Iv,this.pa=this.wa=this.I=this.Y=this.g=this.Da=this.F=this.na=this.o=this.U=this.s=null,this.fb=this.W=0,this.cb=Gv("failFast",!1,n),this.G=this.v=this.u=this.m=this.h=null,this.aa=!0,this.Fa=this.V=-1,this.ba=this.A=this.C=0,this.ab=Gv("baseRetryDelayMs",5e3,n),this.hb=Gv("retryDelaySeedMs",1e4,n),this.eb=Gv("forwardChannelMaxRetries",2,n),this.xa=Gv("forwardChannelRequestTimeoutMs",2e4,n),this.va=n&&n.xmlHttpFactory||void 0,this.Ha=n&&n.dc||!1,this.L=void 0,this.J=n&&n.supportsCrossDomainXhr||!1,this.K="",this.i=new $C(n&&n.concurrentRequestLimit),this.Ja=new Kb,this.P=n&&n.fastHandshake||!1,this.O=n&&n.encodeInitMessageHeaders||!1,this.P&&this.O&&(this.O=!1),this.bb=n&&n.bc||!1,n&&n.Ea&&this.l.Ea(),n&&n.forceLongPolling&&(this.aa=!1),this.ca=!this.P&&this.aa&&n&&n.detectBufferingProxy||!1,this.qa=void 0,n&&n.longPollingTimeout&&0<n.longPollingTimeout&&(this.qa=n.longPollingTimeout),this.oa=void 0,this.S=0,this.M=!1,this.ma=this.B=null}function Wv(n){if($v(n),3==n.H){var t=n.W++,e=wc(n.I);if(wr(e,"SID",n.K),wr(e,"RID",t),wr(e,"TYPE","terminate"),Yv(n,e),(t=new gf(n,n.l,t)).L=2,t.v=Zb(wc(e)),e=!1,Xn.navigator&&Xn.navigator.sendBeacon)try{e=Xn.navigator.sendBeacon(t.v.toString(),"")}catch{}!e&&Xn.Image&&((new Image).src=t.v,e=!0),e||(t.g=JA(t.l,null),t.g.ha(t.v)),t.G=Date.now(),ug(t)}jP(n)}function n0(n){n.g&&(o0(n),n.g.cancel(),n.g=null)}function $v(n){n0(n),n.u&&(Xn.clearTimeout(n.u),n.u=null),a0(n),n.i.cancel(),n.m&&("number"==typeof n.m&&Xn.clearTimeout(n.m),n.m=null)}function r0(n){if(!xc(n.i)&&!n.m){n.m=!0;var t=n.Na;ff||RC(),yu||(ff(),yu=!0),og.add(t,n),n.C=0}}function XA(n,t){var e;e=t?t.m:n.W++;const i=wc(n.I);wr(i,"SID",n.K),wr(i,"RID",e),wr(i,"AID",n.V),Yv(n,i),n.o&&n.s&&KC(i,n.o,n.s),e=new gf(n,n.l,e,n.C+1),null===n.o&&(e.I=n.s),t&&(n.j=t.F.concat(n.j)),t=KA(n,e,1e3),e.setTimeout(Math.round(.5*n.xa)+Math.round(.5*n.xa*Math.random())),Hv(n.i,e),UC(e,i,t)}function Yv(n,t){n.na&&bc(n.na,function(e,i){wr(t,i,e)}),n.h&&GC({},function(e,i){wr(t,i,e)})}function KA(n,t,e){e=Math.min(n.j.length,e);var i=n.h?Mo(n.h.Va,n.h,n):null;e:{var r=n.j;let s=-1;for(;;){const c=["count="+e];-1==s?0<e?(s=r[0].g,c.push("ofs="+s)):s=0:c.push("ofs="+s);let p=!0;for(let _=0;_<e;_++){let C=r[_].g;const M=r[_].map;if(C-=s,0>C)s=Math.max(0,r[_].g-100),p=!1;else try{Uv(M,c,"req"+C+"_")}catch{i&&i(M)}}if(p){i=c.join("&");break e}}}return n=n.j.splice(0,e),t.F=n,i}function QA(n){if(!n.g&&!n.u){n.ba=1;var t=n.Ma;ff||RC(),yu||(ff(),yu=!0),og.add(t,n),n.A=0}}function s0(n){return!(n.g||n.u||3<=n.A||(n.ba++,n.u=ag(Mo(n.Ma,n),e1(n,n.A)),n.A++,0))}function o0(n){null!=n.B&&(Xn.clearTimeout(n.B),n.B=null)}function JC(n){n.g=new gf(n,n.l,"rpc",n.ba),null===n.o&&(n.g.I=n.s),n.g.O=0;var t=wc(n.wa);wr(t,"RID","rpc"),wr(t,"SID",n.K),wr(t,"AID",n.V),wr(t,"CI",n.G?"0":"1"),!n.G&&n.qa&&wr(t,"TO",n.qa),wr(t,"TYPE","xmlhttp"),Yv(n,t),n.o&&n.s&&KC(t,n.o,n.s),n.L&&n.g.setTimeout(n.L);var e=n.g;n=n.pa,e.L=1,e.v=Zb(wc(t)),e.s=null,e.S=!0,MA(e,n)}function a0(n){null!=n.v&&(Xn.clearTimeout(n.v),n.v=null)}function zP(n,t){var e=null;if(n.g==t){a0(n),o0(n),n.g=null;var i=2}else{if(!qC(n.i,t))return;e=t.F,HA(n.i,t),i=1}if(0!=n.H)if(t.i)if(1==i){e=t.s?t.s.length:0,t=Date.now()-t.G;var r=n.C;mo(i=Mv(),new pf(i,e)),r0(n)}else QA(n);else if(3==(r=t.o)||0==r&&0<t.ca||!(1==i&&function UP(n,t){return!(VA(n.i)>=n.i.j-(n.m?1:0)||(n.m?(n.j=t.F.concat(n.j),0):1==n.H||2==n.H||n.C>=(n.cb?0:n.eb)||(n.m=ag(Mo(n.Na,n,t),e1(n,n.C)),n.C++,0)))}(n,t)||2==i&&s0(n)))switch(e&&0<e.length&&(t=n.i,t.i=t.i.concat(e)),r){case 1:Rd(n,5);break;case 4:Rd(n,10);break;case 3:Rd(n,6);break;default:Rd(n,2)}}function e1(n,t){let e=n.ab+Math.floor(Math.random()*n.hb);return n.isActive()||(e*=2),e*t}function Rd(n,t){if(n.l.info("Error code "+t),2==t){var e=null;n.h&&(e=null);var i=Mo(n.pb,n);e||(e=new vf("//www.google.com/images/cleardot.gif"),Xn.location&&"http"==Xn.location.protocol||$b(e,"https"),Zb(e)),function UA(n,t){const e=new Iv;if(Xn.Image){const i=new Image;i.onload=Ev(_f,e,i,"TestLoadImage: loaded",!0,t),i.onerror=Ev(_f,e,i,"TestLoadImage: error",!1,t),i.onabort=Ev(_f,e,i,"TestLoadImage: abort",!1,t),i.ontimeout=Ev(_f,e,i,"TestLoadImage: timeout",!1,t),Xn.setTimeout(function(){i.ontimeout&&i.ontimeout()},1e4),i.src=n}else t(!1)}(e.toString(),i)}else ko(2);n.H=0,n.h&&n.h.za(t),jP(n),$v(n)}function jP(n){if(n.H=0,n.ma=[],n.h){const t=ZC(n.i);(0!=t.length||0!=n.j.length)&&(rA(n.ma,t),rA(n.ma,n.j),n.i.i.length=0,df(n.j),n.j.length=0),n.h.ya()}}function qv(n,t,e){var i=e instanceof vf?wc(e):new vf(e);if(""!=i.g)t&&(i.g=t+"."+i.g),Yb(i,i.m);else{var r=Xn.location;i=r.protocol,t=t?t+"."+r.hostname:r.hostname,r=+r.port;var s=new vf(null);i&&$b(s,i),t&&(s.g=t),r&&Yb(s,r),e&&(s.l=e),i=s}return t=n.Da,(e=n.F)&&t&&wr(i,e,t),wr(i,"VER",n.ra),Yv(n,i),i}function JA(n,t,e){if(t&&!n.J)throw Error("Can't create secondary domain capable XhrIo object.");return(t=new $r(e&&n.Ha&&!n.va?new Qb({ob:!0}):n.va)).Oa(n.J),t}function eI(){}function pg(){if(hf&&!(10<=Number(PV)))throw Error("Environmental error: no available transport.")}function Ia(n,t){Ks.call(this),this.g=new QC(t),this.l=n,this.h=t&&t.messageUrlParams||null,n=t&&t.messageHeaders||null,t&&t.clientProtocolHeaderRequired&&(n?n["X-Client-Protocol"]="webchannel":n={"X-Client-Protocol":"webchannel"}),this.g.s=n,n=t&&t.initMessageHeaders||null,t&&t.messageContentType&&(n?n["X-WebChannel-Content-Type"]=t.messageContentType:n={"X-WebChannel-Content-Type":t.messageContentType}),t&&t.Ca&&(n?n["X-WebChannel-Client-Profile"]=t.Ca:n={"X-WebChannel-Client-Profile":t.Ca}),this.g.U=n,(n=t&&t.cc)&&!Tv(n)&&(this.g.o=n),this.A=t&&t.supportsCrossDomainXhr||!1,this.v=t&&t.sendRawJson||!1,(t=t&&t.httpSessionIdParam)&&!Tv(t)&&(this.g.F=t,null!==(n=this.h)&&t in n&&t in(n=this.h)&&delete n[t]),this.j=new ws(this)}function Ol(n){Ov.call(this),n.__headers__&&(this.headers=n.__headers__,this.statusCode=n.__status__,delete n.__headers__,delete n.__status__);var t=n.__sm__;if(t){e:{for(const e in t){n=e;break e}n=void 0}(this.i=n)&&(n=this.i,t=null!==t&&n in t?t[n]:void 0),this.data=t}else this.data=n}function gg(){Nv.call(this),this.status=1}function ws(n){this.g=n}function ca(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.m=Array(this.blockSize),this.i=this.h=0,this.reset()}function ua(n,t,e){e||(e=0);var i=Array(16);if("string"==typeof t)for(var r=0;16>r;++r)i[r]=t.charCodeAt(e++)|t.charCodeAt(e++)<<8|t.charCodeAt(e++)<<16|t.charCodeAt(e++)<<24;else for(r=0;16>r;++r)i[r]=t[e++]|t[e++]<<8|t[e++]<<16|t[e++]<<24;var s=n.g[3],c=(t=n.g[0])+(s^(e=n.g[1])&((r=n.g[2])^s))+i[0]+3614090360&4294967295;c=(e=(r=(s=(t=(e=(r=(s=(t=(e=(r=(s=(t=(e=(r=(s=(t=(e=(r=(s=(t=(e=(r=(s=(t=(e=(r=(s=(t=(e=(r=(s=(t=(e=(r=(s=(t=(e=(r=(s=(t=(e=(r=(s=(t=(e=(r=(s=(t=(e=(r=(s=(t=(e=(r=(s=(t=(e=(r=(s=(t=e+(c<<7&4294967295|c>>>25))+((c=s+(r^t&(e^r))+i[1]+3905402710&4294967295)<<12&4294967295|c>>>20))+((c=r+(e^s&(t^e))+i[2]+606105819&4294967295)<<17&4294967295|c>>>15))+((c=e+(t^r&(s^t))+i[3]+3250441966&4294967295)<<22&4294967295|c>>>10))+((c=t+(s^e&(r^s))+i[4]+4118548399&4294967295)<<7&4294967295|c>>>25))+((c=s+(r^t&(e^r))+i[5]+1200080426&4294967295)<<12&4294967295|c>>>20))+((c=r+(e^s&(t^e))+i[6]+2821735955&4294967295)<<17&4294967295|c>>>15))+((c=e+(t^r&(s^t))+i[7]+4249261313&4294967295)<<22&4294967295|c>>>10))+((c=t+(s^e&(r^s))+i[8]+1770035416&4294967295)<<7&4294967295|c>>>25))+((c=s+(r^t&(e^r))+i[9]+2336552879&4294967295)<<12&4294967295|c>>>20))+((c=r+(e^s&(t^e))+i[10]+4294925233&4294967295)<<17&4294967295|c>>>15))+((c=e+(t^r&(s^t))+i[11]+2304563134&4294967295)<<22&4294967295|c>>>10))+((c=t+(s^e&(r^s))+i[12]+1804603682&4294967295)<<7&4294967295|c>>>25))+((c=s+(r^t&(e^r))+i[13]+4254626195&4294967295)<<12&4294967295|c>>>20))+((c=r+(e^s&(t^e))+i[14]+2792965006&4294967295)<<17&4294967295|c>>>15))+((c=e+(t^r&(s^t))+i[15]+1236535329&4294967295)<<22&4294967295|c>>>10))+((c=t+(r^s&(e^r))+i[1]+4129170786&4294967295)<<5&4294967295|c>>>27))+((c=s+(e^r&(t^e))+i[6]+3225465664&4294967295)<<9&4294967295|c>>>23))+((c=r+(t^e&(s^t))+i[11]+643717713&4294967295)<<14&4294967295|c>>>18))+((c=e+(s^t&(r^s))+i[0]+3921069994&4294967295)<<20&4294967295|c>>>12))+((c=t+(r^s&(e^r))+i[5]+3593408605&4294967295)<<5&4294967295|c>>>27))+((c=s+(e^r&(t^e))+i[10]+38016083&4294967295)<<9&4294967295|c>>>23))+((c=r+(t^e&(s^t))+i[15]+3634488961&4294967295)<<14&4294967295|c>>>18))+((c=e+(s^t&(r^s))+i[4]+3889429448&4294967295)<<20&4294967295|c>>>12))+((c=t+(r^s&(e^r))+i[9]+568446438&4294967295)<<5&4294967295|c>>>27))+((c=s+(e^r&(t^e))+i[14]+3275163606&4294967295)<<9&4294967295|c>>>23))+((c=r+(t^e&(s^t))+i[3]+4107603335&4294967295)<<14&4294967295|c>>>18))+((c=e+(s^t&(r^s))+i[8]+1163531501&4294967295)<<20&4294967295|c>>>12))+((c=t+(r^s&(e^r))+i[13]+2850285829&4294967295)<<5&4294967295|c>>>27))+((c=s+(e^r&(t^e))+i[2]+4243563512&4294967295)<<9&4294967295|c>>>23))+((c=r+(t^e&(s^t))+i[7]+1735328473&4294967295)<<14&4294967295|c>>>18))+((c=e+(s^t&(r^s))+i[12]+2368359562&4294967295)<<20&4294967295|c>>>12))+((c=t+(e^r^s)+i[5]+4294588738&4294967295)<<4&4294967295|c>>>28))+((c=s+(t^e^r)+i[8]+2272392833&4294967295)<<11&4294967295|c>>>21))+((c=r+(s^t^e)+i[11]+1839030562&4294967295)<<16&4294967295|c>>>16))+((c=e+(r^s^t)+i[14]+4259657740&4294967295)<<23&4294967295|c>>>9))+((c=t+(e^r^s)+i[1]+2763975236&4294967295)<<4&4294967295|c>>>28))+((c=s+(t^e^r)+i[4]+1272893353&4294967295)<<11&4294967295|c>>>21))+((c=r+(s^t^e)+i[7]+4139469664&4294967295)<<16&4294967295|c>>>16))+((c=e+(r^s^t)+i[10]+3200236656&4294967295)<<23&4294967295|c>>>9))+((c=t+(e^r^s)+i[13]+681279174&4294967295)<<4&4294967295|c>>>28))+((c=s+(t^e^r)+i[0]+3936430074&4294967295)<<11&4294967295|c>>>21))+((c=r+(s^t^e)+i[3]+3572445317&4294967295)<<16&4294967295|c>>>16))+((c=e+(r^s^t)+i[6]+76029189&4294967295)<<23&4294967295|c>>>9))+((c=t+(e^r^s)+i[9]+3654602809&4294967295)<<4&4294967295|c>>>28))+((c=s+(t^e^r)+i[12]+3873151461&4294967295)<<11&4294967295|c>>>21))+((c=r+(s^t^e)+i[15]+530742520&4294967295)<<16&4294967295|c>>>16))+((c=e+(r^s^t)+i[2]+3299628645&4294967295)<<23&4294967295|c>>>9))+((c=t+(r^(e|~s))+i[0]+4096336452&4294967295)<<6&4294967295|c>>>26))+((c=s+(e^(t|~r))+i[7]+1126891415&4294967295)<<10&4294967295|c>>>22))+((c=r+(t^(s|~e))+i[14]+2878612391&4294967295)<<15&4294967295|c>>>17))+((c=e+(s^(r|~t))+i[5]+4237533241&4294967295)<<21&4294967295|c>>>11))+((c=t+(r^(e|~s))+i[12]+1700485571&4294967295)<<6&4294967295|c>>>26))+((c=s+(e^(t|~r))+i[3]+2399980690&4294967295)<<10&4294967295|c>>>22))+((c=r+(t^(s|~e))+i[10]+4293915773&4294967295)<<15&4294967295|c>>>17))+((c=e+(s^(r|~t))+i[1]+2240044497&4294967295)<<21&4294967295|c>>>11))+((c=t+(r^(e|~s))+i[8]+1873313359&4294967295)<<6&4294967295|c>>>26))+((c=s+(e^(t|~r))+i[15]+4264355552&4294967295)<<10&4294967295|c>>>22))+((c=r+(t^(s|~e))+i[6]+2734768916&4294967295)<<15&4294967295|c>>>17))+((c=e+(s^(r|~t))+i[13]+1309151649&4294967295)<<21&4294967295|c>>>11))+((s=(t=e+((c=t+(r^(e|~s))+i[4]+4149444226&4294967295)<<6&4294967295|c>>>26))+((c=s+(e^(t|~r))+i[11]+3174756917&4294967295)<<10&4294967295|c>>>22))^((r=s+((c=r+(t^(s|~e))+i[2]+718787259&4294967295)<<15&4294967295|c>>>17))|~t))+i[9]+3951481745&4294967295,n.g[0]=n.g[0]+t&4294967295,n.g[1]=n.g[1]+(r+(c<<21&4294967295|c>>>11))&4294967295,n.g[2]=n.g[2]+r&4294967295,n.g[3]=n.g[3]+s&4294967295}function Hi(n,t){this.h=t;for(var e=[],i=!0,r=n.length-1;0<=r;r--){var s=0|n[r];i&&s==t||(e[r]=s,i=!1)}this.g=e}(rn=$r.prototype).Oa=function(n){this.M=n},rn.ha=function(n,t,e,i){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.I+"; newUri="+n);t=t?t.toUpperCase():"GET",this.I=n,this.j="",this.m=0,this.F=!1,this.h=!0,this.g=this.u?this.u.g():Pv.g(),this.C=function Gb(n){return n.h||(n.h=n.i())}(this.u?this.u:Pv),this.g.onreadystatechange=Mo(this.La,this);try{this.G=!0,this.g.open(t,String(n),!0),this.G=!1}catch(s){return void WA(this,s)}if(n=e||"",e=new Map(this.headers),i)if(Object.getPrototypeOf(i)===Object.prototype)for(var r in i)e.set(r,i[r]);else{if("function"!=typeof i.keys||"function"!=typeof i.get)throw Error("Unknown input type for opt_headers: "+String(i));for(const s of i.keys())e.set(s,i.get(s))}i=Array.from(e.keys()).find(s=>"content-type"==s.toLowerCase()),r=Xn.FormData&&n instanceof Xn.FormData,!(0<=iA(jA,t))||i||r||e.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[s,c]of e)this.g.setRequestHeader(s,c);this.K&&(this.g.responseType=this.K),"withCredentials"in this.g&&this.g.withCredentials!==this.M&&(this.g.withCredentials=this.M);try{YA(this),0<this.B&&((this.L=function GA(n){return hf&&"number"==typeof n.timeout&&void 0!==n.ontimeout}(this.g))?(this.g.timeout=this.B,this.g.ontimeout=Mo(this.ua,this)):this.A=LC(this.ua,this.B,this)),this.v=!0,this.g.send(n),this.v=!1}catch(s){WA(this,s)}},rn.ua=function(){typeof xC<"u"&&this.g&&(this.j="Timed out after "+this.B+"ms, aborting",this.m=8,mo(this,"timeout"),this.abort(8))},rn.abort=function(n){this.g&&this.h&&(this.h=!1,this.l=!0,this.g.abort(),this.l=!1,this.m=n||7,mo(this,"complete"),mo(this,"abort"),t0(this))},rn.N=function(){this.g&&(this.h&&(this.h=!1,this.l=!0,this.g.abort(),this.l=!1),t0(this,!0)),$r.$.N.call(this)},rn.La=function(){this.s||(this.G||this.v||this.l?fg(this):this.kb())},rn.kb=function(){fg(this)},rn.isActive=function(){return!!this.g},rn.da=function(){try{return 2<Cc(this)?this.g.status:-1}catch{return-1}},rn.ja=function(){try{return this.g?this.g.responseText:""}catch{return""}},rn.Wa=function(n){if(this.g){var t=this.g.responseText;return n&&0==t.indexOf(n)&&(t=t.substring(n.length)),zA(t)}},rn.Ia=function(){return this.m},rn.Sa=function(){return"string"==typeof this.j?this.j:String(this.j)},(rn=QC.prototype).ra=8,rn.H=1,rn.Na=function(n){if(this.m)if(this.m=null,1==this.H){if(!n){this.W=Math.floor(1e5*Math.random()),n=this.W++;const r=new gf(this,this.l,n);let s=this.s;if(this.U&&(s?(s=hA(s),fA(s,this.U)):s=this.U),null!==this.o||this.O||(r.I=s,s=null),this.P)e:{for(var t=0,e=0;e<this.j.length;e++){var i=this.j[e];if(void 0===(i="__data__"in i.map&&"string"==typeof(i=i.map.__data__)?i.length:void 0))break;if(4096<(t+=i)){t=e;break e}if(4096===t||e===this.j.length-1){t=e+1;break e}}t=1e3}else t=1e3;t=KA(this,r,t),wr(e=wc(this.I),"RID",n),wr(e,"CVER",22),this.F&&wr(e,"X-HTTP-Session-Id",this.F),Yv(this,e),s&&(this.O?t="headers="+encodeURIComponent(String(ZA(s)))+"&"+t:this.o&&KC(e,this.o,s)),Hv(this.i,r),this.bb&&wr(e,"TYPE","init"),this.P?(wr(e,"$req",t),wr(e,"SID","null"),r.aa=!0,UC(r,e,null)):UC(r,e,t),this.H=2}}else 3==this.H&&(n?XA(this,n):0==this.j.length||xc(this.i)||XA(this))},rn.Ma=function(){if(this.u=null,JC(this),this.ca&&!(this.M||null==this.g||0>=this.S)){var n=2*this.S;this.l.info("BP detection timer enabled: "+n),this.B=ag(Mo(this.jb,this),n)}},rn.jb=function(){this.B&&(this.B=null,this.l.info("BP detection timeout reached."),this.l.info("Buffering proxy detected and switch to long-polling!"),this.G=!1,this.M=!0,ko(10),n0(this),JC(this))},rn.ib=function(){null!=this.v&&(this.v=null,n0(this),s0(this),ko(19))},rn.pb=function(n){n?(this.l.info("Successfully pinged google.com"),ko(2)):(this.l.info("Failed to ping google.com"),ko(1))},rn.isActive=function(){return!!this.h&&this.h.isActive(this)},(rn=eI.prototype).Ba=function(){},rn.Aa=function(){},rn.za=function(){},rn.ya=function(){},rn.isActive=function(){return!0},rn.Va=function(){},pg.prototype.g=function(n,t){return new Ia(n,t)},Xs(Ia,Ks),Ia.prototype.m=function(){this.g.h=this.j,this.A&&(this.g.J=!0);var n=this.g,t=this.l,e=this.h||void 0;ko(0),n.Y=t,n.na=e||{},n.G=n.aa,n.I=qv(n,null,n.Y),r0(n)},Ia.prototype.close=function(){Wv(this.g)},Ia.prototype.u=function(n){var t=this.g;if("string"==typeof n){var e={};e.__data__=n,n=e}else this.v&&((e={}).__data__=Hb(n),n=e);t.j.push(new class{constructor(n,t){this.g=n,this.map=t}}(t.fb++,n)),3==t.H&&r0(t)},Ia.prototype.N=function(){this.g.h=null,delete this.j,Wv(this.g),delete this.g,Ia.$.N.call(this)},Xs(Ol,Ov),Xs(gg,Nv),Xs(ws,eI),ws.prototype.Ba=function(){mo(this.g,"a")},ws.prototype.Aa=function(n){mo(this.g,new Ol(n))},ws.prototype.za=function(n){mo(this.g,new gg)},ws.prototype.ya=function(){mo(this.g,"b")},Xs(ca,function bf(){this.blockSize=-1}),ca.prototype.reset=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.i=this.h=0},ca.prototype.j=function(n,t){void 0===t&&(t=n.length);for(var e=t-this.blockSize,i=this.m,r=this.h,s=0;s<t;){if(0==r)for(;s<=e;)ua(this,n,s),s+=this.blockSize;if("string"==typeof n){for(;s<t;)if(i[r++]=n.charCodeAt(s++),r==this.blockSize){ua(this,i),r=0;break}}else for(;s<t;)if(i[r++]=n[s++],r==this.blockSize){ua(this,i),r=0;break}}this.h=r,this.i+=t},ca.prototype.l=function(){var n=Array((56>this.h?this.blockSize:2*this.blockSize)-this.h);n[0]=128;for(var t=1;t<n.length-8;++t)n[t]=0;var e=8*this.i;for(t=n.length-8;t<n.length;++t)n[t]=255&e,e/=256;for(this.j(n),n=Array(16),t=e=0;4>t;++t)for(var i=0;32>i;i+=8)n[e++]=this.g[t]>>>i&255;return n};var mg={};function Fd(n){return-128<=n&&128>n?function SP(n,t){var e=mg;return Object.prototype.hasOwnProperty.call(e,n)?e[n]:e[n]=t(n)}(n,function(t){return new Hi([0|t],0>t?-1:0)}):new Hi([0|n],0>n?-1:0)}function $o(n){if(isNaN(n)||!isFinite(n))return Nl;if(0>n)return Qs($o(-n));for(var t=[],e=1,i=0;n>=e;i++)t[i]=n/e|0,e*=Ld;return new Hi(t,0)}var Ld=4294967296,Nl=Fd(0),Bd=Fd(1),xf=Fd(16777216);function da(n){if(0!=n.h)return!1;for(var t=0;t<n.g.length;t++)if(0!=n.g[t])return!1;return!0}function Ma(n){return-1==n.h}function Qs(n){for(var t=n.g.length,e=[],i=0;i<t;i++)e[i]=~n.g[i];return new Hi(e,~n.h).add(Bd)}function Zv(n,t){return n.add(Qs(t))}function Xv(n,t){for(;(65535&n[t])!=n[t];)n[t+1]+=n[t]>>>16,n[t]&=65535,t++}function vg(n,t){this.g=n,this.h=t}function Kv(n,t){if(da(t))throw Error("division by zero");if(da(n))return new vg(Nl,Nl);if(Ma(n))return t=Kv(Qs(n),t),new vg(Qs(t.g),Qs(t.h));if(Ma(t))return t=Kv(n,Qs(t)),new vg(Qs(t.g),t.h);if(30<n.g.length){if(Ma(n)||Ma(t))throw Error("slowDivide_ only works with positive integers.");for(var e=Bd,i=t;0>=i.X(n);)e=t1(e),i=t1(i);var r=Cf(e,1),s=Cf(i,1);for(i=Cf(i,2),e=Cf(e,2);!da(i);){var c=s.add(i);0>=c.X(n)&&(r=r.add(e),s=c),i=Cf(i,1),e=Cf(e,1)}return t=Zv(n,r.R(t)),new vg(r,t)}for(r=Nl;0<=n.X(t);){for(e=Math.max(1,Math.floor(n.ea()/t.ea())),i=48>=(i=Math.ceil(Math.log(e)/Math.LN2))?1:Math.pow(2,i-48),c=(s=$o(e)).R(t);Ma(c)||0<c.X(n);)c=(s=$o(e-=i)).R(t);da(s)&&(s=Bd),r=r.add(s),n=Zv(n,c)}return new vg(r,n)}function t1(n){for(var t=n.g.length+1,e=[],i=0;i<t;i++)e[i]=n.D(i)<<1|n.D(i-1)>>>31;return new Hi(e,n.h)}function Cf(n,t){var e=t>>5;t%=32;for(var i=n.g.length-e,r=[],s=0;s<i;s++)r[s]=0<t?n.D(s+e)>>>t|n.D(s+e+1)<<32-t:n.D(s+e);return new Hi(r,n.h)}(rn=Hi.prototype).ea=function(){if(Ma(this))return-Qs(this).ea();for(var n=0,t=1,e=0;e<this.g.length;e++){var i=this.D(e);n+=(0<=i?i:Ld+i)*t,t*=Ld}return n},rn.toString=function(n){if(2>(n=n||10)||36<n)throw Error("radix out of range: "+n);if(da(this))return"0";if(Ma(this))return"-"+Qs(this).toString(n);for(var t=$o(Math.pow(n,6)),e=this,i="";;){var r=Kv(e,t).g,s=((0<(e=Zv(e,r.R(t))).g.length?e.g[0]:e.h)>>>0).toString(n);if(da(e=r))return s+i;for(;6>s.length;)s="0"+s;i=s+i}},rn.D=function(n){return 0>n?0:n<this.g.length?this.g[n]:this.h},rn.X=function(n){return Ma(n=Zv(this,n))?-1:da(n)?0:1},rn.abs=function(){return Ma(this)?Qs(this):this},rn.add=function(n){for(var t=Math.max(this.g.length,n.g.length),e=[],i=0,r=0;r<=t;r++){var s=i+(65535&this.D(r))+(65535&n.D(r)),c=(s>>>16)+(this.D(r)>>>16)+(n.D(r)>>>16);i=c>>>16,e[r]=(c&=65535)<<16|(s&=65535)}return new Hi(e,-2147483648&e[e.length-1]?-1:0)},rn.R=function(n){if(da(this)||da(n))return Nl;if(Ma(this))return Ma(n)?Qs(this).R(Qs(n)):Qs(Qs(this).R(n));if(Ma(n))return Qs(this.R(Qs(n)));if(0>this.X(xf)&&0>n.X(xf))return $o(this.ea()*n.ea());for(var t=this.g.length+n.g.length,e=[],i=0;i<2*t;i++)e[i]=0;for(i=0;i<this.g.length;i++)for(var r=0;r<n.g.length;r++){var s=this.D(i)>>>16,c=65535&this.D(i),p=n.D(r)>>>16,_=65535&n.D(r);e[2*i+2*r]+=c*_,Xv(e,2*i+2*r),e[2*i+2*r+1]+=s*_,Xv(e,2*i+2*r+1),e[2*i+2*r+1]+=c*p,Xv(e,2*i+2*r+1),e[2*i+2*r+2]+=s*p,Xv(e,2*i+2*r+2)}for(i=0;i<t;i++)e[i]=e[2*i+1]<<16|e[2*i];for(i=t;i<2*t;i++)e[i]=0;return new Hi(e,0)},rn.gb=function(n){return Kv(this,n).h},rn.and=function(n){for(var t=Math.max(this.g.length,n.g.length),e=[],i=0;i<t;i++)e[i]=this.D(i)&n.D(i);return new Hi(e,this.h&n.h)},rn.or=function(n){for(var t=Math.max(this.g.length,n.g.length),e=[],i=0;i<t;i++)e[i]=this.D(i)|n.D(i);return new Hi(e,this.h|n.h)},rn.xor=function(n){for(var t=Math.max(this.g.length,n.g.length),e=[],i=0;i<t;i++)e[i]=this.D(i)^n.D(i);return new Hi(e,this.h^n.h)},pg.prototype.createWebChannel=pg.prototype.g,Ia.prototype.send=Ia.prototype.u,Ia.prototype.open=Ia.prototype.m,Ia.prototype.close=Ia.prototype.close,jb.NO_ERROR=0,jb.TIMEOUT=8,jb.HTTP_ERROR=6,kv.COMPLETE="complete",lg.EventType=cg,cg.OPEN="a",cg.CLOSE="b",cg.ERROR="c",cg.MESSAGE="d",Ks.prototype.listen=Ks.prototype.O,$r.prototype.listenOnce=$r.prototype.P,$r.prototype.getLastError=$r.prototype.Sa,$r.prototype.getLastErrorCode=$r.prototype.Ia,$r.prototype.getStatus=$r.prototype.da,$r.prototype.getResponseJson=$r.prototype.Wa,$r.prototype.getResponseText=$r.prototype.ja,$r.prototype.send=$r.prototype.ha,$r.prototype.setWithCredentials=$r.prototype.Oa,ca.prototype.digest=ca.prototype.l,ca.prototype.reset=ca.prototype.reset,ca.prototype.update=ca.prototype.j,Hi.prototype.add=Hi.prototype.add,Hi.prototype.multiply=Hi.prototype.R,Hi.prototype.modulo=Hi.prototype.gb,Hi.prototype.compare=Hi.prototype.X,Hi.prototype.toNumber=Hi.prototype.ea,Hi.prototype.toString=Hi.prototype.toString,Hi.prototype.getBits=Hi.prototype.D,Hi.fromNumber=$o,Hi.fromString=function wf(n,t){if(0==n.length)throw Error("number format error: empty string");if(2>(t=t||10)||36<t)throw Error("radix out of range: "+t);if("-"==n.charAt(0))return Qs(wf(n.substring(1),t));if(0<=n.indexOf("-"))throw Error('number format error: interior "-" character');for(var e=$o(Math.pow(t,8)),i=Nl,r=0;r<n.length;r+=8){var s=Math.min(8,n.length-r),c=parseInt(n.substring(r,r+s),t);8>s?(s=$o(Math.pow(t,s)),i=i.R(s).add($o(c))):i=(i=i.R(e)).add($o(c))}return i};var tI=Ka.createWebChannelTransport=function(){return new pg},n1=Ka.getStatEventTarget=function(){return Mv()},r1=Ka.ErrorCode=jb,VV=Ka.EventType=kv,HV=Ka.Event=Nd,nI=Ka.Stat={xb:0,Ab:1,Bb:2,Ub:3,Zb:4,Wb:5,Xb:6,Vb:7,Tb:8,Yb:9,PROXY:10,NOPROXY:11,Rb:12,Nb:13,Ob:14,Mb:15,Pb:16,Qb:17,tb:18,sb:19,ub:20},GP=Ka.FetchXmlHttpFactory=Qb,s1=Ka.WebChannel=lg,WP=Ka.XhrIo=$r,UV=Ka.Md5=ca,yg=Ka.Integer=Hi;const iI="@firebase/firestore";class Js{constructor(t){this.uid=t}isAuthenticated(){return null!=this.uid}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(t){return t.uid===this.uid}}Js.UNAUTHENTICATED=new Js(null),Js.GOOGLE_CREDENTIALS=new Js("google-credentials-uid"),Js.FIRST_PARTY=new Js("first-party-uid"),Js.MOCK_USER=new Js("mock-user");let Vd="9.23.0";const Ja=new As.Yd("@firebase/firestore");function Qv(){return Ja.logLevel}function Mt(n,...t){if(Ja.logLevel<=As.in.DEBUG){const e=t.map(o1);Ja.debug(`Firestore (${Vd}): ${n}`,...e)}}function xr(n,...t){if(Ja.logLevel<=As.in.ERROR){const e=t.map(o1);Ja.error(`Firestore (${Vd}): ${n}`,...e)}}function ka(n,...t){if(Ja.logLevel<=As.in.WARN){const e=t.map(o1);Ja.warn(`Firestore (${Vd}): ${n}`,...e)}}function o1(n){if("string"==typeof n)return n;try{return JSON.stringify(n)}catch{return n}}function sn(n="Unexpected state"){const t=`FIRESTORE (${Vd}) INTERNAL ASSERTION FAILED: `+n;throw xr(t),new Error(t)}function _n(n,t){n||sn()}function tn(n,t){return n}const tt={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class Ct extends ue.ZR{constructor(t,e){super(t,e),this.code=t,this.message=e,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}class as{constructor(){this.promise=new Promise((t,e)=>{this.resolve=t,this.reject=e})}}class Jv{constructor(t,e){this.user=e,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${t}`)}}class zV{getToken(){return Promise.resolve(null)}invalidateToken(){}start(t,e){t.enqueueRetryable(()=>e(Js.UNAUTHENTICATED))}shutdown(){}}class YP{constructor(t){this.token=t,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(t,e){this.changeListener=e,t.enqueueRetryable(()=>e(this.token.user))}shutdown(){this.changeListener=null}}class qP{constructor(t){this.t=t,this.currentUser=Js.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(t,e){var i=this;let r=this.i;const s=C=>this.i!==r?(r=this.i,e(C)):Promise.resolve();let c=new as;this.o=()=>{this.i++,this.currentUser=this.u(),c.resolve(),c=new as,t.enqueueRetryable(()=>s(this.currentUser))};const p=()=>{const C=c;t.enqueueRetryable((0,it.Z)(function*(){yield C.promise,yield s(i.currentUser)}))},_=C=>{Mt("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=C,this.auth.addAuthTokenListener(this.o),p()};this.t.onInit(C=>_(C)),setTimeout(()=>{if(!this.auth){const C=this.t.getImmediate({optional:!0});C?_(C):(Mt("FirebaseAuthCredentialsProvider","Auth not yet detected"),c.resolve(),c=new as)}},0),p()}getToken(){const t=this.i,e=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(e).then(i=>this.i!==t?(Mt("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):i?(_n("string"==typeof i.accessToken),new Jv(i.accessToken,this.currentUser)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.auth.removeAuthTokenListener(this.o)}u(){const t=this.auth&&this.auth.getUid();return _n(null===t||"string"==typeof t),new Js(t)}}class a1{constructor(t,e,i){this.h=t,this.l=e,this.m=i,this.type="FirstParty",this.user=Js.FIRST_PARTY,this.g=new Map}p(){return this.m?this.m():null}get headers(){this.g.set("X-Goog-AuthUser",this.h);const t=this.p();return t&&this.g.set("Authorization",t),this.l&&this.g.set("X-Goog-Iam-Authorization-Token",this.l),this.g}}class ZP{constructor(t,e,i){this.h=t,this.l=e,this.m=i}getToken(){return Promise.resolve(new a1(this.h,this.l,this.m))}start(t,e){t.enqueueRetryable(()=>e(Js.FIRST_PARTY))}shutdown(){}invalidateToken(){}}class l1{constructor(t){this.value=t,this.type="AppCheck",this.headers=new Map,t&&t.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class XP{constructor(t){this.I=t,this.forceRefresh=!1,this.appCheck=null,this.T=null}start(t,e){const i=s=>{null!=s.error&&Mt("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${s.error.message}`);const c=s.token!==this.T;return this.T=s.token,Mt("FirebaseAppCheckTokenProvider",`Received ${c?"new":"existing"} token.`),c?e(s.token):Promise.resolve()};this.o=s=>{t.enqueueRetryable(()=>i(s))};const r=s=>{Mt("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=s,this.appCheck.addTokenListener(this.o)};this.I.onInit(s=>r(s)),setTimeout(()=>{if(!this.appCheck){const s=this.I.getImmediate({optional:!0});s?r(s):Mt("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}},0)}getToken(){const t=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(t).then(e=>e?(_n("string"==typeof e.token),this.T=e.token,new l1(e.token)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.appCheck.removeTokenListener(this.o)}}function rI(n){const t=typeof self<"u"&&(self.crypto||self.msCrypto),e=new Uint8Array(n);if(t&&"function"==typeof t.getRandomValues)t.getRandomValues(e);else for(let i=0;i<n;i++)e[i]=Math.floor(256*Math.random());return e}class c1{static A(){const e=62*Math.floor(256/62);let i="";for(;i.length<20;){const r=rI(40);for(let s=0;s<r.length;++s)i.length<20&&r[s]<e&&(i+="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789".charAt(r[s]%62))}return i}}function jn(n,t){return n<t?-1:n>t?1:0}function _g(n,t,e){return n.length===t.length&&n.every((i,r)=>e(i,t[r]))}function sI(n){return n+"\0"}class Pr{constructor(t,e){if(this.seconds=t,this.nanoseconds=e,e<0)throw new Ct(tt.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+e);if(e>=1e9)throw new Ct(tt.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+e);if(t<-62135596800)throw new Ct(tt.INVALID_ARGUMENT,"Timestamp seconds out of range: "+t);if(t>=253402300800)throw new Ct(tt.INVALID_ARGUMENT,"Timestamp seconds out of range: "+t)}static now(){return Pr.fromMillis(Date.now())}static fromDate(t){return Pr.fromMillis(t.getTime())}static fromMillis(t){const e=Math.floor(t/1e3),i=Math.floor(1e6*(t-1e3*e));return new Pr(e,i)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/1e6}_compareTo(t){return this.seconds===t.seconds?jn(this.nanoseconds,t.nanoseconds):jn(this.seconds,t.seconds)}isEqual(t){return t.seconds===this.seconds&&t.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{seconds:this.seconds,nanoseconds:this.nanoseconds}}valueOf(){return String(this.seconds- -62135596800).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}class bn{constructor(t){this.timestamp=t}static fromTimestamp(t){return new bn(t)}static min(){return new bn(new Pr(0,0))}static max(){return new bn(new Pr(253402300799,999999999))}compareTo(t){return this.timestamp._compareTo(t.timestamp)}isEqual(t){return this.timestamp.isEqual(t.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}class Ef{constructor(t,e,i){void 0===e?e=0:e>t.length&&sn(),void 0===i?i=t.length-e:i>t.length-e&&sn(),this.segments=t,this.offset=e,this.len=i}get length(){return this.len}isEqual(t){return 0===Ef.comparator(this,t)}child(t){const e=this.segments.slice(this.offset,this.limit());return t instanceof Ef?t.forEach(i=>{e.push(i)}):e.push(t),this.construct(e)}limit(){return this.offset+this.length}popFirst(t){return this.construct(this.segments,this.offset+(t=void 0===t?1:t),this.length-t)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(t){return this.segments[this.offset+t]}isEmpty(){return 0===this.length}isPrefixOf(t){if(t.length<this.length)return!1;for(let e=0;e<this.length;e++)if(this.get(e)!==t.get(e))return!1;return!0}isImmediateParentOf(t){if(this.length+1!==t.length)return!1;for(let e=0;e<this.length;e++)if(this.get(e)!==t.get(e))return!1;return!0}forEach(t){for(let e=this.offset,i=this.limit();e<i;e++)t(this.segments[e])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(t,e){const i=Math.min(t.length,e.length);for(let r=0;r<i;r++){const s=t.get(r),c=e.get(r);if(s<c)return-1;if(s>c)return 1}return t.length<e.length?-1:t.length>e.length?1:0}}class xi extends Ef{construct(t,e,i){return new xi(t,e,i)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}static fromString(...t){const e=[];for(const i of t){if(i.indexOf("//")>=0)throw new Ct(tt.INVALID_ARGUMENT,`Invalid segment (${i}). Paths must not contain // in them.`);e.push(...i.split("/").filter(r=>r.length>0))}return new xi(e)}static emptyPath(){return new xi([])}}const KP=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class Cr extends Ef{construct(t,e,i){return new Cr(t,e,i)}static isValidIdentifier(t){return KP.test(t)}canonicalString(){return this.toArray().map(t=>(t=t.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),Cr.isValidIdentifier(t)||(t="`"+t+"`"),t)).join(".")}toString(){return this.canonicalString()}isKeyField(){return 1===this.length&&"__name__"===this.get(0)}static keyField(){return new Cr(["__name__"])}static fromServerFormat(t){const e=[];let i="",r=0;const s=()=>{if(0===i.length)throw new Ct(tt.INVALID_ARGUMENT,`Invalid field path (${t}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);e.push(i),i=""};let c=!1;for(;r<t.length;){const p=t[r];if("\\"===p){if(r+1===t.length)throw new Ct(tt.INVALID_ARGUMENT,"Path has trailing escape character: "+t);const _=t[r+1];if("\\"!==_&&"."!==_&&"`"!==_)throw new Ct(tt.INVALID_ARGUMENT,"Path has invalid escape sequence: "+t);i+=_,r+=2}else"`"===p?(c=!c,r++):"."!==p||c?(i+=p,r++):(s(),r++)}if(s(),c)throw new Ct(tt.INVALID_ARGUMENT,"Unterminated ` in path: "+t);return new Cr(e)}static emptyPath(){return new Cr([])}}class qt{constructor(t){this.path=t}static fromPath(t){return new qt(xi.fromString(t))}static fromName(t){return new qt(xi.fromString(t).popFirst(5))}static empty(){return new qt(xi.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(t){return this.path.length>=2&&this.path.get(this.path.length-2)===t}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(t){return null!==t&&0===xi.comparator(this.path,t.path)}toString(){return this.path.toString()}static comparator(t,e){return xi.comparator(t.path,e.path)}static isDocumentKey(t){return t.length%2==0}static fromSegments(t){return new qt(new xi(t.slice()))}}class bg{constructor(t,e,i,r){this.indexId=t,this.collectionGroup=e,this.fields=i,this.indexState=r}}function c0(n){return n.fields.find(t=>2===t.kind)}function Df(n){return n.fields.filter(t=>2!==t.kind)}bg.UNKNOWN_ID=-1;class u0{constructor(t,e){this.fieldPath=t,this.kind=e}}class Hd{constructor(t,e){this.sequenceNumber=t,this.offset=e}static empty(){return new Hd(0,Oa.min())}}function h0(n,t){const e=n.toTimestamp().seconds,i=n.toTimestamp().nanoseconds+1,r=bn.fromTimestamp(1e9===i?new Pr(e+1,0):new Pr(e,i));return new Oa(r,qt.empty(),t)}function u1(n){return new Oa(n.readTime,n.key,-1)}class Oa{constructor(t,e,i){this.readTime=t,this.documentKey=e,this.largestBatchId=i}static min(){return new Oa(bn.min(),qt.empty(),-1)}static max(){return new Oa(bn.max(),qt.empty(),-1)}}function d1(n,t){let e=n.readTime.compareTo(t.readTime);return 0!==e?e:(e=qt.comparator(n.documentKey,t.documentKey),0!==e?e:jn(n.largestBatchId,t.largestBatchId))}const h1="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class f0{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(t){this.onCommittedListeners.push(t)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach(t=>t())}}function wu(n){return ey.apply(this,arguments)}function ey(){return ey=(0,it.Z)(function*(n){if(n.code!==tt.FAILED_PRECONDITION||n.message!==h1)throw n;Mt("LocalStore","Unexpectedly lost primary lease")}),ey.apply(this,arguments)}class Xe{constructor(t){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,t(e=>{this.isDone=!0,this.result=e,this.nextCallback&&this.nextCallback(e)},e=>{this.isDone=!0,this.error=e,this.catchCallback&&this.catchCallback(e)})}catch(t){return this.next(void 0,t)}next(t,e){return this.callbackAttached&&sn(),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(e,this.error):this.wrapSuccess(t,this.result):new Xe((i,r)=>{this.nextCallback=s=>{this.wrapSuccess(t,s).next(i,r)},this.catchCallback=s=>{this.wrapFailure(e,s).next(i,r)}})}toPromise(){return new Promise((t,e)=>{this.next(t,e)})}wrapUserFunction(t){try{const e=t();return e instanceof Xe?e:Xe.resolve(e)}catch(e){return Xe.reject(e)}}wrapSuccess(t,e){return t?this.wrapUserFunction(()=>t(e)):Xe.resolve(e)}wrapFailure(t,e){return t?this.wrapUserFunction(()=>t(e)):Xe.reject(e)}static resolve(t){return new Xe((e,i)=>{e(t)})}static reject(t){return new Xe((e,i)=>{i(t)})}static waitFor(t){return new Xe((e,i)=>{let r=0,s=0,c=!1;t.forEach(p=>{++r,p.next(()=>{++s,c&&s===r&&e()},_=>i(_))}),c=!0,s===r&&e()})}static or(t){let e=Xe.resolve(!1);for(const i of t)e=e.next(r=>r?Xe.resolve(r):i());return e}static forEach(t,e){const i=[];return t.forEach((r,s)=>{i.push(e.call(this,r,s))}),this.waitFor(i)}static mapArray(t,e){return new Xe((i,r)=>{const s=t.length,c=new Array(s);let p=0;for(let _=0;_<s;_++){const C=_;e(t[C]).next(M=>{c[C]=M,++p,p===s&&i(c)},M=>r(M))}})}static doWhile(t,e){return new Xe((i,r)=>{const s=()=>{!0===t()?e().next(()=>{s()},r):i()};s()})}}class p0{constructor(t,e){this.action=t,this.transaction=e,this.aborted=!1,this.v=new as,this.transaction.oncomplete=()=>{this.v.resolve()},this.transaction.onabort=()=>{e.error?this.v.reject(new wg(t,e.error)):this.v.resolve()},this.transaction.onerror=i=>{const r=ty(i.target.error);this.v.reject(new wg(t,r))}}static open(t,e,i,r){try{return new p0(e,t.transaction(r,i))}catch(s){throw new wg(e,s)}}get R(){return this.v.promise}abort(t){t&&this.v.reject(t),this.aborted||(Mt("SimpleDb","Aborting transaction:",t?t.message:"Client-initiated abort"),this.aborted=!0,this.transaction.abort())}P(){const t=this.transaction;this.aborted||"function"!=typeof t.commit||t.commit()}store(t){const e=this.transaction.objectStore(t);return new JP(e)}}class el{constructor(t,e,i){this.name=t,this.version=e,this.V=i,12.2===el.S((0,ue.z$)())&&xr("Firestore persistence suffers from a bug in iOS 12.2 Safari that may cause your app to stop working. See https://stackoverflow.com/q/56496296/110915 for details and a potential workaround.")}static delete(t){return Mt("SimpleDb","Removing database:",t),Ud(window.indexedDB.deleteDatabase(t)).toPromise()}static D(){if(!(0,ue.hl)())return!1;if(el.C())return!0;const t=(0,ue.z$)(),e=el.S(t),i=0<e&&e<10,r=el.N(t),s=0<r&&r<4.5;return!(t.indexOf("MSIE ")>0||t.indexOf("Trident/")>0||t.indexOf("Edge/")>0||i||s)}static C(){var t;return typeof process<"u"&&"YES"===(null===(t=process.env)||void 0===t?void 0:t.k)}static M(t,e){return t.store(e)}static S(t){const e=t.match(/i(?:phone|pad|pod) os ([\d_]+)/i),i=e?e[1].split("_").slice(0,2).join("."):"-1";return Number(i)}static N(t){const e=t.match(/Android ([\d.]+)/i),i=e?e[1].split(".").slice(0,2).join("."):"-1";return Number(i)}$(t){var e=this;return(0,it.Z)(function*(){return e.db||(Mt("SimpleDb","Opening database:",e.name),e.db=yield new Promise((i,r)=>{const s=indexedDB.open(e.name,e.version);s.onsuccess=c=>{i(c.target.result)},s.onblocked=()=>{r(new wg(t,"Cannot upgrade IndexedDB schema while another tab is open. Close all tabs that access Firestore and reload this page to proceed."))},s.onerror=c=>{const p=c.target.error;r("VersionError"===p.name?new Ct(tt.FAILED_PRECONDITION,"A newer version of the Firestore SDK was previously used and so the persisted data is not compatible with the version of the SDK you are now using. The SDK will operate with persistence disabled. If you need persistence, please re-upgrade to a newer version of the SDK or else clear the persisted IndexedDB data for your app to start fresh."):"InvalidStateError"===p.name?new Ct(tt.FAILED_PRECONDITION,"Unable to open an IndexedDB connection. This could be due to running in a private browsing session on a browser whose private browsing sessions do not support IndexedDB: "+p):new wg(t,p))},s.onupgradeneeded=c=>{Mt("SimpleDb",'Database "'+e.name+'" requires upgrade from version:',c.oldVersion),e.V.O(c.target.result,s.transaction,c.oldVersion,e.version).next(()=>{Mt("SimpleDb","Database upgrade to version "+e.version+" complete")})}})),e.F&&(e.db.onversionchange=i=>e.F(i)),e.db})()}B(t){this.F=t,this.db&&(this.db.onversionchange=e=>t(e))}runTransaction(t,e,i,r){var s=this;return(0,it.Z)(function*(){const c="readonly"===e;let p=0;for(;;){++p;try{s.db=yield s.$(t);const _=p0.open(s.db,t,c?"readonly":"readwrite",i),C=r(_).next(M=>(_.P(),M)).catch(M=>(_.abort(M),Xe.reject(M))).toPromise();return C.catch(()=>{}),yield _.R,C}catch(_){const C=_,M="FirebaseError"!==C.name&&p<3;if(Mt("SimpleDb","Transaction failed with error:",C.message,"Retrying:",M),s.close(),!M)return Promise.reject(C)}}})()}close(){this.db&&this.db.close(),this.db=void 0}}class oI{constructor(t){this.L=t,this.q=!1,this.U=null}get isDone(){return this.q}get K(){return this.U}set cursor(t){this.L=t}done(){this.q=!0}G(t){this.U=t}delete(){return Ud(this.L.delete())}}class wg extends Ct{constructor(t,e){super(tt.UNAVAILABLE,`IndexedDB transaction '${t}' failed: ${e}`),this.name="IndexedDbTransactionError"}}function xu(n){return"IndexedDbTransactionError"===n.name}class JP{constructor(t){this.store=t}put(t,e){let i;return void 0!==e?(Mt("SimpleDb","PUT",this.store.name,t,e),i=this.store.put(e,t)):(Mt("SimpleDb","PUT",this.store.name,"<auto-key>",t),i=this.store.put(t)),Ud(i)}add(t){return Mt("SimpleDb","ADD",this.store.name,t,t),Ud(this.store.add(t))}get(t){return Ud(this.store.get(t)).next(e=>(void 0===e&&(e=null),Mt("SimpleDb","GET",this.store.name,t,e),e))}delete(t){return Mt("SimpleDb","DELETE",this.store.name,t),Ud(this.store.delete(t))}count(){return Mt("SimpleDb","COUNT",this.store.name),Ud(this.store.count())}j(t,e){const i=this.options(t,e);if(i.index||"function"!=typeof this.store.getAll){const r=this.cursor(i),s=[];return this.W(r,(c,p)=>{s.push(p)}).next(()=>s)}{const r=this.store.getAll(i.range);return new Xe((s,c)=>{r.onerror=p=>{c(p.target.error)},r.onsuccess=p=>{s(p.target.result)}})}}H(t,e){const i=this.store.getAll(t,null===e?void 0:e);return new Xe((r,s)=>{i.onerror=c=>{s(c.target.error)},i.onsuccess=c=>{r(c.target.result)}})}J(t,e){Mt("SimpleDb","DELETE ALL",this.store.name);const i=this.options(t,e);i.Y=!1;const r=this.cursor(i);return this.W(r,(s,c,p)=>p.delete())}X(t,e){let i;e?i=t:(i={},e=t);const r=this.cursor(i);return this.W(r,e)}Z(t){const e=this.cursor({});return new Xe((i,r)=>{e.onerror=s=>{const c=ty(s.target.error);r(c)},e.onsuccess=s=>{const c=s.target.result;c?t(c.primaryKey,c.value).next(p=>{p?c.continue():i()}):i()}})}W(t,e){const i=[];return new Xe((r,s)=>{t.onerror=c=>{s(c.target.error)},t.onsuccess=c=>{const p=c.target.result;if(!p)return void r();const _=new oI(p),C=e(p.primaryKey,p.value,_);if(C instanceof Xe){const M=C.catch(V=>(_.done(),Xe.reject(V)));i.push(M)}_.isDone?r():null===_.K?p.continue():p.continue(_.K)}}).next(()=>Xe.waitFor(i))}options(t,e){let i;return void 0!==t&&("string"==typeof t?i=t:e=t),{index:i,range:e}}cursor(t){let e="next";if(t.reverse&&(e="prev"),t.index){const i=this.store.index(t.index);return t.Y?i.openKeyCursor(t.range,e):i.openCursor(t.range,e)}return this.store.openCursor(t.range,e)}}function Ud(n){return new Xe((t,e)=>{n.onsuccess=i=>{t(i.target.result)},n.onerror=i=>{const r=ty(i.target.error);e(r)}})}let f1=!1;function ty(n){const t=el.S((0,ue.z$)());if(t>=12.2&&t<13){const e="An internal error was encountered in the Indexed Database server";if(n.message.indexOf(e)>=0){const i=new Ct("internal",`IOS_INDEXEDDB_BUG1: IndexedDb has thrown '${e}'. This is likely due to an unavoidable bug in iOS. See https://stackoverflow.com/q/56496296/110915 for details and a potential workaround.`);return f1||(f1=!0,setTimeout(()=>{throw i},0)),i}}return n}class g0{constructor(t,e){this.asyncQueue=t,this.tt=e,this.task=null}start(){this.et(15e3)}stop(){this.task&&(this.task.cancel(),this.task=null)}get started(){return null!==this.task}et(t){var e=this;Mt("IndexBackiller",`Scheduled in ${t}ms`),this.task=this.asyncQueue.enqueueAfterDelay("index_backfill",t,(0,it.Z)(function*(){e.task=null;try{Mt("IndexBackiller",`Documents written: ${yield e.tt.nt()}`)}catch(i){xu(i)?Mt("IndexBackiller","Ignoring IndexedDB error during index backfill: ",i):yield wu(i)}yield e.et(6e4)}))}}class aI{constructor(t,e){this.localStore=t,this.persistence=e}nt(t=50){var e=this;return(0,it.Z)(function*(){return e.persistence.runTransaction("Backfill Indexes","readwrite-primary",i=>e.st(i,t))})()}st(t,e){const i=new Set;let r=e,s=!0;return Xe.doWhile(()=>!0===s&&r>0,()=>this.localStore.indexManager.getNextCollectionGroupToUpdate(t).next(c=>{if(null!==c&&!i.has(c))return Mt("IndexBackiller",`Processing collection: ${c}`),this.it(t,c,r).next(p=>{r-=p,i.add(c)});s=!1})).next(()=>e-r)}it(t,e,i){return this.localStore.indexManager.getMinOffsetFromCollectionGroup(t,e).next(r=>this.localStore.localDocuments.getNextDocuments(t,e,r,i).next(s=>{const c=s.changes;return this.localStore.indexManager.updateIndexEntries(t,c).next(()=>this.rt(r,s)).next(p=>(Mt("IndexBackiller",`Updating offset: ${p}`),this.localStore.indexManager.updateCollectionGroup(t,e,p))).next(()=>c.size)}))}rt(t,e){let i=t;return e.changes.forEach((r,s)=>{const c=u1(s);d1(c,i)>0&&(i=c)}),new Oa(i.readTime,i.documentKey,Math.max(e.batchId,t.largestBatchId))}}let ha=(()=>{class n{constructor(e,i){this.previousValue=e,i&&(i.sequenceNumberHandler=r=>this.ot(r),this.ut=r=>i.writeSequenceNumber(r))}ot(e){return this.previousValue=Math.max(e,this.previousValue),this.previousValue}next(){const e=++this.previousValue;return this.ut&&this.ut(e),e}}return n.ct=-1,n})();function xg(n){return null==n}function Cg(n){return 0===n&&1/n==-1/0}function p1(n){return"number"==typeof n&&Number.isInteger(n)&&!Cg(n)&&n<=Number.MAX_SAFE_INTEGER&&n>=Number.MIN_SAFE_INTEGER}function yo(n){let t="";for(let e=0;e<n.length;e++)t.length>0&&(t=g1(t)),t=lI(n.get(e),t);return g1(t)}function lI(n,t){let e=t;const i=n.length;for(let r=0;r<i;r++){const s=n.charAt(r);switch(s){case"\0":e+="\x01\x10";break;case"\x01":e+="\x01\x11";break;default:e+=s}}return e}function g1(n){return n+"\x01\x01"}function Na(n){const t=n.length;if(_n(t>=2),2===t)return _n("\x01"===n.charAt(0)&&"\x01"===n.charAt(1)),xi.emptyPath();const e=t-2,i=[];let r="";for(let s=0;s<t;){const c=n.indexOf("\x01",s);switch((c<0||c>e)&&sn(),n.charAt(c+1)){case"\x01":const p=n.substring(s,c);let _;0===r.length?_=p:(r+=p,_=r,r=""),i.push(_);break;case"\x10":r+=n.substring(s,c),r+="\0";break;case"\x11":r+=n.substring(s,c+1);break;default:sn()}s=c+2}return new xi(i)}const Cu=["userId","batchId"];function m0(n,t){return[n,yo(t)]}function cI(n,t,e){return[n,yo(t),e]}const m1={},Tf=["prefixPath","collectionGroup","readTime","documentId"],v1=["prefixPath","collectionGroup","documentId"],eR=["collectionGroup","readTime","prefixPath","documentId"],y1=["canonicalId","targetId"],GV=["targetId","path"],WV=["path","targetId"],tR=["collectionId","parent"],nR=["indexId","uid"],uI=["uid","sequenceNumber"],iR=["indexId","uid","arrayValue","directionalValue","orderedDocumentKey","documentKey"],Hs=["indexId","uid","orderedDocumentKey"],dI=["userId","collectionPath","documentId"],rR=["userId","collectionPath","largestBatchId"],sR=["userId","collectionGroup","largestBatchId"],_1=["mutationQueues","mutations","documentMutations","remoteDocuments","targets","owner","targetGlobal","targetDocuments","clientMetadata","remoteDocumentGlobal","collectionParents","bundles","namedQueries"],oR=[..._1,"documentOverlays"],b1=["mutationQueues","mutations","documentMutations","remoteDocumentsV14","targets","owner","targetGlobal","targetDocuments","clientMetadata","remoteDocumentGlobal","collectionParents","bundles","namedQueries","documentOverlays"],w1=b1,Eg=[...w1,"indexConfiguration","indexState","indexEntries"];class x1 extends f0{constructor(t,e){super(),this.ht=t,this.currentSequenceNumber=e}}function eo(n,t){const e=tn(n);return el.M(e.ht,t)}function C1(n){let t=0;for(const e in n)Object.prototype.hasOwnProperty.call(n,e)&&t++;return t}function zd(n,t){for(const e in n)Object.prototype.hasOwnProperty.call(n,e)&&t(e,n[e])}function E1(n){for(const t in n)if(Object.prototype.hasOwnProperty.call(n,t))return!1;return!0}class Er{constructor(t,e){this.comparator=t,this.root=e||Us.EMPTY}insert(t,e){return new Er(this.comparator,this.root.insert(t,e,this.comparator).copy(null,null,Us.BLACK,null,null))}remove(t){return new Er(this.comparator,this.root.remove(t,this.comparator).copy(null,null,Us.BLACK,null,null))}get(t){let e=this.root;for(;!e.isEmpty();){const i=this.comparator(t,e.key);if(0===i)return e.value;i<0?e=e.left:i>0&&(e=e.right)}return null}indexOf(t){let e=0,i=this.root;for(;!i.isEmpty();){const r=this.comparator(t,i.key);if(0===r)return e+i.left.size;r<0?i=i.left:(e+=i.left.size+1,i=i.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(t){return this.root.inorderTraversal(t)}forEach(t){this.inorderTraversal((e,i)=>(t(e,i),!1))}toString(){const t=[];return this.inorderTraversal((e,i)=>(t.push(`${e}:${i}`),!1)),`{${t.join(", ")}}`}reverseTraversal(t){return this.root.reverseTraversal(t)}getIterator(){return new Dg(this.root,null,this.comparator,!1)}getIteratorFrom(t){return new Dg(this.root,t,this.comparator,!1)}getReverseIterator(){return new Dg(this.root,null,this.comparator,!0)}getReverseIteratorFrom(t){return new Dg(this.root,t,this.comparator,!0)}}class Dg{constructor(t,e,i,r){this.isReverse=r,this.nodeStack=[];let s=1;for(;!t.isEmpty();)if(s=e?i(t.key,e):1,e&&r&&(s*=-1),s<0)t=this.isReverse?t.left:t.right;else{if(0===s){this.nodeStack.push(t);break}this.nodeStack.push(t),t=this.isReverse?t.right:t.left}}getNext(){let t=this.nodeStack.pop();const e={key:t.key,value:t.value};if(this.isReverse)for(t=t.left;!t.isEmpty();)this.nodeStack.push(t),t=t.right;else for(t=t.right;!t.isEmpty();)this.nodeStack.push(t),t=t.left;return e}hasNext(){return this.nodeStack.length>0}peek(){if(0===this.nodeStack.length)return null;const t=this.nodeStack[this.nodeStack.length-1];return{key:t.key,value:t.value}}}class Us{constructor(t,e,i,r,s){this.key=t,this.value=e,this.color=i??Us.RED,this.left=r??Us.EMPTY,this.right=s??Us.EMPTY,this.size=this.left.size+1+this.right.size}copy(t,e,i,r,s){return new Us(t??this.key,e??this.value,i??this.color,r??this.left,s??this.right)}isEmpty(){return!1}inorderTraversal(t){return this.left.inorderTraversal(t)||t(this.key,this.value)||this.right.inorderTraversal(t)}reverseTraversal(t){return this.right.reverseTraversal(t)||t(this.key,this.value)||this.left.reverseTraversal(t)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(t,e,i){let r=this;const s=i(t,r.key);return r=s<0?r.copy(null,null,null,r.left.insert(t,e,i),null):0===s?r.copy(null,e,null,null,null):r.copy(null,null,null,null,r.right.insert(t,e,i)),r.fixUp()}removeMin(){if(this.left.isEmpty())return Us.EMPTY;let t=this;return t.left.isRed()||t.left.left.isRed()||(t=t.moveRedLeft()),t=t.copy(null,null,null,t.left.removeMin(),null),t.fixUp()}remove(t,e){let i,r=this;if(e(t,r.key)<0)r.left.isEmpty()||r.left.isRed()||r.left.left.isRed()||(r=r.moveRedLeft()),r=r.copy(null,null,null,r.left.remove(t,e),null);else{if(r.left.isRed()&&(r=r.rotateRight()),r.right.isEmpty()||r.right.isRed()||r.right.left.isRed()||(r=r.moveRedRight()),0===e(t,r.key)){if(r.right.isEmpty())return Us.EMPTY;i=r.right.min(),r=r.copy(i.key,i.value,null,null,r.right.removeMin())}r=r.copy(null,null,null,null,r.right.remove(t,e))}return r.fixUp()}isRed(){return this.color}fixUp(){let t=this;return t.right.isRed()&&!t.left.isRed()&&(t=t.rotateLeft()),t.left.isRed()&&t.left.left.isRed()&&(t=t.rotateRight()),t.left.isRed()&&t.right.isRed()&&(t=t.colorFlip()),t}moveRedLeft(){let t=this.colorFlip();return t.right.left.isRed()&&(t=t.copy(null,null,null,null,t.right.rotateRight()),t=t.rotateLeft(),t=t.colorFlip()),t}moveRedRight(){let t=this.colorFlip();return t.left.left.isRed()&&(t=t.rotateRight(),t=t.colorFlip()),t}rotateLeft(){const t=this.copy(null,null,Us.RED,null,this.right.left);return this.right.copy(null,null,this.color,t,null)}rotateRight(){const t=this.copy(null,null,Us.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,t)}colorFlip(){const t=this.left.copy(null,null,!this.left.color,null,null),e=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,t,e)}checkMaxDepth(){const t=this.check();return Math.pow(2,t)<=this.size+1}check(){if(this.isRed()&&this.left.isRed()||this.right.isRed())throw sn();const t=this.left.check();if(t!==this.right.check())throw sn();return t+(this.isRed()?0:1)}}Us.EMPTY=null,Us.RED=!0,Us.BLACK=!1,Us.EMPTY=new class{constructor(){this.size=0}get key(){throw sn()}get value(){throw sn()}get color(){throw sn()}get left(){throw sn()}get right(){throw sn()}copy(n,t,e,i,r){return this}insert(n,t,e){return new Us(n,t)}remove(n,t){return this}isEmpty(){return!0}inorderTraversal(n){return!1}reverseTraversal(n){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};class Ni{constructor(t){this.comparator=t,this.data=new Er(this.comparator)}has(t){return null!==this.data.get(t)}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(t){return this.data.indexOf(t)}forEach(t){this.data.inorderTraversal((e,i)=>(t(e),!1))}forEachInRange(t,e){const i=this.data.getIteratorFrom(t[0]);for(;i.hasNext();){const r=i.getNext();if(this.comparator(r.key,t[1])>=0)return;e(r.key)}}forEachWhile(t,e){let i;for(i=void 0!==e?this.data.getIteratorFrom(e):this.data.getIterator();i.hasNext();)if(!t(i.getNext().key))return}firstAfterOrEqual(t){const e=this.data.getIteratorFrom(t);return e.hasNext()?e.getNext().key:null}getIterator(){return new hI(this.data.getIterator())}getIteratorFrom(t){return new hI(this.data.getIteratorFrom(t))}add(t){return this.copy(this.data.remove(t).insert(t,!0))}delete(t){return this.has(t)?this.copy(this.data.remove(t)):this}isEmpty(){return this.data.isEmpty()}unionWith(t){let e=this;return e.size<t.size&&(e=t,t=this),t.forEach(i=>{e=e.add(i)}),e}isEqual(t){if(!(t instanceof Ni)||this.size!==t.size)return!1;const e=this.data.getIterator(),i=t.data.getIterator();for(;e.hasNext();){const r=e.getNext().key,s=i.getNext().key;if(0!==this.comparator(r,s))return!1}return!0}toArray(){const t=[];return this.forEach(e=>{t.push(e)}),t}toString(){const t=[];return this.forEach(e=>t.push(e)),"SortedSet("+t.toString()+")"}copy(t){const e=new Ni(this.comparator);return e.data=t,e}}class hI{constructor(t){this.iter=t}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}function Sf(n){return n.hasNext()?n.getNext():void 0}class Yr{constructor(t){this.fields=t,t.sort(Cr.comparator)}static empty(){return new Yr([])}unionWith(t){let e=new Ni(Cr.comparator);for(const i of this.fields)e=e.add(i);for(const i of t)e=e.add(i);return new Yr(e.toArray())}covers(t){for(const e of this.fields)if(e.isPrefixOf(t))return!0;return!1}isEqual(t){return _g(this.fields,t.fields,(e,i)=>e.isEqual(i))}}class tl extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}class Is{constructor(t){this.binaryString=t}static fromBase64String(t){const e=function(i){try{return atob(i)}catch(r){throw typeof DOMException<"u"&&r instanceof DOMException?new tl("Invalid base64 string: "+r):r}}(t);return new Is(e)}static fromUint8Array(t){const e=function(i){let r="";for(let s=0;s<i.length;++s)r+=String.fromCharCode(i[s]);return r}(t);return new Is(e)}[Symbol.iterator](){let t=0;return{next:()=>t<this.binaryString.length?{value:this.binaryString.charCodeAt(t++),done:!1}:{value:void 0,done:!0}}}toBase64(){return btoa(this.binaryString)}toUint8Array(){return function(t){const e=new Uint8Array(t.length);for(let i=0;i<t.length;i++)e[i]=t.charCodeAt(i);return e}(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(t){return jn(this.binaryString,t.binaryString)}isEqual(t){return this.binaryString===t.binaryString}}Is.EMPTY_BYTE_STRING=new Is("");const fI=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function jd(n){if(_n(!!n),"string"==typeof n){let t=0;const e=fI.exec(n);if(_n(!!e),e[1]){let r=e[1];r=(r+"000000000").substr(0,9),t=Number(r)}const i=new Date(n);return{seconds:Math.floor(i.getTime()/1e3),nanos:t}}return{seconds:ls(n.seconds),nanos:ls(n.nanos)}}function ls(n){return"number"==typeof n?n:"string"==typeof n?Number(n):0}function Eu(n){return"string"==typeof n?Is.fromBase64String(n):Is.fromUint8Array(n)}function v0(n){var t,e;return"server_timestamp"===(null===(e=((null===(t=n?.mapValue)||void 0===t?void 0:t.fields)||{}).__type__)||void 0===e?void 0:e.stringValue)}function Tg(n){const t=n.mapValue.fields.__previous_value__;return v0(t)?Tg(t):t}function Du(n){const t=jd(n.mapValue.fields.__local_write_time__.timestampValue);return new Pr(t.seconds,t.nanos)}class aR{constructor(t,e,i,r,s,c,p,_,C){this.databaseId=t,this.appId=e,this.persistenceKey=i,this.host=r,this.ssl=s,this.forceLongPolling=c,this.autoDetectLongPolling=p,this.longPollingOptions=_,this.useFetchStreams=C}}class Tu{constructor(t,e){this.projectId=t,this.database=e||"(default)"}static empty(){return new Tu("","")}get isDefaultDatabase(){return"(default)"===this.database}isEqual(t){return t instanceof Tu&&t.projectId===this.projectId&&t.database===this.database}}const Gd={mapValue:{fields:{__type__:{stringValue:"__max__"}}}},y0={nullValue:"NULL_VALUE"};function Su(n){return"nullValue"in n?0:"booleanValue"in n?1:"integerValue"in n||"doubleValue"in n?2:"timestampValue"in n?3:"stringValue"in n?5:"bytesValue"in n?6:"referenceValue"in n?7:"geoPointValue"in n?8:"arrayValue"in n?9:"mapValue"in n?v0(n)?4:S1(n)?9007199254740991:10:sn()}function Rl(n,t){if(n===t)return!0;const e=Su(n);if(e!==Su(t))return!1;switch(e){case 0:case 9007199254740991:return!0;case 1:return n.booleanValue===t.booleanValue;case 4:return Du(n).isEqual(Du(t));case 3:return function(i,r){if("string"==typeof i.timestampValue&&"string"==typeof r.timestampValue&&i.timestampValue.length===r.timestampValue.length)return i.timestampValue===r.timestampValue;const s=jd(i.timestampValue),c=jd(r.timestampValue);return s.seconds===c.seconds&&s.nanos===c.nanos}(n,t);case 5:return n.stringValue===t.stringValue;case 6:return r=t,Eu(n.bytesValue).isEqual(Eu(r.bytesValue));case 7:return n.referenceValue===t.referenceValue;case 8:return function(i,r){return ls(i.geoPointValue.latitude)===ls(r.geoPointValue.latitude)&&ls(i.geoPointValue.longitude)===ls(r.geoPointValue.longitude)}(n,t);case 2:return function(i,r){if("integerValue"in i&&"integerValue"in r)return ls(i.integerValue)===ls(r.integerValue);if("doubleValue"in i&&"doubleValue"in r){const s=ls(i.doubleValue),c=ls(r.doubleValue);return s===c?Cg(s)===Cg(c):isNaN(s)&&isNaN(c)}return!1}(n,t);case 9:return _g(n.arrayValue.values||[],t.arrayValue.values||[],Rl);case 10:return function(i,r){const s=i.mapValue.fields||{},c=r.mapValue.fields||{};if(C1(s)!==C1(c))return!1;for(const p in s)if(s.hasOwnProperty(p)&&(void 0===c[p]||!Rl(s[p],c[p])))return!1;return!0}(n,t);default:return sn()}var r}function Wd(n,t){return void 0!==(n.values||[]).find(e=>Rl(e,t))}function $d(n,t){if(n===t)return 0;const e=Su(n),i=Su(t);if(e!==i)return jn(e,i);switch(e){case 0:case 9007199254740991:return 0;case 1:return jn(n.booleanValue,t.booleanValue);case 2:return function(r,s){const c=ls(r.integerValue||r.doubleValue),p=ls(s.integerValue||s.doubleValue);return c<p?-1:c>p?1:c===p?0:isNaN(c)?isNaN(p)?0:-1:1}(n,t);case 3:return D1(n.timestampValue,t.timestampValue);case 4:return D1(Du(n),Du(t));case 5:return jn(n.stringValue,t.stringValue);case 6:return function(r,s){const c=Eu(r),p=Eu(s);return c.compareTo(p)}(n.bytesValue,t.bytesValue);case 7:return function(r,s){const c=r.split("/"),p=s.split("/");for(let _=0;_<c.length&&_<p.length;_++){const C=jn(c[_],p[_]);if(0!==C)return C}return jn(c.length,p.length)}(n.referenceValue,t.referenceValue);case 8:return function(r,s){const c=jn(ls(r.latitude),ls(s.latitude));return 0!==c?c:jn(ls(r.longitude),ls(s.longitude))}(n.geoPointValue,t.geoPointValue);case 9:return function(r,s){const c=r.values||[],p=s.values||[];for(let _=0;_<c.length&&_<p.length;++_){const C=$d(c[_],p[_]);if(C)return C}return jn(c.length,p.length)}(n.arrayValue,t.arrayValue);case 10:return function(r,s){if(r===Gd.mapValue&&s===Gd.mapValue)return 0;if(r===Gd.mapValue)return 1;if(s===Gd.mapValue)return-1;const c=r.fields||{},p=Object.keys(c),_=s.fields||{},C=Object.keys(_);p.sort(),C.sort();for(let M=0;M<p.length&&M<C.length;++M){const V=jn(p[M],C[M]);if(0!==V)return V;const W=$d(c[p[M]],_[C[M]]);if(0!==W)return W}return jn(p.length,C.length)}(n.mapValue,t.mapValue);default:throw sn()}}function D1(n,t){if("string"==typeof n&&"string"==typeof t&&n.length===t.length)return jn(n,t);const e=jd(n),i=jd(t),r=jn(e.seconds,i.seconds);return 0!==r?r:jn(e.nanos,i.nanos)}function Af(n){return _0(n)}function _0(n){return"nullValue"in n?"null":"booleanValue"in n?""+n.booleanValue:"integerValue"in n?""+n.integerValue:"doubleValue"in n?""+n.doubleValue:"timestampValue"in n?function(i){const r=jd(i);return`time(${r.seconds},${r.nanos})`}(n.timestampValue):"stringValue"in n?n.stringValue:"bytesValue"in n?Eu(n.bytesValue).toBase64():"referenceValue"in n?qt.fromName(n.referenceValue).toString():"geoPointValue"in n?`geo(${(t=n.geoPointValue).latitude},${t.longitude})`:"arrayValue"in n?function(i){let r="[",s=!0;for(const c of i.values||[])s?s=!1:r+=",",r+=_0(c);return r+"]"}(n.arrayValue):"mapValue"in n?function(i){const r=Object.keys(i.fields||{}).sort();let s="{",c=!0;for(const p of r)c?c=!1:s+=",",s+=`${p}:${_0(i.fields[p])}`;return s+"}"}(n.mapValue):sn();var t}function If(n,t){return{referenceValue:`projects/${n.projectId}/databases/${n.database}/documents/${t.path.canonicalString()}`}}function ny(n){return!!n&&"integerValue"in n}function Yd(n){return!!n&&"arrayValue"in n}function w0(n){return!!n&&"nullValue"in n}function T1(n){return!!n&&"doubleValue"in n&&isNaN(Number(n.doubleValue))}function iy(n){return!!n&&"mapValue"in n}function Sg(n){if(n.geoPointValue)return{geoPointValue:Object.assign({},n.geoPointValue)};if(n.timestampValue&&"object"==typeof n.timestampValue)return{timestampValue:Object.assign({},n.timestampValue)};if(n.mapValue){const t={mapValue:{fields:{}}};return zd(n.mapValue.fields,(e,i)=>t.mapValue.fields[e]=Sg(i)),t}if(n.arrayValue){const t={arrayValue:{values:[]}};for(let e=0;e<(n.arrayValue.values||[]).length;++e)t.arrayValue.values[e]=Sg(n.arrayValue.values[e]);return t}return Object.assign({},n)}function S1(n){return"__max__"===(((n.mapValue||{}).fields||{}).__type__||{}).stringValue}function pI(n){return"nullValue"in n?y0:"booleanValue"in n?{booleanValue:!1}:"integerValue"in n||"doubleValue"in n?{doubleValue:NaN}:"timestampValue"in n?{timestampValue:{seconds:Number.MIN_SAFE_INTEGER}}:"stringValue"in n?{stringValue:""}:"bytesValue"in n?{bytesValue:""}:"referenceValue"in n?If(Tu.empty(),qt.empty()):"geoPointValue"in n?{geoPointValue:{latitude:-90,longitude:-180}}:"arrayValue"in n?{arrayValue:{}}:"mapValue"in n?{mapValue:{}}:sn()}function gI(n){return"nullValue"in n?{booleanValue:!1}:"booleanValue"in n?{doubleValue:NaN}:"integerValue"in n||"doubleValue"in n?{timestampValue:{seconds:Number.MIN_SAFE_INTEGER}}:"timestampValue"in n?{stringValue:""}:"stringValue"in n?{bytesValue:""}:"bytesValue"in n?If(Tu.empty(),qt.empty()):"referenceValue"in n?{geoPointValue:{latitude:-90,longitude:-180}}:"geoPointValue"in n?{arrayValue:{}}:"arrayValue"in n?{mapValue:{}}:"mapValue"in n?Gd:sn()}function A1(n,t){const e=$d(n.value,t.value);return 0!==e?e:n.inclusive&&!t.inclusive?-1:!n.inclusive&&t.inclusive?1:0}function mI(n,t){const e=$d(n.value,t.value);return 0!==e?e:n.inclusive&&!t.inclusive?1:!n.inclusive&&t.inclusive?-1:0}class _o{constructor(t){this.value=t}static empty(){return new _o({mapValue:{}})}field(t){if(t.isEmpty())return this.value;{let e=this.value;for(let i=0;i<t.length-1;++i)if(e=(e.mapValue.fields||{})[t.get(i)],!iy(e))return null;return e=(e.mapValue.fields||{})[t.lastSegment()],e||null}}set(t,e){this.getFieldsMap(t.popLast())[t.lastSegment()]=Sg(e)}setAll(t){let e=Cr.emptyPath(),i={},r=[];t.forEach((c,p)=>{if(!e.isImmediateParentOf(p)){const _=this.getFieldsMap(e);this.applyChanges(_,i,r),i={},r=[],e=p.popLast()}c?i[p.lastSegment()]=Sg(c):r.push(p.lastSegment())});const s=this.getFieldsMap(e);this.applyChanges(s,i,r)}delete(t){const e=this.field(t.popLast());iy(e)&&e.mapValue.fields&&delete e.mapValue.fields[t.lastSegment()]}isEqual(t){return Rl(this.value,t.value)}getFieldsMap(t){let e=this.value;e.mapValue.fields||(e.mapValue={fields:{}});for(let i=0;i<t.length;++i){let r=e.mapValue.fields[t.get(i)];iy(r)&&r.mapValue.fields||(r={mapValue:{fields:{}}},e.mapValue.fields[t.get(i)]=r),e=r}return e.mapValue.fields}applyChanges(t,e,i){zd(e,(r,s)=>t[r]=s);for(const r of i)delete t[r]}clone(){return new _o(Sg(this.value))}}function vI(n){const t=[];return zd(n.fields,(e,i)=>{const r=new Cr([e]);if(iy(i)){const s=vI(i.mapValue).fields;if(0===s.length)t.push(r);else for(const c of s)t.push(r.child(c))}else t.push(r)}),new Yr(t)}class Dr{constructor(t,e,i,r,s,c,p){this.key=t,this.documentType=e,this.version=i,this.readTime=r,this.createTime=s,this.data=c,this.documentState=p}static newInvalidDocument(t){return new Dr(t,0,bn.min(),bn.min(),bn.min(),_o.empty(),0)}static newFoundDocument(t,e,i,r){return new Dr(t,1,e,bn.min(),i,r,0)}static newNoDocument(t,e){return new Dr(t,2,e,bn.min(),bn.min(),_o.empty(),0)}static newUnknownDocument(t,e){return new Dr(t,3,e,bn.min(),bn.min(),_o.empty(),2)}convertToFoundDocument(t,e){return!this.createTime.isEqual(bn.min())||2!==this.documentType&&0!==this.documentType||(this.createTime=t),this.version=t,this.documentType=1,this.data=e,this.documentState=0,this}convertToNoDocument(t){return this.version=t,this.documentType=2,this.data=_o.empty(),this.documentState=0,this}convertToUnknownDocument(t){return this.version=t,this.documentType=3,this.data=_o.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=bn.min(),this}setReadTime(t){return this.readTime=t,this}get hasLocalMutations(){return 1===this.documentState}get hasCommittedMutations(){return 2===this.documentState}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return 0!==this.documentType}isFoundDocument(){return 1===this.documentType}isNoDocument(){return 2===this.documentType}isUnknownDocument(){return 3===this.documentType}isEqual(t){return t instanceof Dr&&this.key.isEqual(t.key)&&this.version.isEqual(t.version)&&this.documentType===t.documentType&&this.documentState===t.documentState&&this.data.isEqual(t.data)}mutableCopy(){return new Dr(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}class qd{constructor(t,e){this.position=t,this.inclusive=e}}function yI(n,t,e){let i=0;for(let r=0;r<n.position.length;r++){const s=t[r],c=n.position[r];if(i=s.field.isKeyField()?qt.comparator(qt.fromName(c.referenceValue),e.key):$d(c,e.data.field(s.field)),"desc"===s.dir&&(i*=-1),0!==i)break}return i}function _I(n,t){if(null===n)return null===t;if(null===t||n.inclusive!==t.inclusive||n.position.length!==t.position.length)return!1;for(let e=0;e<n.position.length;e++)if(!Rl(n.position[e],t.position[e]))return!1;return!0}class Ag{constructor(t,e="asc"){this.field=t,this.dir=e}}function lR(n,t){return n.dir===t.dir&&n.field.isEqual(t.field)}class bI{}class Ci extends bI{constructor(t,e,i){super(),this.field=t,this.op=e,this.value=i}static create(t,e,i){return t.isKeyField()?"in"===e||"not-in"===e?this.createKeyFieldInFilter(t,e,i):new CI(t,e,i):"array-contains"===e?new TI(t,i):"in"===e?new R1(t,i):"not-in"===e?new SI(t,i):"array-contains-any"===e?new F1(t,i):new Ci(t,e,i)}static createKeyFieldInFilter(t,e,i){return"in"===e?new EI(t,i):new DI(t,i)}matches(t){const e=t.data.field(this.field);return"!="===this.op?null!==e&&this.matchesComparison($d(e,this.value)):null!==e&&Su(this.value)===Su(e)&&this.matchesComparison($d(e,this.value))}matchesComparison(t){switch(this.op){case"<":return t<0;case"<=":return t<=0;case"==":return 0===t;case"!=":return 0!==t;case">":return t>0;case">=":return t>=0;default:return sn()}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}getFirstInequalityField(){return this.isInequality()?this.field:null}}class Ji extends bI{constructor(t,e){super(),this.filters=t,this.op=e,this.lt=null}static create(t,e){return new Ji(t,e)}matches(t){return Ig(this)?void 0===this.filters.find(e=>!e.matches(t)):void 0!==this.filters.find(e=>e.matches(t))}getFlattenedFilters(){return null!==this.lt||(this.lt=this.filters.reduce((t,e)=>t.concat(e.getFlattenedFilters()),[])),this.lt}getFilters(){return Object.assign([],this.filters)}getFirstInequalityField(){const t=this.ft(e=>e.isInequality());return null!==t?t.field:null}ft(t){for(const e of this.getFlattenedFilters())if(t(e))return e;return null}}function Ig(n){return"and"===n.op}function I1(n){return"or"===n.op}function M1(n){return wI(n)&&Ig(n)}function wI(n){for(const t of n.filters)if(t instanceof Ji)return!1;return!0}function k1(n){if(n instanceof Ci)return n.field.canonicalString()+n.op.toString()+Af(n.value);if(M1(n))return n.filters.map(t=>k1(t)).join(",");{const t=n.filters.map(e=>k1(e)).join(",");return`${n.op}(${t})`}}function xI(n,t){return n instanceof Ci?(e=n,(i=t)instanceof Ci&&e.op===i.op&&e.field.isEqual(i.field)&&Rl(e.value,i.value)):n instanceof Ji?function(e,i){return i instanceof Ji&&e.op===i.op&&e.filters.length===i.filters.length&&e.filters.reduce((r,s,c)=>r&&xI(s,i.filters[c]),!0)}(n,t):void sn();var e,i}function O1(n,t){const e=n.filters.concat(t);return Ji.create(e,n.op)}function N1(n){return n instanceof Ci?`${(t=n).field.canonicalString()} ${t.op} ${Af(t.value)}`:n instanceof Ji?function(t){return t.op.toString()+" {"+t.getFilters().map(N1).join(" ,")+"}"}(n):"Filter";var t}class CI extends Ci{constructor(t,e,i){super(t,e,i),this.key=qt.fromName(i.referenceValue)}matches(t){const e=qt.comparator(t.key,this.key);return this.matchesComparison(e)}}class EI extends Ci{constructor(t,e){super(t,"in",e),this.keys=P1(0,e)}matches(t){return this.keys.some(e=>e.isEqual(t.key))}}class DI extends Ci{constructor(t,e){super(t,"not-in",e),this.keys=P1(0,e)}matches(t){return!this.keys.some(e=>e.isEqual(t.key))}}function P1(n,t){var e;return((null===(e=t.arrayValue)||void 0===e?void 0:e.values)||[]).map(i=>qt.fromName(i.referenceValue))}class TI extends Ci{constructor(t,e){super(t,"array-contains",e)}matches(t){const e=t.data.field(this.field);return Yd(e)&&Wd(e.arrayValue,this.value)}}class R1 extends Ci{constructor(t,e){super(t,"in",e)}matches(t){const e=t.data.field(this.field);return null!==e&&Wd(this.value.arrayValue,e)}}class SI extends Ci{constructor(t,e){super(t,"not-in",e)}matches(t){if(Wd(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const e=t.data.field(this.field);return null!==e&&!Wd(this.value.arrayValue,e)}}class F1 extends Ci{constructor(t,e){super(t,"array-contains-any",e)}matches(t){const e=t.data.field(this.field);return!(!Yd(e)||!e.arrayValue.values)&&e.arrayValue.values.some(i=>Wd(this.value.arrayValue,i))}}class L1{constructor(t,e=null,i=[],r=[],s=null,c=null,p=null){this.path=t,this.collectionGroup=e,this.orderBy=i,this.filters=r,this.limit=s,this.startAt=c,this.endAt=p,this.dt=null}}function Au(n,t=null,e=[],i=[],r=null,s=null,c=null){return new L1(n,t,e,i,r,s,c)}function Mf(n){const t=tn(n);if(null===t.dt){let e=t.path.canonicalString();null!==t.collectionGroup&&(e+="|cg:"+t.collectionGroup),e+="|f:",e+=t.filters.map(i=>k1(i)).join(","),e+="|ob:",e+=t.orderBy.map(i=>{return(r=i).field.canonicalString()+r.dir;var r}).join(","),xg(t.limit)||(e+="|l:",e+=t.limit),t.startAt&&(e+="|lb:",e+=t.startAt.inclusive?"b:":"a:",e+=t.startAt.position.map(i=>Af(i)).join(",")),t.endAt&&(e+="|ub:",e+=t.endAt.inclusive?"a:":"b:",e+=t.endAt.position.map(i=>Af(i)).join(",")),t.dt=e}return t.dt}function ry(n,t){if(n.limit!==t.limit||n.orderBy.length!==t.orderBy.length)return!1;for(let e=0;e<n.orderBy.length;e++)if(!lR(n.orderBy[e],t.orderBy[e]))return!1;if(n.filters.length!==t.filters.length)return!1;for(let e=0;e<n.filters.length;e++)if(!xI(n.filters[e],t.filters[e]))return!1;return n.collectionGroup===t.collectionGroup&&!!n.path.isEqual(t.path)&&!!_I(n.startAt,t.startAt)&&_I(n.endAt,t.endAt)}function Iu(n){return qt.isDocumentKey(n.path)&&null===n.collectionGroup&&0===n.filters.length}function x0(n,t){return n.filters.filter(e=>e instanceof Ci&&e.field.isEqual(t))}function C0(n,t,e){let i=y0,r=!0;for(const s of x0(n,t)){let c=y0,p=!0;switch(s.op){case"<":case"<=":c=pI(s.value);break;case"==":case"in":case">=":c=s.value;break;case">":c=s.value,p=!1;break;case"!=":case"not-in":c=y0}A1({value:i,inclusive:r},{value:c,inclusive:p})<0&&(i=c,r=p)}if(null!==e)for(let s=0;s<n.orderBy.length;++s)if(n.orderBy[s].field.isEqual(t)){const c=e.position[s];A1({value:i,inclusive:r},{value:c,inclusive:e.inclusive})<0&&(i=c,r=e.inclusive);break}return{value:i,inclusive:r}}function cR(n,t,e){let i=Gd,r=!0;for(const s of x0(n,t)){let c=Gd,p=!0;switch(s.op){case">=":case">":c=gI(s.value),p=!1;break;case"==":case"in":case"<=":c=s.value;break;case"<":c=s.value,p=!1;break;case"!=":case"not-in":c=Gd}mI({value:i,inclusive:r},{value:c,inclusive:p})>0&&(i=c,r=p)}if(null!==e)for(let s=0;s<n.orderBy.length;++s)if(n.orderBy[s].field.isEqual(t)){const c=e.position[s];mI({value:i,inclusive:r},{value:c,inclusive:e.inclusive})>0&&(i=c,r=e.inclusive);break}return{value:i,inclusive:r}}class Ec{constructor(t,e=null,i=[],r=[],s=null,c="F",p=null,_=null){this.path=t,this.collectionGroup=e,this.explicitOrderBy=i,this.filters=r,this.limit=s,this.limitType=c,this.startAt=p,this.endAt=_,this.wt=null,this._t=null}}function B1(n,t,e,i,r,s,c,p){return new Ec(n,t,e,i,r,s,c,p)}function sy(n){return new Ec(n)}function kf(n){return 0===n.filters.length&&null===n.limit&&null==n.startAt&&null==n.endAt&&(0===n.explicitOrderBy.length||1===n.explicitOrderBy.length&&n.explicitOrderBy[0].field.isKeyField())}function V1(n){return n.explicitOrderBy.length>0?n.explicitOrderBy[0].field:null}function E0(n){for(const t of n.filters){const e=t.getFirstInequalityField();if(null!==e)return e}return null}function H1(n){return null!==n.collectionGroup}function nl(n){const t=tn(n);if(null===t.wt){t.wt=[];const e=E0(t),i=V1(t);if(null!==e&&null===i)e.isKeyField()||t.wt.push(new Ag(e)),t.wt.push(new Ag(Cr.keyField(),"asc"));else{let r=!1;for(const s of t.explicitOrderBy)t.wt.push(s),s.field.isKeyField()&&(r=!0);if(!r){const s=t.explicitOrderBy.length>0?t.explicitOrderBy[t.explicitOrderBy.length-1].dir:"asc";t.wt.push(new Ag(Cr.keyField(),s))}}}return t.wt}function Yo(n){const t=tn(n);if(!t._t)if("F"===t.limitType)t._t=Au(t.path,t.collectionGroup,nl(t),t.filters,t.limit,t.startAt,t.endAt);else{const e=[];for(const s of nl(t))e.push(new Ag(s.field,"desc"===s.dir?"asc":"desc"));const i=t.endAt?new qd(t.endAt.position,t.endAt.inclusive):null,r=t.startAt?new qd(t.startAt.position,t.startAt.inclusive):null;t._t=Au(t.path,t.collectionGroup,e,t.filters,t.limit,i,r)}return t._t}function Mg(n,t){t.getFirstInequalityField(),E0(n);const e=n.filters.concat([t]);return new Ec(n.path,n.collectionGroup,n.explicitOrderBy.slice(),e,n.limit,n.limitType,n.startAt,n.endAt)}function Of(n,t,e){return new Ec(n.path,n.collectionGroup,n.explicitOrderBy.slice(),n.filters.slice(),t,e,n.startAt,n.endAt)}function to(n,t){return ry(Yo(n),Yo(t))&&n.limitType===t.limitType}function uR(n){return`${Mf(Yo(n))}|lt:${n.limitType}`}function D0(n){return`Query(target=${function(t){let e=t.path.canonicalString();return null!==t.collectionGroup&&(e+=" collectionGroup="+t.collectionGroup),t.filters.length>0&&(e+=`, filters: [${t.filters.map(i=>N1(i)).join(", ")}]`),xg(t.limit)||(e+=", limit: "+t.limit),t.orderBy.length>0&&(e+=`, orderBy: [${t.orderBy.map(i=>{return`${(r=i).field.canonicalString()} (${r.dir})`;var r}).join(", ")}]`),t.startAt&&(e+=", startAt: ",e+=t.startAt.inclusive?"b:":"a:",e+=t.startAt.position.map(i=>Af(i)).join(",")),t.endAt&&(e+=", endAt: ",e+=t.endAt.inclusive?"a:":"b:",e+=t.endAt.position.map(i=>Af(i)).join(",")),`Target(${e})`}(Yo(n))}; limitType=${n.limitType})`}function kg(n,t){return t.isFoundDocument()&&function(e,i){const r=i.key.path;return null!==e.collectionGroup?i.key.hasCollectionId(e.collectionGroup)&&e.path.isPrefixOf(r):qt.isDocumentKey(e.path)?e.path.isEqual(r):e.path.isImmediateParentOf(r)}(n,t)&&function(e,i){for(const r of nl(e))if(!r.field.isKeyField()&&null===i.data.field(r.field))return!1;return!0}(n,t)&&function(e,i){for(const r of e.filters)if(!r.matches(i))return!1;return!0}(n,t)&&(i=t,!((e=n).startAt&&!function(r,s,c){const p=yI(r,s,c);return r.inclusive?p<=0:p<0}(e.startAt,nl(e),i)||e.endAt&&!function(r,s,c){const p=yI(r,s,c);return r.inclusive?p>=0:p>0}(e.endAt,nl(e),i)));var e,i}function AI(n){return n.collectionGroup||(n.path.length%2==1?n.path.lastSegment():n.path.get(n.path.length-2))}function U1(n){return(t,e)=>{let i=!1;for(const r of nl(n)){const s=II(r,t,e);if(0!==s)return s;i=i||r.field.isKeyField()}return 0}}function II(n,t,e){const i=n.field.isKeyField()?qt.comparator(t.key,e.key):function(r,s,c){const p=s.data.field(r),_=c.data.field(r);return null!==p&&null!==_?$d(p,_):sn()}(n.field,t,e);switch(n.dir){case"asc":return i;case"desc":return-1*i;default:return sn()}}class Dc{constructor(t,e){this.mapKeyFn=t,this.equalsFn=e,this.inner={},this.innerSize=0}get(t){const e=this.mapKeyFn(t),i=this.inner[e];if(void 0!==i)for(const[r,s]of i)if(this.equalsFn(r,t))return s}has(t){return void 0!==this.get(t)}set(t,e){const i=this.mapKeyFn(t),r=this.inner[i];if(void 0===r)return this.inner[i]=[[t,e]],void this.innerSize++;for(let s=0;s<r.length;s++)if(this.equalsFn(r[s][0],t))return void(r[s]=[t,e]);r.push([t,e]),this.innerSize++}delete(t){const e=this.mapKeyFn(t),i=this.inner[e];if(void 0===i)return!1;for(let r=0;r<i.length;r++)if(this.equalsFn(i[r][0],t))return 1===i.length?delete this.inner[e]:i.splice(r,1),this.innerSize--,!0;return!1}forEach(t){zd(this.inner,(e,i)=>{for(const[r,s]of i)t(r,s)})}isEmpty(){return E1(this.inner)}size(){return this.innerSize}}const MI=new Er(qt.comparator);function fa(){return MI}const kI=new Er(qt.comparator);function oy(...n){let t=kI;for(const e of n)t=t.insert(e.key,e);return t}function Og(n){let t=kI;return n.forEach((e,i)=>t=t.insert(e,i.overlayedDocument)),t}function Tc(){return ay()}function OI(){return ay()}function ay(){return new Dc(n=>n.toString(),(n,t)=>n.isEqual(t))}const T0=new Er(qt.comparator),NI=new Ni(qt.comparator);function Jn(...n){let t=NI;for(const e of n)t=t.add(e);return t}const PI=new Ni(jn);function z1(){return PI}function Ng(n,t){if(n.useProto3Json){if(isNaN(t))return{doubleValue:"NaN"};if(t===1/0)return{doubleValue:"Infinity"};if(t===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:Cg(t)?"-0":t}}function Pg(n){return{integerValue:""+n}}function RI(n,t){return p1(t)?Pg(t):Ng(n,t)}class S0{constructor(){this._=void 0}}function dR(n,t,e){return n instanceof Nf?function(i,r){const s={fields:{__type__:{stringValue:"server_timestamp"},__local_write_time__:{timestampValue:{seconds:i.seconds,nanos:i.nanoseconds}}}};return r&&v0(r)&&(r=Tg(r)),r&&(s.fields.__previous_value__=r),{mapValue:s}}(e,t):n instanceof Pf?G1(n,t):n instanceof Rf?LI(n,t):function(i,r){const s=j1(i,r),c=hR(s)+hR(i.gt);return ny(s)&&ny(i.gt)?Pg(c):Ng(i.serializer,c)}(n,t)}function FI(n,t,e){return n instanceof Pf?G1(n,t):n instanceof Rf?LI(n,t):e}function j1(n,t){return n instanceof ly?ny(e=t)||(i=e)&&"doubleValue"in i?t:{integerValue:0}:null;var i,e}class Nf extends S0{}class Pf extends S0{constructor(t){super(),this.elements=t}}function G1(n,t){const e=fR(t);for(const i of n.elements)e.some(r=>Rl(r,i))||e.push(i);return{arrayValue:{values:e}}}class Rf extends S0{constructor(t){super(),this.elements=t}}function LI(n,t){let e=fR(t);for(const i of n.elements)e=e.filter(r=>!Rl(r,i));return{arrayValue:{values:e}}}class ly extends S0{constructor(t,e){super(),this.serializer=t,this.gt=e}}function hR(n){return ls(n.integerValue||n.doubleValue)}function fR(n){return Yd(n)&&n.arrayValue.values?n.arrayValue.values.slice():[]}class A0{constructor(t,e){this.field=t,this.transform=e}}class I0{constructor(t,e){this.version=t,this.transformResults=e}}class Rr{constructor(t,e){this.updateTime=t,this.exists=e}static none(){return new Rr}static exists(t){return new Rr(void 0,t)}static updateTime(t){return new Rr(t)}get isNone(){return void 0===this.updateTime&&void 0===this.exists}isEqual(t){return this.exists===t.exists&&(this.updateTime?!!t.updateTime&&this.updateTime.isEqual(t.updateTime):!t.updateTime)}}function M0(n,t){return void 0!==n.updateTime?t.isFoundDocument()&&t.version.isEqual(n.updateTime):void 0===n.exists||n.exists===t.isFoundDocument()}class cy{}function Rg(n,t){if(!n.hasLocalMutations||t&&0===t.fields.length)return null;if(null===t)return n.isNoDocument()?new Sc(n.key,Rr.none()):new dy(n.key,n.data,Rr.none());{const e=n.data,i=_o.empty();let r=new Ni(Cr.comparator);for(let s of t.fields)if(!r.has(s)){let c=e.field(s);null===c&&s.length>1&&(s=s.popLast(),c=e.field(s)),null===c?i.delete(s):i.set(s,c),r=r.add(s)}return new Mu(n.key,i,new Yr(r.toArray()),Rr.none())}}function pR(n,t,e){n instanceof dy?function(i,r,s){const c=i.value.clone(),p=HI(i.fieldTransforms,r,s.transformResults);c.setAll(p),r.convertToFoundDocument(s.version,c).setHasCommittedMutations()}(n,t,e):n instanceof Mu?function(i,r,s){if(!M0(i.precondition,r))return void r.convertToUnknownDocument(s.version);const c=HI(i.fieldTransforms,r,s.transformResults),p=r.data;p.setAll(W1(i)),p.setAll(c),r.convertToFoundDocument(s.version,p).setHasCommittedMutations()}(n,t,e):t.convertToNoDocument(e.version).setHasCommittedMutations()}function uy(n,t,e,i){return n instanceof dy?function(r,s,c,p){if(!M0(r.precondition,s))return c;const _=r.value.clone(),C=UI(r.fieldTransforms,p,s);return _.setAll(C),s.convertToFoundDocument(s.version,_).setHasLocalMutations(),null}(n,t,e,i):n instanceof Mu?function(r,s,c,p){if(!M0(r.precondition,s))return c;const _=UI(r.fieldTransforms,p,s),C=s.data;return C.setAll(W1(r)),C.setAll(_),s.convertToFoundDocument(s.version,C).setHasLocalMutations(),null===c?null:c.unionWith(r.fieldMask.fields).unionWith(r.fieldTransforms.map(M=>M.field))}(n,t,e,i):(c=e,M0(n.precondition,s=t)?(s.convertToNoDocument(s.version).setHasLocalMutations(),null):c);var s,c}function gR(n,t){let e=null;for(const i of n.fieldTransforms){const r=t.data.field(i.field),s=j1(i.transform,r||null);null!=s&&(null===e&&(e=_o.empty()),e.set(i.field,s))}return e||null}function VI(n,t){return n.type===t.type&&!!n.key.isEqual(t.key)&&!!n.precondition.isEqual(t.precondition)&&(i=t.fieldTransforms,!!(void 0===(e=n.fieldTransforms)&&void 0===i||e&&i&&_g(e,i,(r,s)=>function BI(n,t){return n.field.isEqual(t.field)&&(i=t.transform,(e=n.transform)instanceof Pf&&i instanceof Pf||e instanceof Rf&&i instanceof Rf?_g(e.elements,i.elements,Rl):e instanceof ly&&i instanceof ly?Rl(e.gt,i.gt):e instanceof Nf&&i instanceof Nf);var e,i}(r,s))))&&(0===n.type?n.value.isEqual(t.value):1!==n.type||n.data.isEqual(t.data)&&n.fieldMask.isEqual(t.fieldMask));var e,i}class dy extends cy{constructor(t,e,i,r=[]){super(),this.key=t,this.value=e,this.precondition=i,this.fieldTransforms=r,this.type=0}getFieldMask(){return null}}class Mu extends cy{constructor(t,e,i,r,s=[]){super(),this.key=t,this.data=e,this.fieldMask=i,this.precondition=r,this.fieldTransforms=s,this.type=1}getFieldMask(){return this.fieldMask}}function W1(n){const t=new Map;return n.fieldMask.fields.forEach(e=>{if(!e.isEmpty()){const i=n.data.field(e);t.set(e,i)}}),t}function HI(n,t,e){const i=new Map;_n(n.length===e.length);for(let r=0;r<e.length;r++){const s=n[r],c=s.transform,p=t.data.field(s.field);i.set(s.field,FI(c,p,e[r]))}return i}function UI(n,t,e){const i=new Map;for(const r of n){const s=r.transform,c=e.data.field(r.field);i.set(r.field,dR(s,c,t))}return i}class Sc extends cy{constructor(t,e){super(),this.key=t,this.precondition=e,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class $1 extends cy{constructor(t,e){super(),this.key=t,this.precondition=e,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}class k0{constructor(t,e,i,r){this.batchId=t,this.localWriteTime=e,this.baseMutations=i,this.mutations=r}applyToRemoteDocument(t,e){const i=e.mutationResults;for(let r=0;r<this.mutations.length;r++){const s=this.mutations[r];s.key.isEqual(t.key)&&pR(s,t,i[r])}}applyToLocalView(t,e){for(const i of this.baseMutations)i.key.isEqual(t.key)&&(e=uy(i,t,e,this.localWriteTime));for(const i of this.mutations)i.key.isEqual(t.key)&&(e=uy(i,t,e,this.localWriteTime));return e}applyToLocalDocumentSet(t,e){const i=OI();return this.mutations.forEach(r=>{const s=t.get(r.key),c=s.overlayedDocument;let p=this.applyToLocalView(c,s.mutatedFields);p=e.has(r.key)?null:p;const _=Rg(c,p);null!==_&&i.set(r.key,_),c.isValidDocument()||c.convertToNoDocument(bn.min())}),i}keys(){return this.mutations.reduce((t,e)=>t.add(e.key),Jn())}isEqual(t){return this.batchId===t.batchId&&_g(this.mutations,t.mutations,(e,i)=>VI(e,i))&&_g(this.baseMutations,t.baseMutations,(e,i)=>VI(e,i))}}class Y1{constructor(t,e,i,r){this.batch=t,this.commitVersion=e,this.mutationResults=i,this.docVersions=r}static from(t,e,i){_n(t.mutations.length===i.length);let r=T0;const s=t.mutations;for(let c=0;c<s.length;c++)r=r.insert(s[c].key,i[c].version);return new Y1(t,e,i,r)}}class O0{constructor(t,e){this.largestBatchId=t,this.mutation=e}getKey(){return this.mutation.key}isEqual(t){return null!==t&&this.mutation===t.mutation}toString(){return`Overlay{\n      largestBatchId: ${this.largestBatchId},\n      mutation: ${this.mutation.toString()}\n    }`}}class zI{constructor(t,e){this.count=t,this.unchangedNames=e}}var Ms,Ei;function jI(n){switch(n){default:return sn();case tt.CANCELLED:case tt.UNKNOWN:case tt.DEADLINE_EXCEEDED:case tt.RESOURCE_EXHAUSTED:case tt.INTERNAL:case tt.UNAVAILABLE:case tt.UNAUTHENTICATED:return!1;case tt.INVALID_ARGUMENT:case tt.NOT_FOUND:case tt.ALREADY_EXISTS:case tt.PERMISSION_DENIED:case tt.FAILED_PRECONDITION:case tt.ABORTED:case tt.OUT_OF_RANGE:case tt.UNIMPLEMENTED:case tt.DATA_LOSS:return!0}}function q1(n){if(void 0===n)return xr("GRPC error has no .code"),tt.UNKNOWN;switch(n){case Ms.OK:return tt.OK;case Ms.CANCELLED:return tt.CANCELLED;case Ms.UNKNOWN:return tt.UNKNOWN;case Ms.DEADLINE_EXCEEDED:return tt.DEADLINE_EXCEEDED;case Ms.RESOURCE_EXHAUSTED:return tt.RESOURCE_EXHAUSTED;case Ms.INTERNAL:return tt.INTERNAL;case Ms.UNAVAILABLE:return tt.UNAVAILABLE;case Ms.UNAUTHENTICATED:return tt.UNAUTHENTICATED;case Ms.INVALID_ARGUMENT:return tt.INVALID_ARGUMENT;case Ms.NOT_FOUND:return tt.NOT_FOUND;case Ms.ALREADY_EXISTS:return tt.ALREADY_EXISTS;case Ms.PERMISSION_DENIED:return tt.PERMISSION_DENIED;case Ms.FAILED_PRECONDITION:return tt.FAILED_PRECONDITION;case Ms.ABORTED:return tt.ABORTED;case Ms.OUT_OF_RANGE:return tt.OUT_OF_RANGE;case Ms.UNIMPLEMENTED:return tt.UNIMPLEMENTED;case Ms.DATA_LOSS:return tt.DATA_LOSS;default:return sn()}}(Ei=Ms||(Ms={}))[Ei.OK=0]="OK",Ei[Ei.CANCELLED=1]="CANCELLED",Ei[Ei.UNKNOWN=2]="UNKNOWN",Ei[Ei.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",Ei[Ei.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",Ei[Ei.NOT_FOUND=5]="NOT_FOUND",Ei[Ei.ALREADY_EXISTS=6]="ALREADY_EXISTS",Ei[Ei.PERMISSION_DENIED=7]="PERMISSION_DENIED",Ei[Ei.UNAUTHENTICATED=16]="UNAUTHENTICATED",Ei[Ei.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",Ei[Ei.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",Ei[Ei.ABORTED=10]="ABORTED",Ei[Ei.OUT_OF_RANGE=11]="OUT_OF_RANGE",Ei[Ei.UNIMPLEMENTED=12]="UNIMPLEMENTED",Ei[Ei.INTERNAL=13]="INTERNAL",Ei[Ei.UNAVAILABLE=14]="UNAVAILABLE",Ei[Ei.DATA_LOSS=15]="DATA_LOSS";class N0{constructor(){this.onExistenceFilterMismatchCallbacks=new Map}static get instance(){return P0}static getOrCreateInstance(){return null===P0&&(P0=new N0),P0}onExistenceFilterMismatch(t){const e=Symbol();return this.onExistenceFilterMismatchCallbacks.set(e,t),()=>this.onExistenceFilterMismatchCallbacks.delete(e)}notifyOnExistenceFilterMismatch(t){this.onExistenceFilterMismatchCallbacks.forEach(e=>e(t))}}let P0=null;function GI(){return new TextEncoder}const vR=new yg([4294967295,4294967295],0);function R0(n){const t=GI().encode(n),e=new UV;return e.update(t),new Uint8Array(e.digest())}function WI(n){const t=new DataView(n.buffer),e=t.getUint32(0,!0),i=t.getUint32(4,!0),r=t.getUint32(8,!0),s=t.getUint32(12,!0);return[new yg([e,i],0),new yg([r,s],0)]}class F0{constructor(t,e,i){if(this.bitmap=t,this.padding=e,this.hashCount=i,e<0||e>=8)throw new hy(`Invalid padding: ${e}`);if(i<0)throw new hy(`Invalid hash count: ${i}`);if(t.length>0&&0===this.hashCount)throw new hy(`Invalid hash count: ${i}`);if(0===t.length&&0!==e)throw new hy(`Invalid padding when bitmap length is 0: ${e}`);this.It=8*t.length-e,this.Tt=yg.fromNumber(this.It)}Et(t,e,i){let r=t.add(e.multiply(yg.fromNumber(i)));return 1===r.compare(vR)&&(r=new yg([r.getBits(0),r.getBits(1)],0)),r.modulo(this.Tt).toNumber()}At(t){return 0!=(this.bitmap[Math.floor(t/8)]&1<<t%8)}vt(t){if(0===this.It)return!1;const e=R0(t),[i,r]=WI(e);for(let s=0;s<this.hashCount;s++){const c=this.Et(i,r,s);if(!this.At(c))return!1}return!0}static create(t,e,i){const r=t%8==0?0:8-t%8,s=new Uint8Array(Math.ceil(t/8)),c=new F0(s,r,e);return i.forEach(p=>c.insert(p)),c}insert(t){if(0===this.It)return;const e=R0(t),[i,r]=WI(e);for(let s=0;s<this.hashCount;s++){const c=this.Et(i,r,s);this.Rt(c)}}Rt(t){const e=Math.floor(t/8);this.bitmap[e]|=1<<t%8}}class hy extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}class fy{constructor(t,e,i,r,s){this.snapshotVersion=t,this.targetChanges=e,this.targetMismatches=i,this.documentUpdates=r,this.resolvedLimboDocuments=s}static createSynthesizedRemoteEventForCurrentChange(t,e,i){const r=new Map;return r.set(t,py.createSynthesizedTargetChangeForCurrentChange(t,e,i)),new fy(bn.min(),r,new Er(jn),fa(),Jn())}}class py{constructor(t,e,i,r,s){this.resumeToken=t,this.current=e,this.addedDocuments=i,this.modifiedDocuments=r,this.removedDocuments=s}static createSynthesizedTargetChangeForCurrentChange(t,e,i){return new py(i,e,Jn(),Jn(),Jn())}}class L0{constructor(t,e,i,r){this.Pt=t,this.removedTargetIds=e,this.key=i,this.bt=r}}class $I{constructor(t,e){this.targetId=t,this.Vt=e}}class YI{constructor(t,e,i=Is.EMPTY_BYTE_STRING,r=null){this.state=t,this.targetIds=e,this.resumeToken=i,this.cause=r}}class qI{constructor(){this.St=0,this.Dt=X1(),this.Ct=Is.EMPTY_BYTE_STRING,this.xt=!1,this.Nt=!0}get current(){return this.xt}get resumeToken(){return this.Ct}get kt(){return 0!==this.St}get Mt(){return this.Nt}$t(t){t.approximateByteSize()>0&&(this.Nt=!0,this.Ct=t)}Ot(){let t=Jn(),e=Jn(),i=Jn();return this.Dt.forEach((r,s)=>{switch(s){case 0:t=t.add(r);break;case 2:e=e.add(r);break;case 1:i=i.add(r);break;default:sn()}}),new py(this.Ct,this.xt,t,e,i)}Ft(){this.Nt=!1,this.Dt=X1()}Bt(t,e){this.Nt=!0,this.Dt=this.Dt.insert(t,e)}Lt(t){this.Nt=!0,this.Dt=this.Dt.remove(t)}qt(){this.St+=1}Ut(){this.St-=1}Kt(){this.Nt=!0,this.xt=!0}}class yR{constructor(t){this.Gt=t,this.Qt=new Map,this.jt=fa(),this.zt=Z1(),this.Wt=new Er(jn)}Ht(t){for(const e of t.Pt)t.bt&&t.bt.isFoundDocument()?this.Jt(e,t.bt):this.Yt(e,t.key,t.bt);for(const e of t.removedTargetIds)this.Yt(e,t.key,t.bt)}Xt(t){this.forEachTarget(t,e=>{const i=this.Zt(e);switch(t.state){case 0:this.te(e)&&i.$t(t.resumeToken);break;case 1:i.Ut(),i.kt||i.Ft(),i.$t(t.resumeToken);break;case 2:i.Ut(),i.kt||this.removeTarget(e);break;case 3:this.te(e)&&(i.Kt(),i.$t(t.resumeToken));break;case 4:this.te(e)&&(this.ee(e),i.$t(t.resumeToken));break;default:sn()}})}forEachTarget(t,e){t.targetIds.length>0?t.targetIds.forEach(e):this.Qt.forEach((i,r)=>{this.te(r)&&e(r)})}ne(t){var e;const i=t.targetId,r=t.Vt.count,s=this.se(i);if(s){const c=s.target;if(Iu(c))if(0===r){const p=new qt(c.path);this.Yt(i,p,Dr.newNoDocument(p,bn.min()))}else _n(1===r);else{const p=this.ie(i);if(p!==r){const _=this.re(t,p);0!==_&&(this.ee(i),this.Wt=this.Wt.insert(i,2===_?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch")),null===(e=N0.instance)||void 0===e||e.notifyOnExistenceFilterMismatch(function(C,M,V){var W,K,oe,ae,fe,Pe;const Be={localCacheCount:M,existenceFilterCount:V.count},Re=V.unchangedNames;return Re&&(Be.bloomFilter={applied:0===C,hashCount:null!==(W=Re?.hashCount)&&void 0!==W?W:0,bitmapLength:null!==(ae=null===(oe=null===(K=Re?.bits)||void 0===K?void 0:K.bitmap)||void 0===oe?void 0:oe.length)&&void 0!==ae?ae:0,padding:null!==(Pe=null===(fe=Re?.bits)||void 0===fe?void 0:fe.padding)&&void 0!==Pe?Pe:0}),Be}(_,p,t.Vt))}}}}re(t,e){const{unchangedNames:i,count:r}=t.Vt;if(!i||!i.bits)return 1;const{bits:{bitmap:s="",padding:c=0},hashCount:p=0}=i;let _,C;try{_=Eu(s).toUint8Array()}catch(M){if(M instanceof tl)return ka("Decoding the base64 bloom filter in existence filter failed ("+M.message+"); ignoring the bloom filter and falling back to full re-query."),1;throw M}try{C=new F0(_,c,p)}catch(M){return ka(M instanceof hy?"BloomFilter error: ":"Applying bloom filter failed: ",M),1}return 0===C.It?1:r!==e-this.oe(t.targetId,C)?2:0}oe(t,e){const i=this.Gt.getRemoteKeysForTarget(t);let r=0;return i.forEach(s=>{const c=this.Gt.ue(),p=`projects/${c.projectId}/databases/${c.database}/documents/${s.path.canonicalString()}`;e.vt(p)||(this.Yt(t,s,null),r++)}),r}ce(t){const e=new Map;this.Qt.forEach((s,c)=>{const p=this.se(c);if(p){if(s.current&&Iu(p.target)){const _=new qt(p.target.path);null!==this.jt.get(_)||this.ae(c,_)||this.Yt(c,_,Dr.newNoDocument(_,t))}s.Mt&&(e.set(c,s.Ot()),s.Ft())}});let i=Jn();this.zt.forEach((s,c)=>{let p=!0;c.forEachWhile(_=>{const C=this.se(_);return!C||"TargetPurposeLimboResolution"===C.purpose||(p=!1,!1)}),p&&(i=i.add(s))}),this.jt.forEach((s,c)=>c.setReadTime(t));const r=new fy(t,e,this.Wt,this.jt,i);return this.jt=fa(),this.zt=Z1(),this.Wt=new Er(jn),r}Jt(t,e){if(!this.te(t))return;const i=this.ae(t,e.key)?2:0;this.Zt(t).Bt(e.key,i),this.jt=this.jt.insert(e.key,e),this.zt=this.zt.insert(e.key,this.he(e.key).add(t))}Yt(t,e,i){if(!this.te(t))return;const r=this.Zt(t);this.ae(t,e)?r.Bt(e,1):r.Lt(e),this.zt=this.zt.insert(e,this.he(e).delete(t)),i&&(this.jt=this.jt.insert(e,i))}removeTarget(t){this.Qt.delete(t)}ie(t){const e=this.Zt(t).Ot();return this.Gt.getRemoteKeysForTarget(t).size+e.addedDocuments.size-e.removedDocuments.size}qt(t){this.Zt(t).qt()}Zt(t){let e=this.Qt.get(t);return e||(e=new qI,this.Qt.set(t,e)),e}he(t){let e=this.zt.get(t);return e||(e=new Ni(jn),this.zt=this.zt.insert(t,e)),e}te(t){const e=null!==this.se(t);return e||Mt("WatchChangeAggregator","Detected inactive target",t),e}se(t){const e=this.Qt.get(t);return e&&e.kt?null:this.Gt.le(t)}ee(t){this.Qt.set(t,new qI),this.Gt.getRemoteKeysForTarget(t).forEach(e=>{this.Yt(t,e,null)})}ae(t,e){return this.Gt.getRemoteKeysForTarget(t).has(e)}}function Z1(){return new Er(qt.comparator)}function X1(){return new Er(qt.comparator)}const ZI={asc:"ASCENDING",desc:"DESCENDING"},_R={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},XI={and:"AND",or:"OR"};class bR{constructor(t,e){this.databaseId=t,this.useProto3Json=e}}function K1(n,t){return n.useProto3Json||xg(t)?t:{value:t}}function Fg(n,t){return n.useProto3Json?`${new Date(1e3*t.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+t.nanoseconds).slice(-9)}Z`:{seconds:""+t.seconds,nanos:t.nanoseconds}}function KI(n,t){return n.useProto3Json?t.toBase64():t.toUint8Array()}function Q1(n,t){return Fg(n,t.toTimestamp())}function qr(n){return _n(!!n),bn.fromTimestamp(function(t){const e=jd(t);return new Pr(e.seconds,e.nanos)}(n))}function B0(n,t){return(e=n,new xi(["projects",e.projectId,"databases",e.database])).child("documents").child(t).canonicalString();var e}function V0(n){const t=xi.fromString(n);return _n(aE(t)),t}function gy(n,t){return B0(n.databaseId,t.path)}function Ac(n,t){const e=V0(t);if(e.get(1)!==n.databaseId.projectId)throw new Ct(tt.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+e.get(1)+" vs "+n.databaseId.projectId);if(e.get(3)!==n.databaseId.database)throw new Ct(tt.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+e.get(3)+" vs "+n.databaseId.database);return new qt(Zd(e))}function my(n,t){return B0(n.databaseId,t)}function QI(n){const t=V0(n);return 4===t.length?xi.emptyPath():Zd(t)}function Lg(n){return new xi(["projects",n.databaseId.projectId,"databases",n.databaseId.database]).canonicalString()}function Zd(n){return _n(n.length>4&&"documents"===n.get(4)),n.popFirst(5)}function J1(n,t,e){return{name:gy(n,t),fields:e.value.mapValue.fields}}function JI(n,t,e){const i=Ac(n,t.name),r=qr(t.updateTime),s=t.createTime?qr(t.createTime):bn.min(),c=new _o({mapValue:{fields:t.fields}}),p=Dr.newFoundDocument(i,r,s,c);return e&&p.setHasCommittedMutations(),e?p.setHasCommittedMutations():p}function Ff(n,t){let e;if(t instanceof dy)e={update:J1(n,t.key,t.value)};else if(t instanceof Sc)e={delete:gy(n,t.key)};else if(t instanceof Mu)e={update:J1(n,t.key,t.data),updateMask:wR(t.fieldMask)};else{if(!(t instanceof $1))return sn();e={verify:gy(n,t.key)}}return t.fieldTransforms.length>0&&(e.updateTransforms=t.fieldTransforms.map(i=>function(r,s){const c=s.transform;if(c instanceof Nf)return{fieldPath:s.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(c instanceof Pf)return{fieldPath:s.field.canonicalString(),appendMissingElements:{values:c.elements}};if(c instanceof Rf)return{fieldPath:s.field.canonicalString(),removeAllFromArray:{values:c.elements}};if(c instanceof ly)return{fieldPath:s.field.canonicalString(),increment:c.gt};throw sn()}(0,i))),t.precondition.isNone||(e.currentDocument=void 0!==(r=t.precondition).updateTime?{updateTime:Q1(n,r.updateTime)}:void 0!==r.exists?{exists:r.exists}:sn()),e;var r}function tE(n,t){const e=t.currentDocument?void 0!==(r=t.currentDocument).updateTime?Rr.updateTime(qr(r.updateTime)):void 0!==r.exists?Rr.exists(r.exists):Rr.none():Rr.none(),i=t.updateTransforms?t.updateTransforms.map(r=>function(s,c){let p=null;"setToServerValue"in c?(_n("REQUEST_TIME"===c.setToServerValue),p=new Nf):"appendMissingElements"in c?p=new Pf(c.appendMissingElements.values||[]):"removeAllFromArray"in c?p=new Rf(c.removeAllFromArray.values||[]):"increment"in c?p=new ly(s,c.increment):sn();const _=Cr.fromServerFormat(c.fieldPath);return new A0(_,p)}(n,r)):[];var r;if(t.update){const r=Ac(n,t.update.name),s=new _o({mapValue:{fields:t.update.fields}});if(t.updateMask){const c=new Yr((t.updateMask.fieldPaths||[]).map(C=>Cr.fromServerFormat(C)));return new Mu(r,s,c,e,i)}return new dy(r,s,e,i)}if(t.delete){const r=Ac(n,t.delete);return new Sc(r,e)}if(t.verify){const r=Ac(n,t.verify);return new $1(r,e)}return sn()}function nE(n,t){return{documents:[my(n,t.path)]}}function iE(n,t){const e={structuredQuery:{}},i=t.path;null!==t.collectionGroup?(e.parent=my(n,i),e.structuredQuery.from=[{collectionId:t.collectionGroup,allDescendants:!0}]):(e.parent=my(n,i.popLast()),e.structuredQuery.from=[{collectionId:i.lastSegment()}]);const r=function(_){if(0!==_.length)return rM(Ji.create(_,"and"))}(t.filters);r&&(e.structuredQuery.where=r);const s=function(_){if(0!==_.length)return _.map(C=>{return{field:Xd((M=C).field),direction:tM(M.dir)};var M})}(t.orderBy);s&&(e.structuredQuery.orderBy=s);const c=K1(n,t.limit);var p,_;return null!==c&&(e.structuredQuery.limit=c),t.startAt&&(e.structuredQuery.startAt={before:(p=t.startAt).inclusive,values:p.position}),t.endAt&&(e.structuredQuery.endAt={before:!(_=t.endAt).inclusive,values:_.position}),e}function rE(n){let t=QI(n.parent);const e=n.structuredQuery,i=e.from?e.from.length:0;let r=null;if(i>0){_n(1===i);const M=e.from[0];M.allDescendants?r=M.collectionId:t=t.child(M.collectionId)}let s=[];e.where&&(s=function(M){const V=oE(M);return V instanceof Ji&&M1(V)?V.getFilters():[V]}(e.where));let c=[];e.orderBy&&(c=e.orderBy.map(M=>{return new Ag(Bg((V=M).field),function(W){switch(W){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(V.direction));var V}));let p=null;e.limit&&(p=function(M){let V;return V="object"==typeof M?M.value:M,xg(V)?null:V}(e.limit));let _=null;var M;e.startAt&&(_=new qd((M=e.startAt).values||[],!!M.before));let C=null;return e.endAt&&(C=function(M){return new qd(M.values||[],!M.before)}(e.endAt)),B1(t,r,c,s,p,"F",_,C)}function oE(n){return void 0!==n.unaryFilter?function(t){switch(t.unaryFilter.op){case"IS_NAN":const e=Bg(t.unaryFilter.field);return Ci.create(e,"==",{doubleValue:NaN});case"IS_NULL":const i=Bg(t.unaryFilter.field);return Ci.create(i,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const r=Bg(t.unaryFilter.field);return Ci.create(r,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const s=Bg(t.unaryFilter.field);return Ci.create(s,"!=",{nullValue:"NULL_VALUE"});default:return sn()}}(n):void 0!==n.fieldFilter?Ci.create(Bg((t=n).fieldFilter.field),function(e){switch(e){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";default:return sn()}}(t.fieldFilter.op),t.fieldFilter.value):void 0!==n.compositeFilter?function(t){return Ji.create(t.compositeFilter.filters.map(e=>oE(e)),function(e){switch(e){case"AND":return"and";case"OR":return"or";default:return sn()}}(t.compositeFilter.op))}(n):sn();var t}function tM(n){return ZI[n]}function nM(n){return _R[n]}function iM(n){return XI[n]}function Xd(n){return{fieldPath:n.canonicalString()}}function Bg(n){return Cr.fromServerFormat(n.fieldPath)}function rM(n){return n instanceof Ci?function(t){if("=="===t.op){if(T1(t.value))return{unaryFilter:{field:Xd(t.field),op:"IS_NAN"}};if(w0(t.value))return{unaryFilter:{field:Xd(t.field),op:"IS_NULL"}}}else if("!="===t.op){if(T1(t.value))return{unaryFilter:{field:Xd(t.field),op:"IS_NOT_NAN"}};if(w0(t.value))return{unaryFilter:{field:Xd(t.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:Xd(t.field),op:nM(t.op),value:t.value}}}(n):n instanceof Ji?function(t){const e=t.getFilters().map(i=>rM(i));return 1===e.length?e[0]:{compositeFilter:{op:iM(t.op),filters:e}}}(n):sn()}function wR(n){const t=[];return n.fields.forEach(e=>t.push(e.canonicalString())),{fieldPaths:t}}function aE(n){return n.length>=4&&"projects"===n.get(0)&&"databases"===n.get(2)}class Kd{constructor(t,e,i,r,s=bn.min(),c=bn.min(),p=Is.EMPTY_BYTE_STRING,_=null){this.target=t,this.targetId=e,this.purpose=i,this.sequenceNumber=r,this.snapshotVersion=s,this.lastLimboFreeSnapshotVersion=c,this.resumeToken=p,this.expectedCount=_}withSequenceNumber(t){return new Kd(this.target,this.targetId,this.purpose,t,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(t,e){return new Kd(this.target,this.targetId,this.purpose,this.sequenceNumber,e,this.lastLimboFreeSnapshotVersion,t,null)}withExpectedCount(t){return new Kd(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,t)}withLastLimboFreeSnapshotVersion(t){return new Kd(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,t,this.resumeToken,this.expectedCount)}}class lE{constructor(t){this.fe=t}}function sM(n,t){const e=t.key,i={prefixPath:e.getCollectionPath().popLast().toArray(),collectionGroup:e.collectionGroup,documentId:e.path.lastSegment(),readTime:cE(t.readTime),hasCommittedMutations:t.hasCommittedMutations};if(t.isFoundDocument())i.document={name:gy(r=n.fe,(s=t).key),fields:s.data.value.mapValue.fields,updateTime:Fg(r,s.version.toTimestamp()),createTime:Fg(r,s.createTime.toTimestamp())};else if(t.isNoDocument())i.noDocument={path:e.path.toArray(),readTime:Lf(t.version)};else{if(!t.isUnknownDocument())return sn();i.unknownDocument={path:e.path.toArray(),version:Lf(t.version)}}var r,s;return i}function cE(n){const t=n.toTimestamp();return[t.seconds,t.nanoseconds]}function Lf(n){const t=n.toTimestamp();return{seconds:t.seconds,nanoseconds:t.nanoseconds}}function Bf(n){const t=new Pr(n.seconds,n.nanoseconds);return bn.fromTimestamp(t)}function Qd(n,t){const e=(t.baseMutations||[]).map(s=>tE(n.fe,s));for(let s=0;s<t.mutations.length-1;++s)s+1<t.mutations.length&&void 0!==t.mutations[s+1].transform&&(t.mutations[s].updateTransforms=t.mutations[s+1].transform.fieldTransforms,t.mutations.splice(s+1,1),++s);const i=t.mutations.map(s=>tE(n.fe,s)),r=Pr.fromMillis(t.localWriteTimeMs);return new k0(t.batchId,r,e,i)}function Vg(n){const t=Bf(n.readTime),e=void 0!==n.lastLimboFreeSnapshotVersion?Bf(n.lastLimboFreeSnapshotVersion):bn.min();let i;var r;return void 0!==n.query.documents?(_n(1===(r=n.query).documents.length),i=Yo(sy(QI(r.documents[0])))):i=Yo(rE(n.query)),new Kd(i,n.targetId,"TargetPurposeListen",n.lastListenSequenceNumber,t,e,Is.fromBase64String(n.resumeToken))}function uE(n,t){const e=Lf(t.snapshotVersion),i=Lf(t.lastLimboFreeSnapshotVersion);let r;r=Iu(t.target)?nE(n.fe,t.target):iE(n.fe,t.target);const s=t.resumeToken.toBase64();return{targetId:t.targetId,canonicalId:Mf(t.target),readTime:e,resumeToken:s,lastListenSequenceNumber:t.sequenceNumber,lastLimboFreeSnapshotVersion:i,query:r}}function H0(n){const t=rE({parent:n.parent,structuredQuery:n.structuredQuery});return"LAST"===n.limitType?Of(t,t.limit,"L"):t}function U0(n,t){return new O0(t.largestBatchId,tE(n.fe,t.overlayMutation))}function dE(n,t){const e=t.path.lastSegment();return[n,yo(t.path.popLast()),e]}function hE(n,t,e,i){return{indexId:n,uid:t.uid||"",sequenceNumber:e,readTime:Lf(i.readTime),documentKey:yo(i.documentKey.path),largestBatchId:i.largestBatchId}}class oM{getBundleMetadata(t,e){return aM(t).get(e).next(i=>{if(i)return{id:(r=i).bundleId,createTime:Bf(r.createTime),version:r.version};var r})}saveBundleMetadata(t,e){return aM(t).put({bundleId:(i=e).id,createTime:Lf(qr(i.createTime)),version:i.version});var i}getNamedQuery(t,e){return fE(t).get(e).next(i=>{if(i)return{name:(r=i).name,query:H0(r.bundledQuery),readTime:Bf(r.readTime)};var r})}saveNamedQuery(t,e){return fE(t).put({name:(i=e).name,readTime:Lf(qr(i.readTime)),bundledQuery:i.bundledQuery});var i}}function aM(n){return eo(n,"bundles")}function fE(n){return eo(n,"namedQueries")}class Jd{constructor(t,e){this.serializer=t,this.userId=e}static de(t,e){return new Jd(t,e.uid||"")}getOverlay(t,e){return Hg(t).get(dE(this.userId,e)).next(i=>i?U0(this.serializer,i):null)}getOverlays(t,e){const i=Tc();return Xe.forEach(e,r=>this.getOverlay(t,r).next(s=>{null!==s&&i.set(r,s)})).next(()=>i)}saveOverlays(t,e,i){const r=[];return i.forEach((s,c)=>{const p=new O0(e,c);r.push(this.we(t,p))}),Xe.waitFor(r)}removeOverlaysForBatchId(t,e,i){const r=new Set;e.forEach(c=>r.add(yo(c.getCollectionPath())));const s=[];return r.forEach(c=>{const p=IDBKeyRange.bound([this.userId,c,i],[this.userId,c,i+1],!1,!0);s.push(Hg(t).J("collectionPathOverlayIndex",p))}),Xe.waitFor(s)}getOverlaysForCollection(t,e,i){const r=Tc(),s=yo(e),c=IDBKeyRange.bound([this.userId,s,i],[this.userId,s,Number.POSITIVE_INFINITY],!0);return Hg(t).j("collectionPathOverlayIndex",c).next(p=>{for(const _ of p){const C=U0(this.serializer,_);r.set(C.getKey(),C)}return r})}getOverlaysForCollectionGroup(t,e,i,r){const s=Tc();let c;const p=IDBKeyRange.bound([this.userId,e,i],[this.userId,e,Number.POSITIVE_INFINITY],!0);return Hg(t).X({index:"collectionGroupOverlayIndex",range:p},(_,C,M)=>{const V=U0(this.serializer,C);s.size()<r||V.largestBatchId===c?(s.set(V.getKey(),V),c=V.largestBatchId):M.done()}).next(()=>s)}we(t,e){return Hg(t).put(function(i,r,s){const[c,p,_]=dE(r,s.mutation.key);return{userId:r,collectionPath:p,documentId:_,collectionGroup:s.mutation.key.getCollectionGroup(),largestBatchId:s.largestBatchId,overlayMutation:Ff(i.fe,s.mutation)}}(this.serializer,this.userId,e))}}function Hg(n){return eo(n,"documentOverlays")}class eh{constructor(){}_e(t,e){this.me(t,e),e.ge()}me(t,e){if("nullValue"in t)this.ye(e,5);else if("booleanValue"in t)this.ye(e,10),e.pe(t.booleanValue?1:0);else if("integerValue"in t)this.ye(e,15),e.pe(ls(t.integerValue));else if("doubleValue"in t){const i=ls(t.doubleValue);isNaN(i)?this.ye(e,13):(this.ye(e,15),Cg(i)?e.pe(0):e.pe(i))}else if("timestampValue"in t){const i=t.timestampValue;this.ye(e,20),"string"==typeof i?e.Ie(i):(e.Ie(`${i.seconds||""}`),e.pe(i.nanos||0))}else if("stringValue"in t)this.Te(t.stringValue,e),this.Ee(e);else if("bytesValue"in t)this.ye(e,30),e.Ae(Eu(t.bytesValue)),this.Ee(e);else if("referenceValue"in t)this.ve(t.referenceValue,e);else if("geoPointValue"in t){const i=t.geoPointValue;this.ye(e,45),e.pe(i.latitude||0),e.pe(i.longitude||0)}else"mapValue"in t?S1(t)?this.ye(e,Number.MAX_SAFE_INTEGER):(this.Re(t.mapValue,e),this.Ee(e)):"arrayValue"in t?(this.Pe(t.arrayValue,e),this.Ee(e)):sn()}Te(t,e){this.ye(e,25),this.be(t,e)}be(t,e){e.Ie(t)}Re(t,e){const i=t.fields||{};this.ye(e,55);for(const r of Object.keys(i))this.Te(r,e),this.me(i[r],e)}Pe(t,e){const i=t.values||[];this.ye(e,50);for(const r of i)this.me(r,e)}ve(t,e){this.ye(e,37),qt.fromName(t).path.forEach(i=>{this.ye(e,60),this.be(i,e)})}ye(t,e){t.pe(e)}Ee(t){t.pe(2)}}function lM(n){if(0===n)return 8;let t=0;return!(n>>4)&&(t+=4,n<<=4),!(n>>6)&&(t+=2,n<<=2),!(n>>7)&&(t+=1),t}function pE(n){const t=64-function(e){let i=0;for(let r=0;r<8;++r){const s=lM(255&e[r]);if(i+=s,8!==s)break}return i}(n);return Math.ceil(t/8)}eh.Ve=new eh;class cM{constructor(){this.buffer=new Uint8Array(1024),this.position=0}Se(t){const e=t[Symbol.iterator]();let i=e.next();for(;!i.done;)this.De(i.value),i=e.next();this.Ce()}xe(t){const e=t[Symbol.iterator]();let i=e.next();for(;!i.done;)this.Ne(i.value),i=e.next();this.ke()}Me(t){for(const e of t){const i=e.charCodeAt(0);if(i<128)this.De(i);else if(i<2048)this.De(960|i>>>6),this.De(128|63&i);else if(e<"\ud800"||"\udbff"<e)this.De(480|i>>>12),this.De(128|63&i>>>6),this.De(128|63&i);else{const r=e.codePointAt(0);this.De(240|r>>>18),this.De(128|63&r>>>12),this.De(128|63&r>>>6),this.De(128|63&r)}}this.Ce()}$e(t){for(const e of t){const i=e.charCodeAt(0);if(i<128)this.Ne(i);else if(i<2048)this.Ne(960|i>>>6),this.Ne(128|63&i);else if(e<"\ud800"||"\udbff"<e)this.Ne(480|i>>>12),this.Ne(128|63&i>>>6),this.Ne(128|63&i);else{const r=e.codePointAt(0);this.Ne(240|r>>>18),this.Ne(128|63&r>>>12),this.Ne(128|63&r>>>6),this.Ne(128|63&r)}}this.ke()}Oe(t){const e=this.Fe(t),i=pE(e);this.Be(1+i),this.buffer[this.position++]=255&i;for(let r=e.length-i;r<e.length;++r)this.buffer[this.position++]=255&e[r]}Le(t){const e=this.Fe(t),i=pE(e);this.Be(1+i),this.buffer[this.position++]=~(255&i);for(let r=e.length-i;r<e.length;++r)this.buffer[this.position++]=~(255&e[r])}qe(){this.Ue(255),this.Ue(255)}Ke(){this.Ge(255),this.Ge(255)}reset(){this.position=0}seed(t){this.Be(t.length),this.buffer.set(t,this.position),this.position+=t.length}Qe(){return this.buffer.slice(0,this.position)}Fe(t){const e=function(r){const s=new DataView(new ArrayBuffer(8));return s.setFloat64(0,r,!1),new Uint8Array(s.buffer)}(t),i=0!=(128&e[0]);e[0]^=i?255:128;for(let r=1;r<e.length;++r)e[r]^=i?255:0;return e}De(t){const e=255&t;0===e?(this.Ue(0),this.Ue(255)):255===e?(this.Ue(255),this.Ue(0)):this.Ue(e)}Ne(t){const e=255&t;0===e?(this.Ge(0),this.Ge(255)):255===e?(this.Ge(255),this.Ge(0)):this.Ge(t)}Ce(){this.Ue(0),this.Ue(1)}ke(){this.Ge(0),this.Ge(1)}Ue(t){this.Be(1),this.buffer[this.position++]=t}Ge(t){this.Be(1),this.buffer[this.position++]=~t}Be(t){const e=t+this.position;if(e<=this.buffer.length)return;let i=2*this.buffer.length;i<e&&(i=e);const r=new Uint8Array(i);r.set(this.buffer),this.buffer=r}}class uM{constructor(t){this.je=t}Ae(t){this.je.Se(t)}Ie(t){this.je.Me(t)}pe(t){this.je.Oe(t)}ge(){this.je.qe()}}class CR{constructor(t){this.je=t}Ae(t){this.je.xe(t)}Ie(t){this.je.$e(t)}pe(t){this.je.Le(t)}ge(){this.je.Ke()}}class z0{constructor(){this.je=new cM,this.ze=new uM(this.je),this.We=new CR(this.je)}seed(t){this.je.seed(t)}He(t){return 0===t?this.ze:this.We}Qe(){return this.je.Qe()}reset(){this.je.reset()}}class Ug{constructor(t,e,i,r){this.indexId=t,this.documentKey=e,this.arrayValue=i,this.directionalValue=r}Je(){const t=this.directionalValue.length,e=0===t||255===this.directionalValue[t-1]?t+1:t,i=new Uint8Array(e);return i.set(this.directionalValue,0),e!==t?i.set([0],this.directionalValue.length):++i[i.length-1],new Ug(this.indexId,this.documentKey,this.arrayValue,i)}}function ku(n,t){let e=n.indexId-t.indexId;return 0!==e?e:(e=gE(n.arrayValue,t.arrayValue),0!==e?e:(e=gE(n.directionalValue,t.directionalValue),0!==e?e:qt.comparator(n.documentKey,t.documentKey)))}function gE(n,t){for(let e=0;e<n.length&&e<t.length;++e){const i=n[e]-t[e];if(0!==i)return i}return n.length-t.length}class dM{constructor(t){this.collectionId=null!=t.collectionGroup?t.collectionGroup:t.path.lastSegment(),this.Ye=t.orderBy,this.Xe=[];for(const e of t.filters){const i=e;i.isInequality()?this.Ze=i:this.Xe.push(i)}}tn(t){_n(t.collectionGroup===this.collectionId);const e=c0(t);if(void 0!==e&&!this.en(e))return!1;const i=Df(t);let r=new Set,s=0,c=0;for(;s<i.length&&this.en(i[s]);++s)r=r.add(i[s].fieldPath.canonicalString());if(s===i.length)return!0;if(void 0!==this.Ze){if(!r.has(this.Ze.field.canonicalString())){const p=i[s];if(!this.nn(this.Ze,p)||!this.sn(this.Ye[c++],p))return!1}++s}for(;s<i.length;++s)if(c>=this.Ye.length||!this.sn(this.Ye[c++],i[s]))return!1;return!0}en(t){for(const e of this.Xe)if(this.nn(e,t))return!0;return!1}nn(t,e){return!(void 0===t||!t.field.isEqual(e.fieldPath))&&2===e.kind==("array-contains"===t.op||"array-contains-any"===t.op)}sn(t,e){return!!t.field.isEqual(e.fieldPath)&&(0===e.kind&&"asc"===t.dir||1===e.kind&&"desc"===t.dir)}}function hM(n){var t,e;if(_n(n instanceof Ci||n instanceof Ji),n instanceof Ci){if(n instanceof R1){const r=(null===(e=null===(t=n.value.arrayValue)||void 0===t?void 0:t.values)||void 0===e?void 0:e.map(s=>Ci.create(n.field,"==",s)))||[];return Ji.create(r,"or")}return n}const i=n.filters.map(r=>hM(r));return Ji.create(i,n.op)}function ER(n){if(0===n.getFilters().length)return[];const t=vE(hM(n));return _n(j0(t)),Vf(t)||mE(t)?[t]:t.getFilters()}function Vf(n){return n instanceof Ci}function mE(n){return n instanceof Ji&&M1(n)}function j0(n){return Vf(n)||mE(n)||function(t){if(t instanceof Ji&&I1(t)){for(const e of t.getFilters())if(!Vf(e)&&!mE(e))return!1;return!0}return!1}(n)}function vE(n){if(_n(n instanceof Ci||n instanceof Ji),n instanceof Ci)return n;if(1===n.filters.length)return vE(n.filters[0]);const t=n.filters.map(i=>vE(i));let e=Ji.create(t,n.op);return e=yE(e),j0(e)?e:(_n(e instanceof Ji),_n(Ig(e)),_n(e.filters.length>1),e.filters.reduce((i,r)=>fM(i,r)))}function fM(n,t){let e;return _n(n instanceof Ci||n instanceof Ji),_n(t instanceof Ci||t instanceof Ji),e=n instanceof Ci?t instanceof Ci?Ji.create([n,t],"and"):pM(n,t):t instanceof Ci?pM(t,n):function(i,r){if(_n(i.filters.length>0&&r.filters.length>0),Ig(i)&&Ig(r))return O1(i,r.getFilters());const s=I1(i)?i:r,c=I1(i)?r:i,p=s.filters.map(_=>fM(_,c));return Ji.create(p,"or")}(n,t),yE(e)}function pM(n,t){if(Ig(t))return O1(t,n.getFilters());{const e=t.filters.map(i=>fM(n,i));return Ji.create(e,"or")}}function yE(n){if(_n(n instanceof Ci||n instanceof Ji),n instanceof Ci)return n;const t=n.getFilters();if(1===t.length)return yE(t[0]);if(wI(n))return n;const e=t.map(r=>yE(r)),i=[];return e.forEach(r=>{r instanceof Ci?i.push(r):r instanceof Ji&&(r.op===n.op?i.push(...r.filters):i.push(r))}),1===i.length?i[0]:Ji.create(i,n.op)}class vy{constructor(){this.rn=new _E}addToCollectionParentIndex(t,e){return this.rn.add(e),Xe.resolve()}getCollectionParents(t,e){return Xe.resolve(this.rn.getEntries(e))}addFieldIndex(t,e){return Xe.resolve()}deleteFieldIndex(t,e){return Xe.resolve()}getDocumentsMatchingTarget(t,e){return Xe.resolve(null)}getIndexType(t,e){return Xe.resolve(0)}getFieldIndexes(t,e){return Xe.resolve([])}getNextCollectionGroupToUpdate(t){return Xe.resolve(null)}getMinOffset(t,e){return Xe.resolve(Oa.min())}getMinOffsetFromCollectionGroup(t,e){return Xe.resolve(Oa.min())}updateCollectionGroup(t,e,i){return Xe.resolve()}updateIndexEntries(t,e){return Xe.resolve()}}class _E{constructor(){this.index={}}add(t){const e=t.lastSegment(),i=t.popLast(),r=this.index[e]||new Ni(xi.comparator),s=!r.has(i);return this.index[e]=r.add(i),s}has(t){const e=t.lastSegment(),i=t.popLast(),r=this.index[e];return r&&r.has(i)}getEntries(t){return(this.index[t]||new Ni(xi.comparator)).toArray()}}const G0=new Uint8Array(0);class DR{constructor(t,e){this.user=t,this.databaseId=e,this.on=new _E,this.un=new Dc(i=>Mf(i),(i,r)=>ry(i,r)),this.uid=t.uid||""}addToCollectionParentIndex(t,e){if(!this.on.has(e)){const i=e.lastSegment(),r=e.popLast();t.addOnCommittedListener(()=>{this.on.add(e)});const s={collectionId:i,parent:yo(r)};return yy(t).put(s)}return Xe.resolve()}getCollectionParents(t,e){const i=[],r=IDBKeyRange.bound([e,""],[sI(e),""],!1,!0);return yy(t).j(r).next(s=>{for(const c of s){if(c.collectionId!==e)break;i.push(Na(c.parent))}return i})}addFieldIndex(t,e){const i=W0(t),r={indexId:(c=e).indexId,collectionGroup:c.collectionGroup,fields:c.fields.map(p=>[p.fieldPath.canonicalString(),p.kind])};var c;delete r.indexId;const s=i.add(r);if(e.indexState){const c=jg(t);return s.next(p=>{c.put(hE(p,this.user,e.indexState.sequenceNumber,e.indexState.offset))})}return s.next()}deleteFieldIndex(t,e){const i=W0(t),r=jg(t),s=zg(t);return i.delete(e.indexId).next(()=>r.delete(IDBKeyRange.bound([e.indexId],[e.indexId+1],!1,!0))).next(()=>s.delete(IDBKeyRange.bound([e.indexId],[e.indexId+1],!1,!0)))}getDocumentsMatchingTarget(t,e){const i=zg(t);let r=!0;const s=new Map;return Xe.forEach(this.cn(e),c=>this.an(t,c).next(p=>{r&&(r=!!p),s.set(c,p)})).next(()=>{if(r){let c=Jn();const p=[];return Xe.forEach(s,(_,C)=>{var M;Mt("IndexedDbIndexManager",`Using index ${M=_,`id=${M.indexId}|cg=${M.collectionGroup}|f=${M.fields.map(Re=>`${Re.fieldPath}:${Re.kind}`).join(",")}`} to execute ${Mf(e)}`);const V=function(Re,ze){const ut=c0(ze);if(void 0===ut)return null;for(const bt of x0(Re,ut.fieldPath))switch(bt.op){case"array-contains-any":return bt.value.arrayValue.values||[];case"array-contains":return[bt.value]}return null}(C,_),W=function(Re,ze){const ut=new Map;for(const bt of Df(ze))for(const jt of x0(Re,bt.fieldPath))switch(jt.op){case"==":case"in":ut.set(bt.fieldPath.canonicalString(),jt.value);break;case"not-in":case"!=":return ut.set(bt.fieldPath.canonicalString(),jt.value),Array.from(ut.values())}return null}(C,_),K=function(Re,ze){const ut=[];let bt=!0;for(const jt of Df(ze)){const Vt=0===jt.kind?C0(Re,jt.fieldPath,Re.startAt):cR(Re,jt.fieldPath,Re.startAt);ut.push(Vt.value),bt&&(bt=Vt.inclusive)}return new qd(ut,bt)}(C,_),oe=function(Re,ze){const ut=[];let bt=!0;for(const jt of Df(ze)){const Vt=0===jt.kind?cR(Re,jt.fieldPath,Re.endAt):C0(Re,jt.fieldPath,Re.endAt);ut.push(Vt.value),bt&&(bt=Vt.inclusive)}return new qd(ut,bt)}(C,_),ae=this.hn(_,C,K),fe=this.hn(_,C,oe),Pe=this.ln(_,C,W),Be=this.fn(_.indexId,V,ae,K.inclusive,fe,oe.inclusive,Pe);return Xe.forEach(Be,Re=>i.H(Re,e.limit).next(ze=>{ze.forEach(ut=>{const bt=qt.fromSegments(ut.documentKey);c.has(bt)||(c=c.add(bt),p.push(bt))})}))}).next(()=>p)}return Xe.resolve(null)})}cn(t){let e=this.un.get(t);return e||(e=0===t.filters.length?[t]:ER(Ji.create(t.filters,"and")).map(i=>Au(t.path,t.collectionGroup,t.orderBy,i.getFilters(),t.limit,t.startAt,t.endAt)),this.un.set(t,e),e)}fn(t,e,i,r,s,c,p){const _=(null!=e?e.length:1)*Math.max(i.length,s.length),C=_/(null!=e?e.length:1),M=[];for(let V=0;V<_;++V){const W=e?this.dn(e[V/C]):G0,K=this.wn(t,W,i[V%C],r),oe=this._n(t,W,s[V%C],c),ae=p.map(fe=>this.wn(t,W,fe,!0));M.push(...this.createRange(K,oe,ae))}return M}wn(t,e,i,r){const s=new Ug(t,qt.empty(),e,i);return r?s:s.Je()}_n(t,e,i,r){const s=new Ug(t,qt.empty(),e,i);return r?s.Je():s}an(t,e){const i=new dM(e),r=null!=e.collectionGroup?e.collectionGroup:e.path.lastSegment();return this.getFieldIndexes(t,r).next(s=>{let c=null;for(const p of s)i.tn(p)&&(!c||p.fields.length>c.fields.length)&&(c=p);return c})}getIndexType(t,e){let i=2;const r=this.cn(e);return Xe.forEach(r,s=>this.an(t,s).next(c=>{c?0!==i&&c.fields.length<function(p){let _=new Ni(Cr.comparator),C=!1;for(const M of p.filters)for(const V of M.getFlattenedFilters())V.field.isKeyField()||("array-contains"===V.op||"array-contains-any"===V.op?C=!0:_=_.add(V.field));for(const M of p.orderBy)M.field.isKeyField()||(_=_.add(M.field));return _.size+(C?1:0)}(s)&&(i=1):i=0})).next(()=>null!==e.limit&&r.length>1&&2===i?1:i)}mn(t,e){const i=new z0;for(const r of Df(t)){const s=e.data.field(r.fieldPath);if(null==s)return null;const c=i.He(r.kind);eh.Ve._e(s,c)}return i.Qe()}dn(t){const e=new z0;return eh.Ve._e(t,e.He(0)),e.Qe()}gn(t,e){const i=new z0;return eh.Ve._e(If(this.databaseId,e),i.He(function(r){const s=Df(r);return 0===s.length?0:s[s.length-1].kind}(t))),i.Qe()}ln(t,e,i){if(null===i)return[];let r=[];r.push(new z0);let s=0;for(const c of Df(t)){const p=i[s++];for(const _ of r)if(this.yn(e,c.fieldPath)&&Yd(p))r=this.pn(r,c,p);else{const C=_.He(c.kind);eh.Ve._e(p,C)}}return this.In(r)}hn(t,e,i){return this.ln(t,e,i.position)}In(t){const e=[];for(let i=0;i<t.length;++i)e[i]=t[i].Qe();return e}pn(t,e,i){const r=[...t],s=[];for(const c of i.arrayValue.values||[])for(const p of r){const _=new z0;_.seed(p.Qe()),eh.Ve._e(c,_.He(e.kind)),s.push(_)}return s}yn(t,e){return!!t.filters.find(i=>i instanceof Ci&&i.field.isEqual(e)&&("in"===i.op||"not-in"===i.op))}getFieldIndexes(t,e){const i=W0(t),r=jg(t);return(e?i.j("collectionGroupIndex",IDBKeyRange.bound(e,e)):i.j()).next(s=>{const c=[];return Xe.forEach(s,p=>r.get([p.indexId,this.uid]).next(_=>{c.push(function(C,M){const V=M?new Hd(M.sequenceNumber,new Oa(Bf(M.readTime),new qt(Na(M.documentKey)),M.largestBatchId)):Hd.empty(),W=C.fields.map(([K,oe])=>new u0(Cr.fromServerFormat(K),oe));return new bg(C.indexId,C.collectionGroup,W,V)}(p,_))})).next(()=>c)})}getNextCollectionGroupToUpdate(t){return this.getFieldIndexes(t).next(e=>0===e.length?null:(e.sort((i,r)=>{const s=i.indexState.sequenceNumber-r.indexState.sequenceNumber;return 0!==s?s:jn(i.collectionGroup,r.collectionGroup)}),e[0].collectionGroup))}updateCollectionGroup(t,e,i){const r=W0(t),s=jg(t);return this.Tn(t).next(c=>r.j("collectionGroupIndex",IDBKeyRange.bound(e,e)).next(p=>Xe.forEach(p,_=>s.put(hE(_.indexId,this.user,c,i)))))}updateIndexEntries(t,e){const i=new Map;return Xe.forEach(e,(r,s)=>{const c=i.get(r.collectionGroup);return(c?Xe.resolve(c):this.getFieldIndexes(t,r.collectionGroup)).next(p=>(i.set(r.collectionGroup,p),Xe.forEach(p,_=>this.En(t,r,_).next(C=>{const M=this.An(s,_);return C.isEqual(M)?Xe.resolve():this.vn(t,s,_,C,M)}))))})}Rn(t,e,i,r){return zg(t).put({indexId:r.indexId,uid:this.uid,arrayValue:r.arrayValue,directionalValue:r.directionalValue,orderedDocumentKey:this.gn(i,e.key),documentKey:e.key.path.toArray()})}Pn(t,e,i,r){return zg(t).delete([r.indexId,this.uid,r.arrayValue,r.directionalValue,this.gn(i,e.key),e.key.path.toArray()])}En(t,e,i){const r=zg(t);let s=new Ni(ku);return r.X({index:"documentKeyIndex",range:IDBKeyRange.only([i.indexId,this.uid,this.gn(i,e)])},(c,p)=>{s=s.add(new Ug(i.indexId,e,p.arrayValue,p.directionalValue))}).next(()=>s)}An(t,e){let i=new Ni(ku);const r=this.mn(e,t);if(null==r)return i;const s=c0(e);if(null!=s){const c=t.data.field(s.fieldPath);if(Yd(c))for(const p of c.arrayValue.values||[])i=i.add(new Ug(e.indexId,t.key,this.dn(p),r))}else i=i.add(new Ug(e.indexId,t.key,G0,r));return i}vn(t,e,i,r,s){Mt("IndexedDbIndexManager","Updating index entries for document '%s'",e.key);const c=[];return function(p,_,C,M,V){const W=p.getIterator(),K=_.getIterator();let oe=Sf(W),ae=Sf(K);for(;oe||ae;){let fe=!1,Pe=!1;if(oe&&ae){const Be=C(oe,ae);Be<0?Pe=!0:Be>0&&(fe=!0)}else null!=oe?Pe=!0:fe=!0;fe?(M(ae),ae=Sf(K)):Pe?(V(oe),oe=Sf(W)):(oe=Sf(W),ae=Sf(K))}}(r,s,ku,p=>{c.push(this.Rn(t,e,i,p))},p=>{c.push(this.Pn(t,e,i,p))}),Xe.waitFor(c)}Tn(t){let e=1;return jg(t).X({index:"sequenceNumberIndex",reverse:!0,range:IDBKeyRange.upperBound([this.uid,Number.MAX_SAFE_INTEGER])},(i,r,s)=>{s.done(),e=r.sequenceNumber+1}).next(()=>e)}createRange(t,e,i){i=i.sort((c,p)=>ku(c,p)).filter((c,p,_)=>!p||0!==ku(c,_[p-1]));const r=[];r.push(t);for(const c of i){const p=ku(c,t),_=ku(c,e);if(0===p)r[0]=t.Je();else if(p>0&&_<0)r.push(c),r.push(c.Je());else if(_>0)break}r.push(e);const s=[];for(let c=0;c<r.length;c+=2){if(this.bn(r[c],r[c+1]))return[];s.push(IDBKeyRange.bound([r[c].indexId,this.uid,r[c].arrayValue,r[c].directionalValue,G0,[]],[r[c+1].indexId,this.uid,r[c+1].arrayValue,r[c+1].directionalValue,G0,[]]))}return s}bn(t,e){return ku(t,e)>0}getMinOffsetFromCollectionGroup(t,e){return this.getFieldIndexes(t,e).next(_y)}getMinOffset(t,e){return Xe.mapArray(this.cn(e),i=>this.an(t,i).next(r=>r||sn())).next(_y)}}function yy(n){return eo(n,"collectionParents")}function zg(n){return eo(n,"indexEntries")}function W0(n){return eo(n,"indexConfiguration")}function jg(n){return eo(n,"indexState")}function _y(n){_n(0!==n.length);let t=n[0].indexState.offset,e=t.largestBatchId;for(let i=1;i<n.length;i++){const r=n[i].indexState.offset;d1(r,t)<0&&(t=r),e<r.largestBatchId&&(e=r.largestBatchId)}return new Oa(t.readTime,t.documentKey,e)}const gM={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0};class Oo{constructor(t,e,i){this.cacheSizeCollectionThreshold=t,this.percentileToCollect=e,this.maximumSequenceNumbersToCollect=i}static withCacheSize(t){return new Oo(t,Oo.DEFAULT_COLLECTION_PERCENTILE,Oo.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}}function bE(n,t,e){const i=n.store("mutations"),r=n.store("documentMutations"),s=[],c=IDBKeyRange.only(e.batchId);let p=0;const _=i.X({range:c},(M,V,W)=>(p++,W.delete()));s.push(_.next(()=>{_n(1===p)}));const C=[];for(const M of e.mutations){const V=cI(t,M.key.path,e.batchId);s.push(r.delete(V)),C.push(M.key)}return Xe.waitFor(s).next(()=>C)}function $0(n){if(!n)return 0;let t;if(n.document)t=n.document;else if(n.unknownDocument)t=n.unknownDocument;else{if(!n.noDocument)throw sn();t=n.noDocument}return JSON.stringify(t).length}Oo.DEFAULT_COLLECTION_PERCENTILE=10,Oo.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,Oo.DEFAULT=new Oo(41943040,Oo.DEFAULT_COLLECTION_PERCENTILE,Oo.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),Oo.DISABLED=new Oo(-1,0,0);class Y0{constructor(t,e,i,r){this.userId=t,this.serializer=e,this.indexManager=i,this.referenceDelegate=r,this.Vn={}}static de(t,e,i,r){_n(""!==t.uid);const s=t.isAuthenticated()?t.uid:"";return new Y0(s,e,i,r)}checkEmpty(t){let e=!0;const i=IDBKeyRange.bound([this.userId,Number.NEGATIVE_INFINITY],[this.userId,Number.POSITIVE_INFINITY]);return Fl(t).X({index:"userMutationsIndex",range:i},(r,s,c)=>{e=!1,c.done()}).next(()=>e)}addMutationBatch(t,e,i,r){const s=Gg(t),c=Fl(t);return c.add({}).next(p=>{_n("number"==typeof p);const _=new k0(p,e,i,r),C=function(W,K,oe){const ae=oe.baseMutations.map(Pe=>Ff(W.fe,Pe)),fe=oe.mutations.map(Pe=>Ff(W.fe,Pe));return{userId:K,batchId:oe.batchId,localWriteTimeMs:oe.localWriteTime.toMillis(),baseMutations:ae,mutations:fe}}(this.serializer,this.userId,_),M=[];let V=new Ni((W,K)=>jn(W.canonicalString(),K.canonicalString()));for(const W of r){const K=cI(this.userId,W.key.path,p);V=V.add(W.key.path.popLast()),M.push(c.put(C)),M.push(s.put(K,m1))}return V.forEach(W=>{M.push(this.indexManager.addToCollectionParentIndex(t,W))}),t.addOnCommittedListener(()=>{this.Vn[p]=_.keys()}),Xe.waitFor(M).next(()=>_)})}lookupMutationBatch(t,e){return Fl(t).get(e).next(i=>i?(_n(i.userId===this.userId),Qd(this.serializer,i)):null)}Sn(t,e){return this.Vn[e]?Xe.resolve(this.Vn[e]):this.lookupMutationBatch(t,e).next(i=>{if(i){const r=i.keys();return this.Vn[e]=r,r}return null})}getNextMutationBatchAfterBatchId(t,e){const i=e+1,r=IDBKeyRange.lowerBound([this.userId,i]);let s=null;return Fl(t).X({index:"userMutationsIndex",range:r},(c,p,_)=>{p.userId===this.userId&&(_n(p.batchId>=i),s=Qd(this.serializer,p)),_.done()}).next(()=>s)}getHighestUnacknowledgedBatchId(t){const e=IDBKeyRange.upperBound([this.userId,Number.POSITIVE_INFINITY]);let i=-1;return Fl(t).X({index:"userMutationsIndex",range:e,reverse:!0},(r,s,c)=>{i=s.batchId,c.done()}).next(()=>i)}getAllMutationBatches(t){const e=IDBKeyRange.bound([this.userId,-1],[this.userId,Number.POSITIVE_INFINITY]);return Fl(t).j("userMutationsIndex",e).next(i=>i.map(r=>Qd(this.serializer,r)))}getAllMutationBatchesAffectingDocumentKey(t,e){const i=m0(this.userId,e.path),r=IDBKeyRange.lowerBound(i),s=[];return Gg(t).X({range:r},(c,p,_)=>{const[C,M,V]=c,W=Na(M);if(C===this.userId&&e.path.isEqual(W))return Fl(t).get(V).next(K=>{if(!K)throw sn();_n(K.userId===this.userId),s.push(Qd(this.serializer,K))});_.done()}).next(()=>s)}getAllMutationBatchesAffectingDocumentKeys(t,e){let i=new Ni(jn);const r=[];return e.forEach(s=>{const c=m0(this.userId,s.path),p=IDBKeyRange.lowerBound(c),_=Gg(t).X({range:p},(C,M,V)=>{const[W,K,oe]=C,ae=Na(K);W===this.userId&&s.path.isEqual(ae)?i=i.add(oe):V.done()});r.push(_)}),Xe.waitFor(r).next(()=>this.Dn(t,i))}getAllMutationBatchesAffectingQuery(t,e){const i=e.path,r=i.length+1,s=m0(this.userId,i),c=IDBKeyRange.lowerBound(s);let p=new Ni(jn);return Gg(t).X({range:c},(_,C,M)=>{const[V,W,K]=_,oe=Na(W);V===this.userId&&i.isPrefixOf(oe)?oe.length===r&&(p=p.add(K)):M.done()}).next(()=>this.Dn(t,p))}Dn(t,e){const i=[],r=[];return e.forEach(s=>{r.push(Fl(t).get(s).next(c=>{if(null===c)throw sn();_n(c.userId===this.userId),i.push(Qd(this.serializer,c))}))}),Xe.waitFor(r).next(()=>i)}removeMutationBatch(t,e){return bE(t.ht,this.userId,e).next(i=>(t.addOnCommittedListener(()=>{this.Cn(e.batchId)}),Xe.forEach(i,r=>this.referenceDelegate.markPotentiallyOrphaned(t,r))))}Cn(t){delete this.Vn[t]}performConsistencyCheck(t){return this.checkEmpty(t).next(e=>{if(!e)return Xe.resolve();const i=IDBKeyRange.lowerBound([this.userId]),r=[];return Gg(t).X({range:i},(s,c,p)=>{if(s[0]===this.userId){const _=Na(s[1]);r.push(_)}else p.done()}).next(()=>{_n(0===r.length)})})}containsKey(t,e){return wE(t,this.userId,e)}xn(t){return mM(t).get(this.userId).next(e=>e||{userId:this.userId,lastAcknowledgedBatchId:-1,lastStreamToken:""})}}function wE(n,t,e){const i=m0(t,e.path),r=i[1],s=IDBKeyRange.lowerBound(i);let c=!1;return Gg(n).X({range:s,Y:!0},(p,_,C)=>{const[M,V,W]=p;M===t&&V===r&&(c=!0),C.done()}).next(()=>c)}function Fl(n){return eo(n,"mutations")}function Gg(n){return eo(n,"documentMutations")}function mM(n){return eo(n,"mutationQueues")}class th{constructor(t){this.Nn=t}next(){return this.Nn+=2,this.Nn}static kn(){return new th(0)}static Mn(){return new th(-1)}}class vM{constructor(t,e){this.referenceDelegate=t,this.serializer=e}allocateTargetId(t){return this.$n(t).next(e=>{const i=new th(e.highestTargetId);return e.highestTargetId=i.next(),this.On(t,e).next(()=>e.highestTargetId)})}getLastRemoteSnapshotVersion(t){return this.$n(t).next(e=>bn.fromTimestamp(new Pr(e.lastRemoteSnapshotVersion.seconds,e.lastRemoteSnapshotVersion.nanoseconds)))}getHighestSequenceNumber(t){return this.$n(t).next(e=>e.highestListenSequenceNumber)}setTargetsMetadata(t,e,i){return this.$n(t).next(r=>(r.highestListenSequenceNumber=e,i&&(r.lastRemoteSnapshotVersion=i.toTimestamp()),e>r.highestListenSequenceNumber&&(r.highestListenSequenceNumber=e),this.On(t,r)))}addTargetData(t,e){return this.Fn(t,e).next(()=>this.$n(t).next(i=>(i.targetCount+=1,this.Bn(e,i),this.On(t,i))))}updateTargetData(t,e){return this.Fn(t,e)}removeTargetData(t,e){return this.removeMatchingKeysForTargetId(t,e.targetId).next(()=>nh(t).delete(e.targetId)).next(()=>this.$n(t)).next(i=>(_n(i.targetCount>0),i.targetCount-=1,this.On(t,i)))}removeTargets(t,e,i){let r=0;const s=[];return nh(t).X((c,p)=>{const _=Vg(p);_.sequenceNumber<=e&&null===i.get(_.targetId)&&(r++,s.push(this.removeTargetData(t,_)))}).next(()=>Xe.waitFor(s)).next(()=>r)}forEachTarget(t,e){return nh(t).X((i,r)=>{const s=Vg(r);e(s)})}$n(t){return xE(t).get("targetGlobalKey").next(e=>(_n(null!==e),e))}On(t,e){return xE(t).put("targetGlobalKey",e)}Fn(t,e){return nh(t).put(uE(this.serializer,e))}Bn(t,e){let i=!1;return t.targetId>e.highestTargetId&&(e.highestTargetId=t.targetId,i=!0),t.sequenceNumber>e.highestListenSequenceNumber&&(e.highestListenSequenceNumber=t.sequenceNumber,i=!0),i}getTargetCount(t){return this.$n(t).next(e=>e.targetCount)}getTargetData(t,e){const i=Mf(e),r=IDBKeyRange.bound([i,Number.NEGATIVE_INFINITY],[i,Number.POSITIVE_INFINITY]);let s=null;return nh(t).X({range:r,index:"queryTargetsIndex"},(c,p,_)=>{const C=Vg(p);ry(e,C.target)&&(s=C,_.done())}).next(()=>s)}addMatchingKeys(t,e,i){const r=[],s=ih(t);return e.forEach(c=>{const p=yo(c.path);r.push(s.put({targetId:i,path:p})),r.push(this.referenceDelegate.addReference(t,i,c))}),Xe.waitFor(r)}removeMatchingKeys(t,e,i){const r=ih(t);return Xe.forEach(e,s=>{const c=yo(s.path);return Xe.waitFor([r.delete([i,c]),this.referenceDelegate.removeReference(t,i,s)])})}removeMatchingKeysForTargetId(t,e){const i=ih(t),r=IDBKeyRange.bound([e],[e+1],!1,!0);return i.delete(r)}getMatchingKeysForTargetId(t,e){const i=IDBKeyRange.bound([e],[e+1],!1,!0),r=ih(t);let s=Jn();return r.X({range:i,Y:!0},(c,p,_)=>{const C=Na(c[1]),M=new qt(C);s=s.add(M)}).next(()=>s)}containsKey(t,e){const i=yo(e.path),r=IDBKeyRange.bound([i],[sI(i)],!1,!0);let s=0;return ih(t).X({index:"documentTargetsIndex",Y:!0,range:r},([c,p],_,C)=>{0!==c&&(s++,C.done())}).next(()=>s>0)}le(t,e){return nh(t).get(e).next(i=>i?Vg(i):null)}}function nh(n){return eo(n,"targets")}function xE(n){return eo(n,"targetGlobal")}function ih(n){return eo(n,"targetDocuments")}function CE([n,t],[e,i]){const r=jn(n,e);return 0===r?jn(t,i):r}class yM{constructor(t){this.Ln=t,this.buffer=new Ni(CE),this.qn=0}Un(){return++this.qn}Kn(t){const e=[t,this.Un()];if(this.buffer.size<this.Ln)this.buffer=this.buffer.add(e);else{const i=this.buffer.last();CE(e,i)<0&&(this.buffer=this.buffer.delete(i).add(e))}}get maxValue(){return this.buffer.last()[0]}}class _M{constructor(t,e,i){this.garbageCollector=t,this.asyncQueue=e,this.localStore=i,this.Gn=null}start(){-1!==this.garbageCollector.params.cacheSizeCollectionThreshold&&this.Qn(6e4)}stop(){this.Gn&&(this.Gn.cancel(),this.Gn=null)}get started(){return null!==this.Gn}Qn(t){var e=this;Mt("LruGarbageCollector",`Garbage collection scheduled in ${t}ms`),this.Gn=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",t,(0,it.Z)(function*(){e.Gn=null;try{yield e.localStore.collectGarbage(e.garbageCollector)}catch(i){xu(i)?Mt("LruGarbageCollector","Ignoring IndexedDB error during garbage collection: ",i):yield wu(i)}yield e.Qn(3e5)}))}}class TR{constructor(t,e){this.jn=t,this.params=e}calculateTargetCount(t,e){return this.jn.zn(t).next(i=>Math.floor(e/100*i))}nthSequenceNumber(t,e){if(0===e)return Xe.resolve(ha.ct);const i=new yM(e);return this.jn.forEachTarget(t,r=>i.Kn(r.sequenceNumber)).next(()=>this.jn.Wn(t,r=>i.Kn(r))).next(()=>i.maxValue)}removeTargets(t,e,i){return this.jn.removeTargets(t,e,i)}removeOrphanedDocuments(t,e){return this.jn.removeOrphanedDocuments(t,e)}collect(t,e){return-1===this.params.cacheSizeCollectionThreshold?(Mt("LruGarbageCollector","Garbage collection skipped; disabled"),Xe.resolve(gM)):this.getCacheSize(t).next(i=>i<this.params.cacheSizeCollectionThreshold?(Mt("LruGarbageCollector",`Garbage collection skipped; Cache size ${i} is lower than threshold ${this.params.cacheSizeCollectionThreshold}`),gM):this.Hn(t,e))}getCacheSize(t){return this.jn.getCacheSize(t)}Hn(t,e){let i,r,s,c,p,_,C;const M=Date.now();return this.calculateTargetCount(t,this.params.percentileToCollect).next(V=>(V>this.params.maximumSequenceNumbersToCollect?(Mt("LruGarbageCollector",`Capping sequence numbers to collect down to the maximum of ${this.params.maximumSequenceNumbersToCollect} from ${V}`),r=this.params.maximumSequenceNumbersToCollect):r=V,c=Date.now(),this.nthSequenceNumber(t,r))).next(V=>(i=V,p=Date.now(),this.removeTargets(t,i,e))).next(V=>(s=V,_=Date.now(),this.removeOrphanedDocuments(t,i))).next(V=>(C=Date.now(),Qv()<=As.in.DEBUG&&Mt("LruGarbageCollector",`LRU Garbage Collection\n\tCounted targets in ${c-M}ms\n\tDetermined least recently used ${r} in `+(p-c)+`ms\n\tRemoved ${s} targets in `+(_-p)+`ms\n\tRemoved ${V} documents in `+(C-_)+`ms\nTotal Duration: ${C-M}ms`),Xe.resolve({didRun:!0,sequenceNumbersCollected:r,targetsRemoved:s,documentsRemoved:V})))}}class EE{constructor(t,e){this.db=t,this.garbageCollector=function q0(n,t){return new TR(n,t)}(this,e)}zn(t){const e=this.Jn(t);return this.db.getTargetCache().getTargetCount(t).next(i=>e.next(r=>i+r))}Jn(t){let e=0;return this.Wn(t,i=>{e++}).next(()=>e)}forEachTarget(t,e){return this.db.getTargetCache().forEachTarget(t,e)}Wn(t,e){return this.Yn(t,(i,r)=>e(r))}addReference(t,e,i){return by(t,i)}removeReference(t,e,i){return by(t,i)}removeTargets(t,e,i){return this.db.getTargetCache().removeTargets(t,e,i)}markPotentiallyOrphaned(t,e){return by(t,e)}Xn(t,e){return function(i,r){let s=!1;return mM(i).Z(c=>wE(i,c,r).next(p=>(p&&(s=!0),Xe.resolve(!p)))).next(()=>s)}(t,e)}removeOrphanedDocuments(t,e){const i=this.db.getRemoteDocumentCache().newChangeBuffer(),r=[];let s=0;return this.Yn(t,(c,p)=>{if(p<=e){const _=this.Xn(t,c).next(C=>{if(!C)return s++,i.getEntry(t,c).next(()=>(i.removeEntry(c,bn.min()),ih(t).delete([0,yo(c.path)])))});r.push(_)}}).next(()=>Xe.waitFor(r)).next(()=>i.apply(t)).next(()=>s)}removeTarget(t,e){const i=e.withSequenceNumber(t.currentSequenceNumber);return this.db.getTargetCache().updateTargetData(t,i)}updateLimboDocument(t,e){return by(t,e)}Yn(t,e){const i=ih(t);let r,s=ha.ct;return i.X({index:"documentTargetsIndex"},([c,p],{path:_,sequenceNumber:C})=>{0===c?(s!==ha.ct&&e(new qt(Na(r)),s),s=C,r=_):s=ha.ct}).next(()=>{s!==ha.ct&&e(new qt(Na(r)),s)})}getCacheSize(t){return this.db.getRemoteDocumentCache().getSize(t)}}function by(n,t){return ih(n).put((i=n.currentSequenceNumber,{targetId:0,path:yo(t.path),sequenceNumber:i}));var i}class Z0{constructor(){this.changes=new Dc(t=>t.toString(),(t,e)=>t.isEqual(e)),this.changesApplied=!1}addEntry(t){this.assertNotApplied(),this.changes.set(t.key,t)}removeEntry(t,e){this.assertNotApplied(),this.changes.set(t,Dr.newInvalidDocument(t).setReadTime(e))}getEntry(t,e){this.assertNotApplied();const i=this.changes.get(e);return void 0!==i?Xe.resolve(i):this.getFromCache(t,e)}getEntries(t,e){return this.getAllFromCache(t,e)}apply(t){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(t)}assertNotApplied(){}}class DE{constructor(t){this.serializer=t}setIndexManager(t){this.indexManager=t}addEntry(t,e,i){return Hf(t).put(i)}removeEntry(t,e,i){return Hf(t).delete(function(r,s){const c=r.path.toArray();return[c.slice(0,c.length-2),c[c.length-2],cE(s),c[c.length-1]]}(e,i))}updateMetadata(t,e){return this.getMetadata(t).next(i=>(i.byteSize+=e,this.Zn(t,i)))}getEntry(t,e){let i=Dr.newInvalidDocument(e);return Hf(t).X({index:"documentKeyIndex",range:IDBKeyRange.only(Wg(e))},(r,s)=>{i=this.ts(e,s)}).next(()=>i)}es(t,e){let i={size:0,document:Dr.newInvalidDocument(e)};return Hf(t).X({index:"documentKeyIndex",range:IDBKeyRange.only(Wg(e))},(r,s)=>{i={document:this.ts(e,s),size:$0(s)}}).next(()=>i)}getEntries(t,e){let i=fa();return this.ns(t,e,(r,s)=>{const c=this.ts(r,s);i=i.insert(r,c)}).next(()=>i)}ss(t,e){let i=fa(),r=new Er(qt.comparator);return this.ns(t,e,(s,c)=>{const p=this.ts(s,c);i=i.insert(s,p),r=r.insert(s,$0(c))}).next(()=>({documents:i,rs:r}))}ns(t,e,i){if(e.isEmpty())return Xe.resolve();let r=new Ni(TE);e.forEach(_=>r=r.add(_));const s=IDBKeyRange.bound(Wg(r.first()),Wg(r.last())),c=r.getIterator();let p=c.getNext();return Hf(t).X({index:"documentKeyIndex",range:s},(_,C,M)=>{const V=qt.fromSegments([...C.prefixPath,C.collectionGroup,C.documentId]);for(;p&&TE(p,V)<0;)i(p,null),p=c.getNext();p&&p.isEqual(V)&&(i(p,C),p=c.hasNext()?c.getNext():null),p?M.G(Wg(p)):M.done()}).next(()=>{for(;p;)i(p,null),p=c.hasNext()?c.getNext():null})}getDocumentsMatchingQuery(t,e,i,r){const s=e.path,c=[s.popLast().toArray(),s.lastSegment(),cE(i.readTime),i.documentKey.path.isEmpty()?"":i.documentKey.path.lastSegment()],p=[s.popLast().toArray(),s.lastSegment(),[Number.MAX_SAFE_INTEGER,Number.MAX_SAFE_INTEGER],""];return Hf(t).j(IDBKeyRange.bound(c,p,!0)).next(_=>{let C=fa();for(const M of _){const V=this.ts(qt.fromSegments(M.prefixPath.concat(M.collectionGroup,M.documentId)),M);V.isFoundDocument()&&(kg(e,V)||r.has(V.key))&&(C=C.insert(V.key,V))}return C})}getAllFromCollectionGroup(t,e,i,r){let s=fa();const c=X0(e,i),p=X0(e,Oa.max());return Hf(t).X({index:"collectionGroupIndex",range:IDBKeyRange.bound(c,p,!0)},(_,C,M)=>{const V=this.ts(qt.fromSegments(C.prefixPath.concat(C.collectionGroup,C.documentId)),C);s=s.insert(V.key,V),s.size===r&&M.done()}).next(()=>s)}newChangeBuffer(t){return new SR(this,!!t&&t.trackRemovals)}getSize(t){return this.getMetadata(t).next(e=>e.byteSize)}getMetadata(t){return wM(t).get("remoteDocumentGlobalKey").next(e=>(_n(!!e),e))}Zn(t,e){return wM(t).put("remoteDocumentGlobalKey",e)}ts(t,e){if(e){const i=function xR(n,t){let e;if(t.document)e=JI(n.fe,t.document,!!t.hasCommittedMutations);else if(t.noDocument){const i=qt.fromSegments(t.noDocument.path),r=Bf(t.noDocument.readTime);e=Dr.newNoDocument(i,r),t.hasCommittedMutations&&e.setHasCommittedMutations()}else{if(!t.unknownDocument)return sn();{const i=qt.fromSegments(t.unknownDocument.path),r=Bf(t.unknownDocument.version);e=Dr.newUnknownDocument(i,r)}}return t.readTime&&e.setReadTime(function(i){const r=new Pr(i[0],i[1]);return bn.fromTimestamp(r)}(t.readTime)),e}(this.serializer,e);if(!i.isNoDocument()||!i.version.isEqual(bn.min()))return i}return Dr.newInvalidDocument(t)}}function bM(n){return new DE(n)}class SR extends Z0{constructor(t,e){super(),this.os=t,this.trackRemovals=e,this.us=new Dc(i=>i.toString(),(i,r)=>i.isEqual(r))}applyChanges(t){const e=[];let i=0,r=new Ni((s,c)=>jn(s.canonicalString(),c.canonicalString()));return this.changes.forEach((s,c)=>{const p=this.us.get(s);if(e.push(this.os.removeEntry(t,s,p.readTime)),c.isValidDocument()){const _=sM(this.os.serializer,c);r=r.add(s.path.popLast());const C=$0(_);i+=C-p.size,e.push(this.os.addEntry(t,s,_))}else if(i-=p.size,this.trackRemovals){const _=sM(this.os.serializer,c.convertToNoDocument(bn.min()));e.push(this.os.addEntry(t,s,_))}}),r.forEach(s=>{e.push(this.os.indexManager.addToCollectionParentIndex(t,s))}),e.push(this.os.updateMetadata(t,i)),Xe.waitFor(e)}getFromCache(t,e){return this.os.es(t,e).next(i=>(this.us.set(e,{size:i.size,readTime:i.document.readTime}),i.document))}getAllFromCache(t,e){return this.os.ss(t,e).next(({documents:i,rs:r})=>(r.forEach((s,c)=>{this.us.set(s,{size:c,readTime:i.get(s).readTime})}),i))}}function wM(n){return eo(n,"remoteDocumentGlobal")}function Hf(n){return eo(n,"remoteDocumentsV14")}function Wg(n){const t=n.path.toArray();return[t.slice(0,t.length-2),t[t.length-2],t[t.length-1]]}function X0(n,t){const e=t.documentKey.path.toArray();return[n,cE(t.readTime),e.slice(0,e.length-2),e.length>0?e[e.length-1]:""]}function TE(n,t){const e=n.path.toArray(),i=t.path.toArray();let r=0;for(let s=0;s<e.length-2&&s<i.length-2;++s)if(r=jn(e[s],i[s]),r)return r;return r=jn(e.length,i.length),r||(r=jn(e[e.length-2],i[i.length-2]),r||jn(e[e.length-1],i[i.length-1]))}class xM{constructor(t,e){this.overlayedDocument=t,this.mutatedFields=e}}class SE{constructor(t,e,i,r){this.remoteDocumentCache=t,this.mutationQueue=e,this.documentOverlayCache=i,this.indexManager=r}getDocument(t,e){let i=null;return this.documentOverlayCache.getOverlay(t,e).next(r=>(i=r,this.remoteDocumentCache.getEntry(t,e))).next(r=>(null!==i&&uy(i.mutation,r,Yr.empty(),Pr.now()),r))}getDocuments(t,e){return this.remoteDocumentCache.getEntries(t,e).next(i=>this.getLocalViewOfDocuments(t,i,Jn()).next(()=>i))}getLocalViewOfDocuments(t,e,i=Jn()){const r=Tc();return this.populateOverlays(t,r,e).next(()=>this.computeViews(t,e,r,i).next(s=>{let c=oy();return s.forEach((p,_)=>{c=c.insert(p,_.overlayedDocument)}),c}))}getOverlayedDocuments(t,e){const i=Tc();return this.populateOverlays(t,i,e).next(()=>this.computeViews(t,e,i,Jn()))}populateOverlays(t,e,i){const r=[];return i.forEach(s=>{e.has(s)||r.push(s)}),this.documentOverlayCache.getOverlays(t,r).next(s=>{s.forEach((c,p)=>{e.set(c,p)})})}computeViews(t,e,i,r){let s=fa();const c=ay(),p=ay();return e.forEach((_,C)=>{const M=i.get(C.key);r.has(C.key)&&(void 0===M||M.mutation instanceof Mu)?s=s.insert(C.key,C):void 0!==M?(c.set(C.key,M.mutation.getFieldMask()),uy(M.mutation,C,M.mutation.getFieldMask(),Pr.now())):c.set(C.key,Yr.empty())}),this.recalculateAndSaveOverlays(t,s).next(_=>(_.forEach((C,M)=>c.set(C,M)),e.forEach((C,M)=>{var V;return p.set(C,new xM(M,null!==(V=c.get(C))&&void 0!==V?V:null))}),p))}recalculateAndSaveOverlays(t,e){const i=ay();let r=new Er((c,p)=>c-p),s=Jn();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(t,e).next(c=>{for(const p of c)p.keys().forEach(_=>{const C=e.get(_);if(null===C)return;let M=i.get(_)||Yr.empty();M=p.applyToLocalView(C,M),i.set(_,M);const V=(r.get(p.batchId)||Jn()).add(_);r=r.insert(p.batchId,V)})}).next(()=>{const c=[],p=r.getReverseIterator();for(;p.hasNext();){const _=p.getNext(),C=_.key,M=_.value,V=OI();M.forEach(W=>{if(!s.has(W)){const K=Rg(e.get(W),i.get(W));null!==K&&V.set(W,K),s=s.add(W)}}),c.push(this.documentOverlayCache.saveOverlays(t,C,V))}return Xe.waitFor(c)}).next(()=>i)}recalculateAndSaveOverlaysForDocumentKeys(t,e){return this.remoteDocumentCache.getEntries(t,e).next(i=>this.recalculateAndSaveOverlays(t,i))}getDocumentsMatchingQuery(t,e,i){return qt.isDocumentKey((r=e).path)&&null===r.collectionGroup&&0===r.filters.length?this.getDocumentsMatchingDocumentQuery(t,e.path):H1(e)?this.getDocumentsMatchingCollectionGroupQuery(t,e,i):this.getDocumentsMatchingCollectionQuery(t,e,i);var r}getNextDocuments(t,e,i,r){return this.remoteDocumentCache.getAllFromCollectionGroup(t,e,i,r).next(s=>{const c=r-s.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(t,e,i.largestBatchId,r-s.size):Xe.resolve(Tc());let p=-1,_=s;return c.next(C=>Xe.forEach(C,(M,V)=>(p<V.largestBatchId&&(p=V.largestBatchId),s.get(M)?Xe.resolve():this.remoteDocumentCache.getEntry(t,M).next(W=>{_=_.insert(M,W)}))).next(()=>this.populateOverlays(t,C,s)).next(()=>this.computeViews(t,_,C,Jn())).next(M=>({batchId:p,changes:Og(M)})))})}getDocumentsMatchingDocumentQuery(t,e){return this.getDocument(t,new qt(e)).next(i=>{let r=oy();return i.isFoundDocument()&&(r=r.insert(i.key,i)),r})}getDocumentsMatchingCollectionGroupQuery(t,e,i){const r=e.collectionGroup;let s=oy();return this.indexManager.getCollectionParents(t,r).next(c=>Xe.forEach(c,p=>{const _=(C=e,M=p.child(r),new Ec(M,null,C.explicitOrderBy.slice(),C.filters.slice(),C.limit,C.limitType,C.startAt,C.endAt));var C,M;return this.getDocumentsMatchingCollectionQuery(t,_,i).next(C=>{C.forEach((M,V)=>{s=s.insert(M,V)})})}).next(()=>s))}getDocumentsMatchingCollectionQuery(t,e,i){let r;return this.documentOverlayCache.getOverlaysForCollection(t,e.path,i.largestBatchId).next(s=>(r=s,this.remoteDocumentCache.getDocumentsMatchingQuery(t,e,i,r))).next(s=>{r.forEach((p,_)=>{const C=_.getKey();null===s.get(C)&&(s=s.insert(C,Dr.newInvalidDocument(C)))});let c=oy();return s.forEach((p,_)=>{const C=r.get(p);void 0!==C&&uy(C.mutation,_,Yr.empty(),Pr.now()),kg(e,_)&&(c=c.insert(p,_))}),c})}}class CM{constructor(t){this.serializer=t,this.cs=new Map,this.hs=new Map}getBundleMetadata(t,e){return Xe.resolve(this.cs.get(e))}saveBundleMetadata(t,e){var i;return this.cs.set(e.id,{id:(i=e).id,version:i.version,createTime:qr(i.createTime)}),Xe.resolve()}getNamedQuery(t,e){return Xe.resolve(this.hs.get(e))}saveNamedQuery(t,e){return this.hs.set(e.name,{name:(i=e).name,query:H0(i.bundledQuery),readTime:qr(i.readTime)}),Xe.resolve();var i}}class AR{constructor(){this.overlays=new Er(qt.comparator),this.ls=new Map}getOverlay(t,e){return Xe.resolve(this.overlays.get(e))}getOverlays(t,e){const i=Tc();return Xe.forEach(e,r=>this.getOverlay(t,r).next(s=>{null!==s&&i.set(r,s)})).next(()=>i)}saveOverlays(t,e,i){return i.forEach((r,s)=>{this.we(t,e,s)}),Xe.resolve()}removeOverlaysForBatchId(t,e,i){const r=this.ls.get(i);return void 0!==r&&(r.forEach(s=>this.overlays=this.overlays.remove(s)),this.ls.delete(i)),Xe.resolve()}getOverlaysForCollection(t,e,i){const r=Tc(),s=e.length+1,c=new qt(e.child("")),p=this.overlays.getIteratorFrom(c);for(;p.hasNext();){const _=p.getNext().value,C=_.getKey();if(!e.isPrefixOf(C.path))break;C.path.length===s&&_.largestBatchId>i&&r.set(_.getKey(),_)}return Xe.resolve(r)}getOverlaysForCollectionGroup(t,e,i,r){let s=new Er((C,M)=>C-M);const c=this.overlays.getIterator();for(;c.hasNext();){const C=c.getNext().value;if(C.getKey().getCollectionGroup()===e&&C.largestBatchId>i){let M=s.get(C.largestBatchId);null===M&&(M=Tc(),s=s.insert(C.largestBatchId,M)),M.set(C.getKey(),C)}}const p=Tc(),_=s.getIterator();for(;_.hasNext()&&(_.getNext().value.forEach((C,M)=>p.set(C,M)),!(p.size()>=r)););return Xe.resolve(p)}we(t,e,i){const r=this.overlays.get(i.key);if(null!==r){const c=this.ls.get(r.largestBatchId).delete(i.key);this.ls.set(r.largestBatchId,c)}this.overlays=this.overlays.insert(i.key,new O0(e,i));let s=this.ls.get(e);void 0===s&&(s=Jn(),this.ls.set(e,s)),this.ls.set(e,s.add(i.key))}}class K0{constructor(){this.fs=new Ni(zs.ds),this.ws=new Ni(zs._s)}isEmpty(){return this.fs.isEmpty()}addReference(t,e){const i=new zs(t,e);this.fs=this.fs.add(i),this.ws=this.ws.add(i)}gs(t,e){t.forEach(i=>this.addReference(i,e))}removeReference(t,e){this.ys(new zs(t,e))}ps(t,e){t.forEach(i=>this.removeReference(i,e))}Is(t){const e=new qt(new xi([])),i=new zs(e,t),r=new zs(e,t+1),s=[];return this.ws.forEachInRange([i,r],c=>{this.ys(c),s.push(c.key)}),s}Ts(){this.fs.forEach(t=>this.ys(t))}ys(t){this.fs=this.fs.delete(t),this.ws=this.ws.delete(t)}Es(t){const e=new qt(new xi([])),i=new zs(e,t),r=new zs(e,t+1);let s=Jn();return this.ws.forEachInRange([i,r],c=>{s=s.add(c.key)}),s}containsKey(t){const e=new zs(t,0),i=this.fs.firstAfterOrEqual(e);return null!==i&&t.isEqual(i.key)}}class zs{constructor(t,e){this.key=t,this.As=e}static ds(t,e){return qt.comparator(t.key,e.key)||jn(t.As,e.As)}static _s(t,e){return jn(t.As,e.As)||qt.comparator(t.key,e.key)}}class IR{constructor(t,e){this.indexManager=t,this.referenceDelegate=e,this.mutationQueue=[],this.vs=1,this.Rs=new Ni(zs.ds)}checkEmpty(t){return Xe.resolve(0===this.mutationQueue.length)}addMutationBatch(t,e,i,r){const s=this.vs;this.vs++;const c=new k0(s,e,i,r);this.mutationQueue.push(c);for(const p of r)this.Rs=this.Rs.add(new zs(p.key,s)),this.indexManager.addToCollectionParentIndex(t,p.key.path.popLast());return Xe.resolve(c)}lookupMutationBatch(t,e){return Xe.resolve(this.Ps(e))}getNextMutationBatchAfterBatchId(t,e){const r=this.bs(e+1),s=r<0?0:r;return Xe.resolve(this.mutationQueue.length>s?this.mutationQueue[s]:null)}getHighestUnacknowledgedBatchId(){return Xe.resolve(0===this.mutationQueue.length?-1:this.vs-1)}getAllMutationBatches(t){return Xe.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(t,e){const i=new zs(e,0),r=new zs(e,Number.POSITIVE_INFINITY),s=[];return this.Rs.forEachInRange([i,r],c=>{const p=this.Ps(c.As);s.push(p)}),Xe.resolve(s)}getAllMutationBatchesAffectingDocumentKeys(t,e){let i=new Ni(jn);return e.forEach(r=>{const s=new zs(r,0),c=new zs(r,Number.POSITIVE_INFINITY);this.Rs.forEachInRange([s,c],p=>{i=i.add(p.As)})}),Xe.resolve(this.Vs(i))}getAllMutationBatchesAffectingQuery(t,e){const i=e.path,r=i.length+1;let s=i;qt.isDocumentKey(s)||(s=s.child(""));const c=new zs(new qt(s),0);let p=new Ni(jn);return this.Rs.forEachWhile(_=>{const C=_.key.path;return!!i.isPrefixOf(C)&&(C.length===r&&(p=p.add(_.As)),!0)},c),Xe.resolve(this.Vs(p))}Vs(t){const e=[];return t.forEach(i=>{const r=this.Ps(i);null!==r&&e.push(r)}),e}removeMutationBatch(t,e){_n(0===this.Ss(e.batchId,"removed")),this.mutationQueue.shift();let i=this.Rs;return Xe.forEach(e.mutations,r=>{const s=new zs(r.key,e.batchId);return i=i.delete(s),this.referenceDelegate.markPotentiallyOrphaned(t,r.key)}).next(()=>{this.Rs=i})}Cn(t){}containsKey(t,e){const i=new zs(e,0),r=this.Rs.firstAfterOrEqual(i);return Xe.resolve(e.isEqual(r&&r.key))}performConsistencyCheck(t){return Xe.resolve()}Ss(t,e){return this.bs(t)}bs(t){return 0===this.mutationQueue.length?0:t-this.mutationQueue[0].batchId}Ps(t){const e=this.bs(t);return e<0||e>=this.mutationQueue.length?null:this.mutationQueue[e]}}class EM{constructor(t){this.Ds=t,this.docs=new Er(qt.comparator),this.size=0}setIndexManager(t){this.indexManager=t}addEntry(t,e){const i=e.key,r=this.docs.get(i),s=r?r.size:0,c=this.Ds(e);return this.docs=this.docs.insert(i,{document:e.mutableCopy(),size:c}),this.size+=c-s,this.indexManager.addToCollectionParentIndex(t,i.path.popLast())}removeEntry(t){const e=this.docs.get(t);e&&(this.docs=this.docs.remove(t),this.size-=e.size)}getEntry(t,e){const i=this.docs.get(e);return Xe.resolve(i?i.document.mutableCopy():Dr.newInvalidDocument(e))}getEntries(t,e){let i=fa();return e.forEach(r=>{const s=this.docs.get(r);i=i.insert(r,s?s.document.mutableCopy():Dr.newInvalidDocument(r))}),Xe.resolve(i)}getDocumentsMatchingQuery(t,e,i,r){let s=fa();const c=e.path,p=new qt(c.child("")),_=this.docs.getIteratorFrom(p);for(;_.hasNext();){const{key:C,value:{document:M}}=_.getNext();if(!c.isPrefixOf(C.path))break;C.path.length>c.length+1||d1(u1(M),i)<=0||(r.has(M.key)||kg(e,M))&&(s=s.insert(M.key,M.mutableCopy()))}return Xe.resolve(s)}getAllFromCollectionGroup(t,e,i,r){sn()}Cs(t,e){return Xe.forEach(this.docs,i=>e(i))}newChangeBuffer(t){return new DM(this)}getSize(t){return Xe.resolve(this.size)}}class DM extends Z0{constructor(t){super(),this.os=t}applyChanges(t){const e=[];return this.changes.forEach((i,r)=>{r.isValidDocument()?e.push(this.os.addEntry(t,r)):this.os.removeEntry(i)}),Xe.waitFor(e)}getFromCache(t,e){return this.os.getEntry(t,e)}getAllFromCache(t,e){return this.os.getEntries(t,e)}}class qo{constructor(t){this.persistence=t,this.xs=new Dc(e=>Mf(e),ry),this.lastRemoteSnapshotVersion=bn.min(),this.highestTargetId=0,this.Ns=0,this.ks=new K0,this.targetCount=0,this.Ms=th.kn()}forEachTarget(t,e){return this.xs.forEach((i,r)=>e(r)),Xe.resolve()}getLastRemoteSnapshotVersion(t){return Xe.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(t){return Xe.resolve(this.Ns)}allocateTargetId(t){return this.highestTargetId=this.Ms.next(),Xe.resolve(this.highestTargetId)}setTargetsMetadata(t,e,i){return i&&(this.lastRemoteSnapshotVersion=i),e>this.Ns&&(this.Ns=e),Xe.resolve()}Fn(t){this.xs.set(t.target,t);const e=t.targetId;e>this.highestTargetId&&(this.Ms=new th(e),this.highestTargetId=e),t.sequenceNumber>this.Ns&&(this.Ns=t.sequenceNumber)}addTargetData(t,e){return this.Fn(e),this.targetCount+=1,Xe.resolve()}updateTargetData(t,e){return this.Fn(e),Xe.resolve()}removeTargetData(t,e){return this.xs.delete(e.target),this.ks.Is(e.targetId),this.targetCount-=1,Xe.resolve()}removeTargets(t,e,i){let r=0;const s=[];return this.xs.forEach((c,p)=>{p.sequenceNumber<=e&&null===i.get(p.targetId)&&(this.xs.delete(c),s.push(this.removeMatchingKeysForTargetId(t,p.targetId)),r++)}),Xe.waitFor(s).next(()=>r)}getTargetCount(t){return Xe.resolve(this.targetCount)}getTargetData(t,e){const i=this.xs.get(e)||null;return Xe.resolve(i)}addMatchingKeys(t,e,i){return this.ks.gs(e,i),Xe.resolve()}removeMatchingKeys(t,e,i){this.ks.ps(e,i);const r=this.persistence.referenceDelegate,s=[];return r&&e.forEach(c=>{s.push(r.markPotentiallyOrphaned(t,c))}),Xe.waitFor(s)}removeMatchingKeysForTargetId(t,e){return this.ks.Is(e),Xe.resolve()}getMatchingKeysForTargetId(t,e){const i=this.ks.Es(e);return Xe.resolve(i)}containsKey(t,e){return Xe.resolve(this.ks.containsKey(e))}}class rh{constructor(t,e){this.$s={},this.overlays={},this.Os=new ha(0),this.Fs=!1,this.Fs=!0,this.referenceDelegate=t(this),this.Bs=new qo(this),this.indexManager=new vy,this.remoteDocumentCache=new EM(i=>this.referenceDelegate.Ls(i)),this.serializer=new lE(e),this.qs=new CM(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.Fs=!1,Promise.resolve()}get started(){return this.Fs}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(t){return this.indexManager}getDocumentOverlayCache(t){let e=this.overlays[t.toKey()];return e||(e=new AR,this.overlays[t.toKey()]=e),e}getMutationQueue(t,e){let i=this.$s[t.toKey()];return i||(i=new IR(e,this.referenceDelegate),this.$s[t.toKey()]=i),i}getTargetCache(){return this.Bs}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.qs}runTransaction(t,e,i){Mt("MemoryPersistence","Starting transaction:",t);const r=new MR(this.Os.next());return this.referenceDelegate.Us(),i(r).next(s=>this.referenceDelegate.Ks(r).next(()=>s)).toPromise().then(s=>(r.raiseOnCommittedEvent(),s))}Gs(t,e){return Xe.or(Object.values(this.$s).map(i=>()=>i.containsKey(t,e)))}}class MR extends f0{constructor(t){super(),this.currentSequenceNumber=t}}class Q0{constructor(t){this.persistence=t,this.Qs=new K0,this.js=null}static zs(t){return new Q0(t)}get Ws(){if(this.js)return this.js;throw sn()}addReference(t,e,i){return this.Qs.addReference(i,e),this.Ws.delete(i.toString()),Xe.resolve()}removeReference(t,e,i){return this.Qs.removeReference(i,e),this.Ws.add(i.toString()),Xe.resolve()}markPotentiallyOrphaned(t,e){return this.Ws.add(e.toString()),Xe.resolve()}removeTarget(t,e){this.Qs.Is(e.targetId).forEach(r=>this.Ws.add(r.toString()));const i=this.persistence.getTargetCache();return i.getMatchingKeysForTargetId(t,e.targetId).next(r=>{r.forEach(s=>this.Ws.add(s.toString()))}).next(()=>i.removeTargetData(t,e))}Us(){this.js=new Set}Ks(t){const e=this.persistence.getRemoteDocumentCache().newChangeBuffer();return Xe.forEach(this.Ws,i=>{const r=qt.fromPath(i);return this.Hs(t,r).next(s=>{s||e.removeEntry(r,bn.min())})}).next(()=>(this.js=null,e.apply(t)))}updateLimboDocument(t,e){return this.Hs(t,e).next(i=>{i?this.Ws.delete(e.toString()):this.Ws.add(e.toString())})}Ls(t){return 0}Hs(t,e){return Xe.or([()=>Xe.resolve(this.Qs.containsKey(e)),()=>this.persistence.getTargetCache().containsKey(t,e),()=>this.persistence.Gs(t,e)])}}class YV{constructor(t){this.serializer=t}O(t,e,i,r){const s=new p0("createOrUpgrade",e);var p;i<1&&r>=1&&(t.createObjectStore("owner"),(p=t).createObjectStore("mutationQueues",{keyPath:"userId"}),p.createObjectStore("mutations",{keyPath:"batchId",autoIncrement:!0}).createIndex("userMutationsIndex",Cu,{unique:!0}),p.createObjectStore("documentMutations"),IE(t),function(p){p.createObjectStore("remoteDocuments")}(t));let c=Xe.resolve();return i<3&&r>=3&&(0!==i&&(function(p){p.deleteObjectStore("targetDocuments"),p.deleteObjectStore("targets"),p.deleteObjectStore("targetGlobal")}(t),IE(t)),c=c.next(()=>function(p){const _=p.store("targetGlobal"),C={highestTargetId:0,highestListenSequenceNumber:0,lastRemoteSnapshotVersion:bn.min().toTimestamp(),targetCount:0};return _.put("targetGlobalKey",C)}(s))),i<4&&r>=4&&(0!==i&&(c=c.next(()=>function(p,_){return _.store("mutations").j().next(C=>{p.deleteObjectStore("mutations"),p.createObjectStore("mutations",{keyPath:"batchId",autoIncrement:!0}).createIndex("userMutationsIndex",Cu,{unique:!0});const M=_.store("mutations"),V=C.map(W=>M.put(W));return Xe.waitFor(V)})}(t,s))),c=c.next(()=>{!function(p){p.createObjectStore("clientMetadata",{keyPath:"clientId"})}(t)})),i<5&&r>=5&&(c=c.next(()=>this.Ys(s))),i<6&&r>=6&&(c=c.next(()=>(function(p){p.createObjectStore("remoteDocumentGlobal")}(t),this.Xs(s)))),i<7&&r>=7&&(c=c.next(()=>this.Zs(s))),i<8&&r>=8&&(c=c.next(()=>this.ti(t,s))),i<9&&r>=9&&(c=c.next(()=>{!function(p){p.objectStoreNames.contains("remoteDocumentChanges")&&p.deleteObjectStore("remoteDocumentChanges")}(t)})),i<10&&r>=10&&(c=c.next(()=>this.ei(s))),i<11&&r>=11&&(c=c.next(()=>{(function(p){p.createObjectStore("bundles",{keyPath:"bundleId"})})(t),function(p){p.createObjectStore("namedQueries",{keyPath:"name"})}(t)})),i<12&&r>=12&&(c=c.next(()=>{!function(p){const _=p.createObjectStore("documentOverlays",{keyPath:dI});_.createIndex("collectionPathOverlayIndex",rR,{unique:!1}),_.createIndex("collectionGroupOverlayIndex",sR,{unique:!1})}(t)})),i<13&&r>=13&&(c=c.next(()=>function(p){const _=p.createObjectStore("remoteDocumentsV14",{keyPath:Tf});_.createIndex("documentKeyIndex",v1),_.createIndex("collectionGroupIndex",eR)}(t)).next(()=>this.ni(t,s)).next(()=>t.deleteObjectStore("remoteDocuments"))),i<14&&r>=14&&(c=c.next(()=>this.si(t,s))),i<15&&r>=15&&(c=c.next(()=>function(p){p.createObjectStore("indexConfiguration",{keyPath:"indexId",autoIncrement:!0}).createIndex("collectionGroupIndex","collectionGroup",{unique:!1}),p.createObjectStore("indexState",{keyPath:nR}).createIndex("sequenceNumberIndex",uI,{unique:!1}),p.createObjectStore("indexEntries",{keyPath:iR}).createIndex("documentKeyIndex",Hs,{unique:!1})}(t))),c}Xs(t){let e=0;return t.store("remoteDocuments").X((i,r)=>{e+=$0(r)}).next(()=>{const i={byteSize:e};return t.store("remoteDocumentGlobal").put("remoteDocumentGlobalKey",i)})}Ys(t){const e=t.store("mutationQueues"),i=t.store("mutations");return e.j().next(r=>Xe.forEach(r,s=>{const c=IDBKeyRange.bound([s.userId,-1],[s.userId,s.lastAcknowledgedBatchId]);return i.j("userMutationsIndex",c).next(p=>Xe.forEach(p,_=>{_n(_.userId===s.userId);const C=Qd(this.serializer,_);return bE(t,s.userId,C).next(()=>{})}))}))}Zs(t){const e=t.store("targetDocuments"),i=t.store("remoteDocuments");return t.store("targetGlobal").get("targetGlobalKey").next(r=>{const s=[];return i.X((c,p)=>{const _=new xi(c),C=[0,yo(_)];s.push(e.get(C).next(M=>M?Xe.resolve():e.put({targetId:0,path:yo(_),sequenceNumber:r.highestListenSequenceNumber})))}).next(()=>Xe.waitFor(s))})}ti(t,e){t.createObjectStore("collectionParents",{keyPath:tR});const i=e.store("collectionParents"),r=new _E,s=c=>{if(r.add(c)){const p=c.lastSegment(),_=c.popLast();return i.put({collectionId:p,parent:yo(_)})}};return e.store("remoteDocuments").X({Y:!0},(c,p)=>{const _=new xi(c);return s(_.popLast())}).next(()=>e.store("documentMutations").X({Y:!0},([c,p,_],C)=>{const M=Na(p);return s(M.popLast())}))}ei(t){const e=t.store("targets");return e.X((i,r)=>{const s=Vg(r),c=uE(this.serializer,s);return e.put(c)})}ni(t,e){const i=e.store("remoteDocuments"),r=[];return i.X((s,c)=>{const p=e.store("remoteDocumentsV14"),_=(C=c,C.document?new qt(xi.fromString(C.document.name).popFirst(5)):C.noDocument?qt.fromSegments(C.noDocument.path):C.unknownDocument?qt.fromSegments(C.unknownDocument.path):sn()).path.toArray();var C;const M={prefixPath:_.slice(0,_.length-2),collectionGroup:_[_.length-2],documentId:_[_.length-1],readTime:c.readTime||[0,0],unknownDocument:c.unknownDocument,noDocument:c.noDocument,document:c.document,hasCommittedMutations:!!c.hasCommittedMutations};r.push(p.put(M))}).next(()=>Xe.waitFor(r))}si(t,e){const i=e.store("mutations"),r=bM(this.serializer),s=new rh(Q0.zs,this.serializer.fe);return i.j().next(c=>{const p=new Map;return c.forEach(_=>{var C;let M=null!==(C=p.get(_.userId))&&void 0!==C?C:Jn();Qd(this.serializer,_).keys().forEach(V=>M=M.add(V)),p.set(_.userId,M)}),Xe.forEach(p,(_,C)=>{const M=new Js(C),V=Jd.de(this.serializer,M),W=s.getIndexManager(M),K=Y0.de(M,this.serializer,W,s.referenceDelegate);return new SE(r,K,V,W).recalculateAndSaveOverlaysForDocumentKeys(new x1(e,ha.ct),_).next()})})}}function IE(n){n.createObjectStore("targetDocuments",{keyPath:GV}).createIndex("documentTargetsIndex",WV,{unique:!0}),n.createObjectStore("targets",{keyPath:"targetId"}).createIndex("queryTargetsIndex",y1,{unique:!0}),n.createObjectStore("targetGlobal")}const wy="Failed to obtain exclusive access to the persistence layer. To allow shared access, multi-tab synchronization has to be enabled in all tabs. If you are using `experimentalForceOwningTab:true`, make sure that only one tab has persistence enabled at any given time.";class TM{constructor(t,e,i,r,s,c,p,_,C,M,V=15){if(this.allowTabSynchronization=t,this.persistenceKey=e,this.clientId=i,this.ii=s,this.window=c,this.document=p,this.ri=C,this.oi=M,this.ui=V,this.Os=null,this.Fs=!1,this.isPrimary=!1,this.networkEnabled=!0,this.ci=null,this.inForeground=!1,this.ai=null,this.hi=null,this.li=Number.NEGATIVE_INFINITY,this.fi=W=>Promise.resolve(),!TM.D())throw new Ct(tt.UNIMPLEMENTED,"This platform is either missing IndexedDB or is known to have an incomplete implementation. Offline persistence has been disabled.");this.referenceDelegate=new EE(this,r),this.di=e+"main",this.serializer=new lE(_),this.wi=new el(this.di,this.ui,new YV(this.serializer)),this.Bs=new vM(this.referenceDelegate,this.serializer),this.remoteDocumentCache=bM(this.serializer),this.qs=new oM,this.window&&this.window.localStorage?this._i=this.window.localStorage:(this._i=null,!1===M&&xr("IndexedDbPersistence","LocalStorage is unavailable. As a result, persistence may not work reliably. In particular enablePersistence() could fail immediately after refreshing the page."))}start(){return this.mi().then(()=>{if(!this.isPrimary&&!this.allowTabSynchronization)throw new Ct(tt.FAILED_PRECONDITION,wy);return this.gi(),this.yi(),this.pi(),this.runTransaction("getHighestListenSequenceNumber","readonly",t=>this.Bs.getHighestSequenceNumber(t))}).then(t=>{this.Os=new ha(t,this.ri)}).then(()=>{this.Fs=!0}).catch(t=>(this.wi&&this.wi.close(),Promise.reject(t)))}Ii(t){var e=this;return this.fi=function(){var i=(0,it.Z)(function*(r){if(e.started)return t(r)});return function(r){return i.apply(this,arguments)}}(),t(this.isPrimary)}setDatabaseDeletedListener(t){this.wi.B(function(){var e=(0,it.Z)(function*(i){null===i.newVersion&&(yield t())});return function(i){return e.apply(this,arguments)}}())}setNetworkEnabled(t){var e=this;this.networkEnabled!==t&&(this.networkEnabled=t,this.ii.enqueueAndForget((0,it.Z)(function*(){e.started&&(yield e.mi())})))}mi(){return this.runTransaction("updateClientMetadataAndTryBecomePrimary","readwrite",t=>ME(t).put({clientId:this.clientId,updateTimeMs:Date.now(),networkEnabled:this.networkEnabled,inForeground:this.inForeground}).next(()=>{if(this.isPrimary)return this.Ti(t).next(e=>{e||(this.isPrimary=!1,this.ii.enqueueRetryable(()=>this.fi(!1)))})}).next(()=>this.Ei(t)).next(e=>this.isPrimary&&!e?this.Ai(t).next(()=>!1):!!e&&this.vi(t).next(()=>!0))).catch(t=>{if(xu(t))return Mt("IndexedDbPersistence","Failed to extend owner lease: ",t),this.isPrimary;if(!this.allowTabSynchronization)throw t;return Mt("IndexedDbPersistence","Releasing owner lease after error during lease refresh",t),!1}).then(t=>{this.isPrimary!==t&&this.ii.enqueueRetryable(()=>this.fi(t)),this.isPrimary=t})}Ti(t){return J0(t).get("owner").next(e=>Xe.resolve(this.Ri(e)))}Pi(t){return ME(t).delete(this.clientId)}bi(){var t=this;return(0,it.Z)(function*(){if(t.isPrimary&&!t.Vi(t.li,18e5)){t.li=Date.now();const e=yield t.runTransaction("maybeGarbageCollectMultiClientState","readwrite-primary",i=>{const r=eo(i,"clientMetadata");return r.j().next(s=>{const c=t.Si(s,18e5),p=s.filter(_=>-1===c.indexOf(_));return Xe.forEach(p,_=>r.delete(_.clientId)).next(()=>p)})}).catch(()=>[]);if(t._i)for(const i of e)t._i.removeItem(t.Di(i.clientId))}})()}pi(){this.hi=this.ii.enqueueAfterDelay("client_metadata_refresh",4e3,()=>this.mi().then(()=>this.bi()).then(()=>this.pi()))}Ri(t){return!!t&&t.ownerId===this.clientId}Ei(t){return this.oi?Xe.resolve(!0):J0(t).get("owner").next(e=>{if(null!==e&&this.Vi(e.leaseTimestampMs,5e3)&&!this.Ci(e.ownerId)){if(this.Ri(e)&&this.networkEnabled)return!0;if(!this.Ri(e)){if(!e.allowTabSynchronization)throw new Ct(tt.FAILED_PRECONDITION,wy);return!1}}return!(!this.networkEnabled||!this.inForeground)||ME(t).j().next(i=>void 0===this.Si(i,5e3).find(r=>!(this.clientId===r.clientId||!(!this.networkEnabled&&r.networkEnabled||!this.inForeground&&r.inForeground&&this.networkEnabled===r.networkEnabled))))}).next(e=>(this.isPrimary!==e&&Mt("IndexedDbPersistence",`Client ${e?"is":"is not"} eligible for a primary lease.`),e))}shutdown(){var t=this;return(0,it.Z)(function*(){t.Fs=!1,t.xi(),t.hi&&(t.hi.cancel(),t.hi=null),t.Ni(),t.ki(),yield t.wi.runTransaction("shutdown","readwrite",["owner","clientMetadata"],e=>{const i=new x1(e,ha.ct);return t.Ai(i).next(()=>t.Pi(i))}),t.wi.close(),t.Mi()})()}Si(t,e){return t.filter(i=>this.Vi(i.updateTimeMs,e)&&!this.Ci(i.clientId))}$i(){return this.runTransaction("getActiveClients","readonly",t=>ME(t).j().next(e=>this.Si(e,18e5).map(i=>i.clientId)))}get started(){return this.Fs}getMutationQueue(t,e){return Y0.de(t,this.serializer,e,this.referenceDelegate)}getTargetCache(){return this.Bs}getRemoteDocumentCache(){return this.remoteDocumentCache}getIndexManager(t){return new DR(t,this.serializer.fe.databaseId)}getDocumentOverlayCache(t){return Jd.de(this.serializer,t)}getBundleCache(){return this.qs}runTransaction(t,e,i){Mt("IndexedDbPersistence","Starting transaction:",t);const r="readonly"===e?"readonly":"readwrite",s=15===(c=this.ui)?Eg:14===c?w1:13===c?b1:12===c?oR:11===c?_1:void sn();var c;let p;return this.wi.runTransaction(t,r,s,_=>(p=new x1(_,this.Os?this.Os.next():ha.ct),"readwrite-primary"===e?this.Ti(p).next(C=>!!C||this.Ei(p)).next(C=>{if(!C)throw xr(`Failed to obtain primary lease for action '${t}'.`),this.isPrimary=!1,this.ii.enqueueRetryable(()=>this.fi(!1)),new Ct(tt.FAILED_PRECONDITION,h1);return i(p)}).next(C=>this.vi(p).next(()=>C)):this.Oi(p).next(()=>i(p)))).then(_=>(p.raiseOnCommittedEvent(),_))}Oi(t){return J0(t).get("owner").next(e=>{if(null!==e&&this.Vi(e.leaseTimestampMs,5e3)&&!this.Ci(e.ownerId)&&!this.Ri(e)&&!(this.oi||this.allowTabSynchronization&&e.allowTabSynchronization))throw new Ct(tt.FAILED_PRECONDITION,wy)})}vi(t){const e={ownerId:this.clientId,allowTabSynchronization:this.allowTabSynchronization,leaseTimestampMs:Date.now()};return J0(t).put("owner",e)}static D(){return el.D()}Ai(t){const e=J0(t);return e.get("owner").next(i=>this.Ri(i)?(Mt("IndexedDbPersistence","Releasing primary lease."),e.delete("owner")):Xe.resolve())}Vi(t,e){const i=Date.now();return!(t<i-e||t>i&&(xr(`Detected an update time that is in the future: ${t} > ${i}`),1))}gi(){null!==this.document&&"function"==typeof this.document.addEventListener&&(this.ai=()=>{this.ii.enqueueAndForget(()=>(this.inForeground="visible"===this.document.visibilityState,this.mi()))},this.document.addEventListener("visibilitychange",this.ai),this.inForeground="visible"===this.document.visibilityState)}Ni(){this.ai&&(this.document.removeEventListener("visibilitychange",this.ai),this.ai=null)}yi(){var t;"function"==typeof(null===(t=this.window)||void 0===t?void 0:t.addEventListener)&&(this.ci=()=>{this.xi();const e=/(?:Version|Mobile)\/1[456]/;(0,ue.G6)()&&(navigator.appVersion.match(e)||navigator.userAgent.match(e))&&this.ii.enterRestrictedMode(!0),this.ii.enqueueAndForget(()=>this.shutdown())},this.window.addEventListener("pagehide",this.ci))}ki(){this.ci&&(this.window.removeEventListener("pagehide",this.ci),this.ci=null)}Ci(t){var e;try{const i=null!==(null===(e=this._i)||void 0===e?void 0:e.getItem(this.Di(t)));return Mt("IndexedDbPersistence",`Client '${t}' ${i?"is":"is not"} zombied in LocalStorage`),i}catch(i){return xr("IndexedDbPersistence","Failed to get zombied client id.",i),!1}}xi(){if(this._i)try{this._i.setItem(this.Di(this.clientId),String(Date.now()))}catch(t){xr("Failed to set zombie client id.",t)}}Mi(){if(this._i)try{this._i.removeItem(this.Di(this.clientId))}catch{}}Di(t){return`firestore_zombie_${this.persistenceKey}_${t}`}}function J0(n){return eo(n,"owner")}function ME(n){return eo(n,"clientMetadata")}function Uf(n,t){let e=n.projectId;return n.isDefaultDatabase||(e+="."+n.database),"firestore/"+t+"/"+e+"/"}class kE{constructor(t,e,i,r){this.targetId=t,this.fromCache=e,this.Fi=i,this.Bi=r}static Li(t,e){let i=Jn(),r=Jn();for(const s of e.docChanges)switch(s.type){case 0:i=i.add(s.doc.key);break;case 1:r=r.add(s.doc.key)}return new kE(t,e.fromCache,i,r)}}class ew{constructor(){this.qi=!1}initialize(t,e){this.Ui=t,this.indexManager=e,this.qi=!0}getDocumentsMatchingQuery(t,e,i,r){return this.Ki(t,e).next(s=>s||this.Gi(t,e,r,i)).next(s=>s||this.Qi(t,e))}Ki(t,e){if(kf(e))return Xe.resolve(null);let i=Yo(e);return this.indexManager.getIndexType(t,i).next(r=>0===r?null:(null!==e.limit&&1===r&&(e=Of(e,null,"F"),i=Yo(e)),this.indexManager.getDocumentsMatchingTarget(t,i).next(s=>{const c=Jn(...s);return this.Ui.getDocuments(t,c).next(p=>this.indexManager.getMinOffset(t,i).next(_=>{const C=this.ji(e,p);return this.zi(e,C,c,_.readTime)?this.Ki(t,Of(e,null,"F")):this.Wi(t,C,e,_)}))})))}Gi(t,e,i,r){return kf(e)||r.isEqual(bn.min())?this.Qi(t,e):this.Ui.getDocuments(t,i).next(s=>{const c=this.ji(e,s);return this.zi(e,c,i,r)?this.Qi(t,e):(Qv()<=As.in.DEBUG&&Mt("QueryEngine","Re-using previous result from %s to execute query: %s",r.toString(),D0(e)),this.Wi(t,c,e,h0(r,-1)))})}ji(t,e){let i=new Ni(U1(t));return e.forEach((r,s)=>{kg(t,s)&&(i=i.add(s))}),i}zi(t,e,i,r){if(null===t.limit)return!1;if(i.size!==e.size)return!0;const s="F"===t.limitType?e.last():e.first();return!!s&&(s.hasPendingWrites||s.version.compareTo(r)>0)}Qi(t,e){return Qv()<=As.in.DEBUG&&Mt("QueryEngine","Using full collection scan to execute query:",D0(e)),this.Ui.getDocumentsMatchingQuery(t,e,Oa.min())}Wi(t,e,i,r){return this.Ui.getDocumentsMatchingQuery(t,i,r).next(s=>(e.forEach(c=>{s=s.insert(c.key,c)}),s))}}class kR{constructor(t,e,i,r){this.persistence=t,this.Hi=e,this.serializer=r,this.Ji=new Er(jn),this.Yi=new Dc(s=>Mf(s),ry),this.Xi=new Map,this.Zi=t.getRemoteDocumentCache(),this.Bs=t.getTargetCache(),this.qs=t.getBundleCache(),this.tr(i)}tr(t){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(t),this.indexManager=this.persistence.getIndexManager(t),this.mutationQueue=this.persistence.getMutationQueue(t,this.indexManager),this.localDocuments=new SE(this.Zi,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.Zi.setIndexManager(this.indexManager),this.Hi.initialize(this.localDocuments,this.indexManager)}collectGarbage(t){return this.persistence.runTransaction("Collect garbage","readwrite-primary",e=>t.collect(e,this.Ji))}}function OE(n,t,e,i){return new kR(n,t,e,i)}function SM(n,t){return NE.apply(this,arguments)}function NE(){return NE=(0,it.Z)(function*(n,t){const e=tn(n);return yield e.persistence.runTransaction("Handle user change","readonly",i=>{let r;return e.mutationQueue.getAllMutationBatches(i).next(s=>(r=s,e.tr(t),e.mutationQueue.getAllMutationBatches(i))).next(s=>{const c=[],p=[];let _=Jn();for(const C of r){c.push(C.batchId);for(const M of C.mutations)_=_.add(M.key)}for(const C of s){p.push(C.batchId);for(const M of C.mutations)_=_.add(M.key)}return e.localDocuments.getDocuments(i,_).next(C=>({er:C,removedBatchIds:c,addedBatchIds:p}))})})}),NE.apply(this,arguments)}function tw(n){const t=tn(n);return t.persistence.runTransaction("Get last remote snapshot version","readonly",e=>t.Bs.getLastRemoteSnapshotVersion(e))}function IM(n,t,e){let i=Jn(),r=Jn();return e.forEach(s=>i=i.add(s)),t.getEntries(n,i).next(s=>{let c=fa();return e.forEach((p,_)=>{const C=s.get(p);_.isFoundDocument()!==C.isFoundDocument()&&(r=r.add(p)),_.isNoDocument()&&_.version.isEqual(bn.min())?(t.removeEntry(p,_.readTime),c=c.insert(p,_)):!C.isValidDocument()||_.version.compareTo(C.version)>0||0===_.version.compareTo(C.version)&&C.hasPendingWrites?(t.addEntry(_),c=c.insert(p,_)):Mt("LocalStore","Ignoring outdated watch update for ",p,". Current version:",C.version," Watch version:",_.version)}),{nr:c,sr:r}})}function nw(n,t){const e=tn(n);return e.persistence.runTransaction("Get next mutation batch","readonly",i=>(void 0===t&&(t=-1),e.mutationQueue.getNextMutationBatchAfterBatchId(i,t)))}function sh(n,t){const e=tn(n);return e.persistence.runTransaction("Allocate target","readwrite",i=>{let r;return e.Bs.getTargetData(i,t).next(s=>s?(r=s,Xe.resolve(r)):e.Bs.allocateTargetId(i).next(c=>(r=new Kd(t,c,"TargetPurposeListen",i.currentSequenceNumber),e.Bs.addTargetData(i,r).next(()=>r))))}).then(i=>{const r=e.Ji.get(i.targetId);return(null===r||i.snapshotVersion.compareTo(r.snapshotVersion)>0)&&(e.Ji=e.Ji.insert(i.targetId,i),e.Yi.set(t,i.targetId)),i})}function xy(n,t,e){return iw.apply(this,arguments)}function iw(){return iw=(0,it.Z)(function*(n,t,e){const i=tn(n),r=i.Ji.get(t),s=e?"readwrite":"readwrite-primary";try{e||(yield i.persistence.runTransaction("Release target",s,c=>i.persistence.referenceDelegate.removeTarget(c,r)))}catch(c){if(!xu(c))throw c;Mt("LocalStore",`Failed to update sequence numbers for target ${t}: ${c}`)}i.Ji=i.Ji.remove(t),i.Yi.delete(r.target)}),iw.apply(this,arguments)}function rw(n,t,e){const i=tn(n);let r=bn.min(),s=Jn();return i.persistence.runTransaction("Execute query","readonly",c=>function(p,_,C){const M=tn(p),V=M.Yi.get(C);return void 0!==V?Xe.resolve(M.Ji.get(V)):M.Bs.getTargetData(_,C)}(i,c,Yo(t)).next(p=>{if(p)return r=p.lastLimboFreeSnapshotVersion,i.Bs.getMatchingKeysForTargetId(c,p.targetId).next(_=>{s=_})}).next(()=>i.Hi.getDocumentsMatchingQuery(c,t,e?r:bn.min(),e?s:Jn())).next(p=>(MM(i,AI(t),p),{documents:p,ir:s})))}function PE(n,t){const e=tn(n),i=tn(e.Bs),r=e.Ji.get(t);return r?Promise.resolve(r.target):e.persistence.runTransaction("Get target data","readonly",s=>i.le(s,t).next(c=>c?c.target:null))}function zf(n,t){const e=tn(n),i=e.Xi.get(t)||bn.min();return e.persistence.runTransaction("Get new document changes","readonly",r=>e.Zi.getAllFromCollectionGroup(r,t,h0(i,-1),Number.MAX_SAFE_INTEGER)).then(r=>(MM(e,t,r),r))}function MM(n,t,e){let i=n.Xi.get(t)||bn.min();e.forEach((r,s)=>{s.readTime.compareTo(i)>0&&(i=s.readTime)}),n.Xi.set(t,i)}function Cy(){return Cy=(0,it.Z)(function*(n,t,e,i){const r=tn(n);let s=Jn(),c=fa();for(const C of e){const M=t.rr(C.metadata.name);C.document&&(s=s.add(M));const V=t.ur(C);V.setReadTime(t.cr(C.metadata.readTime)),c=c.insert(M,V)}const p=r.Zi.newChangeBuffer({trackRemovals:!0}),_=yield sh(r,(C=i,Yo(sy(xi.fromString(`__bundle__/docs/${C}`)))));var C;return r.persistence.runTransaction("Apply bundle documents","readwrite",C=>IM(C,p,c).next(M=>(p.apply(C),M)).next(M=>r.Bs.removeMatchingKeysForTargetId(C,_.targetId).next(()=>r.Bs.addMatchingKeys(C,s,_.targetId)).next(()=>r.localDocuments.getLocalViewOfDocuments(C,M.nr,M.sr)).next(()=>M.nr)))}),Cy.apply(this,arguments)}function qV(n,t){return RE.apply(this,arguments)}function RE(){return RE=(0,it.Z)(function*(n,t,e=Jn()){const i=yield sh(n,Yo(H0(t.bundledQuery))),r=tn(n);return r.persistence.runTransaction("Save named query","readwrite",s=>{const c=qr(t.readTime);if(i.snapshotVersion.compareTo(c)>=0)return r.qs.saveNamedQuery(s,t);const p=i.withResumeToken(Is.EMPTY_BYTE_STRING,c);return r.Ji=r.Ji.insert(p.targetId,p),r.Bs.updateTargetData(s,p).next(()=>r.Bs.removeMatchingKeysForTargetId(s,i.targetId)).next(()=>r.Bs.addMatchingKeys(s,e,i.targetId)).next(()=>r.qs.saveNamedQuery(s,t))})}),RE.apply(this,arguments)}function NR(n,t){return`firestore_clients_${n}_${t}`}function OM(n,t,e){let i=`firestore_mutations_${n}_${e}`;return t.isAuthenticated()&&(i+=`_${t.uid}`),i}function FE(n,t){return`firestore_targets_${n}_${t}`}class sw{constructor(t,e,i,r){this.user=t,this.batchId=e,this.state=i,this.error=r}static ar(t,e,i){const r=JSON.parse(i);let s,c="object"==typeof r&&-1!==["pending","acknowledged","rejected"].indexOf(r.state)&&(void 0===r.error||"object"==typeof r.error);return c&&r.error&&(c="string"==typeof r.error.message&&"string"==typeof r.error.code,c&&(s=new Ct(r.error.code,r.error.message))),c?new sw(t,e,r.state,s):(xr("SharedClientState",`Failed to parse mutation state for ID '${e}': ${i}`),null)}hr(){const t={state:this.state,updateTimeMs:Date.now()};return this.error&&(t.error={code:this.error.code,message:this.error.message}),JSON.stringify(t)}}class $g{constructor(t,e,i){this.targetId=t,this.state=e,this.error=i}static ar(t,e){const i=JSON.parse(e);let r,s="object"==typeof i&&-1!==["not-current","current","rejected"].indexOf(i.state)&&(void 0===i.error||"object"==typeof i.error);return s&&i.error&&(s="string"==typeof i.error.message&&"string"==typeof i.error.code,s&&(r=new Ct(i.error.code,i.error.message))),s?new $g(t,i.state,r):(xr("SharedClientState",`Failed to parse target state for ID '${t}': ${e}`),null)}hr(){const t={state:this.state,updateTimeMs:Date.now()};return this.error&&(t.error={code:this.error.code,message:this.error.message}),JSON.stringify(t)}}class Ey{constructor(t,e){this.clientId=t,this.activeTargetIds=e}static ar(t,e){const i=JSON.parse(e);let r="object"==typeof i&&i.activeTargetIds instanceof Array,s=z1();for(let c=0;r&&c<i.activeTargetIds.length;++c)r=p1(i.activeTargetIds[c]),s=s.add(i.activeTargetIds[c]);return r?new Ey(t,s):(xr("SharedClientState",`Failed to parse client data for instance '${t}': ${e}`),null)}}class LE{constructor(t,e){this.clientId=t,this.onlineState=e}static ar(t){const e=JSON.parse(t);return"object"==typeof e&&-1!==["Unknown","Online","Offline"].indexOf(e.onlineState)&&"string"==typeof e.clientId?new LE(e.clientId,e.onlineState):(xr("SharedClientState",`Failed to parse online state: ${t}`),null)}}class ow{constructor(){this.activeTargetIds=z1()}lr(t){this.activeTargetIds=this.activeTargetIds.add(t)}dr(t){this.activeTargetIds=this.activeTargetIds.delete(t)}hr(){const t={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(t)}}class aw{constructor(t,e,i,r,s){this.window=t,this.ii=e,this.persistenceKey=i,this.wr=r,this.syncEngine=null,this.onlineStateHandler=null,this.sequenceNumberHandler=null,this._r=this.mr.bind(this),this.gr=new Er(jn),this.started=!1,this.yr=[];const c=i.replace(/[.*+?^${}()|[\]\\]/g,"\\$&");this.storage=this.window.localStorage,this.currentUser=s,this.pr=NR(this.persistenceKey,this.wr),this.Ir=`firestore_sequence_number_${this.persistenceKey}`,this.gr=this.gr.insert(this.wr,new ow),this.Tr=new RegExp(`^firestore_clients_${c}_([^_]*)$`),this.Er=new RegExp(`^firestore_mutations_${c}_(\\d+)(?:_(.*))?$`),this.Ar=new RegExp(`^firestore_targets_${c}_(\\d+)$`),this.vr=`firestore_online_state_${this.persistenceKey}`,this.Rr=function(p){return`firestore_bundle_loaded_v2_${p}`}(this.persistenceKey),this.window.addEventListener("storage",this._r)}static D(t){return!(!t||!t.localStorage)}start(){var t=this;return(0,it.Z)(function*(){const e=yield t.syncEngine.$i();for(const r of e){if(r===t.wr)continue;const s=t.getItem(NR(t.persistenceKey,r));if(s){const c=Ey.ar(r,s);c&&(t.gr=t.gr.insert(c.clientId,c))}}t.Pr();const i=t.storage.getItem(t.vr);if(i){const r=t.br(i);r&&t.Vr(r)}for(const r of t.yr)t.mr(r);t.yr=[],t.window.addEventListener("pagehide",()=>t.shutdown()),t.started=!0})()}writeSequenceNumber(t){this.setItem(this.Ir,JSON.stringify(t))}getAllActiveQueryTargets(){return this.Sr(this.gr)}isActiveQueryTarget(t){let e=!1;return this.gr.forEach((i,r)=>{r.activeTargetIds.has(t)&&(e=!0)}),e}addPendingMutation(t){this.Dr(t,"pending")}updateMutationState(t,e,i){this.Dr(t,e,i),this.Cr(t)}addLocalQueryTarget(t){let e="not-current";if(this.isActiveQueryTarget(t)){const i=this.storage.getItem(FE(this.persistenceKey,t));if(i){const r=$g.ar(t,i);r&&(e=r.state)}}return this.Nr.lr(t),this.Pr(),e}removeLocalQueryTarget(t){this.Nr.dr(t),this.Pr()}isLocalQueryTarget(t){return this.Nr.activeTargetIds.has(t)}clearQueryState(t){this.removeItem(FE(this.persistenceKey,t))}updateQueryState(t,e,i){this.kr(t,e,i)}handleUserChange(t,e,i){e.forEach(r=>{this.Cr(r)}),this.currentUser=t,i.forEach(r=>{this.addPendingMutation(r)})}setOnlineState(t){this.Mr(t)}notifyBundleLoaded(t){this.$r(t)}shutdown(){this.started&&(this.window.removeEventListener("storage",this._r),this.removeItem(this.pr),this.started=!1)}getItem(t){const e=this.storage.getItem(t);return Mt("SharedClientState","READ",t,e),e}setItem(t,e){Mt("SharedClientState","SET",t,e),this.storage.setItem(t,e)}removeItem(t){Mt("SharedClientState","REMOVE",t),this.storage.removeItem(t)}mr(t){var e=this;const i=t;if(i.storageArea===this.storage){if(Mt("SharedClientState","EVENT",i.key,i.newValue),i.key===this.pr)return void xr("Received WebStorage notification for local change. Another client might have garbage-collected our state");this.ii.enqueueRetryable((0,it.Z)(function*(){if(e.started){if(null!==i.key)if(e.Tr.test(i.key)){if(null==i.newValue){const r=e.Or(i.key);return e.Fr(r,null)}{const r=e.Br(i.key,i.newValue);if(r)return e.Fr(r.clientId,r)}}else if(e.Er.test(i.key)){if(null!==i.newValue){const r=e.Lr(i.key,i.newValue);if(r)return e.qr(r)}}else if(e.Ar.test(i.key)){if(null!==i.newValue){const r=e.Ur(i.key,i.newValue);if(r)return e.Kr(r)}}else if(i.key===e.vr){if(null!==i.newValue){const r=e.br(i.newValue);if(r)return e.Vr(r)}}else if(i.key===e.Ir){const r=function(s){let c=ha.ct;if(null!=s)try{const p=JSON.parse(s);_n("number"==typeof p),c=p}catch(p){xr("SharedClientState","Failed to read sequence number from WebStorage",p)}return c}(i.newValue);r!==ha.ct&&e.sequenceNumberHandler(r)}else if(i.key===e.Rr){const r=e.Gr(i.newValue);yield Promise.all(r.map(s=>e.syncEngine.Qr(s)))}}else e.yr.push(i)}))}}get Nr(){return this.gr.get(this.wr)}Pr(){this.setItem(this.pr,this.Nr.hr())}Dr(t,e,i){const r=new sw(this.currentUser,t,e,i),s=OM(this.persistenceKey,this.currentUser,t);this.setItem(s,r.hr())}Cr(t){const e=OM(this.persistenceKey,this.currentUser,t);this.removeItem(e)}Mr(t){this.storage.setItem(this.vr,JSON.stringify({clientId:this.wr,onlineState:t}))}kr(t,e,i){const r=FE(this.persistenceKey,t),s=new $g(t,e,i);this.setItem(r,s.hr())}$r(t){const e=JSON.stringify(Array.from(t));this.setItem(this.Rr,e)}Or(t){const e=this.Tr.exec(t);return e?e[1]:null}Br(t,e){const i=this.Or(t);return Ey.ar(i,e)}Lr(t,e){const i=this.Er.exec(t),r=Number(i[1]);return sw.ar(new Js(void 0!==i[2]?i[2]:null),r,e)}Ur(t,e){const i=this.Ar.exec(t),r=Number(i[1]);return $g.ar(r,e)}br(t){return LE.ar(t)}Gr(t){return JSON.parse(t)}qr(t){var e=this;return(0,it.Z)(function*(){if(t.user.uid===e.currentUser.uid)return e.syncEngine.jr(t.batchId,t.state,t.error);Mt("SharedClientState",`Ignoring mutation for non-active user ${t.user.uid}`)})()}Kr(t){return this.syncEngine.zr(t.targetId,t.state,t.error)}Fr(t,e){const i=e?this.gr.insert(t,e):this.gr.remove(t),r=this.Sr(this.gr),s=this.Sr(i),c=[],p=[];return s.forEach(_=>{r.has(_)||c.push(_)}),r.forEach(_=>{s.has(_)||p.push(_)}),this.syncEngine.Wr(c,p).then(()=>{this.gr=i})}Vr(t){this.gr.get(t.clientId)&&this.onlineStateHandler(t.onlineState)}Sr(t){let e=z1();return t.forEach((i,r)=>{e=e.unionWith(r.activeTargetIds)}),e}}class NM{constructor(){this.Hr=new ow,this.Jr={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(t){}updateMutationState(t,e,i){}addLocalQueryTarget(t){return this.Hr.lr(t),this.Jr[t]||"not-current"}updateQueryState(t,e,i){this.Jr[t]=e}removeLocalQueryTarget(t){this.Hr.dr(t)}isLocalQueryTarget(t){return this.Hr.activeTargetIds.has(t)}clearQueryState(t){delete this.Jr[t]}getAllActiveQueryTargets(){return this.Hr.activeTargetIds}isActiveQueryTarget(t){return this.Hr.activeTargetIds.has(t)}start(){return this.Hr=new ow,Promise.resolve()}handleUserChange(t,e,i){}setOnlineState(t){}shutdown(){}writeSequenceNumber(t){}notifyBundleLoaded(t){}}class PR{Yr(t){}shutdown(){}}class BE{constructor(){this.Xr=()=>this.Zr(),this.eo=()=>this.no(),this.so=[],this.io()}Yr(t){this.so.push(t)}shutdown(){window.removeEventListener("online",this.Xr),window.removeEventListener("offline",this.eo)}io(){window.addEventListener("online",this.Xr),window.addEventListener("offline",this.eo)}Zr(){Mt("ConnectivityMonitor","Network connectivity changed: AVAILABLE");for(const t of this.so)t(0)}no(){Mt("ConnectivityMonitor","Network connectivity changed: UNAVAILABLE");for(const t of this.so)t(1)}static D(){return typeof window<"u"&&void 0!==window.addEventListener&&void 0!==window.removeEventListener}}let lw=null;function cw(){return null===lw?lw=268435456+Math.round(2147483648*Math.random()):lw++,"0x"+lw.toString(16)}const PM={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};class RM{constructor(t){this.ro=t.ro,this.oo=t.oo}uo(t){this.co=t}ao(t){this.ho=t}onMessage(t){this.lo=t}close(){this.oo()}send(t){this.ro(t)}fo(){this.co()}wo(t){this.ho(t)}_o(t){this.lo(t)}}const bo="WebChannelConnection";class RR extends class{constructor(t){this.databaseInfo=t,this.databaseId=t.databaseId,this.mo=(t.ssl?"https":"http")+"://"+t.host,this.yo="projects/"+this.databaseId.projectId+"/databases/"+this.databaseId.database+"/documents"}get po(){return!1}Io(t,e,i,r,s){const c=cw(),p=this.To(t,e);Mt("RestConnection",`Sending RPC '${t}' ${c}:`,p,i);const _={};return this.Eo(_,r,s),this.Ao(t,p,_,i).then(C=>(Mt("RestConnection",`Received RPC '${t}' ${c}: `,C),C),C=>{throw ka("RestConnection",`RPC '${t}' ${c} failed with error: `,C,"url: ",p,"request:",i),C})}vo(t,e,i,r,s,c){return this.Io(t,e,i,r,s)}Eo(t,e,i){t["X-Goog-Api-Client"]="gl-js/ fire/"+Vd,t["Content-Type"]="text/plain",this.databaseInfo.appId&&(t["X-Firebase-GMPID"]=this.databaseInfo.appId),e&&e.headers.forEach((r,s)=>t[s]=r),i&&i.headers.forEach((r,s)=>t[s]=r)}To(t,e){return`${this.mo}/v1/${e}:${PM[t]}`}}{constructor(t){super(t),this.forceLongPolling=t.forceLongPolling,this.autoDetectLongPolling=t.autoDetectLongPolling,this.useFetchStreams=t.useFetchStreams,this.longPollingOptions=t.longPollingOptions}Ao(t,e,i,r){const s=cw();return new Promise((c,p)=>{const _=new WP;_.setWithCredentials(!0),_.listenOnce(VV.COMPLETE,()=>{try{switch(_.getLastErrorCode()){case r1.NO_ERROR:const M=_.getResponseJson();Mt(bo,`XHR for RPC '${t}' ${s} received:`,JSON.stringify(M)),c(M);break;case r1.TIMEOUT:Mt(bo,`RPC '${t}' ${s} timed out`),p(new Ct(tt.DEADLINE_EXCEEDED,"Request time out"));break;case r1.HTTP_ERROR:const V=_.getStatus();if(Mt(bo,`RPC '${t}' ${s} failed with status:`,V,"response text:",_.getResponseText()),V>0){let W=_.getResponseJson();Array.isArray(W)&&(W=W[0]);const K=W?.error;if(K&&K.status&&K.message){const oe=function(ae){const fe=ae.toLowerCase().replace(/_/g,"-");return Object.values(tt).indexOf(fe)>=0?fe:tt.UNKNOWN}(K.status);p(new Ct(oe,K.message))}else p(new Ct(tt.UNKNOWN,"Server responded with status "+_.getStatus()))}else p(new Ct(tt.UNAVAILABLE,"Connection failed."));break;default:sn()}}finally{Mt(bo,`RPC '${t}' ${s} completed.`)}});const C=JSON.stringify(r);Mt(bo,`RPC '${t}' ${s} sending request:`,r),_.send(e,"POST",C,i,15)})}Ro(t,e,i){const r=cw(),s=[this.mo,"/","google.firestore.v1.Firestore","/",t,"/channel"],c=tI(),p=n1(),_={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},C=this.longPollingOptions.timeoutSeconds;void 0!==C&&(_.longPollingTimeout=Math.round(1e3*C)),this.useFetchStreams&&(_.xmlHttpFactory=new GP({})),this.Eo(_.initMessageHeaders,e,i),_.encodeInitMessageHeaders=!0;const M=s.join("");Mt(bo,`Creating RPC '${t}' stream ${r}: ${M}`,_);const V=c.createWebChannel(M,_);let W=!1,K=!1;const oe=new RM({ro:fe=>{K?Mt(bo,`Not sending because RPC '${t}' stream ${r} is closed:`,fe):(W||(Mt(bo,`Opening RPC '${t}' stream ${r} transport.`),V.open(),W=!0),Mt(bo,`RPC '${t}' stream ${r} sending:`,fe),V.send(fe))},oo:()=>V.close()}),ae=(fe,Pe,Be)=>{fe.listen(Pe,Re=>{try{Be(Re)}catch(ze){setTimeout(()=>{throw ze},0)}})};return ae(V,s1.EventType.OPEN,()=>{K||Mt(bo,`RPC '${t}' stream ${r} transport opened.`)}),ae(V,s1.EventType.CLOSE,()=>{K||(K=!0,Mt(bo,`RPC '${t}' stream ${r} transport closed`),oe.wo())}),ae(V,s1.EventType.ERROR,fe=>{K||(K=!0,ka(bo,`RPC '${t}' stream ${r} transport errored:`,fe),oe.wo(new Ct(tt.UNAVAILABLE,"The operation could not be completed")))}),ae(V,s1.EventType.MESSAGE,fe=>{var Pe;if(!K){const Be=fe.data[0];_n(!!Be);const ze=Be.error||(null===(Pe=Be[0])||void 0===Pe?void 0:Pe.error);if(ze){Mt(bo,`RPC '${t}' stream ${r} received error:`,ze);const ut=ze.status;let bt=function(Vt){const Jt=Ms[Vt];if(void 0!==Jt)return q1(Jt)}(ut),jt=ze.message;void 0===bt&&(bt=tt.INTERNAL,jt="Unknown error status: "+ut+" with message "+ze.message),K=!0,oe.wo(new Ct(bt,jt)),V.close()}else Mt(bo,`RPC '${t}' stream ${r} received:`,Be),oe._o(Be)}}),ae(p,HV.STAT_EVENT,fe=>{fe.stat===nI.PROXY?Mt(bo,`RPC '${t}' stream ${r} detected buffering proxy`):fe.stat===nI.NOPROXY&&Mt(bo,`RPC '${t}' stream ${r} detected no buffering proxy`)}),setTimeout(()=>{oe.fo()},0),oe}}function FM(){return typeof window<"u"?window:null}function VE(){return typeof document<"u"?document:null}function Yg(n){return new bR(n,!0)}class LM{constructor(t,e,i=1e3,r=1.5,s=6e4){this.ii=t,this.timerId=e,this.Po=i,this.bo=r,this.Vo=s,this.So=0,this.Do=null,this.Co=Date.now(),this.reset()}reset(){this.So=0}xo(){this.So=this.Vo}No(t){this.cancel();const e=Math.floor(this.So+this.ko()),i=Math.max(0,Date.now()-this.Co),r=Math.max(0,e-i);r>0&&Mt("ExponentialBackoff",`Backing off for ${r} ms (base delay: ${this.So} ms, delay with jitter: ${e} ms, last attempt: ${i} ms ago)`),this.Do=this.ii.enqueueAfterDelay(this.timerId,r,()=>(this.Co=Date.now(),t())),this.So*=this.bo,this.So<this.Po&&(this.So=this.Po),this.So>this.Vo&&(this.So=this.Vo)}Mo(){null!==this.Do&&(this.Do.skipDelay(),this.Do=null)}cancel(){null!==this.Do&&(this.Do.cancel(),this.Do=null)}ko(){return(Math.random()-.5)*this.So}}class FR{constructor(t,e,i,r,s,c,p,_){this.ii=t,this.$o=i,this.Oo=r,this.connection=s,this.authCredentialsProvider=c,this.appCheckCredentialsProvider=p,this.listener=_,this.state=0,this.Fo=0,this.Bo=null,this.Lo=null,this.stream=null,this.qo=new LM(t,e)}Uo(){return 1===this.state||5===this.state||this.Ko()}Ko(){return 2===this.state||3===this.state}start(){4!==this.state?this.auth():this.Go()}stop(){var t=this;return(0,it.Z)(function*(){t.Uo()&&(yield t.close(0))})()}Qo(){this.state=0,this.qo.reset()}jo(){this.Ko()&&null===this.Bo&&(this.Bo=this.ii.enqueueAfterDelay(this.$o,6e4,()=>this.zo()))}Wo(t){this.Ho(),this.stream.send(t)}zo(){var t=this;return(0,it.Z)(function*(){if(t.Ko())return t.close(0)})()}Ho(){this.Bo&&(this.Bo.cancel(),this.Bo=null)}Jo(){this.Lo&&(this.Lo.cancel(),this.Lo=null)}close(t,e){var i=this;return(0,it.Z)(function*(){i.Ho(),i.Jo(),i.qo.cancel(),i.Fo++,4!==t?i.qo.reset():e&&e.code===tt.RESOURCE_EXHAUSTED?(xr(e.toString()),xr("Using maximum backoff delay to prevent overloading the backend."),i.qo.xo()):e&&e.code===tt.UNAUTHENTICATED&&3!==i.state&&(i.authCredentialsProvider.invalidateToken(),i.appCheckCredentialsProvider.invalidateToken()),null!==i.stream&&(i.Yo(),i.stream.close(),i.stream=null),i.state=t,yield i.listener.ao(e)})()}Yo(){}auth(){this.state=1;const t=this.Xo(this.Fo),e=this.Fo;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then(([i,r])=>{this.Fo===e&&this.Zo(i,r)},i=>{t(()=>{const r=new Ct(tt.UNKNOWN,"Fetching auth token failed: "+i.message);return this.tu(r)})})}Zo(t,e){const i=this.Xo(this.Fo);this.stream=this.eu(t,e),this.stream.uo(()=>{i(()=>(this.state=2,this.Lo=this.ii.enqueueAfterDelay(this.Oo,1e4,()=>(this.Ko()&&(this.state=3),Promise.resolve())),this.listener.uo()))}),this.stream.ao(r=>{i(()=>this.tu(r))}),this.stream.onMessage(r=>{i(()=>this.onMessage(r))})}Go(){var t=this;this.state=5,this.qo.No((0,it.Z)(function*(){t.state=0,t.start()}))}tu(t){return Mt("PersistentStream",`close with error: ${t}`),this.stream=null,this.close(4,t)}Xo(t){return e=>{this.ii.enqueueAndForget(()=>this.Fo===t?e():(Mt("PersistentStream","stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve()))}}}class ZV extends FR{constructor(t,e,i,r,s,c){super(t,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",e,i,r,c),this.serializer=s}eu(t,e){return this.connection.Ro("Listen",t,e)}onMessage(t){this.qo.reset();const e=function eE(n,t){let e;if("targetChange"in t){const i="NO_CHANGE"===(_=t.targetChange.targetChangeType||"NO_CHANGE")?0:"ADD"===_?1:"REMOVE"===_?2:"CURRENT"===_?3:"RESET"===_?4:sn(),r=t.targetChange.targetIds||[],s=function(_,C){return _.useProto3Json?(_n(void 0===C||"string"==typeof C),Is.fromBase64String(C||"")):(_n(void 0===C||C instanceof Uint8Array),Is.fromUint8Array(C||new Uint8Array))}(n,t.targetChange.resumeToken),c=t.targetChange.cause,p=c&&function(_){const C=void 0===_.code?tt.UNKNOWN:q1(_.code);return new Ct(C,_.message||"")}(c);e=new YI(i,r,s,p||null)}else if("documentChange"in t){const i=t.documentChange,r=Ac(n,i.document.name),s=qr(i.document.updateTime),c=i.document.createTime?qr(i.document.createTime):bn.min(),p=new _o({mapValue:{fields:i.document.fields}}),_=Dr.newFoundDocument(r,s,c,p);e=new L0(i.targetIds||[],i.removedTargetIds||[],_.key,_)}else if("documentDelete"in t){const i=t.documentDelete,r=Ac(n,i.document),s=i.readTime?qr(i.readTime):bn.min(),c=Dr.newNoDocument(r,s);e=new L0([],i.removedTargetIds||[],c.key,c)}else if("documentRemove"in t){const i=t.documentRemove,r=Ac(n,i.document);e=new L0([],i.removedTargetIds||[],r,null)}else{if(!("filter"in t))return sn();{const i=t.filter,{count:r=0,unchangedNames:s}=i,c=new zI(r,s);e=new $I(i.targetId,c)}}var _;return e}(this.serializer,t),i=function(r){if(!("targetChange"in r))return bn.min();const s=r.targetChange;return s.targetIds&&s.targetIds.length?bn.min():s.readTime?qr(s.readTime):bn.min()}(t);return this.listener.nu(e,i)}su(t){const e={};e.database=Lg(this.serializer),e.addTarget=function(r,s){let c;const p=s.target;if(c=Iu(p)?{documents:nE(r,p)}:{query:iE(r,p)},c.targetId=s.targetId,s.resumeToken.approximateByteSize()>0){c.resumeToken=KI(r,s.resumeToken);const _=K1(r,s.expectedCount);null!==_&&(c.expectedCount=_)}else if(s.snapshotVersion.compareTo(bn.min())>0){c.readTime=Fg(r,s.snapshotVersion.toTimestamp());const _=K1(r,s.expectedCount);null!==_&&(c.expectedCount=_)}return c}(this.serializer,t);const i=function sE(n,t){const e=function(i){switch(i){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return sn()}}(t.purpose);return null==e?null:{"goog-listen-tags":e}}(0,t);i&&(e.labels=i),this.Wo(e)}iu(t){const e={};e.database=Lg(this.serializer),e.removeTarget=t,this.Wo(e)}}class XV extends FR{constructor(t,e,i,r,s,c){super(t,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",e,i,r,c),this.serializer=s,this.ru=!1}get ou(){return this.ru}start(){this.ru=!1,this.lastStreamToken=void 0,super.start()}Yo(){this.ru&&this.uu([])}eu(t,e){return this.connection.Ro("Write",t,e)}onMessage(t){if(_n(!!t.streamToken),this.lastStreamToken=t.streamToken,this.ru){this.qo.reset();const e=function eM(n,t){return n&&n.length>0?(_n(void 0!==t),n.map(e=>function(i,r){let s=qr(i.updateTime?i.updateTime:r);return s.isEqual(bn.min())&&(s=qr(r)),new I0(s,i.transformResults||[])}(e,t))):[]}(t.writeResults,t.commitTime),i=qr(t.commitTime);return this.listener.cu(i,e)}return _n(!t.writeResults||0===t.writeResults.length),this.ru=!0,this.listener.au()}hu(){const t={};t.database=Lg(this.serializer),this.Wo(t)}uu(t){const e={streamToken:this.lastStreamToken,writes:t.map(i=>Ff(this.serializer,i))};this.Wo(e)}}class KV extends class{}{constructor(t,e,i,r){super(),this.authCredentials=t,this.appCheckCredentials=e,this.connection=i,this.serializer=r,this.lu=!1}fu(){if(this.lu)throw new Ct(tt.FAILED_PRECONDITION,"The client has already been terminated.")}Io(t,e,i){return this.fu(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([r,s])=>this.connection.Io(t,e,i,r,s)).catch(r=>{throw"FirebaseError"===r.name?(r.code===tt.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),r):new Ct(tt.UNKNOWN,r.toString())})}vo(t,e,i,r){return this.fu(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([s,c])=>this.connection.vo(t,e,i,s,c,r)).catch(s=>{throw"FirebaseError"===s.name?(s.code===tt.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),s):new Ct(tt.UNKNOWN,s.toString())})}terminate(){this.lu=!0}}class JV{constructor(t,e){this.asyncQueue=t,this.onlineStateHandler=e,this.state="Unknown",this.wu=0,this._u=null,this.mu=!0}gu(){0===this.wu&&(this.yu("Unknown"),this._u=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,()=>(this._u=null,this.pu("Backend didn't respond within 10 seconds."),this.yu("Offline"),Promise.resolve())))}Iu(t){"Online"===this.state?this.yu("Unknown"):(this.wu++,this.wu>=1&&(this.Tu(),this.pu(`Connection failed 1 times. Most recent error: ${t.toString()}`),this.yu("Offline")))}set(t){this.Tu(),this.wu=0,"Online"===t&&(this.mu=!1),this.yu(t)}yu(t){t!==this.state&&(this.state=t,this.onlineStateHandler(t))}pu(t){const e=`Could not reach Cloud Firestore backend. ${t}\nThis typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.mu?(xr(e),this.mu=!1):Mt("OnlineStateTracker",e)}Tu(){null!==this._u&&(this._u.cancel(),this._u=null)}}class eH{constructor(t,e,i,r,s){var c=this;this.localStore=t,this.datastore=e,this.asyncQueue=i,this.remoteSyncer={},this.Eu=[],this.Au=new Map,this.vu=new Set,this.Ru=[],this.Pu=s,this.Pu.Yr(p=>{i.enqueueAndForget((0,it.Z)(function*(){var _;oh(c)&&(Mt("RemoteStore","Restarting streams for network reachability change."),yield(_=(0,it.Z)(function*(C){const M=tn(C);M.vu.add(4),yield jf(M),M.bu.set("Unknown"),M.vu.delete(4),yield qg(M)}),function(C){return _.apply(this,arguments)})(c))}))}),this.bu=new JV(i,r)}}function qg(n){return Dy.apply(this,arguments)}function Dy(){return Dy=(0,it.Z)(function*(n){if(oh(n))for(const t of n.Ru)yield t(!0)}),Dy.apply(this,arguments)}function jf(n){return HE.apply(this,arguments)}function HE(){return HE=(0,it.Z)(function*(n){for(const t of n.Ru)yield t(!1)}),HE.apply(this,arguments)}function Gf(n,t){const e=tn(n);e.Au.has(t.targetId)||(e.Au.set(t.targetId,t),uw(e)?UE(e):Ay(e).Ko()&&VM(e,t))}function Ty(n,t){const e=tn(n),i=Ay(e);e.Au.delete(t),i.Ko()&&LR(e,t),0===e.Au.size&&(i.Ko()?i.jo():oh(e)&&e.bu.set("Unknown"))}function VM(n,t){if(n.Vu.qt(t.targetId),t.resumeToken.approximateByteSize()>0||t.snapshotVersion.compareTo(bn.min())>0){const e=n.remoteSyncer.getRemoteKeysForTarget(t.targetId).size;t=t.withExpectedCount(e)}Ay(n).su(t)}function LR(n,t){n.Vu.qt(t),Ay(n).iu(t)}function UE(n){n.Vu=new yR({getRemoteKeysForTarget:t=>n.remoteSyncer.getRemoteKeysForTarget(t),le:t=>n.Au.get(t)||null,ue:()=>n.datastore.serializer.databaseId}),Ay(n).start(),n.bu.gu()}function uw(n){return oh(n)&&!Ay(n).Uo()&&n.Au.size>0}function oh(n){return 0===tn(n).vu.size}function HM(n){n.Vu=void 0}function BR(n){return UM.apply(this,arguments)}function UM(){return UM=(0,it.Z)(function*(n){n.Au.forEach((t,e)=>{VM(n,t)})}),UM.apply(this,arguments)}function VR(n,t){return Wf.apply(this,arguments)}function Wf(){return Wf=(0,it.Z)(function*(n,t){HM(n),uw(n)?(n.bu.Iu(t),UE(n)):n.bu.set("Unknown")}),Wf.apply(this,arguments)}function dw(n,t,e){return zE.apply(this,arguments)}function zE(){return zE=(0,it.Z)(function*(n,t,e){if(n.bu.set("Online"),t instanceof YI&&2===t.state&&t.cause)try{yield(i=(0,it.Z)(function*(r,s){const c=s.cause;for(const p of s.targetIds)r.Au.has(p)&&(yield r.remoteSyncer.rejectListen(p,c),r.Au.delete(p),r.Vu.removeTarget(p))}),function(r,s){return i.apply(this,arguments)})(n,t)}catch(i){Mt("RemoteStore","Failed to remove targets %s: %s ",t.targetIds.join(","),i),yield hw(n,i)}else if(t instanceof L0?n.Vu.Ht(t):t instanceof $I?n.Vu.ne(t):n.Vu.Xt(t),!e.isEqual(bn.min()))try{const i=yield tw(n.localStore);e.compareTo(i)>=0&&(yield function(r,s){const c=r.Vu.ce(s);return c.targetChanges.forEach((p,_)=>{if(p.resumeToken.approximateByteSize()>0){const C=r.Au.get(_);C&&r.Au.set(_,C.withResumeToken(p.resumeToken,s))}}),c.targetMismatches.forEach((p,_)=>{const C=r.Au.get(p);if(!C)return;r.Au.set(p,C.withResumeToken(Is.EMPTY_BYTE_STRING,C.snapshotVersion)),LR(r,p);const M=new Kd(C.target,p,_,C.sequenceNumber);VM(r,M)}),r.remoteSyncer.applyRemoteEvent(c)}(n,e))}catch(i){Mt("RemoteStore","Failed to raise snapshot:",i),yield hw(n,i)}var i}),zE.apply(this,arguments)}function hw(n,t,e){return jE.apply(this,arguments)}function jE(){return jE=(0,it.Z)(function*(n,t,e){if(!xu(t))throw t;n.vu.add(1),yield jf(n),n.bu.set("Offline"),e||(e=()=>tw(n.localStore)),n.asyncQueue.enqueueRetryable((0,it.Z)(function*(){Mt("RemoteStore","Retrying IndexedDB access"),yield e(),n.vu.delete(1),yield qg(n)}))}),jE.apply(this,arguments)}function zM(n,t){return t().catch(e=>hw(n,e,t))}function Zg(n){return GE.apply(this,arguments)}function GE(){return GE=(0,it.Z)(function*(n){const t=tn(n),e=xs(t);let i=t.Eu.length>0?t.Eu[t.Eu.length-1].batchId:-1;for(;WE(t);)try{const r=yield nw(t.localStore,i);if(null===r){0===t.Eu.length&&e.jo();break}i=r.batchId,HR(t,r)}catch(r){yield hw(t,r)}jM(t)&&GM(t)}),GE.apply(this,arguments)}function WE(n){return oh(n)&&n.Eu.length<10}function HR(n,t){n.Eu.push(t);const e=xs(n);e.Ko()&&e.ou&&e.uu(t.mutations)}function jM(n){return oh(n)&&!xs(n).Uo()&&n.Eu.length>0}function GM(n){xs(n).start()}function UR(n){return $E.apply(this,arguments)}function $E(){return $E=(0,it.Z)(function*(n){xs(n).hu()}),$E.apply(this,arguments)}function zR(n){return YE.apply(this,arguments)}function YE(){return YE=(0,it.Z)(function*(n){const t=xs(n);for(const e of n.Eu)t.uu(e.mutations)}),YE.apply(this,arguments)}function jR(n,t,e){return qE.apply(this,arguments)}function qE(){return qE=(0,it.Z)(function*(n,t,e){const i=n.Eu.shift(),r=Y1.from(i,t,e);yield zM(n,()=>n.remoteSyncer.applySuccessfulWrite(r)),yield Zg(n)}),qE.apply(this,arguments)}function WM(n,t){return Sy.apply(this,arguments)}function Sy(){return Sy=(0,it.Z)(function*(n,t){var e;t&&xs(n).ou&&(yield(e=(0,it.Z)(function*(i,r){if(jI(s=r.code)&&s!==tt.ABORTED){const c=i.Eu.shift();xs(i).Qo(),yield zM(i,()=>i.remoteSyncer.rejectFailedWrite(c.batchId,r)),yield Zg(i)}var s}),function(i,r){return e.apply(this,arguments)})(n,t)),jM(n)&&GM(n)}),Sy.apply(this,arguments)}function $M(n,t){return ZE.apply(this,arguments)}function ZE(){return ZE=(0,it.Z)(function*(n,t){const e=tn(n);e.asyncQueue.verifyOperationInProgress(),Mt("RemoteStore","RemoteStore received new credentials");const i=oh(e);e.vu.add(3),yield jf(e),i&&e.bu.set("Unknown"),yield e.remoteSyncer.handleCredentialChange(t),e.vu.delete(3),yield qg(e)}),ZE.apply(this,arguments)}function fw(n,t){return pw.apply(this,arguments)}function pw(){return pw=(0,it.Z)(function*(n,t){const e=tn(n);t?(e.vu.delete(2),yield qg(e)):t||(e.vu.add(2),yield jf(e),e.bu.set("Unknown"))}),pw.apply(this,arguments)}function Ay(n){return n.Su||(n.Su=function(t,e,i){const r=tn(t);return r.fu(),new ZV(e,r.connection,r.authCredentials,r.appCheckCredentials,r.serializer,i)}(n.datastore,n.asyncQueue,{uo:BR.bind(null,n),ao:VR.bind(null,n),nu:dw.bind(null,n)}),n.Ru.push(function(){var t=(0,it.Z)(function*(e){e?(n.Su.Qo(),uw(n)?UE(n):n.bu.set("Unknown")):(yield n.Su.stop(),HM(n))});return function(e){return t.apply(this,arguments)}}())),n.Su}function xs(n){return n.Du||(n.Du=function(t,e,i){const r=tn(t);return r.fu(),new XV(e,r.connection,r.authCredentials,r.appCheckCredentials,r.serializer,i)}(n.datastore,n.asyncQueue,{uo:UR.bind(null,n),ao:WM.bind(null,n),au:zR.bind(null,n),cu:jR.bind(null,n)}),n.Ru.push(function(){var t=(0,it.Z)(function*(e){e?(n.Du.Qo(),yield Zg(n)):(yield n.Du.stop(),n.Eu.length>0&&(Mt("RemoteStore",`Stopping write stream with ${n.Eu.length} pending writes`),n.Eu=[]))});return function(e){return t.apply(this,arguments)}}())),n.Du}class gw{constructor(t,e,i,r,s){this.asyncQueue=t,this.timerId=e,this.targetTimeMs=i,this.op=r,this.removalCallback=s,this.deferred=new as,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch(c=>{})}static createAndSchedule(t,e,i,r,s){const c=Date.now()+i,p=new gw(t,e,c,r,s);return p.start(i),p}start(t){this.timerHandle=setTimeout(()=>this.handleDelayElapsed(),t)}skipDelay(){return this.handleDelayElapsed()}cancel(t){null!==this.timerHandle&&(this.clearTimeout(),this.deferred.reject(new Ct(tt.CANCELLED,"Operation cancelled"+(t?": "+t:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget(()=>null!==this.timerHandle?(this.clearTimeout(),this.op().then(t=>this.deferred.resolve(t))):Promise.resolve())}clearTimeout(){null!==this.timerHandle&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function $f(n,t){if(xr("AsyncQueue",`${t}: ${n}`),xu(n))return new Ct(tt.UNAVAILABLE,`${t}: ${n}`);throw n}class Xg{constructor(t){this.comparator=t?(e,i)=>t(e,i)||qt.comparator(e.key,i.key):(e,i)=>qt.comparator(e.key,i.key),this.keyedMap=oy(),this.sortedSet=new Er(this.comparator)}static emptySet(t){return new Xg(t.comparator)}has(t){return null!=this.keyedMap.get(t)}get(t){return this.keyedMap.get(t)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(t){const e=this.keyedMap.get(t);return e?this.sortedSet.indexOf(e):-1}get size(){return this.sortedSet.size}forEach(t){this.sortedSet.inorderTraversal((e,i)=>(t(e),!1))}add(t){const e=this.delete(t.key);return e.copy(e.keyedMap.insert(t.key,t),e.sortedSet.insert(t,null))}delete(t){const e=this.get(t);return e?this.copy(this.keyedMap.remove(t),this.sortedSet.remove(e)):this}isEqual(t){if(!(t instanceof Xg)||this.size!==t.size)return!1;const e=this.sortedSet.getIterator(),i=t.sortedSet.getIterator();for(;e.hasNext();){const r=e.getNext().key,s=i.getNext().key;if(!r.isEqual(s))return!1}return!0}toString(){const t=[];return this.forEach(e=>{t.push(e.toString())}),0===t.length?"DocumentSet ()":"DocumentSet (\n  "+t.join("  \n")+"\n)"}copy(t,e){const i=new Xg;return i.comparator=this.comparator,i.keyedMap=t,i.sortedSet=e,i}}class XE{constructor(){this.Cu=new Er(qt.comparator)}track(t){const e=t.doc.key,i=this.Cu.get(e);i?0!==t.type&&3===i.type?this.Cu=this.Cu.insert(e,t):3===t.type&&1!==i.type?this.Cu=this.Cu.insert(e,{type:i.type,doc:t.doc}):2===t.type&&2===i.type?this.Cu=this.Cu.insert(e,{type:2,doc:t.doc}):2===t.type&&0===i.type?this.Cu=this.Cu.insert(e,{type:0,doc:t.doc}):1===t.type&&0===i.type?this.Cu=this.Cu.remove(e):1===t.type&&2===i.type?this.Cu=this.Cu.insert(e,{type:1,doc:i.doc}):0===t.type&&1===i.type?this.Cu=this.Cu.insert(e,{type:2,doc:t.doc}):sn():this.Cu=this.Cu.insert(e,t)}xu(){const t=[];return this.Cu.inorderTraversal((e,i)=>{t.push(i)}),t}}class Kg{constructor(t,e,i,r,s,c,p,_,C){this.query=t,this.docs=e,this.oldDocs=i,this.docChanges=r,this.mutatedKeys=s,this.fromCache=c,this.syncStateChanged=p,this.excludesMetadataChanges=_,this.hasCachedResults=C}static fromInitialDocuments(t,e,i,r,s){const c=[];return e.forEach(p=>{c.push({type:0,doc:p})}),new Kg(t,e,Xg.emptySet(e),c,i,r,!0,!1,s)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(t){if(!(this.fromCache===t.fromCache&&this.hasCachedResults===t.hasCachedResults&&this.syncStateChanged===t.syncStateChanged&&this.mutatedKeys.isEqual(t.mutatedKeys)&&to(this.query,t.query)&&this.docs.isEqual(t.docs)&&this.oldDocs.isEqual(t.oldDocs)))return!1;const e=this.docChanges,i=t.docChanges;if(e.length!==i.length)return!1;for(let r=0;r<e.length;r++)if(e[r].type!==i[r].type||!e[r].doc.isEqual(i[r].doc))return!1;return!0}}class KE{constructor(){this.Nu=void 0,this.listeners=[]}}class ah{constructor(){this.queries=new Dc(t=>uR(t),to),this.onlineState="Unknown",this.ku=new Set}}function mw(n,t){return Iy.apply(this,arguments)}function Iy(){return Iy=(0,it.Z)(function*(n,t){const e=tn(n),i=t.query;let r=!1,s=e.queries.get(i);if(s||(r=!0,s=new KE),r)try{s.Nu=yield e.onListen(i)}catch(c){const p=$f(c,`Initialization of query '${D0(t.query)}' failed`);return void t.onError(p)}e.queries.set(i,s),s.listeners.push(t),t.Mu(e.onlineState),s.Nu&&t.$u(s.Nu)&&JE(e)}),Iy.apply(this,arguments)}function My(n,t){return QE.apply(this,arguments)}function QE(){return QE=(0,it.Z)(function*(n,t){const e=tn(n),i=t.query;let r=!1;const s=e.queries.get(i);if(s){const c=s.listeners.indexOf(t);c>=0&&(s.listeners.splice(c,1),r=0===s.listeners.length)}if(r)return e.queries.delete(i),e.onUnlisten(i)}),QE.apply(this,arguments)}function tH(n,t){const e=tn(n);let i=!1;for(const r of t){const c=e.queries.get(r.query);if(c){for(const p of c.listeners)p.$u(r)&&(i=!0);c.Nu=r}}i&&JE(e)}function YM(n,t,e){const i=tn(n),r=i.queries.get(t);if(r)for(const s of r.listeners)s.onError(e);i.queries.delete(t)}function JE(n){n.ku.forEach(t=>{t.next()})}class eD{constructor(t,e,i){this.query=t,this.Ou=e,this.Fu=!1,this.Bu=null,this.onlineState="Unknown",this.options=i||{}}$u(t){if(!this.options.includeMetadataChanges){const i=[];for(const r of t.docChanges)3!==r.type&&i.push(r);t=new Kg(t.query,t.docs,t.oldDocs,i,t.mutatedKeys,t.fromCache,t.syncStateChanged,!0,t.hasCachedResults)}let e=!1;return this.Fu?this.Lu(t)&&(this.Ou.next(t),e=!0):this.qu(t,this.onlineState)&&(this.Uu(t),e=!0),this.Bu=t,e}onError(t){this.Ou.error(t)}Mu(t){this.onlineState=t;let e=!1;return this.Bu&&!this.Fu&&this.qu(this.Bu,t)&&(this.Uu(this.Bu),e=!0),e}qu(t,e){return!t.fromCache||(!this.options.Ku||!("Offline"!==e))&&(!t.docs.isEmpty()||t.hasCachedResults||"Offline"===e)}Lu(t){return t.docChanges.length>0||!!(t.syncStateChanged||this.Bu&&this.Bu.hasPendingWrites!==t.hasPendingWrites)&&!0===this.options.includeMetadataChanges}Uu(t){t=Kg.fromInitialDocuments(t.query,t.docs,t.mutatedKeys,t.fromCache,t.hasCachedResults),this.Fu=!0,this.Ou.next(t)}}class GR{constructor(t,e){this.Gu=t,this.byteLength=e}Qu(){return"metadata"in this.Gu}}class qM{constructor(t){this.serializer=t}rr(t){return Ac(this.serializer,t)}ur(t){return t.metadata.exists?JI(this.serializer,t.document,!1):Dr.newNoDocument(this.rr(t.metadata.name),this.cr(t.metadata.readTime))}cr(t){return qr(t)}}class ZM{constructor(t,e,i){this.ju=t,this.localStore=e,this.serializer=i,this.queries=[],this.documents=[],this.collectionGroups=new Set,this.progress=WR(t)}zu(t){this.progress.bytesLoaded+=t.byteLength;let e=this.progress.documentsLoaded;if(t.Gu.namedQuery)this.queries.push(t.Gu.namedQuery);else if(t.Gu.documentMetadata){this.documents.push({metadata:t.Gu.documentMetadata}),t.Gu.documentMetadata.exists||++e;const i=xi.fromString(t.Gu.documentMetadata.name);this.collectionGroups.add(i.get(i.length-2))}else t.Gu.document&&(this.documents[this.documents.length-1].document=t.Gu.document,++e);return e!==this.progress.documentsLoaded?(this.progress.documentsLoaded=e,Object.assign({},this.progress)):null}Wu(t){const e=new Map,i=new qM(this.serializer);for(const r of t)if(r.metadata.queries){const s=i.rr(r.metadata.name);for(const c of r.metadata.queries){const p=(e.get(c)||Jn()).add(s);e.set(c,p)}}return e}complete(){var t=this;return(0,it.Z)(function*(){const e=yield function kM(n,t,e,i){return Cy.apply(this,arguments)}(t.localStore,new qM(t.serializer),t.documents,t.ju.id),i=t.Wu(t.documents);for(const r of t.queries)yield qV(t.localStore,r,i.get(r.name));return t.progress.taskState="Success",{progress:t.progress,Hu:t.collectionGroups,Ju:e}})()}}function WR(n){return{taskState:"Running",documentsLoaded:0,bytesLoaded:0,totalDocuments:n.totalDocuments,totalBytes:n.totalBytes}}class tD{constructor(t){this.key=t}}class XM{constructor(t){this.key=t}}class nD{constructor(t,e){this.query=t,this.Yu=e,this.Xu=null,this.hasCachedResults=!1,this.current=!1,this.Zu=Jn(),this.mutatedKeys=Jn(),this.tc=U1(t),this.ec=new Xg(this.tc)}get nc(){return this.Yu}sc(t,e){const i=e?e.ic:new XE,r=e?e.ec:this.ec;let s=e?e.mutatedKeys:this.mutatedKeys,c=r,p=!1;const _="F"===this.query.limitType&&r.size===this.query.limit?r.last():null,C="L"===this.query.limitType&&r.size===this.query.limit?r.first():null;if(t.inorderTraversal((M,V)=>{const W=r.get(M),K=kg(this.query,V)?V:null,oe=!!W&&this.mutatedKeys.has(W.key),ae=!!K&&(K.hasLocalMutations||this.mutatedKeys.has(K.key)&&K.hasCommittedMutations);let fe=!1;W&&K?W.data.isEqual(K.data)?oe!==ae&&(i.track({type:3,doc:K}),fe=!0):this.rc(W,K)||(i.track({type:2,doc:K}),fe=!0,(_&&this.tc(K,_)>0||C&&this.tc(K,C)<0)&&(p=!0)):!W&&K?(i.track({type:0,doc:K}),fe=!0):W&&!K&&(i.track({type:1,doc:W}),fe=!0,(_||C)&&(p=!0)),fe&&(K?(c=c.add(K),s=ae?s.add(M):s.delete(M)):(c=c.delete(M),s=s.delete(M)))}),null!==this.query.limit)for(;c.size>this.query.limit;){const M="F"===this.query.limitType?c.last():c.first();c=c.delete(M.key),s=s.delete(M.key),i.track({type:1,doc:M})}return{ec:c,ic:i,zi:p,mutatedKeys:s}}rc(t,e){return t.hasLocalMutations&&e.hasCommittedMutations&&!e.hasLocalMutations}applyChanges(t,e,i){const r=this.ec;this.ec=t.ec,this.mutatedKeys=t.mutatedKeys;const s=t.ic.xu();s.sort((C,M)=>function(V,W){const K=oe=>{switch(oe){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return sn()}};return K(V)-K(W)}(C.type,M.type)||this.tc(C.doc,M.doc)),this.oc(i);const c=e?this.uc():[],p=0===this.Zu.size&&this.current?1:0,_=p!==this.Xu;return this.Xu=p,0!==s.length||_?{snapshot:new Kg(this.query,t.ec,r,s,t.mutatedKeys,0===p,_,!1,!!i&&i.resumeToken.approximateByteSize()>0),cc:c}:{cc:c}}Mu(t){return this.current&&"Offline"===t?(this.current=!1,this.applyChanges({ec:this.ec,ic:new XE,mutatedKeys:this.mutatedKeys,zi:!1},!1)):{cc:[]}}ac(t){return!this.Yu.has(t)&&!!this.ec.has(t)&&!this.ec.get(t).hasLocalMutations}oc(t){t&&(t.addedDocuments.forEach(e=>this.Yu=this.Yu.add(e)),t.modifiedDocuments.forEach(e=>{}),t.removedDocuments.forEach(e=>this.Yu=this.Yu.delete(e)),this.current=t.current)}uc(){if(!this.current)return[];const t=this.Zu;this.Zu=Jn(),this.ec.forEach(i=>{this.ac(i.key)&&(this.Zu=this.Zu.add(i.key))});const e=[];return t.forEach(i=>{this.Zu.has(i)||e.push(new XM(i))}),this.Zu.forEach(i=>{t.has(i)||e.push(new tD(i))}),e}hc(t){this.Yu=t.ir,this.Zu=Jn();const e=this.sc(t.documents);return this.applyChanges(e,!0)}lc(){return Kg.fromInitialDocuments(this.query,this.ec,this.mutatedKeys,0===this.Xu,this.hasCachedResults)}}class nH{constructor(t,e,i){this.query=t,this.targetId=e,this.view=i}}class iD{constructor(t){this.key=t,this.fc=!1}}class KM{constructor(t,e,i,r,s,c){this.localStore=t,this.remoteStore=e,this.eventManager=i,this.sharedClientState=r,this.currentUser=s,this.maxConcurrentLimboResolutions=c,this.dc={},this.wc=new Dc(p=>uR(p),to),this._c=new Map,this.mc=new Set,this.gc=new Er(qt.comparator),this.yc=new Map,this.Ic=new K0,this.Tc={},this.Ec=new Map,this.Ac=th.Mn(),this.onlineState="Unknown",this.vc=void 0}get isPrimaryClient(){return!0===this.vc}}function QM(n,t){return rD.apply(this,arguments)}function rD(){return rD=(0,it.Z)(function*(n,t){const e=ww(n);let i,r;const s=e.wc.get(t);if(s)i=s.targetId,e.sharedClientState.addLocalQueryTarget(i),r=s.view.lc();else{const c=yield sh(e.localStore,Yo(t)),p=e.sharedClientState.addLocalQueryTarget(c.targetId);i=c.targetId,r=yield vw(e,t,i,"current"===p,c.resumeToken),e.isPrimaryClient&&Gf(e.remoteStore,c)}return r}),rD.apply(this,arguments)}function vw(n,t,e,i,r){return yw.apply(this,arguments)}function yw(){return yw=(0,it.Z)(function*(n,t,e,i,r){n.Rc=(V,W,K)=>{return(oe=(0,it.Z)(function*(ae,fe,Pe,Be){let Re=fe.view.sc(Pe);Re.zi&&(Re=yield rw(ae.localStore,fe.query,!1).then(({documents:bt})=>fe.view.sc(bt,Re)));const ze=Be&&Be.targetChanges.get(fe.targetId),ut=fe.view.applyChanges(Re,ae.isPrimaryClient,ze);return sk(ae,fe.targetId,ut.cc),ut.snapshot}),function(ae,fe,Pe,Be){return oe.apply(this,arguments)})(n,V,W,K);var oe};const s=yield rw(n.localStore,t,!0),c=new nD(t,s.ir),p=c.sc(s.documents),_=py.createSynthesizedTargetChangeForCurrentChange(e,i&&"Offline"!==n.onlineState,r),C=c.applyChanges(p,n.isPrimaryClient,_);sk(n,e,C.cc);const M=new nH(t,e,c);return n.wc.set(t,M),n._c.has(e)?n._c.get(e).push(t):n._c.set(e,[t]),C.snapshot}),yw.apply(this,arguments)}function Qg(n,t){return Jg.apply(this,arguments)}function Jg(){return Jg=(0,it.Z)(function*(n,t){const e=tn(n),i=e.wc.get(t),r=e._c.get(i.targetId);if(r.length>1)return e._c.set(i.targetId,r.filter(s=>!to(s,t))),void e.wc.delete(t);e.isPrimaryClient?(e.sharedClientState.removeLocalQueryTarget(i.targetId),e.sharedClientState.isActiveQueryTarget(i.targetId)||(yield xy(e.localStore,i.targetId,!1).then(()=>{e.sharedClientState.clearQueryState(i.targetId),Ty(e.remoteStore,i.targetId),ky(e,i.targetId)}).catch(wu))):(ky(e,i.targetId),yield xy(e.localStore,i.targetId,!0))}),Jg.apply(this,arguments)}function _w(){return _w=(0,it.Z)(function*(n,t,e){const i=xw(n);try{const r=yield function(s,c){const p=tn(s),_=Pr.now(),C=c.reduce((W,K)=>W.add(K.key),Jn());let M,V;return p.persistence.runTransaction("Locally write mutations","readwrite",W=>{let K=fa(),oe=Jn();return p.Zi.getEntries(W,C).next(ae=>{K=ae,K.forEach((fe,Pe)=>{Pe.isValidDocument()||(oe=oe.add(fe))})}).next(()=>p.localDocuments.getOverlayedDocuments(W,K)).next(ae=>{M=ae;const fe=[];for(const Pe of c){const Be=gR(Pe,M.get(Pe.key).overlayedDocument);null!=Be&&fe.push(new Mu(Pe.key,Be,vI(Be.value.mapValue),Rr.exists(!0)))}return p.mutationQueue.addMutationBatch(W,_,fe,c)}).next(ae=>{V=ae;const fe=ae.applyToLocalDocumentSet(M,oe);return p.documentOverlayCache.saveOverlays(W,ae.batchId,fe)})}).then(()=>({batchId:V.batchId,changes:Og(M)}))}(i.localStore,t);i.sharedClientState.addPendingMutation(r.batchId),function(s,c,p){let _=s.Tc[s.currentUser.toKey()];_||(_=new Er(jn)),_=_.insert(c,p),s.Tc[s.currentUser.toKey()]=_}(i,r.batchId,e),yield Ou(i,r.changes),yield Zg(i.remoteStore)}catch(r){const s=$f(r,"Failed to persist write");e.reject(s)}}),_w.apply(this,arguments)}function ek(n,t){return sD.apply(this,arguments)}function sD(){return sD=(0,it.Z)(function*(n,t){const e=tn(n);try{const i=yield function AM(n,t){const e=tn(n),i=t.snapshotVersion;let r=e.Ji;return e.persistence.runTransaction("Apply remote event","readwrite-primary",s=>{const c=e.Zi.newChangeBuffer({trackRemovals:!0});r=e.Ji;const p=[];t.targetChanges.forEach((M,V)=>{const W=r.get(V);if(!W)return;p.push(e.Bs.removeMatchingKeys(s,M.removedDocuments,V).next(()=>e.Bs.addMatchingKeys(s,M.addedDocuments,V)));let K=W.withSequenceNumber(s.currentSequenceNumber);var oe,ae,fe;null!==t.targetMismatches.get(V)?K=K.withResumeToken(Is.EMPTY_BYTE_STRING,bn.min()).withLastLimboFreeSnapshotVersion(bn.min()):M.resumeToken.approximateByteSize()>0&&(K=K.withResumeToken(M.resumeToken,i)),r=r.insert(V,K),ae=K,fe=M,(0===(oe=W).resumeToken.approximateByteSize()||ae.snapshotVersion.toMicroseconds()-oe.snapshotVersion.toMicroseconds()>=3e8||fe.addedDocuments.size+fe.modifiedDocuments.size+fe.removedDocuments.size>0)&&p.push(e.Bs.updateTargetData(s,K))});let _=fa(),C=Jn();if(t.documentUpdates.forEach(M=>{t.resolvedLimboDocuments.has(M)&&p.push(e.persistence.referenceDelegate.updateLimboDocument(s,M))}),p.push(IM(s,c,t.documentUpdates).next(M=>{_=M.nr,C=M.sr})),!i.isEqual(bn.min())){const M=e.Bs.getLastRemoteSnapshotVersion(s).next(V=>e.Bs.setTargetsMetadata(s,s.currentSequenceNumber,i));p.push(M)}return Xe.waitFor(p).next(()=>c.apply(s)).next(()=>e.localDocuments.getLocalViewOfDocuments(s,_,C)).next(()=>_)}).then(s=>(e.Ji=r,s))}(e.localStore,t);t.targetChanges.forEach((r,s)=>{const c=e.yc.get(s);c&&(_n(r.addedDocuments.size+r.modifiedDocuments.size+r.removedDocuments.size<=1),r.addedDocuments.size>0?c.fc=!0:r.modifiedDocuments.size>0?_n(c.fc):r.removedDocuments.size>0&&(_n(c.fc),c.fc=!1))}),yield Ou(e,i,t)}catch(i){yield wu(i)}}),sD.apply(this,arguments)}function $R(n,t,e){const i=tn(n);if(i.isPrimaryClient&&0===e||!i.isPrimaryClient&&1===e){const r=[];i.wc.forEach((s,c)=>{const p=c.view.Mu(t);p.snapshot&&r.push(p.snapshot)}),function(s,c){const p=tn(s);p.onlineState=c;let _=!1;p.queries.forEach((C,M)=>{for(const V of M.listeners)V.Mu(c)&&(_=!0)}),_&&JE(p)}(i.eventManager,t),r.length&&i.dc.nu(r),i.onlineState=t,i.isPrimaryClient&&i.sharedClientState.setOnlineState(t)}}function tk(n,t,e){return oD.apply(this,arguments)}function oD(){return oD=(0,it.Z)(function*(n,t,e){const i=tn(n);i.sharedClientState.updateQueryState(t,"rejected",e);const r=i.yc.get(t),s=r&&r.key;if(s){let c=new Er(qt.comparator);c=c.insert(s,Dr.newNoDocument(s,bn.min()));const p=Jn().add(s),_=new fy(bn.min(),new Map,new Er(jn),c,p);yield ek(i,_),i.gc=i.gc.remove(s),i.yc.delete(t),ok(i)}else yield xy(i.localStore,t,!1).then(()=>ky(i,t,e)).catch(wu)}),oD.apply(this,arguments)}function YR(n,t){return nk.apply(this,arguments)}function nk(){return nk=(0,it.Z)(function*(n,t){const e=tn(n),i=t.batch.batchId;try{const r=yield function OR(n,t){const e=tn(n);return e.persistence.runTransaction("Acknowledge batch","readwrite-primary",i=>{const r=t.batch.keys(),s=e.Zi.newChangeBuffer({trackRemovals:!0});return function(c,p,_,C){const M=_.batch,V=M.keys();let W=Xe.resolve();return V.forEach(K=>{W=W.next(()=>C.getEntry(p,K)).next(oe=>{const ae=_.docVersions.get(K);_n(null!==ae),oe.version.compareTo(ae)<0&&(M.applyToRemoteDocument(oe,_),oe.isValidDocument()&&(oe.setReadTime(_.commitVersion),C.addEntry(oe)))})}),W.next(()=>c.mutationQueue.removeMutationBatch(p,M))}(e,i,t,s).next(()=>s.apply(i)).next(()=>e.mutationQueue.performConsistencyCheck(i)).next(()=>e.documentOverlayCache.removeOverlaysForBatchId(i,r,t.batch.batchId)).next(()=>e.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(i,function(c){let p=Jn();for(let _=0;_<c.mutationResults.length;++_)c.mutationResults[_].transformResults.length>0&&(p=p.add(c.batch.mutations[_].key));return p}(t))).next(()=>e.localDocuments.getDocuments(i,r))})}(e.localStore,t);cD(e,i,null),lD(e,i),e.sharedClientState.updateMutationState(i,"acknowledged"),yield Ou(e,r)}catch(r){yield wu(r)}}),nk.apply(this,arguments)}function iH(n,t,e){return ik.apply(this,arguments)}function ik(){return ik=(0,it.Z)(function*(n,t,e){const i=tn(n);try{const r=yield function(s,c){const p=tn(s);return p.persistence.runTransaction("Reject batch","readwrite-primary",_=>{let C;return p.mutationQueue.lookupMutationBatch(_,c).next(M=>(_n(null!==M),C=M.keys(),p.mutationQueue.removeMutationBatch(_,M))).next(()=>p.mutationQueue.performConsistencyCheck(_)).next(()=>p.documentOverlayCache.removeOverlaysForBatchId(_,C,c)).next(()=>p.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(_,C)).next(()=>p.localDocuments.getDocuments(_,C))})}(i.localStore,t);cD(i,t,e),lD(i,t),i.sharedClientState.updateMutationState(t,"rejected",e),yield Ou(i,r)}catch(r){yield wu(r)}}),ik.apply(this,arguments)}function aD(){return aD=(0,it.Z)(function*(n,t){const e=tn(n);oh(e.remoteStore)||Mt("SyncEngine","The network is disabled. The task returned by 'awaitPendingWrites()' will not complete until the network is enabled.");try{const i=yield function(s){const c=tn(s);return c.persistence.runTransaction("Get highest unacknowledged batch id","readonly",p=>c.mutationQueue.getHighestUnacknowledgedBatchId(p))}(e.localStore);if(-1===i)return void t.resolve();const r=e.Ec.get(i)||[];r.push(t),e.Ec.set(i,r)}catch(i){const r=$f(i,"Initialization of waitForPendingWrites() operation failed");t.reject(r)}}),aD.apply(this,arguments)}function lD(n,t){(n.Ec.get(t)||[]).forEach(e=>{e.resolve()}),n.Ec.delete(t)}function cD(n,t,e){const i=tn(n);let r=i.Tc[i.currentUser.toKey()];if(r){const s=r.get(t);s&&(e?s.reject(e):s.resolve(),r=r.remove(t)),i.Tc[i.currentUser.toKey()]=r}}function ky(n,t,e=null){n.sharedClientState.removeLocalQueryTarget(t);for(const i of n._c.get(t))n.wc.delete(i),e&&n.dc.Pc(i,e);n._c.delete(t),n.isPrimaryClient&&n.Ic.Is(t).forEach(i=>{n.Ic.containsKey(i)||qR(n,i)})}function qR(n,t){n.mc.delete(t.path.canonicalString());const e=n.gc.get(t);null!==e&&(Ty(n.remoteStore,e),n.gc=n.gc.remove(t),n.yc.delete(e),ok(n))}function sk(n,t,e){for(const i of e)i instanceof tD?(n.Ic.addReference(i.key,t),rH(n,i)):i instanceof XM?(Mt("SyncEngine","Document no longer in limbo: "+i.key),n.Ic.removeReference(i.key,t),n.Ic.containsKey(i.key)||qR(n,i.key)):sn()}function rH(n,t){const e=t.key,i=e.path.canonicalString();n.gc.get(e)||n.mc.has(i)||(Mt("SyncEngine","New document in limbo: "+e),n.mc.add(i),ok(n))}function ok(n){for(;n.mc.size>0&&n.gc.size<n.maxConcurrentLimboResolutions;){const t=n.mc.values().next().value;n.mc.delete(t);const e=new qt(xi.fromString(t)),i=n.Ac.next();n.yc.set(i,new iD(e)),n.gc=n.gc.insert(e,i),Gf(n.remoteStore,new Kd(Yo(sy(e.path)),i,"TargetPurposeLimboResolution",ha.ct))}}function Ou(n,t,e){return em.apply(this,arguments)}function em(){return em=(0,it.Z)(function*(n,t,e){const i=tn(n),r=[],s=[],c=[];var p;i.wc.isEmpty()||(i.wc.forEach((p,_)=>{c.push(i.Rc(_,t,e).then(C=>{if((C||e)&&i.isPrimaryClient&&i.sharedClientState.updateQueryState(_.targetId,C?.fromCache?"not-current":"current"),C){r.push(C);const M=kE.Li(_.targetId,C);s.push(M)}}))}),yield Promise.all(c),i.dc.nu(r),yield(p=(0,it.Z)(function*(_,C){const M=tn(_);try{yield M.persistence.runTransaction("notifyLocalViewChanges","readwrite",V=>Xe.forEach(C,W=>Xe.forEach(W.Fi,K=>M.persistence.referenceDelegate.addReference(V,W.targetId,K)).next(()=>Xe.forEach(W.Bi,K=>M.persistence.referenceDelegate.removeReference(V,W.targetId,K)))))}catch(V){if(!xu(V))throw V;Mt("LocalStore","Failed to update sequence numbers: "+V)}for(const V of C){const W=V.targetId;if(!V.fromCache){const K=M.Ji.get(W),ae=K.withLastLimboFreeSnapshotVersion(K.snapshotVersion);M.Ji=M.Ji.insert(W,ae)}}}),function(_,C){return p.apply(this,arguments)})(i.localStore,s))}),em.apply(this,arguments)}function ZR(n,t){return uD.apply(this,arguments)}function uD(){return uD=(0,it.Z)(function*(n,t){const e=tn(n);if(!e.currentUser.isEqual(t)){Mt("SyncEngine","User change. New user:",t.toKey());const i=yield SM(e.localStore,t);e.currentUser=t,(r=e).Ec.forEach(c=>{c.forEach(p=>{p.reject(new Ct(tt.CANCELLED,"'waitForPendingWrites' promise is rejected due to a user change."))})}),r.Ec.clear(),e.sharedClientState.handleUserChange(t,i.removedBatchIds,i.addedBatchIds),yield Ou(e,i.er)}var r}),uD.apply(this,arguments)}function ak(n,t){const e=tn(n),i=e.yc.get(t);if(i&&i.fc)return Jn().add(i.key);{let r=Jn();const s=e._c.get(t);if(!s)return r;for(const c of s){const p=e.wc.get(c);r=r.unionWith(p.view.nc)}return r}}function Yf(n,t){return bw.apply(this,arguments)}function bw(){return bw=(0,it.Z)(function*(n,t){const e=tn(n),i=yield rw(e.localStore,t.query,!0),r=t.view.hc(i);return e.isPrimaryClient&&sk(e,t.targetId,r.cc),r}),bw.apply(this,arguments)}function dD(n,t){return Oy.apply(this,arguments)}function Oy(){return Oy=(0,it.Z)(function*(n,t){const e=tn(n);return zf(e.localStore,t).then(i=>Ou(e,i))}),Oy.apply(this,arguments)}function XR(n,t,e,i){return Ny.apply(this,arguments)}function Ny(){return Ny=(0,it.Z)(function*(n,t,e,i){const r=tn(n),s=yield function(c,p){const _=tn(c),C=tn(_.mutationQueue);return _.persistence.runTransaction("Lookup mutation documents","readonly",M=>C.Sn(M,p).next(V=>V?_.localDocuments.getDocuments(M,V):Xe.resolve(null)))}(r.localStore,t);var p;null!==s?("pending"===e?yield Zg(r.remoteStore):"acknowledged"===e||"rejected"===e?(cD(r,t,i||null),lD(r,t),p=t,tn(tn(r.localStore).mutationQueue).Cn(p)):sn(),yield Ou(r,s)):Mt("SyncEngine","Cannot apply mutation batch with id: "+t)}),Ny.apply(this,arguments)}function tm(){return tm=(0,it.Z)(function*(n,t){const e=tn(n);if(ww(e),xw(e),!0===t&&!0!==e.vc){const i=e.sharedClientState.getAllActiveQueryTargets(),r=yield KR(e,i.toArray());e.vc=!0,yield fw(e.remoteStore,!0);for(const s of r)Gf(e.remoteStore,s)}else if(!1===t&&!1!==e.vc){const i=[];let r=Promise.resolve();e._c.forEach((s,c)=>{e.sharedClientState.isLocalQueryTarget(c)?i.push(c):r=r.then(()=>(ky(e,c),xy(e.localStore,c,!0))),Ty(e.remoteStore,c)}),yield r,yield KR(e,i),function(s){const c=tn(s);c.yc.forEach((p,_)=>{Ty(c.remoteStore,_)}),c.Ic.Ts(),c.yc=new Map,c.gc=new Er(qt.comparator)}(e),e.vc=!1,yield fw(e.remoteStore,!1)}}),tm.apply(this,arguments)}function KR(n,t,e){return lk.apply(this,arguments)}function lk(){return lk=(0,it.Z)(function*(n,t,e){const i=tn(n),r=[],s=[];for(const c of t){let p;const _=i._c.get(c);if(_&&0!==_.length){p=yield sh(i.localStore,Yo(_[0]));for(const C of _){const M=i.wc.get(C),V=yield Yf(i,M);V.snapshot&&s.push(V.snapshot)}}else{const C=yield PE(i.localStore,c);p=yield sh(i.localStore,C),yield vw(i,QR(C),c,!1,p.resumeToken)}r.push(p)}return i.dc.nu(s),r}),lk.apply(this,arguments)}function QR(n){return B1(n.path,n.collectionGroup,n.orderBy,n.filters,n.limit,"F",n.startAt,n.endAt)}function ck(n){const t=tn(n);return tn(tn(t.localStore).persistence).$i()}function JR(n,t,e,i){return fD.apply(this,arguments)}function fD(){return fD=(0,it.Z)(function*(n,t,e,i){const r=tn(n);if(r.vc)return void Mt("SyncEngine","Ignoring unexpected query state notification.");const s=r._c.get(t);if(s&&s.length>0)switch(e){case"current":case"not-current":{const c=yield zf(r.localStore,AI(s[0])),p=fy.createSynthesizedRemoteEventForCurrentChange(t,"current"===e,Is.EMPTY_BYTE_STRING);yield Ou(r,c,p);break}case"rejected":yield xy(r.localStore,t,!0),ky(r,t,i);break;default:sn()}}),fD.apply(this,arguments)}function e2(n,t,e){return pD.apply(this,arguments)}function pD(){return pD=(0,it.Z)(function*(n,t,e){const i=ww(n);if(i.vc){for(const r of t){if(i._c.has(r)){Mt("SyncEngine","Adding an already active target "+r);continue}const s=yield PE(i.localStore,r),c=yield sh(i.localStore,s);yield vw(i,QR(s),c.targetId,!1,c.resumeToken),Gf(i.remoteStore,c)}for(const r of e)i._c.has(r)&&(yield xy(i.localStore,r,!1).then(()=>{Ty(i.remoteStore,r),ky(i,r)}).catch(wu))}}),pD.apply(this,arguments)}function ww(n){const t=tn(n);return t.remoteStore.remoteSyncer.applyRemoteEvent=ek.bind(null,t),t.remoteStore.remoteSyncer.getRemoteKeysForTarget=ak.bind(null,t),t.remoteStore.remoteSyncer.rejectListen=tk.bind(null,t),t.dc.nu=tH.bind(null,t.eventManager),t.dc.Pc=YM.bind(null,t.eventManager),t}function xw(n){const t=tn(n);return t.remoteStore.remoteSyncer.applySuccessfulWrite=YR.bind(null,t),t.remoteStore.remoteSyncer.rejectFailedWrite=iH.bind(null,t),t}class Py{constructor(){this.synchronizeTabs=!1}initialize(t){var e=this;return(0,it.Z)(function*(){e.serializer=Yg(t.databaseInfo.databaseId),e.sharedClientState=e.createSharedClientState(t),e.persistence=e.createPersistence(t),yield e.persistence.start(),e.localStore=e.createLocalStore(t),e.gcScheduler=e.createGarbageCollectionScheduler(t,e.localStore),e.indexBackfillerScheduler=e.createIndexBackfillerScheduler(t,e.localStore)})()}createGarbageCollectionScheduler(t,e){return null}createIndexBackfillerScheduler(t,e){return null}createLocalStore(t){return OE(this.persistence,new ew,t.initialUser,this.serializer)}createPersistence(t){return new rh(Q0.zs,this.serializer)}createSharedClientState(t){return new NM}terminate(){var t=this;return(0,it.Z)(function*(){t.gcScheduler&&t.gcScheduler.stop(),yield t.sharedClientState.shutdown(),yield t.persistence.shutdown()})()}}class Cw extends Py{constructor(t,e,i){super(),this.Vc=t,this.cacheSizeBytes=e,this.forceOwnership=i,this.synchronizeTabs=!1}initialize(t){var e=()=>super.initialize,i=this;return(0,it.Z)(function*(){yield e().call(i,t),yield i.Vc.initialize(i,t),yield xw(i.Vc.syncEngine),yield Zg(i.Vc.remoteStore),yield i.persistence.Ii(()=>(i.gcScheduler&&!i.gcScheduler.started&&i.gcScheduler.start(),i.indexBackfillerScheduler&&!i.indexBackfillerScheduler.started&&i.indexBackfillerScheduler.start(),Promise.resolve()))})()}createLocalStore(t){return OE(this.persistence,new ew,t.initialUser,this.serializer)}createGarbageCollectionScheduler(t,e){return new _M(this.persistence.referenceDelegate.garbageCollector,t.asyncQueue,e)}createIndexBackfillerScheduler(t,e){const i=new aI(e,this.persistence);return new g0(t.asyncQueue,i)}createPersistence(t){const e=Uf(t.databaseInfo.databaseId,t.databaseInfo.persistenceKey),i=void 0!==this.cacheSizeBytes?Oo.withCacheSize(this.cacheSizeBytes):Oo.DEFAULT;return new TM(this.synchronizeTabs,e,t.clientId,i,t.asyncQueue,FM(),VE(),this.serializer,this.sharedClientState,!!this.forceOwnership)}createSharedClientState(t){return new NM}}class Ew extends Cw{constructor(t,e){super(t,e,!1),this.Vc=t,this.cacheSizeBytes=e,this.synchronizeTabs=!0}initialize(t){var e=()=>super.initialize,i=this;return(0,it.Z)(function*(){yield e().call(i,t);const r=i.Vc.syncEngine;i.sharedClientState instanceof aw&&(i.sharedClientState.syncEngine={jr:XR.bind(null,r),zr:JR.bind(null,r),Wr:e2.bind(null,r),$i:ck.bind(null,r),Qr:dD.bind(null,r)},yield i.sharedClientState.start()),yield i.persistence.Ii(function(){var s=(0,it.Z)(function*(c){yield function hD(n,t){return tm.apply(this,arguments)}(i.Vc.syncEngine,c),i.gcScheduler&&(c&&!i.gcScheduler.started?i.gcScheduler.start():c||i.gcScheduler.stop()),i.indexBackfillerScheduler&&(c&&!i.indexBackfillerScheduler.started?i.indexBackfillerScheduler.start():c||i.indexBackfillerScheduler.stop())});return function(c){return s.apply(this,arguments)}}())})()}createSharedClientState(t){const e=FM();if(!aw.D(e))throw new Ct(tt.UNIMPLEMENTED,"IndexedDB persistence is only available on platforms that support LocalStorage.");const i=Uf(t.databaseInfo.databaseId,t.databaseInfo.persistenceKey);return new aw(e,t.asyncQueue,i,t.clientId,t.initialUser)}}class Ry{initialize(t,e){var i=this;return(0,it.Z)(function*(){i.localStore||(i.localStore=t.localStore,i.sharedClientState=t.sharedClientState,i.datastore=i.createDatastore(e),i.remoteStore=i.createRemoteStore(e),i.eventManager=i.createEventManager(e),i.syncEngine=i.createSyncEngine(e,!t.synchronizeTabs),i.sharedClientState.onlineStateHandler=r=>$R(i.syncEngine,r,1),i.remoteStore.remoteSyncer.handleCredentialChange=ZR.bind(null,i.syncEngine),yield fw(i.remoteStore,i.syncEngine.isPrimaryClient))})()}createEventManager(t){return new ah}createDatastore(t){const e=Yg(t.databaseInfo.databaseId),i=new RR(t.databaseInfo);return new KV(t.authCredentials,t.appCheckCredentials,i,e)}createRemoteStore(t){return e=this.localStore,i=this.datastore,r=t.asyncQueue,s=p=>$R(this.syncEngine,p,0),c=BE.D()?new BE:new PR,new eH(e,i,r,s,c);var e,i,r,s,c}createSyncEngine(t,e){return function(i,r,s,c,p,_,C){const M=new KM(i,r,s,c,p,_);return C&&(M.vc=!0),M}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,t.initialUser,t.maxConcurrentLimboResolutions,e)}terminate(){return(t=(0,it.Z)(function*(e){const i=tn(e);Mt("RemoteStore","RemoteStore shutting down."),i.vu.add(5),yield jf(i),i.Pu.shutdown(),i.bu.set("Unknown")}),function(e){return t.apply(this,arguments)})(this.remoteStore);var t}}function gD(n,t=10240){let e=0;return{read:()=>(0,it.Z)(function*(){if(e<n.byteLength){const i={value:n.slice(e,e+t),done:!1};return e+=t,i}return{done:!0}})(),cancel:()=>(0,it.Z)(function*(){})(),releaseLock(){},closed:Promise.resolve()}}class nm{constructor(t){this.observer=t,this.muted=!1}next(t){this.observer.next&&this.Sc(this.observer.next,t)}error(t){this.observer.error?this.Sc(this.observer.error,t):xr("Uncaught Error in snapshot listener:",t.toString())}Dc(){this.muted=!0}Sc(t,e){this.muted||setTimeout(()=>{this.muted||t(e)},0)}}class n2{constructor(t,e){this.Cc=t,this.serializer=e,this.metadata=new as,this.buffer=new Uint8Array,this.xc=new TextDecoder("utf-8"),this.Nc().then(i=>{i&&i.Qu()?this.metadata.resolve(i.Gu.metadata):this.metadata.reject(new Error(`The first element of the bundle is not a metadata, it is\n             ${JSON.stringify(i?.Gu)}`))},i=>this.metadata.reject(i))}close(){return this.Cc.cancel()}getMetadata(){var t=this;return(0,it.Z)(function*(){return t.metadata.promise})()}bc(){var t=this;return(0,it.Z)(function*(){return yield t.getMetadata(),t.Nc()})()}Nc(){var t=this;return(0,it.Z)(function*(){const e=yield t.kc();if(null===e)return null;const i=t.xc.decode(e),r=Number(i);isNaN(r)&&t.Mc(`length string (${i}) is not valid number`);const s=yield t.$c(r);return new GR(JSON.parse(s),e.length+r)})()}Oc(){return this.buffer.findIndex(t=>t==="{".charCodeAt(0))}kc(){var t=this;return(0,it.Z)(function*(){for(;t.Oc()<0&&!(yield t.Fc()););if(0===t.buffer.length)return null;const e=t.Oc();e<0&&t.Mc("Reached the end of bundle when a length string is expected.");const i=t.buffer.slice(0,e);return t.buffer=t.buffer.slice(e),i})()}$c(t){var e=this;return(0,it.Z)(function*(){for(;e.buffer.length<t;)(yield e.Fc())&&e.Mc("Reached the end of bundle when more is expected.");const i=e.xc.decode(e.buffer.slice(0,t));return e.buffer=e.buffer.slice(t),i})()}Mc(t){throw this.Cc.cancel(),new Error(`Invalid bundle format: ${t}`)}Fc(){var t=this;return(0,it.Z)(function*(){const e=yield t.Cc.read();if(!e.done){const i=new Uint8Array(t.buffer.length+e.value.length);i.set(t.buffer),i.set(e.value,t.buffer.length),t.buffer=i}return e.done})()}}class i2{constructor(t){this.datastore=t,this.readVersions=new Map,this.mutations=[],this.committed=!1,this.lastWriteError=null,this.writtenDocs=new Set}lookup(t){var e=this;return(0,it.Z)(function*(){if(e.ensureCommitNotCalled(),e.mutations.length>0)throw new Ct(tt.INVALID_ARGUMENT,"Firestore transactions require all reads to be executed before all writes.");const i=yield(r=(0,it.Z)(function*(s,c){const p=tn(s),_=Lg(p.serializer)+"/documents",C={documents:c.map(K=>gy(p.serializer,K))},M=yield p.vo("BatchGetDocuments",_,C,c.length),V=new Map;M.forEach(K=>{const oe=function $V(n,t){return"found"in t?function(e,i){_n(!!i.found);const r=Ac(e,i.found.name),s=qr(i.found.updateTime),c=i.found.createTime?qr(i.found.createTime):bn.min(),p=new _o({mapValue:{fields:i.found.fields}});return Dr.newFoundDocument(r,s,c,p)}(n,t):"missing"in t?function(e,i){_n(!!i.missing),_n(!!i.readTime);const r=Ac(e,i.missing),s=qr(i.readTime);return Dr.newNoDocument(r,s)}(n,t):sn()}(p.serializer,K);V.set(oe.key.toString(),oe)});const W=[];return c.forEach(K=>{const oe=V.get(K.toString());_n(!!oe),W.push(oe)}),W}),function(s,c){return r.apply(this,arguments)})(e.datastore,t);var r;return i.forEach(r=>e.recordVersion(r)),i})()}set(t,e){this.write(e.toMutation(t,this.precondition(t))),this.writtenDocs.add(t.toString())}update(t,e){try{this.write(e.toMutation(t,this.preconditionForUpdate(t)))}catch(i){this.lastWriteError=i}this.writtenDocs.add(t.toString())}delete(t){this.write(new Sc(t,this.precondition(t))),this.writtenDocs.add(t.toString())}commit(){var t=this;return(0,it.Z)(function*(){if(t.ensureCommitNotCalled(),t.lastWriteError)throw t.lastWriteError;const e=t.readVersions;var i;t.mutations.forEach(i=>{e.delete(i.key.toString())}),e.forEach((i,r)=>{const s=qt.fromPath(r);t.mutations.push(new $1(s,t.precondition(s)))}),yield(i=(0,it.Z)(function*(r,s){const c=tn(r),p=Lg(c.serializer)+"/documents",_={writes:s.map(C=>Ff(c.serializer,C))};yield c.Io("Commit",p,_)}),function(r,s){return i.apply(this,arguments)})(t.datastore,t.mutations),t.committed=!0})()}recordVersion(t){let e;if(t.isFoundDocument())e=t.version;else{if(!t.isNoDocument())throw sn();e=bn.min()}const i=this.readVersions.get(t.key.toString());if(i){if(!e.isEqual(i))throw new Ct(tt.ABORTED,"Document version changed between two reads.")}else this.readVersions.set(t.key.toString(),e)}precondition(t){const e=this.readVersions.get(t.toString());return!this.writtenDocs.has(t.toString())&&e?e.isEqual(bn.min())?Rr.exists(!1):Rr.updateTime(e):Rr.none()}preconditionForUpdate(t){const e=this.readVersions.get(t.toString());if(!this.writtenDocs.has(t.toString())&&e){if(e.isEqual(bn.min()))throw new Ct(tt.INVALID_ARGUMENT,"Can't update a document that doesn't exist.");return Rr.updateTime(e)}return Rr.exists(!0)}write(t){this.ensureCommitNotCalled(),this.mutations.push(t)}ensureCommitNotCalled(){}}class sH{constructor(t,e,i,r,s){this.asyncQueue=t,this.datastore=e,this.options=i,this.updateFunction=r,this.deferred=s,this.Bc=i.maxAttempts,this.qo=new LM(this.asyncQueue,"transaction_retry")}run(){this.Bc-=1,this.Lc()}Lc(){var t=this;this.qo.No((0,it.Z)(function*(){const e=new i2(t.datastore),i=t.qc(e);i&&i.then(r=>{t.asyncQueue.enqueueAndForget(()=>e.commit().then(()=>{t.deferred.resolve(r)}).catch(s=>{t.Uc(s)}))}).catch(r=>{t.Uc(r)})}))}qc(t){try{const e=this.updateFunction(t);return!xg(e)&&e.catch&&e.then?e:(this.deferred.reject(Error("Transaction callback must return a Promise")),null)}catch(e){return this.deferred.reject(e),null}}Uc(t){this.Bc>0&&this.Kc(t)?(this.Bc-=1,this.asyncQueue.enqueueAndForget(()=>(this.Lc(),Promise.resolve()))):this.deferred.reject(t)}Kc(t){if("FirebaseError"===t.name){const e=t.code;return"aborted"===e||"failed-precondition"===e||"already-exists"===e||!jI(e)}return!1}}class oH{constructor(t,e,i,r){var s=this;this.authCredentials=t,this.appCheckCredentials=e,this.asyncQueue=i,this.databaseInfo=r,this.user=Js.UNAUTHENTICATED,this.clientId=c1.A(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this.authCredentials.start(i,function(){var c=(0,it.Z)(function*(p){Mt("FirestoreClient","Received user=",p.uid),yield s.authCredentialListener(p),s.user=p});return function(p){return c.apply(this,arguments)}}()),this.appCheckCredentials.start(i,c=>(Mt("FirestoreClient","Received new app check token=",c),this.appCheckCredentialListener(c,this.user)))}getConfiguration(){var t=this;return(0,it.Z)(function*(){return{asyncQueue:t.asyncQueue,databaseInfo:t.databaseInfo,clientId:t.clientId,authCredentials:t.authCredentials,appCheckCredentials:t.appCheckCredentials,initialUser:t.user,maxConcurrentLimboResolutions:100}})()}setCredentialChangeListener(t){this.authCredentialListener=t}setAppCheckTokenChangeListener(t){this.appCheckCredentialListener=t}verifyNotTerminated(){if(this.asyncQueue.isShuttingDown)throw new Ct(tt.FAILED_PRECONDITION,"The client has already been terminated.")}terminate(){var t=this;this.asyncQueue.enterRestrictedMode();const e=new as;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted((0,it.Z)(function*(){try{t._onlineComponents&&(yield t._onlineComponents.terminate()),t._offlineComponents&&(yield t._offlineComponents.terminate()),t.authCredentials.shutdown(),t.appCheckCredentials.shutdown(),e.resolve()}catch(i){const r=$f(i,"Failed to shutdown persistence");e.reject(r)}})),e.promise}}function Dw(n,t){return mD.apply(this,arguments)}function mD(){return mD=(0,it.Z)(function*(n,t){n.asyncQueue.verifyOperationInProgress(),Mt("FirestoreClient","Initializing OfflineComponentProvider");const e=yield n.getConfiguration();yield t.initialize(e);let i=e.initialUser;n.setCredentialChangeListener(function(){var r=(0,it.Z)(function*(s){i.isEqual(s)||(yield SM(t.localStore,s),i=s)});return function(s){return r.apply(this,arguments)}}()),t.persistence.setDatabaseDeletedListener(()=>n.terminate()),n._offlineComponents=t}),mD.apply(this,arguments)}function vD(n,t){return yD.apply(this,arguments)}function yD(){return yD=(0,it.Z)(function*(n,t){n.asyncQueue.verifyOperationInProgress();const e=yield Tw(n);Mt("FirestoreClient","Initializing OnlineComponentProvider");const i=yield n.getConfiguration();yield t.initialize(e,i),n.setCredentialChangeListener(r=>$M(t.remoteStore,r)),n.setAppCheckTokenChangeListener((r,s)=>$M(t.remoteStore,s)),n._onlineComponents=t}),yD.apply(this,arguments)}function _D(n){return"FirebaseError"===n.name?n.code===tt.FAILED_PRECONDITION||n.code===tt.UNIMPLEMENTED:!(typeof DOMException<"u"&&n instanceof DOMException)||22===n.code||20===n.code||11===n.code}function Tw(n){return bD.apply(this,arguments)}function bD(){return bD=(0,it.Z)(function*(n){if(!n._offlineComponents)if(n._uninitializedComponentsProvider){Mt("FirestoreClient","Using user provided OfflineComponentProvider");try{yield Dw(n,n._uninitializedComponentsProvider._offline)}catch(t){const e=t;if(!_D(e))throw e;ka("Error using user provided cache. Falling back to memory cache: "+e),yield Dw(n,new Py)}}else Mt("FirestoreClient","Using default OfflineComponentProvider"),yield Dw(n,new Py);return n._offlineComponents}),bD.apply(this,arguments)}function Fy(n){return Sw.apply(this,arguments)}function Sw(){return Sw=(0,it.Z)(function*(n){return n._onlineComponents||(n._uninitializedComponentsProvider?(Mt("FirestoreClient","Using user provided OnlineComponentProvider"),yield vD(n,n._uninitializedComponentsProvider._online)):(Mt("FirestoreClient","Using default OnlineComponentProvider"),yield vD(n,new Ry))),n._onlineComponents}),Sw.apply(this,arguments)}function r2(n){return Tw(n).then(t=>t.persistence)}function Aw(n){return Tw(n).then(t=>t.localStore)}function Iw(n){return Fy(n).then(t=>t.remoteStore)}function Mw(n){return Fy(n).then(t=>t.syncEngine)}function im(n){return rm.apply(this,arguments)}function rm(){return rm=(0,it.Z)(function*(n){const t=yield Fy(n),e=t.eventManager;return e.onListen=QM.bind(null,t.syncEngine),e.onUnlisten=Qg.bind(null,t.syncEngine),e}),rm.apply(this,arguments)}function xD(n,t,e={}){const i=new as;return n.asyncQueue.enqueueAndForget((0,it.Z)(function*(){return function(r,s,c,p,_){const C=new nm({next:V=>{s.enqueueAndForget(()=>My(r,M));const W=V.docs.has(c);!W&&V.fromCache?_.reject(new Ct(tt.UNAVAILABLE,"Failed to get document because the client is offline.")):W&&V.fromCache&&p&&"server"===p.source?_.reject(new Ct(tt.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):_.resolve(V)},error:V=>_.reject(V)}),M=new eD(sy(c.path),C,{includeMetadataChanges:!0,Ku:!0});return mw(r,M)}(yield im(n),n.asyncQueue,t,e,i)})),i.promise}function hk(n,t,e={}){const i=new as;return n.asyncQueue.enqueueAndForget((0,it.Z)(function*(){return function(r,s,c,p,_){const C=new nm({next:V=>{s.enqueueAndForget(()=>My(r,M)),V.fromCache&&"server"===p.source?_.reject(new Ct(tt.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):_.resolve(V)},error:V=>_.reject(V)}),M=new eD(c,C,{includeMetadataChanges:!0,Ku:!0});return mw(r,M)}(yield im(n),n.asyncQueue,t,e,i)})),i.promise}function fk(n){const t={};return void 0!==n.timeoutSeconds&&(t.timeoutSeconds=n.timeoutSeconds),t}const pk=new Map;function gk(n,t,e){if(!e)throw new Ct(tt.INVALID_ARGUMENT,`Function ${n}() cannot be called with an empty ${t}.`)}function l2(n,t,e,i){if(!0===t&&!0===i)throw new Ct(tt.INVALID_ARGUMENT,`${n} and ${e} cannot be used together.`)}function c2(n){if(!qt.isDocumentKey(n))throw new Ct(tt.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${n} has ${n.length}.`)}function u2(n){if(qt.isDocumentKey(n))throw new Ct(tt.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${n} has ${n.length}.`)}function CD(n){if(void 0===n)return"undefined";if(null===n)return"null";if("string"==typeof n)return n.length>20&&(n=`${n.substring(0,20)}...`),JSON.stringify(n);if("number"==typeof n||"boolean"==typeof n)return""+n;if("object"==typeof n){if(n instanceof Array)return"an array";{const t=(e=n).constructor?e.constructor.name:null;return t?`a custom ${t} object`:"an object"}}var e;return"function"==typeof n?"a function":sn()}function Di(n,t){if("_delegate"in n&&(n=n._delegate),!(n instanceof t)){if(t.name===n.constructor.name)throw new Ct(tt.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const e=CD(n);throw new Ct(tt.INVALID_ARGUMENT,`Expected type '${t.name}', but it was: ${e}`)}}return n}function d2(n,t){if(t<=0)throw new Ct(tt.INVALID_ARGUMENT,`Function ${n}() requires a positive number, but it was: ${t}.`)}class h2{constructor(t){var e,i;if(void 0===t.host){if(void 0!==t.ssl)throw new Ct(tt.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host="firestore.googleapis.com",this.ssl=!0}else this.host=t.host,this.ssl=null===(e=t.ssl)||void 0===e||e;if(this.credentials=t.credentials,this.ignoreUndefinedProperties=!!t.ignoreUndefinedProperties,this.cache=t.localCache,void 0===t.cacheSizeBytes)this.cacheSizeBytes=41943040;else{if(-1!==t.cacheSizeBytes&&t.cacheSizeBytes<1048576)throw new Ct(tt.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=t.cacheSizeBytes}l2("experimentalForceLongPolling",t.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",t.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!t.experimentalForceLongPolling,this.experimentalAutoDetectLongPolling=!(this.experimentalForceLongPolling||void 0!==t.experimentalAutoDetectLongPolling&&!t.experimentalAutoDetectLongPolling),this.experimentalLongPollingOptions=fk(null!==(i=t.experimentalLongPollingOptions)&&void 0!==i?i:{}),function(r){if(void 0!==r.timeoutSeconds){if(isNaN(r.timeoutSeconds))throw new Ct(tt.INVALID_ARGUMENT,`invalid long polling timeout: ${r.timeoutSeconds} (must not be NaN)`);if(r.timeoutSeconds<5)throw new Ct(tt.INVALID_ARGUMENT,`invalid long polling timeout: ${r.timeoutSeconds} (minimum allowed value is 5)`);if(r.timeoutSeconds>30)throw new Ct(tt.INVALID_ARGUMENT,`invalid long polling timeout: ${r.timeoutSeconds} (maximum allowed value is 30)`)}}(this.experimentalLongPollingOptions),this.useFetchStreams=!!t.useFetchStreams}isEqual(t){return this.host===t.host&&this.ssl===t.ssl&&this.credentials===t.credentials&&this.cacheSizeBytes===t.cacheSizeBytes&&this.experimentalForceLongPolling===t.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===t.experimentalAutoDetectLongPolling&&this.experimentalLongPollingOptions.timeoutSeconds===t.experimentalLongPollingOptions.timeoutSeconds&&this.ignoreUndefinedProperties===t.ignoreUndefinedProperties&&this.useFetchStreams===t.useFetchStreams}}class kw{constructor(t,e,i,r){this._authCredentials=t,this._appCheckCredentials=e,this._databaseId=i,this._app=r,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new h2({}),this._settingsFrozen=!1}get app(){if(!this._app)throw new Ct(tt.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return void 0!==this._terminateTask}_setSettings(t){if(this._settingsFrozen)throw new Ct(tt.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new h2(t),void 0!==t.credentials&&(this._authCredentials=function(e){if(!e)return new zV;switch(e.type){case"firstParty":return new ZP(e.sessionIndex||"0",e.iamToken||null,e.authTokenFactory||null);case"provider":return e.client;default:throw new Ct(tt.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}}(t.credentials))}_getSettings(){return this._settings}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask||(this._terminateTask=this._terminate()),this._terminateTask}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return function(t){const e=pk.get(t);e&&(Mt("ComponentProvider","Removing Datastore"),pk.delete(t),e.terminate())}(this),Promise.resolve()}}class Tr{constructor(t,e,i){this.converter=e,this._key=i,this.type="document",this.firestore=t}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new Nu(this.firestore,this.converter,this._key.path.popLast())}withConverter(t){return new Tr(this.firestore,t,this._key)}}class wo{constructor(t,e,i){this.converter=e,this._query=i,this.type="query",this.firestore=t}withConverter(t){return new wo(this.firestore,t,this._query)}}class Nu extends wo{constructor(t,e,i){super(t,e,sy(i)),this._path=i,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const t=this._path.popLast();return t.isEmpty()?null:new Tr(this.firestore,null,new qt(t))}withConverter(t){return new Nu(this.firestore,t,this._path)}}function o(n,t,...e){if(n=(0,ue.m9)(n),gk("collection","path",t),n instanceof kw){const i=xi.fromString(t,...e);return u2(i),new Nu(n,null,i)}{if(!(n instanceof Tr||n instanceof Nu))throw new Ct(tt.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const i=n._path.child(xi.fromString(t,...e));return u2(i),new Nu(n.firestore,null,i)}}function h(n,t,...e){if(n=(0,ue.m9)(n),1===arguments.length&&(t=c1.A()),gk("doc","path",t),n instanceof kw){const i=xi.fromString(t,...e);return c2(i),new Tr(n,null,new qt(i))}{if(!(n instanceof Tr||n instanceof Nu))throw new Ct(tt.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const i=n._path.child(xi.fromString(t,...e));return c2(i),new Tr(n.firestore,n instanceof Nu?n.converter:null,new qt(i))}}function g(n,t){return n=(0,ue.m9)(n),t=(0,ue.m9)(t),(n instanceof Tr||n instanceof Nu)&&(t instanceof Tr||t instanceof Nu)&&n.firestore===t.firestore&&n.path===t.path&&n.converter===t.converter}function b(n,t){return n=(0,ue.m9)(n),t=(0,ue.m9)(t),n instanceof wo&&t instanceof wo&&n.firestore===t.firestore&&to(n._query,t._query)&&n.converter===t.converter}class E{constructor(){this.Gc=Promise.resolve(),this.Qc=[],this.jc=!1,this.zc=[],this.Wc=null,this.Hc=!1,this.Jc=!1,this.Yc=[],this.qo=new LM(this,"async_queue_retry"),this.Xc=()=>{const e=VE();e&&Mt("AsyncQueue","Visibility state changed to "+e.visibilityState),this.qo.Mo()};const t=VE();t&&"function"==typeof t.addEventListener&&t.addEventListener("visibilitychange",this.Xc)}get isShuttingDown(){return this.jc}enqueueAndForget(t){this.enqueue(t)}enqueueAndForgetEvenWhileRestricted(t){this.Zc(),this.ta(t)}enterRestrictedMode(t){if(!this.jc){this.jc=!0,this.Jc=t||!1;const e=VE();e&&"function"==typeof e.removeEventListener&&e.removeEventListener("visibilitychange",this.Xc)}}enqueue(t){if(this.Zc(),this.jc)return new Promise(()=>{});const e=new as;return this.ta(()=>this.jc&&this.Jc?Promise.resolve():(t().then(e.resolve,e.reject),e.promise)).then(()=>e.promise)}enqueueRetryable(t){this.enqueueAndForget(()=>(this.Qc.push(t),this.ea()))}ea(){var t=this;return(0,it.Z)(function*(){if(0!==t.Qc.length){try{yield t.Qc[0](),t.Qc.shift(),t.qo.reset()}catch(e){if(!xu(e))throw e;Mt("AsyncQueue","Operation failed with retryable error: "+e)}t.Qc.length>0&&t.qo.No(()=>t.ea())}})()}ta(t){const e=this.Gc.then(()=>(this.Hc=!0,t().catch(i=>{throw this.Wc=i,this.Hc=!1,xr("INTERNAL UNHANDLED ERROR: ",function(s){let c=s.message||"";return s.stack&&(c=s.stack.includes(s.message)?s.stack:s.message+"\n"+s.stack),c}(i)),i}).then(i=>(this.Hc=!1,i))));return this.Gc=e,e}enqueueAfterDelay(t,e,i){this.Zc(),this.Yc.indexOf(t)>-1&&(e=0);const r=gw.createAndSchedule(this,t,e,i,s=>this.na(s));return this.zc.push(r),r}Zc(){this.Wc&&sn()}verifyOperationInProgress(){}sa(){var t=this;return(0,it.Z)(function*(){let e;do{e=t.Gc,yield e}while(e!==t.Gc)})()}ia(t){for(const e of this.zc)if(e.timerId===t)return!0;return!1}ra(t){return this.sa().then(()=>{this.zc.sort((e,i)=>e.targetTimeMs-i.targetTimeMs);for(const e of this.zc)if(e.skipDelay(),"all"!==t&&e.timerId===t)break;return this.sa()})}oa(t){this.Yc.push(t)}na(t){const e=this.zc.indexOf(t);this.zc.splice(e,1)}}function k(n){return function(t,e){if("object"!=typeof t||null===t)return!1;const i=t;for(const r of["next","error","complete"])if(r in i&&"function"==typeof i[r])return!0;return!1}(n)}class B{constructor(){this._progressObserver={},this._taskCompletionResolver=new as,this._lastProgress={taskState:"Running",totalBytes:0,totalDocuments:0,bytesLoaded:0,documentsLoaded:0}}onProgress(t,e,i){this._progressObserver={next:t,error:e,complete:i}}catch(t){return this._taskCompletionResolver.promise.catch(t)}then(t,e){return this._taskCompletionResolver.promise.then(t,e)}_completeWith(t){this._updateProgress(t),this._progressObserver.complete&&this._progressObserver.complete(),this._taskCompletionResolver.resolve(t)}_failWith(t){this._lastProgress.taskState="Error",this._progressObserver.next&&this._progressObserver.next(this._lastProgress),this._progressObserver.error&&this._progressObserver.error(t),this._taskCompletionResolver.reject(t)}_updateProgress(t){this._lastProgress=t,this._progressObserver.next&&this._progressObserver.next(t)}}class X extends kw{constructor(t,e,i,r){super(t,e,i,r),this.type="firestore",this._queue=new E,this._persistenceKey=r?.name||"[DEFAULT]"}_terminate(){return this._firestoreClient||Ue(this),this._firestoreClient.terminate()}}function Se(n){return n._firestoreClient||Ue(n),n._firestoreClient.verifyNotTerminated(),n._firestoreClient}function Ue(n){var t,e,i;const r=n._freezeSettings(),s=(p=(null===(t=n._app)||void 0===t?void 0:t.options.appId)||"",new aR(n._databaseId,p,n._persistenceKey,(C=r).host,C.ssl,C.experimentalForceLongPolling,C.experimentalAutoDetectLongPolling,fk(C.experimentalLongPollingOptions),C.useFetchStreams));var p,C;n._firestoreClient=new oH(n._authCredentials,n._appCheckCredentials,n._queue,s),null!==(e=r.cache)&&void 0!==e&&e._offlineComponentProvider&&null!==(i=r.cache)&&void 0!==i&&i._onlineComponentProvider&&(n._firestoreClient._uninitializedComponentsProvider={_offlineKind:r.cache.kind,_offline:r.cache._offlineComponentProvider,_online:r.cache._onlineComponentProvider})}function Qt(n,t,e){const i=new as;return n.asyncQueue.enqueue((0,it.Z)(function*(){try{yield Dw(n,e),yield vD(n,t),i.resolve()}catch(r){const s=r;if(!_D(s))throw s;ka("Error enabling indexeddb cache. Falling back to memory cache: "+s),i.reject(s)}})).then(()=>i.promise)}function qf(n){if(n._initialized||n._terminated)throw new Ct(tt.FAILED_PRECONDITION,"Firestore has already been started and persistence can no longer be enabled. You can only enable persistence before calling any other methods on a Firestore object.")}class Ic{constructor(t){this._byteString=t}static fromBase64String(t){try{return new Ic(Is.fromBase64String(t))}catch(e){throw new Ct(tt.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+e)}}static fromUint8Array(t){return new Ic(Is.fromUint8Array(t))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(t){return this._byteString.isEqual(t._byteString)}}class Xf{constructor(...t){for(let e=0;e<t.length;++e)if(0===t[e].length)throw new Ct(tt.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new Cr(t)}isEqual(t){return this._internalPath.isEqual(t._internalPath)}}class Ly{constructor(t){this._methodName=t}}class mk{constructor(t,e){if(!isFinite(t)||t<-90||t>90)throw new Ct(tt.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+t);if(!isFinite(e)||e<-180||e>180)throw new Ct(tt.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+e);this._lat=t,this._long=e}get latitude(){return this._lat}get longitude(){return this._long}isEqual(t){return this._lat===t._lat&&this._long===t._long}toJSON(){return{latitude:this._lat,longitude:this._long}}_compareTo(t){return jn(this._lat,t._lat)||jn(this._long,t._long)}}const _5=/^__.*__$/;class b5{constructor(t,e,i){this.data=t,this.fieldMask=e,this.fieldTransforms=i}toMutation(t,e){return null!==this.fieldMask?new Mu(t,this.data,this.fieldMask,e,this.fieldTransforms):new dy(t,this.data,e,this.fieldTransforms)}}class dH{constructor(t,e,i){this.data=t,this.fieldMask=e,this.fieldTransforms=i}toMutation(t,e){return new Mu(t,this.data,this.fieldMask,e,this.fieldTransforms)}}function hH(n){switch(n){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw sn()}}class vk{constructor(t,e,i,r,s,c){this.settings=t,this.databaseId=e,this.serializer=i,this.ignoreUndefinedProperties=r,void 0===s&&this.ua(),this.fieldTransforms=s||[],this.fieldMask=c||[]}get path(){return this.settings.path}get ca(){return this.settings.ca}aa(t){return new vk(Object.assign(Object.assign({},this.settings),t),this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}ha(t){var e;const i=null===(e=this.path)||void 0===e?void 0:e.child(t),r=this.aa({path:i,la:!1});return r.fa(t),r}da(t){var e;const i=null===(e=this.path)||void 0===e?void 0:e.child(t),r=this.aa({path:i,la:!1});return r.ua(),r}wa(t){return this.aa({path:void 0,la:!0})}_a(t){return bk(t,this.settings.methodName,this.settings.ma||!1,this.path,this.settings.ga)}contains(t){return void 0!==this.fieldMask.find(e=>t.isPrefixOf(e))||void 0!==this.fieldTransforms.find(e=>t.isPrefixOf(e.field))}ua(){if(this.path)for(let t=0;t<this.path.length;t++)this.fa(this.path.get(t))}fa(t){if(0===t.length)throw this._a("Document fields must not be empty");if(hH(this.ca)&&_5.test(t))throw this._a('Document fields cannot begin and end with "__"')}}class w5{constructor(t,e,i){this.databaseId=t,this.ignoreUndefinedProperties=e,this.serializer=i||Yg(t)}ya(t,e,i,r=!1){return new vk({ca:t,methodName:e,ga:i,path:Cr.emptyPath(),la:!1,ma:r},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function By(n){const t=n._freezeSettings(),e=Yg(n._databaseId);return new w5(n._databaseId,!!t.ignoreUndefinedProperties,e)}function yk(n,t,e,i,r,s={}){const c=n.ya(s.merge||s.mergeFields?2:0,t,e,r);y2("Data must be an object, but it was:",c,i);const p=gH(i,c);let _,C;if(s.merge)_=new Yr(c.fieldMask),C=c.fieldTransforms;else if(s.mergeFields){const M=[];for(const V of s.mergeFields){const W=DD(t,V,e);if(!c.contains(W))throw new Ct(tt.INVALID_ARGUMENT,`Field '${W}' is specified in your field mask but missing from your input data.`);vH(M,W)||M.push(W)}_=new Yr(M),C=c.fieldTransforms.filter(V=>_.covers(V.field))}else _=null,C=c.fieldTransforms;return new b5(new _o(p),_,C)}class ED extends Ly{_toFieldTransform(t){if(2!==t.ca)throw t._a(1===t.ca?`${this._methodName}() can only appear at the top level of your update data`:`${this._methodName}() cannot be used with set() unless you pass {merge:true}`);return t.fieldMask.push(t.path),null}isEqual(t){return t instanceof ED}}function fH(n,t,e){return new vk({ca:3,ga:t.settings.ga,methodName:n._methodName,la:e},t.databaseId,t.serializer,t.ignoreUndefinedProperties)}class g2 extends Ly{_toFieldTransform(t){return new A0(t.path,new Nf)}isEqual(t){return t instanceof g2}}class x5 extends Ly{constructor(t,e){super(t),this.pa=e}_toFieldTransform(t){const e=fH(this,t,!0),i=this.pa.map(s=>Vy(s,e)),r=new Pf(i);return new A0(t.path,r)}isEqual(t){return this===t}}class C5 extends Ly{constructor(t,e){super(t),this.pa=e}_toFieldTransform(t){const e=fH(this,t,!0),i=this.pa.map(s=>Vy(s,e)),r=new Rf(i);return new A0(t.path,r)}isEqual(t){return this===t}}class E5 extends Ly{constructor(t,e){super(t),this.Ia=e}_toFieldTransform(t){const e=new ly(t.serializer,RI(t.serializer,this.Ia));return new A0(t.path,e)}isEqual(t){return this===t}}function m2(n,t,e,i){const r=n.ya(1,t,e);y2("Data must be an object, but it was:",r,i);const s=[],c=_o.empty();zd(i,(_,C)=>{const M=_k(t,_,e);C=(0,ue.m9)(C);const V=r.da(M);if(C instanceof ED)s.push(M);else{const W=Vy(C,V);null!=W&&(s.push(M),c.set(M,W))}});const p=new Yr(s);return new dH(c,p,r.fieldTransforms)}function v2(n,t,e,i,r,s){const c=n.ya(1,t,e),p=[DD(t,i,e)],_=[r];if(s.length%2!=0)throw new Ct(tt.INVALID_ARGUMENT,`Function ${t}() needs to be called with an even number of arguments that alternate between field names and values.`);for(let W=0;W<s.length;W+=2)p.push(DD(t,s[W])),_.push(s[W+1]);const C=[],M=_o.empty();for(let W=p.length-1;W>=0;--W)if(!vH(C,p[W])){const K=p[W];let oe=_[W];oe=(0,ue.m9)(oe);const ae=c.da(K);if(oe instanceof ED)C.push(K);else{const fe=Vy(oe,ae);null!=fe&&(C.push(K),M.set(K,fe))}}const V=new Yr(C);return new dH(M,V,c.fieldTransforms)}function pH(n,t,e,i=!1){return Vy(e,n.ya(i?4:3,t))}function Vy(n,t){if(mH(n=(0,ue.m9)(n)))return y2("Unsupported field value:",t,n),gH(n,t);if(n instanceof Ly)return function(e,i){if(!hH(i.ca))throw i._a(`${e._methodName}() can only be used with update() and set()`);if(!i.path)throw i._a(`${e._methodName}() is not currently supported inside arrays`);const r=e._toFieldTransform(i);r&&i.fieldTransforms.push(r)}(n,t),null;if(void 0===n&&t.ignoreUndefinedProperties)return null;if(t.path&&t.fieldMask.push(t.path),n instanceof Array){if(t.settings.la&&4!==t.ca)throw t._a("Nested arrays are not supported");return function(e,i){const r=[];let s=0;for(const c of e){let p=Vy(c,i.wa(s));null==p&&(p={nullValue:"NULL_VALUE"}),r.push(p),s++}return{arrayValue:{values:r}}}(n,t)}return function(e,i){if(null===(e=(0,ue.m9)(e)))return{nullValue:"NULL_VALUE"};if("number"==typeof e)return RI(i.serializer,e);if("boolean"==typeof e)return{booleanValue:e};if("string"==typeof e)return{stringValue:e};if(e instanceof Date){const r=Pr.fromDate(e);return{timestampValue:Fg(i.serializer,r)}}if(e instanceof Pr){const r=new Pr(e.seconds,1e3*Math.floor(e.nanoseconds/1e3));return{timestampValue:Fg(i.serializer,r)}}if(e instanceof mk)return{geoPointValue:{latitude:e.latitude,longitude:e.longitude}};if(e instanceof Ic)return{bytesValue:KI(i.serializer,e._byteString)};if(e instanceof Tr){const r=i.databaseId,s=e.firestore._databaseId;if(!s.isEqual(r))throw i._a(`Document reference is for database ${s.projectId}/${s.database} but should be for database ${r.projectId}/${r.database}`);return{referenceValue:B0(e.firestore._databaseId||i.databaseId,e._key.path)}}throw i._a(`Unsupported field value: ${CD(e)}`)}(n,t)}function gH(n,t){const e={};return E1(n)?t.path&&t.path.length>0&&t.fieldMask.push(t.path):zd(n,(i,r)=>{const s=Vy(r,t.ha(i));null!=s&&(e[i]=s)}),{mapValue:{fields:e}}}function mH(n){return!("object"!=typeof n||null===n||n instanceof Array||n instanceof Date||n instanceof Pr||n instanceof mk||n instanceof Ic||n instanceof Tr||n instanceof Ly)}function y2(n,t,e){if(!mH(e)||"object"!=typeof(i=e)||null===i||Object.getPrototypeOf(i)!==Object.prototype&&null!==Object.getPrototypeOf(i)){const i=CD(e);throw t._a("an object"===i?n+" a custom object":n+" "+i)}var i}function DD(n,t,e){if((t=(0,ue.m9)(t))instanceof Xf)return t._internalPath;if("string"==typeof t)return _k(n,t);throw bk("Field path arguments must be of type string or ",n,!1,void 0,e)}const D5=new RegExp("[~\\*/\\[\\]]");function _k(n,t,e){if(t.search(D5)>=0)throw bk(`Invalid field path (${t}). Paths must not contain '~', '*', '/', '[', or ']'`,n,!1,void 0,e);try{return new Xf(...t.split("."))._internalPath}catch{throw bk(`Invalid field path (${t}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,n,!1,void 0,e)}}function bk(n,t,e,i,r){const s=i&&!i.isEmpty(),c=void 0!==r;let p=`Function ${t}() called with invalid data`;e&&(p+=" (via `toFirestore()`)"),p+=". ";let _="";return(s||c)&&(_+=" (found",s&&(_+=` in field ${i}`),c&&(_+=` in document ${r}`),_+=")"),new Ct(tt.INVALID_ARGUMENT,p+n+_)}function vH(n,t){return n.some(e=>e.isEqual(t))}class TD{constructor(t,e,i,r,s){this._firestore=t,this._userDataWriter=e,this._key=i,this._document=r,this._converter=s}get id(){return this._key.path.lastSegment()}get ref(){return new Tr(this._firestore,this._converter,this._key)}exists(){return null!==this._document}data(){if(this._document){if(this._converter){const t=new T5(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(t)}return this._userDataWriter.convertValue(this._document.data.value)}}get(t){if(this._document){const e=this._document.data.field(wk("DocumentSnapshot.get",t));if(null!==e)return this._userDataWriter.convertValue(e)}}}class T5 extends TD{data(){return super.data()}}function wk(n,t){return"string"==typeof t?_k(n,t):t instanceof Xf?t._internalPath:t._delegate._internalPath}function yH(n){if("L"===n.limitType&&0===n.explicitOrderBy.length)throw new Ct(tt.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class _2{}class SD extends _2{}function sm(n,t,...e){let i=[];t instanceof _2&&i.push(t),i=i.concat(e),function(r){const s=r.filter(p=>p instanceof Ow).length,c=r.filter(p=>p instanceof AD).length;if(s>1||s>0&&c>0)throw new Ct(tt.INVALID_ARGUMENT,"InvalidQuery. When using composite filters, you cannot use more than one filter at the top level. Consider nesting the multiple filters within an `and(...)` statement. For example: change `query(query, where(...), or(...))` to `query(query, and(where(...), or(...)))`.")}(i);for(const r of i)n=r._apply(n);return n}class AD extends SD{constructor(t,e,i){super(),this._field=t,this._op=e,this._value=i,this.type="where"}static _create(t,e,i){return new AD(t,e,i)}_apply(t){const e=this._parse(t);return xH(t._query,e),new wo(t.firestore,t.converter,Mg(t._query,e))}_parse(t){const e=By(t.firestore);return function(r,s,c,p,_,C,M){let V;if(_.isKeyField()){if("array-contains"===C||"array-contains-any"===C)throw new Ct(tt.INVALID_ARGUMENT,`Invalid Query. You can't perform '${C}' queries on documentId().`);if("in"===C||"not-in"===C){wH(M,C);const W=[];for(const K of M)W.push(bH(p,r,K));V={arrayValue:{values:W}}}else V=bH(p,r,M)}else"in"!==C&&"not-in"!==C&&"array-contains-any"!==C||wH(M,C),V=pH(c,"where",M,"in"===C||"not-in"===C);return Ci.create(_,C,V)}(t._query,0,e,t.firestore._databaseId,this._field,this._op,this._value)}}class Ow extends _2{constructor(t,e){super(),this.type=t,this._queryConstraints=e}static _create(t,e){return new Ow(t,e)}_parse(t){const e=this._queryConstraints.map(i=>i._parse(t)).filter(i=>i.getFilters().length>0);return 1===e.length?e[0]:Ji.create(e,this._getOperator())}_apply(t){const e=this._parse(t);return 0===e.getFilters().length?t:(function(i,r){let s=i;const c=r.getFlattenedFilters();for(const p of c)xH(s,p),s=Mg(s,p)}(t._query,e),new wo(t.firestore,t.converter,Mg(t._query,e)))}_getQueryConstraints(){return this._queryConstraints}_getOperator(){return"and"===this.type?"and":"or"}}class b2 extends SD{constructor(t,e){super(),this._field=t,this._direction=e,this.type="orderBy"}static _create(t,e){return new b2(t,e)}_apply(t){const e=function(i,r,s){if(null!==i.startAt)throw new Ct(tt.INVALID_ARGUMENT,"Invalid query. You must not call startAt() or startAfter() before calling orderBy().");if(null!==i.endAt)throw new Ct(tt.INVALID_ARGUMENT,"Invalid query. You must not call endAt() or endBefore() before calling orderBy().");const c=new Ag(r,s);return function(p,_){if(null===V1(p)){const C=E0(p);null!==C&&CH(0,C,_.field)}}(i,c),c}(t._query,this._field,this._direction);return new wo(t.firestore,t.converter,function(i,r){const s=i.explicitOrderBy.concat([r]);return new Ec(i.path,i.collectionGroup,s,i.filters.slice(),i.limit,i.limitType,i.startAt,i.endAt)}(t._query,e))}}class xk extends SD{constructor(t,e,i){super(),this.type=t,this._limit=e,this._limitType=i}static _create(t,e,i){return new xk(t,e,i)}_apply(t){return new wo(t.firestore,t.converter,Of(t._query,this._limit,this._limitType))}}class Ck extends SD{constructor(t,e,i){super(),this.type=t,this._docOrFields=e,this._inclusive=i}static _create(t,e,i){return new Ck(t,e,i)}_apply(t){const e=_H(t,this.type,this._docOrFields,this._inclusive);return new wo(t.firestore,t.converter,(r=e,new Ec((i=t._query).path,i.collectionGroup,i.explicitOrderBy.slice(),i.filters.slice(),i.limit,i.limitType,r,i.endAt)));var i,r}}class Ek extends SD{constructor(t,e,i){super(),this.type=t,this._docOrFields=e,this._inclusive=i}static _create(t,e,i){return new Ek(t,e,i)}_apply(t){const e=_H(t,this.type,this._docOrFields,this._inclusive);return new wo(t.firestore,t.converter,(r=e,new Ec((i=t._query).path,i.collectionGroup,i.explicitOrderBy.slice(),i.filters.slice(),i.limit,i.limitType,i.startAt,r)));var i,r}}function _H(n,t,e,i){if(e[0]=(0,ue.m9)(e[0]),e[0]instanceof TD)return function(r,s,c,p,_){if(!p)throw new Ct(tt.NOT_FOUND,`Can't use a DocumentSnapshot that doesn't exist for ${c}().`);const C=[];for(const M of nl(r))if(M.field.isKeyField())C.push(If(s,p.key));else{const V=p.data.field(M.field);if(v0(V))throw new Ct(tt.INVALID_ARGUMENT,'Invalid query. You are trying to start or end a query using a document for which the field "'+M.field+'" is an uncommitted server timestamp. (Since the value of this field is unknown, you cannot start/end a query with it.)');if(null===V){const W=M.field.canonicalString();throw new Ct(tt.INVALID_ARGUMENT,`Invalid query. You are trying to start or end a query using a document for which the field '${W}' (used as the orderBy) does not exist.`)}C.push(V)}return new qd(C,_)}(n._query,n.firestore._databaseId,t,e[0]._document,i);{const r=By(n.firestore);return function(s,c,p,_,C,M){const V=s.explicitOrderBy;if(C.length>V.length)throw new Ct(tt.INVALID_ARGUMENT,`Too many arguments provided to ${_}(). The number of arguments must be less than or equal to the number of orderBy() clauses`);const W=[];for(let K=0;K<C.length;K++){const oe=C[K];if(V[K].field.isKeyField()){if("string"!=typeof oe)throw new Ct(tt.INVALID_ARGUMENT,`Invalid query. Expected a string for document ID in ${_}(), but got a ${typeof oe}`);if(!H1(s)&&-1!==oe.indexOf("/"))throw new Ct(tt.INVALID_ARGUMENT,`Invalid query. When querying a collection and ordering by documentId(), the value passed to ${_}() must be a plain document ID, but '${oe}' contains a slash.`);const ae=s.path.child(xi.fromString(oe));if(!qt.isDocumentKey(ae))throw new Ct(tt.INVALID_ARGUMENT,`Invalid query. When querying a collection group and ordering by documentId(), the value passed to ${_}() must result in a valid document path, but '${ae}' is not because it contains an odd number of segments.`);const fe=new qt(ae);W.push(If(c,fe))}else{const ae=pH(p,_,oe);W.push(ae)}}return new qd(W,M)}(n._query,n.firestore._databaseId,r,t,e,i)}}function bH(n,t,e){if("string"==typeof(e=(0,ue.m9)(e))){if(""===e)throw new Ct(tt.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid document ID, but it was an empty string.");if(!H1(t)&&-1!==e.indexOf("/"))throw new Ct(tt.INVALID_ARGUMENT,`Invalid query. When querying a collection by documentId(), you must provide a plain document ID, but '${e}' contains a '/' character.`);const i=t.path.child(xi.fromString(e));if(!qt.isDocumentKey(i))throw new Ct(tt.INVALID_ARGUMENT,`Invalid query. When querying a collection group by documentId(), the value provided must result in a valid document path, but '${i}' is not because it has an odd number of segments (${i.length}).`);return If(n,new qt(i))}if(e instanceof Tr)return If(n,e._key);throw new Ct(tt.INVALID_ARGUMENT,`Invalid query. When querying with documentId(), you must provide a valid string or a DocumentReference, but it was: ${CD(e)}.`)}function wH(n,t){if(!Array.isArray(n)||0===n.length)throw new Ct(tt.INVALID_ARGUMENT,`Invalid Query. A non-empty array is required for '${t.toString()}' filters.`)}function xH(n,t){if(t.isInequality()){const i=E0(n),r=t.field;if(null!==i&&!i.isEqual(r))throw new Ct(tt.INVALID_ARGUMENT,`Invalid query. All where filters with an inequality (<, <=, !=, not-in, >, or >=) must be on the same field. But you have inequality filters on '${i.toString()}' and '${r.toString()}'`);const s=V1(n);null!==s&&CH(0,r,s)}const e=function(i,r){for(const s of i)for(const c of s.getFlattenedFilters())if(r.indexOf(c.op)>=0)return c.op;return null}(n.filters,function(i){switch(i){case"!=":return["!=","not-in"];case"array-contains-any":case"in":return["not-in"];case"not-in":return["array-contains-any","in","not-in","!="];default:return[]}}(t.op));if(null!==e)throw new Ct(tt.INVALID_ARGUMENT,e===t.op?`Invalid query. You cannot use more than one '${t.op.toString()}' filter.`:`Invalid query. You cannot use '${t.op.toString()}' filters with '${e.toString()}' filters.`)}function CH(n,t,e){if(!e.isEqual(t))throw new Ct(tt.INVALID_ARGUMENT,`Invalid query. You have a where filter with an inequality (<, <=, !=, not-in, >, or >=) on field '${t.toString()}' and so you must also use '${t.toString()}' as your first argument to orderBy(), but your first orderBy() is on field '${e.toString()}' instead.`)}class w2{convertValue(t,e="none"){switch(Su(t)){case 0:return null;case 1:return t.booleanValue;case 2:return ls(t.integerValue||t.doubleValue);case 3:return this.convertTimestamp(t.timestampValue);case 4:return this.convertServerTimestamp(t,e);case 5:return t.stringValue;case 6:return this.convertBytes(Eu(t.bytesValue));case 7:return this.convertReference(t.referenceValue);case 8:return this.convertGeoPoint(t.geoPointValue);case 9:return this.convertArray(t.arrayValue,e);case 10:return this.convertObject(t.mapValue,e);default:throw sn()}}convertObject(t,e){return this.convertObjectMap(t.fields,e)}convertObjectMap(t,e="none"){const i={};return zd(t,(r,s)=>{i[r]=this.convertValue(s,e)}),i}convertGeoPoint(t){return new mk(ls(t.latitude),ls(t.longitude))}convertArray(t,e){return(t.values||[]).map(i=>this.convertValue(i,e))}convertServerTimestamp(t,e){switch(e){case"previous":const i=Tg(t);return null==i?null:this.convertValue(i,e);case"estimate":return this.convertTimestamp(Du(t));default:return null}}convertTimestamp(t){const e=jd(t);return new Pr(e.seconds,e.nanos)}convertDocumentKey(t,e){const i=xi.fromString(t);_n(aE(i));const r=new Tu(i.get(1),i.get(3)),s=new qt(i.popFirst(5));return r.isEqual(e)||xr(`Document ${s} contains a document reference within a different database (${r.projectId}/${r.database}) which is not supported. It will be treated as a reference in the current database (${e.projectId}/${e.database}) instead.`),s}}function Dk(n,t,e){let i;return i=n?e&&(e.merge||e.mergeFields)?n.toFirestore(t,e):n.toFirestore(t):t,i}class R5 extends w2{constructor(t){super(),this.firestore=t}convertBytes(t){return new Ic(t)}convertReference(t){const e=this.convertDocumentKey(t,this.firestore._databaseId);return new Tr(this.firestore,null,e)}}class Hy{constructor(t,e){this.hasPendingWrites=t,this.fromCache=e}isEqual(t){return this.hasPendingWrites===t.hasPendingWrites&&this.fromCache===t.fromCache}}class Kf extends TD{constructor(t,e,i,r,s,c){super(t,e,i,r,c),this._firestore=t,this._firestoreImpl=t,this.metadata=s}exists(){return super.exists()}data(t={}){if(this._document){if(this._converter){const e=new ID(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(e,t)}return this._userDataWriter.convertValue(this._document.data.value,t.serverTimestamps)}}get(t,e={}){if(this._document){const i=this._document.data.field(wk("DocumentSnapshot.get",t));if(null!==i)return this._userDataWriter.convertValue(i,e.serverTimestamps)}}}class ID extends Kf{data(t={}){return super.data(t)}}class om{constructor(t,e,i,r){this._firestore=t,this._userDataWriter=e,this._snapshot=r,this.metadata=new Hy(r.hasPendingWrites,r.fromCache),this.query=i}get docs(){const t=[];return this.forEach(e=>t.push(e)),t}get size(){return this._snapshot.docs.size}get empty(){return 0===this.size}forEach(t,e){this._snapshot.docs.forEach(i=>{t.call(e,new ID(this._firestore,this._userDataWriter,i.key,i,new Hy(this._snapshot.mutatedKeys.has(i.key),this._snapshot.fromCache),this.query.converter))})}docChanges(t={}){const e=!!t.includeMetadataChanges;if(e&&this._snapshot.excludesMetadataChanges)throw new Ct(tt.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===e||(this._cachedChanges=function(i,r){if(i._snapshot.oldDocs.isEmpty()){let s=0;return i._snapshot.docChanges.map(c=>({type:"added",doc:new ID(i._firestore,i._userDataWriter,c.doc.key,c.doc,new Hy(i._snapshot.mutatedKeys.has(c.doc.key),i._snapshot.fromCache),i.query.converter),oldIndex:-1,newIndex:s++}))}{let s=i._snapshot.oldDocs;return i._snapshot.docChanges.filter(c=>r||3!==c.type).map(c=>{const p=new ID(i._firestore,i._userDataWriter,c.doc.key,c.doc,new Hy(i._snapshot.mutatedKeys.has(c.doc.key),i._snapshot.fromCache),i.query.converter);let _=-1,C=-1;return 0!==c.type&&(_=s.indexOf(c.doc.key),s=s.delete(c.doc.key)),1!==c.type&&(s=s.add(c.doc),C=s.indexOf(c.doc.key)),{type:L5(c.type),doc:p,oldIndex:_,newIndex:C}})}}(this,e),this._cachedChangesIncludeMetadataChanges=e),this._cachedChanges}}function L5(n){switch(n){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return sn()}}function DH(n,t){return n instanceof Kf&&t instanceof Kf?n._firestore===t._firestore&&n._key.isEqual(t._key)&&(null===n._document?null===t._document:n._document.isEqual(t._document))&&n._converter===t._converter:n instanceof om&&t instanceof om&&n._firestore===t._firestore&&b(n.query,t.query)&&n.metadata.isEqual(t.metadata)&&n._snapshot.isEqual(t._snapshot)}class am extends w2{constructor(t){super(),this.firestore=t}convertBytes(t){return new Ic(t)}convertReference(t){const e=this.convertDocumentKey(t,this.firestore._databaseId);return new Tr(this.firestore,null,e)}}function TH(n,t,e){n=Di(n,Tr);const i=Di(n.firestore,X),r=Dk(n.converter,t,e);return Nw(i,[yk(By(i),"setDoc",n._key,r,null!==n.converter,e).toMutation(n._key,Rr.none())])}function SH(n,t,e,...i){n=Di(n,Tr);const r=Di(n.firestore,X),s=By(r);let c;return c="string"==typeof(t=(0,ue.m9)(t))||t instanceof Xf?v2(s,"updateDoc",n._key,t,e,i):m2(s,"updateDoc",n._key,t),Nw(r,[c.toMutation(n._key,Rr.exists(!0))])}function AH(n,...t){var e,i,r;n=(0,ue.m9)(n);let s={includeMetadataChanges:!1},c=0;"object"!=typeof t[c]||k(t[c])||(s=t[c],c++);const p={includeMetadataChanges:s.includeMetadataChanges};if(k(t[c])){const V=t[c];t[c]=null===(e=V.next)||void 0===e?void 0:e.bind(V),t[c+1]=null===(i=V.error)||void 0===i?void 0:i.bind(V),t[c+2]=null===(r=V.complete)||void 0===r?void 0:r.bind(V)}let _,C,M;if(n instanceof Tr)C=Di(n.firestore,X),M=sy(n._key.path),_={next:V=>{t[c]&&t[c](x2(C,n,V))},error:t[c+1],complete:t[c+2]};else{const V=Di(n,wo);C=Di(V.firestore,X),M=V._query;const W=new am(C);_={next:K=>{t[c]&&t[c](new om(C,W,V,K))},error:t[c+1],complete:t[c+2]},yH(n._query)}return function(V,W,K,oe){const ae=new nm(oe),fe=new eD(W,ae,K);return V.asyncQueue.enqueueAndForget((0,it.Z)(function*(){return mw(yield im(V),fe)})),()=>{ae.Dc(),V.asyncQueue.enqueueAndForget((0,it.Z)(function*(){return My(yield im(V),fe)}))}}(Se(C),M,p,_)}function Nw(n,t){return function(e,i){const r=new as;return e.asyncQueue.enqueueAndForget((0,it.Z)(function*(){return function JM(n,t,e){return _w.apply(this,arguments)}(yield Mw(e),i,r)})),r.promise}(Se(n),t)}function x2(n,t,e){const i=e.docs.get(t._key),r=new am(n);return new Kf(n,r,t._key,i,new Hy(e.hasPendingWrites,e.fromCache),t.converter)}const t$={maxAttempts:5};class IH{constructor(t,e){this._firestore=t,this._commitHandler=e,this._mutations=[],this._committed=!1,this._dataReader=By(t)}set(t,e,i){this._verifyNotCommitted();const r=lm(t,this._firestore),s=Dk(r.converter,e,i),c=yk(this._dataReader,"WriteBatch.set",r._key,s,null!==r.converter,i);return this._mutations.push(c.toMutation(r._key,Rr.none())),this}update(t,e,i,...r){this._verifyNotCommitted();const s=lm(t,this._firestore);let c;return c="string"==typeof(e=(0,ue.m9)(e))||e instanceof Xf?v2(this._dataReader,"WriteBatch.update",s._key,e,i,r):m2(this._dataReader,"WriteBatch.update",s._key,e),this._mutations.push(c.toMutation(s._key,Rr.exists(!0))),this}delete(t){this._verifyNotCommitted();const e=lm(t,this._firestore);return this._mutations=this._mutations.concat(new Sc(e._key,Rr.none())),this}commit(){return this._verifyNotCommitted(),this._committed=!0,this._mutations.length>0?this._commitHandler(this._mutations):Promise.resolve()}_verifyNotCommitted(){if(this._committed)throw new Ct(tt.FAILED_PRECONDITION,"A write batch can no longer be used after commit() has been called.")}}function lm(n,t){if((n=(0,ue.m9)(n)).firestore!==t)throw new Ct(tt.INVALID_ARGUMENT,"Provided document reference is from a different Firestore instance.");return n}class n$ extends class{constructor(t,e){this._firestore=t,this._transaction=e,this._dataReader=By(t)}get(t){const e=lm(t,this._firestore),i=new R5(this._firestore);return this._transaction.lookup([e._key]).then(r=>{if(!r||1!==r.length)return sn();const s=r[0];if(s.isFoundDocument())return new TD(this._firestore,i,s.key,s,e.converter);if(s.isNoDocument())return new TD(this._firestore,i,e._key,null,e.converter);throw sn()})}set(t,e,i){const r=lm(t,this._firestore),s=Dk(r.converter,e,i),c=yk(this._dataReader,"Transaction.set",r._key,s,null!==r.converter,i);return this._transaction.set(r._key,c),this}update(t,e,i,...r){const s=lm(t,this._firestore);let c;return c="string"==typeof(e=(0,ue.m9)(e))||e instanceof Xf?v2(this._dataReader,"Transaction.update",s._key,e,i,r):m2(this._dataReader,"Transaction.update",s._key,e),this._transaction.update(s._key,c),this}delete(t){const e=lm(t,this._firestore);return this._transaction.delete(e._key),this}}{constructor(t,e){super(t,e),this._firestore=t}get(t){const e=lm(t,this._firestore),i=new am(this._firestore);return super.get(t).then(r=>new Kf(this._firestore,i,e._key,r._document,new Hy(!1,!1),e.converter))}}function C2(n,t){if(void 0===t)return{merge:!1};if(void 0!==t.mergeFields&&void 0!==t.merge)throw new Ct("invalid-argument",`Invalid options passed to function ${n}(): You cannot specify both "merge" and "mergeFields".`);return t}function kH(){if(typeof Uint8Array>"u")throw new Ct("unimplemented","Uint8Arrays are not available in this environment.")}function OH(){if(!function Pl(){return typeof atob<"u"}())throw new Ct("unimplemented","Blobs are unavailable in Firestore in this environment.")}!function(n,t=!0){Vd=kd.SDK_VERSION,(0,kd._registerComponent)(new os.wA("firestore",(e,{instanceIdentifier:i,options:r})=>{const s=e.getProvider("app").getImmediate(),c=new X(new qP(e.getProvider("auth-internal")),new XP(e.getProvider("app-check-internal")),function(p,_){if(!Object.prototype.hasOwnProperty.apply(p.options,["projectId"]))throw new Ct(tt.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new Tu(p.options.projectId,_)}(s,i),s);return r=Object.assign({useFetchStreams:t},r),c._setSettings(r),c},"PUBLIC").setMultipleInstances(!0)),(0,kd.registerVersion)(iI,"3.13.0",n),(0,kd.registerVersion)(iI,"3.13.0","esm2017")}();class MD{constructor(t){this._delegate=t}static fromBase64String(t){return OH(),new MD(Ic.fromBase64String(t))}static fromUint8Array(t){return kH(),new MD(Ic.fromUint8Array(t))}toBase64(){return OH(),this._delegate.toBase64()}toUint8Array(){return kH(),this._delegate.toUint8Array()}isEqual(t){return this._delegate.isEqual(t._delegate)}toString(){return"Blob(base64: "+this.toBase64()+")"}}function E2(n){return function d$(n,t){if("object"!=typeof n||null===n)return!1;const e=n;for(const i of t)if(i in e&&"function"==typeof e[i])return!0;return!1}(n,["next","error","complete"])}class h${enableIndexedDbPersistence(t,e){return function ft(n,t){qf(n=Di(n,X));const e=Se(n);if(e._uninitializedComponentsProvider)throw new Ct(tt.FAILED_PRECONDITION,"SDK cache is already specified.");ka("enableIndexedDbPersistence() will be deprecated in the future, you can use `FirestoreSettings.cache` instead.");const i=n._freezeSettings(),r=new Ry;return Qt(e,r,new Cw(r,i.cacheSizeBytes,t?.forceOwnership))}(t._delegate,{forceOwnership:e})}enableMultiTabIndexedDbPersistence(t){return function kt(n){qf(n=Di(n,X));const t=Se(n);if(t._uninitializedComponentsProvider)throw new Ct(tt.FAILED_PRECONDITION,"SDK cache is already specified.");ka("enableMultiTabIndexedDbPersistence() will be deprecated in the future, you can use `FirestoreSettings.cache` instead.");const e=n._freezeSettings(),i=new Ry;return Qt(t,i,new Ew(i,e.cacheSizeBytes))}(t._delegate)}clearIndexedDbPersistence(t){return function xn(n){if(n._initialized&&!n._terminated)throw new Ct(tt.FAILED_PRECONDITION,"Persistence can only be cleared before a Firestore instance is initialized or after it is terminated.");const t=new as;return n._queue.enqueueAndForgetEvenWhileRestricted((0,it.Z)(function*(){try{yield(e=(0,it.Z)(function*(i){if(!el.D())return Promise.resolve();const r=i+"main";yield el.delete(r)}),function(i){return e.apply(this,arguments)})(Uf(n._databaseId,n._persistenceKey)),t.resolve()}catch(e){t.reject(e)}var e})),t.promise}(t._delegate)}}class NH{constructor(t,e,i){this._delegate=e,this._persistenceProvider=i,this.INTERNAL={delete:()=>this.terminate()},t instanceof Tu||(this._appCompat=t)}get _databaseId(){return this._delegate._databaseId}settings(t){const e=this._delegate._getSettings();!t.merge&&e.host!==t.host&&ka("You are overriding the original host. If you did not intend to override your settings, use {merge: true}."),t.merge&&delete(t=Object.assign(Object.assign({},e),t)).merge,this._delegate._setSettings(t)}useEmulator(t,e,i={}){!function f2(n,t,e,i={}){var r;const s=(n=Di(n,kw))._getSettings(),c=`${t}:${e}`;if("firestore.googleapis.com"!==s.host&&s.host!==c&&ka("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used."),n._setSettings(Object.assign(Object.assign({},s),{host:c,ssl:!1})),i.mockUserToken){let p,_;if("string"==typeof i.mockUserToken)p=i.mockUserToken,_=Js.MOCK_USER;else{p=(0,ue.Sg)(i.mockUserToken,null===(r=n._app)||void 0===r?void 0:r.options.projectId);const C=i.mockUserToken.sub||i.mockUserToken.user_id;if(!C)throw new Ct(tt.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");_=new Js(C)}n._authCredentials=new YP(new Jv(p,_))}}(this._delegate,t,e,i)}enableNetwork(){return function Gn(n){return function s2(n){return n.asyncQueue.enqueue((0,it.Z)(function*(){const t=yield r2(n),e=yield Iw(n);return t.setNetworkEnabled(!0),function(i){const r=tn(i);return r.vu.delete(0),qg(r)}(e)}))}(Se(n=Di(n,X)))}(this._delegate)}disableNetwork(){return function oi(n){return function o2(n){return n.asyncQueue.enqueue((0,it.Z)(function*(){const t=yield r2(n),e=yield Iw(n);return t.setNetworkEnabled(!1),(i=(0,it.Z)(function*(r){const s=tn(r);s.vu.add(0),yield jf(s),s.bu.set("Offline")}),function(r){return i.apply(this,arguments)})(e);var i}))}(Se(n=Di(n,X)))}(this._delegate)}enablePersistence(t){let e=!1,i=!1;return t&&(e=!!t.synchronizeTabs,i=!!t.experimentalForceOwningTab,l2("synchronizeTabs",e,"experimentalForceOwningTab",i)),e?this._persistenceProvider.enableMultiTabIndexedDbPersistence(this):this._persistenceProvider.enableIndexedDbPersistence(this,i)}clearPersistence(){return this._persistenceProvider.clearIndexedDbPersistence(this)}terminate(){return this._appCompat&&(this._appCompat._removeServiceInstance("firestore-compat"),this._appCompat._removeServiceInstance("firestore")),this._delegate._delete()}waitForPendingWrites(){return function Dt(n){return function(t){const e=new as;return t.asyncQueue.enqueueAndForget((0,it.Z)(function*(){return function rk(n,t){return aD.apply(this,arguments)}(yield Mw(t),e)})),e.promise}(Se(n=Di(n,X)))}(this._delegate)}onSnapshotsInSync(t){return function $5(n,t){return function lH(n,t){const e=new nm(t);return n.asyncQueue.enqueueAndForget((0,it.Z)(function*(){return i=yield im(n),r=e,tn(i).ku.add(r),void r.next();var i,r})),()=>{e.Dc(),n.asyncQueue.enqueueAndForget((0,it.Z)(function*(){return i=yield im(n),r=e,void tn(i).ku.delete(r);var i,r}))}}(Se(n=Di(n,X)),k(t)?t:{next:t})}(this._delegate,t)}get app(){if(!this._appCompat)throw new Ct("failed-precondition","Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._appCompat}collection(t){try{return new Pw(this,o(this._delegate,t))}catch(e){throw Pa(e,"collection()","Firestore.collection()")}}doc(t){try{return new Mc(this,h(this._delegate,t))}catch(e){throw Pa(e,"doc()","Firestore.doc()")}}collectionGroup(t){try{return new Ra(this,function d(n,t){if(n=Di(n,kw),gk("collectionGroup","collection id",t),t.indexOf("/")>=0)throw new Ct(tt.INVALID_ARGUMENT,`Invalid collection ID '${t}' passed to function collectionGroup(). Collection IDs must not contain '/'.`);return new wo(n,null,(e=t,new Ec(xi.emptyPath(),e)));var e}(this._delegate,t))}catch(e){throw Pa(e,"collectionGroup()","Firestore.collectionGroup()")}}runTransaction(t){return function i$(n,t,e){n=Di(n,X);const i=Object.assign(Object.assign({},t$),e);return function(r){if(r.maxAttempts<1)throw new Ct(tt.INVALID_ARGUMENT,"Max attempts must be at least 1")}(i),function(r,s,c){const p=new as;return r.asyncQueue.enqueueAndForget((0,it.Z)(function*(){const _=yield function wD(n){return Fy(n).then(t=>t.datastore)}(r);new sH(r.asyncQueue,_,c,s,p).run()})),p.promise}(Se(n),r=>t(new n$(n,r)),i)}(this._delegate,e=>t(new PH(this,e)))}batch(){return Se(this._delegate),new RH(new IH(this._delegate,t=>Nw(this._delegate,t)))}loadBundle(t){return function pa(n,t){const e=Se(n=Di(n,X)),i=new B;return function a2(n,t,e,i){const r=function(s,c){let p;return p="string"==typeof s?GI().encode(s):s,_=function(_,C){if(_ instanceof Uint8Array)return gD(_,C);if(_ instanceof ArrayBuffer)return gD(new Uint8Array(_),C);if(_ instanceof ReadableStream)return _.getReader();throw new Error("Source of `toByteStreamReader` has to be a ArrayBuffer or ReadableStream")}(p),new n2(_,c);var _}(e,Yg(t));n.asyncQueue.enqueueAndForget((0,it.Z)(function*(){!function uk(n,t,e){const i=tn(n);var r;(r=(0,it.Z)(function*(s,c,p){try{const _=yield c.getMetadata();if(yield function(W,K){const oe=tn(W),ae=qr(K.createTime);return oe.persistence.runTransaction("hasNewerBundle","readonly",fe=>oe.qs.getBundleMetadata(fe,K.id)).then(fe=>!!fe&&fe.createTime.compareTo(ae)>=0)}(s.localStore,_))return yield c.close(),p._completeWith({taskState:"Success",documentsLoaded:(W=_).totalDocuments,bytesLoaded:W.totalBytes,totalDocuments:W.totalDocuments,totalBytes:W.totalBytes}),Promise.resolve(new Set);p._updateProgress(WR(_));const C=new ZM(_,s.localStore,c.serializer);let M=yield c.bc();for(;M;){const W=yield C.zu(M);W&&p._updateProgress(W),M=yield c.bc()}const V=yield C.complete();return yield Ou(s,V.Ju,void 0),yield function(W,K){const oe=tn(W);return oe.persistence.runTransaction("Save bundle","readwrite",ae=>oe.qs.saveBundleMetadata(ae,K))}(s.localStore,_),p._completeWith(V.progress),Promise.resolve(V.Hu)}catch(_){return ka("SyncEngine",`Loading bundle failed with ${_}`),p._failWith(_),Promise.resolve(new Set)}var W}),function(s,c,p){return r.apply(this,arguments)})(i,t,e).then(r=>{i.sharedClientState.notifyBundleLoaded(r)})}(yield Mw(n),r,i)}))}(e,n._databaseId,t,i),i}(this._delegate,t)}namedQuery(t){return function Pu(n,t){return function cH(n,t){return n.asyncQueue.enqueue((0,it.Z)(function*(){return function(e,i){const r=tn(e);return r.persistence.runTransaction("Get named query","readonly",s=>r.qs.getNamedQuery(s,i))}(yield Aw(n),t)}))}(Se(n=Di(n,X)),t).then(e=>e?new wo(n,null,e.query):null)}(this._delegate,t).then(e=>e?new Ra(this,e):null)}}class Tk extends w2{constructor(t){super(),this.firestore=t}convertBytes(t){return new MD(new Ic(t))}convertReference(t){const e=this.convertDocumentKey(t,this.firestore._databaseId);return Mc.forKey(e,this.firestore,null)}}class PH{constructor(t,e){this._firestore=t,this._delegate=e,this._userDataWriter=new Tk(t)}get(t){const e=zy(t);return this._delegate.get(e).then(i=>new kD(this._firestore,new Kf(this._firestore._delegate,this._userDataWriter,i._key,i._document,i.metadata,e.converter)))}set(t,e,i){const r=zy(t);return i?(C2("Transaction.set",i),this._delegate.set(r,e,i)):this._delegate.set(r,e),this}update(t,e,i,...r){const s=zy(t);return 2===arguments.length?this._delegate.update(s,e):this._delegate.update(s,e,i,...r),this}delete(t){const e=zy(t);return this._delegate.delete(e),this}}class RH{constructor(t){this._delegate=t}set(t,e,i){const r=zy(t);return i?(C2("WriteBatch.set",i),this._delegate.set(r,e,i)):this._delegate.set(r,e),this}update(t,e,i,...r){const s=zy(t);return 2===arguments.length?this._delegate.update(s,e):this._delegate.update(s,e,i,...r),this}delete(t){const e=zy(t);return this._delegate.delete(e),this}commit(){return this._delegate.commit()}}class Uy{constructor(t,e,i){this._firestore=t,this._userDataWriter=e,this._delegate=i}fromFirestore(t,e){const i=new ID(this._firestore._delegate,this._userDataWriter,t._key,t._document,t.metadata,null);return this._delegate.fromFirestore(new OD(this._firestore,i),e??{})}toFirestore(t,e){return e?this._delegate.toFirestore(t,e):this._delegate.toFirestore(t)}static getInstance(t,e){const i=Uy.INSTANCES;let r=i.get(t);r||(r=new WeakMap,i.set(t,r));let s=r.get(e);return s||(s=new Uy(t,new Tk(t),e),r.set(e,s)),s}}Uy.INSTANCES=new WeakMap;class Mc{constructor(t,e){this.firestore=t,this._delegate=e,this._userDataWriter=new Tk(t)}static forPath(t,e,i){if(t.length%2!=0)throw new Ct("invalid-argument",`Invalid document reference. Document references must have an even number of segments, but ${t.canonicalString()} has ${t.length}`);return new Mc(e,new Tr(e._delegate,i,new qt(t)))}static forKey(t,e,i){return new Mc(e,new Tr(e._delegate,i,t))}get id(){return this._delegate.id}get parent(){return new Pw(this.firestore,this._delegate.parent)}get path(){return this._delegate.path}collection(t){try{return new Pw(this.firestore,o(this._delegate,t))}catch(e){throw Pa(e,"collection()","DocumentReference.collection()")}}isEqual(t){return(t=(0,ue.m9)(t))instanceof Tr&&g(this._delegate,t)}set(t,e){e=C2("DocumentReference.set",e);try{return e?TH(this._delegate,t,e):TH(this._delegate,t)}catch(i){throw Pa(i,"setDoc()","DocumentReference.set()")}}update(t,e,...i){try{return 1===arguments.length?SH(this._delegate,t):SH(this._delegate,t,e,...i)}catch(r){throw Pa(r,"updateDoc()","DocumentReference.update()")}}delete(){return function G5(n){return Nw(Di(n.firestore,X),[new Sc(n._key,Rr.none())])}(this._delegate)}onSnapshot(...t){const e=FH(t),i=LH(t,r=>new kD(this.firestore,new Kf(this.firestore._delegate,this._userDataWriter,r._key,r._document,r.metadata,this._delegate.converter)));return AH(this._delegate,e,i)}get(t){let e;return e="cache"===t?.source?function V5(n){n=Di(n,Tr);const t=Di(n.firestore,X),e=Se(t),i=new am(t);return function dk(n,t){const e=new as;return n.asyncQueue.enqueueAndForget((0,it.Z)(function*(){return(i=(0,it.Z)(function*(r,s,c){try{const p=yield function(_,C){const M=tn(_);return M.persistence.runTransaction("read document","readonly",V=>M.localDocuments.getDocument(V,C))}(r,s);p.isFoundDocument()?c.resolve(p):p.isNoDocument()?c.resolve(null):c.reject(new Ct(tt.UNAVAILABLE,"Failed to get document from cache. (However, this document may exist on the server. Run again without setting 'source' in the GetOptions to attempt to retrieve the document from the server.)"))}catch(p){const _=$f(p,`Failed to get document '${s} from cache`);c.reject(_)}}),function(r,s,c){return i.apply(this,arguments)})(yield Aw(n),t,e);var i})),e.promise}(e,n._key).then(r=>new Kf(t,i,n._key,r,new Hy(null!==r&&r.hasLocalMutations,!0),n.converter))}(this._delegate):"server"===t?.source?function H5(n){n=Di(n,Tr);const t=Di(n.firestore,X);return xD(Se(t),n._key,{source:"server"}).then(e=>x2(t,n,e))}(this._delegate):function B5(n){n=Di(n,Tr);const t=Di(n.firestore,X);return xD(Se(t),n._key).then(e=>x2(t,n,e))}(this._delegate),e.then(i=>new kD(this.firestore,new Kf(this.firestore._delegate,this._userDataWriter,i._key,i._document,i.metadata,this._delegate.converter)))}withConverter(t){return new Mc(this.firestore,this._delegate.withConverter(t?Uy.getInstance(this.firestore,t):null))}}function Pa(n,t,e){return n.message=n.message.replace(t,e),n}function FH(n){for(const t of n)if("object"==typeof t&&!E2(t))return t;return{}}function LH(n,t){var e,i;let r;return r=E2(n[0])?n[0]:E2(n[1])?n[1]:"function"==typeof n[0]?{next:n[0],error:n[1],complete:n[2]}:{next:n[1],error:n[2],complete:n[3]},{next:s=>{r.next&&r.next(t(s))},error:null===(e=r.error)||void 0===e?void 0:e.bind(r),complete:null===(i=r.complete)||void 0===i?void 0:i.bind(r)}}class kD{constructor(t,e){this._firestore=t,this._delegate=e}get ref(){return new Mc(this._firestore,this._delegate.ref)}get id(){return this._delegate.id}get metadata(){return this._delegate.metadata}get exists(){return this._delegate.exists()}data(t){return this._delegate.data(t)}get(t,e){return this._delegate.get(t,e)}isEqual(t){return DH(this._delegate,t._delegate)}}class OD extends kD{data(t){const e=this._delegate.data(t);return function $P(n,t){n||sn()}(void 0!==e),e}}class Ra{constructor(t,e){this.firestore=t,this._delegate=e,this._userDataWriter=new Tk(t)}where(t,e,i){try{return new Ra(this.firestore,sm(this._delegate,function S5(n,t,e){const i=t,r=wk("where",n);return AD._create(r,i,e)}(t,e,i)))}catch(r){throw Pa(r,/(orderBy|where)\(\)/,"Query.$1()")}}orderBy(t,e){try{return new Ra(this.firestore,sm(this._delegate,function A5(n,t="asc"){const e=t,i=wk("orderBy",n);return b2._create(i,e)}(t,e)))}catch(i){throw Pa(i,/(orderBy|where)\(\)/,"Query.$1()")}}limit(t){try{return new Ra(this.firestore,sm(this._delegate,function I5(n){return d2("limit",n),xk._create("limit",n,"F")}(t)))}catch(e){throw Pa(e,"limit()","Query.limit()")}}limitToLast(t){try{return new Ra(this.firestore,sm(this._delegate,function M5(n){return d2("limitToLast",n),xk._create("limitToLast",n,"L")}(t)))}catch(e){throw Pa(e,"limitToLast()","Query.limitToLast()")}}startAt(...t){try{return new Ra(this.firestore,sm(this._delegate,function k5(...n){return Ck._create("startAt",n,!0)}(...t)))}catch(e){throw Pa(e,"startAt()","Query.startAt()")}}startAfter(...t){try{return new Ra(this.firestore,sm(this._delegate,function O5(...n){return Ck._create("startAfter",n,!1)}(...t)))}catch(e){throw Pa(e,"startAfter()","Query.startAfter()")}}endBefore(...t){try{return new Ra(this.firestore,sm(this._delegate,function N5(...n){return Ek._create("endBefore",n,!1)}(...t)))}catch(e){throw Pa(e,"endBefore()","Query.endBefore()")}}endAt(...t){try{return new Ra(this.firestore,sm(this._delegate,function P5(...n){return Ek._create("endAt",n,!0)}(...t)))}catch(e){throw Pa(e,"endAt()","Query.endAt()")}}isEqual(t){return b(this._delegate,t._delegate)}get(t){let e;return e="cache"===t?.source?function z5(n){n=Di(n,wo);const t=Di(n.firestore,X),e=Se(t),i=new am(t);return function aH(n,t){const e=new as;return n.asyncQueue.enqueueAndForget((0,it.Z)(function*(){return(i=(0,it.Z)(function*(r,s,c){try{const p=yield rw(r,s,!0),_=new nD(s,p.ir),C=_.sc(p.documents),M=_.applyChanges(C,!1);c.resolve(M.snapshot)}catch(p){const _=$f(p,`Failed to execute query '${s} against cache`);c.reject(_)}}),function(r,s,c){return i.apply(this,arguments)})(yield Aw(n),t,e);var i})),e.promise}(e,n._query).then(r=>new om(t,i,n,r))}(this._delegate):"server"===t?.source?function j5(n){n=Di(n,wo);const t=Di(n.firestore,X),e=Se(t),i=new am(t);return hk(e,n._query,{source:"server"}).then(r=>new om(t,i,n,r))}(this._delegate):function U5(n){n=Di(n,wo);const t=Di(n.firestore,X),e=Se(t),i=new am(t);return yH(n._query),hk(e,n._query).then(r=>new om(t,i,n,r))}(this._delegate),e.then(i=>new D2(this.firestore,new om(this.firestore._delegate,this._userDataWriter,this._delegate,i._snapshot)))}onSnapshot(...t){const e=FH(t),i=LH(t,r=>new D2(this.firestore,new om(this.firestore._delegate,this._userDataWriter,this._delegate,r._snapshot)));return AH(this._delegate,e,i)}withConverter(t){return new Ra(this.firestore,this._delegate.withConverter(t?Uy.getInstance(this.firestore,t):null))}}class p${constructor(t,e){this._firestore=t,this._delegate=e}get type(){return this._delegate.type}get doc(){return new OD(this._firestore,this._delegate.doc)}get oldIndex(){return this._delegate.oldIndex}get newIndex(){return this._delegate.newIndex}}class D2{constructor(t,e){this._firestore=t,this._delegate=e}get query(){return new Ra(this._firestore,this._delegate.query)}get metadata(){return this._delegate.metadata}get size(){return this._delegate.size}get empty(){return this._delegate.empty}get docs(){return this._delegate.docs.map(t=>new OD(this._firestore,t))}docChanges(t){return this._delegate.docChanges(t).map(e=>new p$(this._firestore,e))}forEach(t,e){this._delegate.forEach(i=>{t.call(e,new OD(this._firestore,i))})}isEqual(t){return DH(this._delegate,t._delegate)}}class Pw extends Ra{constructor(t,e){super(t,e),this.firestore=t,this._delegate=e}get id(){return this._delegate.id}get path(){return this._delegate.path}get parent(){const t=this._delegate.parent;return t?new Mc(this.firestore,t):null}doc(t){try{return new Mc(this.firestore,void 0===t?h(this._delegate):h(this._delegate,t))}catch(e){throw Pa(e,"doc()","CollectionReference.doc()")}}add(t){return function W5(n,t){const e=Di(n.firestore,X),i=h(n),r=Dk(n.converter,t);return Nw(e,[yk(By(n.firestore),"addDoc",i._key,r,null!==n.converter,{}).toMutation(i._key,Rr.exists(!1))]).then(()=>i)}(this._delegate,t).then(e=>new Mc(this.firestore,e))}isEqual(t){return g(this._delegate,t._delegate)}withConverter(t){return new Pw(this.firestore,this._delegate.withConverter(t?Uy.getInstance(this.firestore,t):null))}}function zy(n){return Di(n,Tr)}class T2{constructor(...t){this._delegate=new Xf(...t)}static documentId(){return new T2(Cr.keyField().canonicalString())}isEqual(t){return(t=(0,ue.m9)(t))instanceof Xf&&this._delegate._internalPath.isEqual(t._internalPath)}}class jy{constructor(t){this._delegate=t}static serverTimestamp(){const t=function s$(){return new g2("serverTimestamp")}();return t._methodName="FieldValue.serverTimestamp",new jy(t)}static delete(){const t=function r$(){return new ED("deleteField")}();return t._methodName="FieldValue.delete",new jy(t)}static arrayUnion(...t){const e=function o$(...n){return new x5("arrayUnion",n)}(...t);return e._methodName="FieldValue.arrayUnion",new jy(e)}static arrayRemove(...t){const e=function a$(...n){return new C5("arrayRemove",n)}(...t);return e._methodName="FieldValue.arrayRemove",new jy(e)}static increment(t){const e=function l$(n){return new E5("increment",n)}(t);return e._methodName="FieldValue.increment",new jy(e)}isEqual(t){return this._delegate.isEqual(t._delegate)}}const g$={Firestore:NH,GeoPoint:mk,Timestamp:Pr,Blob:MD,Transaction:PH,WriteBatch:RH,DocumentReference:Mc,DocumentSnapshot:kD,Query:Ra,QueryDocumentSnapshot:OD,QuerySnapshot:D2,CollectionReference:Pw,FieldPath:T2,FieldValue:jy,setLogLevel:function f$(n){!function l0(n){Ja.setLogLevel(n)}(n)},CACHE_SIZE_UNLIMITED:-1};function BH(n,t){return function y$(n,t=_s.z){return new ar.y(e=>{let i;return null!=t?t.schedule(()=>{i=n.onSnapshot({includeMetadataChanges:!0},e)}):i=n.onSnapshot({includeMetadataChanges:!0},e),()=>{i?.()}})}(n,t)}function S2(n,t){return BH(n,t).pipe((0,Bt.U)(e=>({payload:e,type:"query"})))}function Sk(n,t){return S2(n,t).pipe(Ml(void 0),Cv(),(0,Bt.U)(([e,i])=>{const r=i.payload.docChanges(),s=r.map(c=>({type:c.type,payload:c}));return e&&JSON.stringify(e.payload.metadata)!==JSON.stringify(i.payload.metadata)&&i.payload.docs.forEach((c,p)=>{const _=r.find(M=>M.doc.ref.isEqual(c.ref)),C=e?.payload.docs.find(M=>M.ref.isEqual(c.ref));_&&JSON.stringify(_.doc.metadata)===JSON.stringify(c.metadata)||!_&&C&&JSON.stringify(C.metadata)===JSON.stringify(c.metadata)||s.push({type:"modified",payload:{oldIndex:p,newIndex:p,type:"modified",doc:c}})}),s}))}function VH(n,t,e){return Sk(n,e).pipe(yc((i,r)=>function b$(n,t,e){return t.forEach(i=>{e.indexOf(i.type)>-1&&(n=function w$(n,t){switch(t.type){case"added":if(!n[t.newIndex]||!n[t.newIndex].doc.ref.isEqual(t.doc.ref))return A2(n,t.newIndex,0,t);break;case"modified":if(null==n[t.oldIndex]||n[t.oldIndex].doc.ref.isEqual(t.doc.ref)){if(t.oldIndex!==t.newIndex){const e=n.slice();return e.splice(t.oldIndex,1),e.splice(t.newIndex,0,t),e}return A2(n,t.newIndex,1,t)}break;case"removed":if(n[t.oldIndex]&&n[t.oldIndex].doc.ref.isEqual(t.doc.ref))return A2(n,t.oldIndex,1)}return n}(n,i))}),n}(i,r.map(s=>s.payload),t),[]),(0,Ib.x)(),(0,Bt.U)(i=>i.map(r=>({type:r.type,payload:r}))))}function A2(n,t,e,...i){const r=n.slice();return r.splice(t,e,...i),r}function HH(n){return(!n||0===n.length)&&(n=["added","removed","modified"]),n}!function v$(n){(function m$(n,t){n.INTERNAL.registerComponent(new os.wA("firestore-compat",e=>{const i=e.getProvider("app-compat").getImmediate(),r=e.getProvider("firestore").getImmediate();return t(i,r)},"PUBLIC").setServiceProps(Object.assign({},g$)))})(n,(t,e)=>new NH(t,e,new h$)),n.registerVersion("@firebase/firestore-compat","0.3.12")}(tA.Z);class UH{constructor(t,e,i){this.ref=t,this.query=e,this.afs=i}stateChanges(t){let e=Sk(this.query,this.afs.schedulers.outsideAngular);return t&&t.length>0&&(e=e.pipe((0,Bt.U)(i=>i.filter(r=>t.indexOf(r.type)>-1)))),e.pipe(Ml(void 0),Cv(),Kn(([i,r])=>r.length>0||!i),(0,Bt.U)(([i,r])=>r),Qn.iC)}auditTrail(t){return this.stateChanges(t).pipe(yc((e,i)=>[...e,...i],[]))}snapshotChanges(t){const e=HH(t);return VH(this.query,e,this.afs.schedulers.outsideAngular).pipe(Qn.iC)}valueChanges(t={}){return S2(this.query,this.afs.schedulers.outsideAngular).pipe((0,Bt.U)(e=>e.payload.docs.map(i=>t.idField?Object.assign(Object.assign({},i.data()),{[t.idField]:i.id}):i.data())),Qn.iC)}get(t){return(0,bi.D)(this.query.get(t)).pipe(Qn.iC)}add(t){return this.ref.add(t)}doc(t){return new zH(this.ref.doc(t),this.afs)}}class zH{constructor(t,e){this.ref=t,this.afs=e}set(t,e){return this.ref.set(t,e)}update(t){return this.ref.update(t)}delete(){return this.ref.delete()}collection(t,e){const i=this.ref.collection(t),{ref:r,query:s}=WH(i,e);return new UH(r,s,this.afs)}snapshotChanges(){return function _$(n,t){return BH(n,t).pipe(Ml(void 0),Cv(),(0,Bt.U)(([e,i])=>i.exists?e?.exists?{payload:i,type:"modified"}:{payload:i,type:"added"}:{payload:i,type:"removed"}))}(this.ref,this.afs.schedulers.outsideAngular).pipe(Qn.iC)}valueChanges(t={}){return this.snapshotChanges().pipe((0,Bt.U)(({payload:e})=>t.idField?Object.assign(Object.assign({},e.data()),{[t.idField]:e.id}):e.data()))}get(t){return(0,bi.D)(this.ref.get(t)).pipe(Qn.iC)}}class x${constructor(t,e){this.query=t,this.afs=e}stateChanges(t){return t&&0!==t.length?Sk(this.query,this.afs.schedulers.outsideAngular).pipe((0,Bt.U)(e=>e.filter(i=>t.indexOf(i.type)>-1)),Kn(e=>e.length>0),Qn.iC):Sk(this.query,this.afs.schedulers.outsideAngular).pipe(Qn.iC)}auditTrail(t){return this.stateChanges(t).pipe(yc((e,i)=>[...e,...i],[]))}snapshotChanges(t){const e=HH(t);return VH(this.query,e,this.afs.schedulers.outsideAngular).pipe(Qn.iC)}valueChanges(t={}){return S2(this.query,this.afs.schedulers.outsideAngular).pipe((0,Bt.U)(i=>i.payload.docs.map(r=>t.idField?Object.assign({[t.idField]:r.id},r.data()):r.data())),Qn.iC)}get(t){return(0,bi.D)(this.query.get(t)).pipe(Qn.iC)}}const jH=new a.OlP("angularfire2.enableFirestorePersistence"),GH=new a.OlP("angularfire2.firestore.persistenceSettings"),C$=new a.OlP("angularfire2.firestore.settings"),E$=new a.OlP("angularfire2.firestore.use-emulator");function WH(n,t=(e=>e)){return{query:t(n),ref:n}}let D$=(()=>{class n{constructor(e,i,r,s,c,p,_,C,M,V,W,K,oe,ae,fe,Pe,Be){this.schedulers=_;const Re=(0,Ki.on)(e,p,i),ze=M;V&&nf(Re,p,W,oe,ae,fe,K,Pe),[this.firestore,this.persistenceEnabled$]=(0,Ki.cc)(`${Re.name}.firestore`,"AngularFirestore",Re.name,()=>{const ut=p.runOutsideAngular(()=>Re.firestore());if(s&&ut.settings(s),ze&&ut.useEmulator(...ze),r&&!ba(c)){const bt=()=>{try{return(0,bi.D)(ut.enablePersistence(C||void 0).then(()=>!0,()=>!1))}catch(jt){return typeof console<"u"&&console.warn(jt),(0,hn.of)(!1)}};return[ut,p.runOutsideAngular(bt)]}return[ut,(0,hn.of)(!1)]},[s,ze,r])}collection(e,i){let r;r="string"==typeof e?this.firestore.collection(e):e;const{ref:s,query:c}=WH(r,i),p=this.schedulers.ngZone.run(()=>s);return new UH(p,c,this)}collectionGroup(e,i){const r=i||(c=>c),s=this.firestore.collectionGroup(e);return new x$(r(s),this)}doc(e){let i;i="string"==typeof e?this.firestore.doc(e):e;const r=this.schedulers.ngZone.run(()=>i);return new zH(r,this)}createId(){return this.firestore.collection("_").doc().id}}return n.\u0275fac=function(e){return new(e||n)(a.LFG(Ki.Dh),a.LFG(Ki.xv,8),a.LFG(jH,8),a.LFG(C$,8),a.LFG(a.Lbi),a.LFG(a.R0b),a.LFG(Qn.HU),a.LFG(GH,8),a.LFG(E$,8),a.LFG(Cd,8),a.LFG(xd,8),a.LFG(cu,8),a.LFG(cv,8),a.LFG(Xa,8),a.LFG(Gp,8),a.LFG(Wp,8),a.LFG(Jh,8))},n.\u0275prov=a.Yz7({token:n,factory:n.\u0275fac,providedIn:"any"}),n})(),T$=(()=>{class n{constructor(){lu.Z.registerVersion("angularfire",Qn.q4.full,"fst-compat")}static enablePersistence(e){return{ngModule:n,providers:[{provide:jH,useValue:!0},{provide:GH,useValue:e}]}}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=a.oAB({type:n}),n.\u0275inj=a.cJS({providers:[D$]}),n})();var lh=ce(4829),I2=ce(2420);function Ak(...n){const t=(0,gu.jO)(n);return(0,Or.e)((e,i)=>{const r=n.length,s=new Array(r);let c=n.map(()=>!1),p=!1;for(let _=0;_<r;_++)(0,lh.Xf)(n[_]).subscribe((0,lr.x)(i,C=>{s[_]=C,!p&&!c[_]&&(c[_]=!0,(p=c.every(Ta.y))&&(c=null))},I2.Z));e.subscribe((0,lr.x)(i,_=>{if(p){const C=[_,...s];i.next(t?t(...C):C)}}))})}const $H="@firebase/database";let M2="";function qH(n){M2=n}class A${constructor(t){this.domStorage_=t,this.prefix_="firebase:"}set(t,e){null==e?this.domStorage_.removeItem(this.prefixedName_(t)):this.domStorage_.setItem(this.prefixedName_(t),(0,ue.Wl)(e))}get(t){const e=this.domStorage_.getItem(this.prefixedName_(t));return null==e?null:(0,ue.cI)(e)}remove(t){this.domStorage_.removeItem(this.prefixedName_(t))}prefixedName_(t){return this.prefix_+t}toString(){return this.domStorage_.toString()}}class I${constructor(){this.cache_={},this.isInMemoryStorage=!0}set(t,e){null==e?delete this.cache_[t]:this.cache_[t]=e}get(t){return(0,ue.r3)(this.cache_,t)?this.cache_[t]:null}remove(t){delete this.cache_[t]}}const ZH=function(n){try{if(typeof window<"u"&&typeof window[n]<"u"){const t=window[n];return t.setItem("firebase:sentinel","cache"),t.removeItem("firebase:sentinel"),new A$(t)}}catch{}return new I$},Gy=ZH("localStorage"),k2=ZH("sessionStorage"),Rw=new As.Yd("@firebase/database"),XH=function(){let n=1;return function(){return n++}}(),KH=function(n){const t=(0,ue.dS)(n),e=new ue.gQ;e.update(t);const i=e.digest();return ue.US.encodeByteArray(i)},ND=function(...n){let t="";for(let e=0;e<n.length;e++){const i=n[e];Array.isArray(i)||i&&"object"==typeof i&&"number"==typeof i.length?t+=ND.apply(null,i):t+="object"==typeof i?(0,ue.Wl)(i):i,t+=" "}return t};let Wy=null,QH=!0;const JH=function(n,t){(0,ue.hu)(!t||!0===n||!1===n,"Can't turn on custom loggers persistently."),!0===n?(Rw.logLevel=As.in.VERBOSE,Wy=Rw.log.bind(Rw),t&&k2.set("logging_enabled",!0)):"function"==typeof n?Wy=n:(Wy=null,k2.remove("logging_enabled"))},No=function(...n){if(!0===QH&&(QH=!1,null===Wy&&!0===k2.get("logging_enabled")&&JH(!0)),Wy){const t=ND.apply(null,n);Wy(t)}},PD=function(n){return function(...t){No(n,...t)}},O2=function(...n){const t="FIREBASE INTERNAL ERROR: "+ND(...n);Rw.error(t)},ch=function(...n){const t=`FIREBASE FATAL ERROR: ${ND(...n)}`;throw Rw.error(t),new Error(t)},ga=function(...n){const t="FIREBASE WARNING: "+ND(...n);Rw.warn(t)},Ik=function(n){return"number"==typeof n&&(n!=n||n===Number.POSITIVE_INFINITY||n===Number.NEGATIVE_INFINITY)},cm="[MIN_NAME]",Qf="[MAX_NAME]",$y=function(n,t){if(n===t)return 0;if(n===cm||t===Qf)return-1;if(t===cm||n===Qf)return 1;{const e=n3(n),i=n3(t);return null!==e?null!==i?e-i==0?n.length-t.length:e-i:-1:null!==i?1:n<t?-1:1}},O$=function(n,t){return n===t?0:n<t?-1:1},RD=function(n,t){if(t&&n in t)return t[n];throw new Error("Missing required key ("+n+") in object: "+(0,ue.Wl)(t))},N2=function(n){if("object"!=typeof n||null===n)return(0,ue.Wl)(n);const t=[];for(const i in n)t.push(i);t.sort();let e="{";for(let i=0;i<t.length;i++)0!==i&&(e+=","),e+=(0,ue.Wl)(t[i]),e+=":",e+=N2(n[t[i]]);return e+="}",e},e3=function(n,t){const e=n.length;if(e<=t)return[n];const i=[];for(let r=0;r<e;r+=t)i.push(n.substring(r,r+t>e?e:r+t));return i};function Po(n,t){for(const e in n)n.hasOwnProperty(e)&&t(e,n[e])}const t3=function(n){(0,ue.hu)(!Ik(n),"Invalid JSON number");const i=1023;let r,s,c,p,_;0===n?(s=0,c=0,r=1/n==-1/0?1:0):(r=n<0,(n=Math.abs(n))>=Math.pow(2,1-i)?(p=Math.min(Math.floor(Math.log(n)/Math.LN2),i),s=p+i,c=Math.round(n*Math.pow(2,52-p)-Math.pow(2,52))):(s=0,c=Math.round(n/Math.pow(2,-1074))));const C=[];for(_=52;_;_-=1)C.push(c%2?1:0),c=Math.floor(c/2);for(_=11;_;_-=1)C.push(s%2?1:0),s=Math.floor(s/2);C.push(r?1:0),C.reverse();const M=C.join("");let V="";for(_=0;_<64;_+=8){let W=parseInt(M.substr(_,8),2).toString(16);1===W.length&&(W="0"+W),V+=W}return V.toLowerCase()},F$=new RegExp("^-?(0*)\\d{1,10}$"),n3=function(n){if(F$.test(n)){const t=Number(n);if(t>=-2147483648&&t<=2147483647)return t}return null},Fw=function(n){try{n()}catch(t){setTimeout(()=>{throw ga("Exception was thrown by user callback.",t.stack||""),t},Math.floor(0))}},FD=function(n,t){const e=setTimeout(n,t);return"number"==typeof e&&typeof Deno<"u"&&Deno.unrefTimer?Deno.unrefTimer(e):"object"==typeof e&&e.unref&&e.unref(),e};class H${constructor(t,e){this.appName_=t,this.appCheckProvider=e,this.appCheck=e?.getImmediate({optional:!0}),this.appCheck||e?.get().then(i=>this.appCheck=i)}getToken(t){return this.appCheck?this.appCheck.getToken(t):new Promise((e,i)=>{setTimeout(()=>{this.appCheck?this.getToken(t).then(e,i):e(null)},0)})}addTokenChangeListener(t){var e;null===(e=this.appCheckProvider)||void 0===e||e.get().then(i=>i.addTokenListener(t))}notifyForInvalidToken(){ga(`Provided AppCheck credentials for the app named "${this.appName_}" are invalid. This usually indicates your app was not initialized correctly.`)}}class U${constructor(t,e,i){this.appName_=t,this.firebaseOptions_=e,this.authProvider_=i,this.auth_=null,this.auth_=i.getImmediate({optional:!0}),this.auth_||i.onInit(r=>this.auth_=r)}getToken(t){return this.auth_?this.auth_.getToken(t).catch(e=>e&&"auth/token-not-initialized"===e.code?(No("Got auth/token-not-initialized error.  Treating as null token."),null):Promise.reject(e)):new Promise((e,i)=>{setTimeout(()=>{this.auth_?this.getToken(t).then(e,i):e(null)},0)})}addTokenChangeListener(t){this.auth_?this.auth_.addAuthTokenListener(t):this.authProvider_.get().then(e=>e.addAuthTokenListener(t))}removeTokenChangeListener(t){this.authProvider_.get().then(e=>e.removeAuthTokenListener(t))}notifyForInvalidToken(){let t='Provided authentication credentials for the app named "'+this.appName_+'" are invalid. This usually indicates your app was not initialized correctly. ';t+="credential"in this.firebaseOptions_?'Make sure the "credential" property provided to initializeApp() is authorized to access the specified "databaseURL" and is from the correct project.':"serviceAccount"in this.firebaseOptions_?'Make sure the "serviceAccount" property provided to initializeApp() is authorized to access the specified "databaseURL" and is from the correct project.':'Make sure the "apiKey" and "databaseURL" properties provided to initializeApp() match the values provided for your app at https://console.firebase.google.com/.',ga(t)}}let LD=(()=>{class n{constructor(e){this.accessToken=e}getToken(e){return Promise.resolve({accessToken:this.accessToken})}addTokenChangeListener(e){e(this.accessToken)}removeTokenChangeListener(e){}notifyForInvalidToken(){}}return n.OWNER="owner",n})();const l3=/(console\.firebase|firebase-console-\w+\.corp|firebase\.corp)\.google\.com/,d3="websocket",h3="long_polling";class R2{constructor(t,e,i,r,s=!1,c="",p=!1,_=!1){this.secure=e,this.namespace=i,this.webSocketOnly=r,this.nodeAdmin=s,this.persistenceKey=c,this.includeNamespaceInQueryParams=p,this.isUsingEmulator=_,this._host=t.toLowerCase(),this._domain=this._host.substr(this._host.indexOf(".")+1),this.internalHost=Gy.get("host:"+t)||this._host}isCacheableHost(){return"s-"===this.internalHost.substr(0,2)}isCustomHost(){return"firebaseio.com"!==this._domain&&"firebaseio-demo.com"!==this._domain}get host(){return this._host}set host(t){t!==this.internalHost&&(this.internalHost=t,this.isCacheableHost()&&Gy.set("host:"+this._host,this.internalHost))}toString(){let t=this.toURLString();return this.persistenceKey&&(t+="<"+this.persistenceKey+">"),t}toURLString(){return`${this.secure?"https://":"http://"}${this.host}/${this.includeNamespaceInQueryParams?`?ns=${this.namespace}`:""}`}}function f3(n,t,e){let i;if((0,ue.hu)("string"==typeof t,"typeof type must == string"),(0,ue.hu)("object"==typeof e,"typeof params must == object"),t===d3)i=(n.secure?"wss://":"ws://")+n.internalHost+"/.ws?";else{if(t!==h3)throw new Error("Unknown connection type: "+t);i=(n.secure?"https://":"http://")+n.internalHost+"/.lp?"}(function z$(n){return n.host!==n.internalHost||n.isCustomHost()||n.includeNamespaceInQueryParams})(n)&&(e.ns=n.namespace);const r=[];return Po(e,(s,c)=>{r.push(s+"="+c)}),i+r.join("&")}class j${constructor(){this.counters_={}}incrementCounter(t,e=1){(0,ue.r3)(this.counters_,t)||(this.counters_[t]=0),this.counters_[t]+=e}get(){return(0,ue.p$)(this.counters_)}}const F2={},L2={};function B2(n){const t=n.toString();return F2[t]||(F2[t]=new j$),F2[t]}class W${constructor(t){this.onMessage_=t,this.pendingResponses=[],this.currentResponseNum=0,this.closeAfterResponse=-1,this.onClose=null}closeAfter(t,e){this.closeAfterResponse=t,this.onClose=e,this.closeAfterResponse<this.currentResponseNum&&(this.onClose(),this.onClose=null)}handleResponse(t,e){for(this.pendingResponses[t]=e;this.pendingResponses[this.currentResponseNum];){const i=this.pendingResponses[this.currentResponseNum];delete this.pendingResponses[this.currentResponseNum];for(let r=0;r<i.length;++r)i[r]&&Fw(()=>{this.onMessage_(i[r])});if(this.currentResponseNum===this.closeAfterResponse){this.onClose&&(this.onClose(),this.onClose=null);break}this.currentResponseNum++}}}class um{constructor(t,e,i,r,s,c,p){this.connId=t,this.repoInfo=e,this.applicationId=i,this.appCheckToken=r,this.authToken=s,this.transportSessionId=c,this.lastSessionId=p,this.bytesSent=0,this.bytesReceived=0,this.everConnected_=!1,this.log_=PD(t),this.stats_=B2(e),this.urlFn=_=>(this.appCheckToken&&(_.ac=this.appCheckToken),f3(e,h3,_))}open(t,e){this.curSegmentNum=0,this.onDisconnect_=e,this.myPacketOrderer=new W$(t),this.isClosed_=!1,this.connectTimeoutTimer_=setTimeout(()=>{this.log_("Timed out trying to connect."),this.onClosed_(),this.connectTimeoutTimer_=null},Math.floor(3e4)),function(n){if((0,ue.Yr)()||"complete"===document.readyState)n();else{let t=!1;const e=function(){document.body?t||(t=!0,n()):setTimeout(e,Math.floor(10))};document.addEventListener?(document.addEventListener("DOMContentLoaded",e,!1),window.addEventListener("load",e,!1)):document.attachEvent&&(document.attachEvent("onreadystatechange",()=>{"complete"===document.readyState&&e()}),window.attachEvent("onload",e))}}(()=>{if(this.isClosed_)return;this.scriptTagHolder=new V2((...s)=>{const[c,p,_,C,M]=s;if(this.incrementIncomingBytes_(s),this.scriptTagHolder)if(this.connectTimeoutTimer_&&(clearTimeout(this.connectTimeoutTimer_),this.connectTimeoutTimer_=null),this.everConnected_=!0,"start"===c)this.id=p,this.password=_;else{if("close"!==c)throw new Error("Unrecognized command received: "+c);p?(this.scriptTagHolder.sendNewPolls=!1,this.myPacketOrderer.closeAfter(p,()=>{this.onClosed_()})):this.onClosed_()}},(...s)=>{const[c,p]=s;this.incrementIncomingBytes_(s),this.myPacketOrderer.handleResponse(c,p)},()=>{this.onClosed_()},this.urlFn);const i={start:"t"};i.ser=Math.floor(1e8*Math.random()),this.scriptTagHolder.uniqueCallbackIdentifier&&(i.cb=this.scriptTagHolder.uniqueCallbackIdentifier),i.v="5",this.transportSessionId&&(i.s=this.transportSessionId),this.lastSessionId&&(i.ls=this.lastSessionId),this.applicationId&&(i.p=this.applicationId),this.appCheckToken&&(i.ac=this.appCheckToken),typeof location<"u"&&location.hostname&&l3.test(location.hostname)&&(i.r="f");const r=this.urlFn(i);this.log_("Connecting via long-poll to "+r),this.scriptTagHolder.addTag(r,()=>{})})}start(){this.scriptTagHolder.startLongPoll(this.id,this.password),this.addDisconnectPingFrame(this.id,this.password)}static forceAllow(){um.forceAllow_=!0}static forceDisallow(){um.forceDisallow_=!0}static isAvailable(){return!((0,ue.Yr)()||!um.forceAllow_&&(um.forceDisallow_||!(typeof document<"u")||null==document.createElement||"object"==typeof window&&window.chrome&&window.chrome.extension&&!/^chrome/.test(window.location.href)||"object"==typeof Windows&&"object"==typeof Windows.UI))}markConnectionHealthy(){}shutdown_(){this.isClosed_=!0,this.scriptTagHolder&&(this.scriptTagHolder.close(),this.scriptTagHolder=null),this.myDisconnFrame&&(document.body.removeChild(this.myDisconnFrame),this.myDisconnFrame=null),this.connectTimeoutTimer_&&(clearTimeout(this.connectTimeoutTimer_),this.connectTimeoutTimer_=null)}onClosed_(){this.isClosed_||(this.log_("Longpoll is closing itself"),this.shutdown_(),this.onDisconnect_&&(this.onDisconnect_(this.everConnected_),this.onDisconnect_=null))}close(){this.isClosed_||(this.log_("Longpoll is being closed."),this.shutdown_())}send(t){const e=(0,ue.Wl)(t);this.bytesSent+=e.length,this.stats_.incrementCounter("bytes_sent",e.length);const i=(0,ue.h$)(e),r=e3(i,1840);for(let s=0;s<r.length;s++)this.scriptTagHolder.enqueueSegment(this.curSegmentNum,r.length,r[s]),this.curSegmentNum++}addDisconnectPingFrame(t,e){if((0,ue.Yr)())return;this.myDisconnFrame=document.createElement("iframe");const i={dframe:"t"};i.id=t,i.pw=e,this.myDisconnFrame.src=this.urlFn(i),this.myDisconnFrame.style.display="none",document.body.appendChild(this.myDisconnFrame)}incrementIncomingBytes_(t){const e=(0,ue.Wl)(t).length;this.bytesReceived+=e,this.stats_.incrementCounter("bytes_received",e)}}class V2{constructor(t,e,i,r){if(this.onDisconnect=i,this.urlFn=r,this.outstandingRequests=new Set,this.pendingSegs=[],this.currentSerial=Math.floor(1e8*Math.random()),this.sendNewPolls=!0,(0,ue.Yr)())this.commandCB=t,this.onMessageCB=e;else{this.uniqueCallbackIdentifier=XH(),window["pLPCommand"+this.uniqueCallbackIdentifier]=t,window["pRTLPCB"+this.uniqueCallbackIdentifier]=e,this.myIFrame=V2.createIFrame_();let s="";this.myIFrame.src&&"javascript:"===this.myIFrame.src.substr(0,11)&&(s='<script>document.domain="'+document.domain+'";<\/script>');const c="<html><body>"+s+"</body></html>";try{this.myIFrame.doc.open(),this.myIFrame.doc.write(c),this.myIFrame.doc.close()}catch(p){No("frame writing exception"),p.stack&&No(p.stack),No(p)}}}static createIFrame_(){const t=document.createElement("iframe");if(t.style.display="none",!document.body)throw"Document body has not initialized. Wait to initialize Firebase until after the document is ready.";document.body.appendChild(t);try{t.contentWindow.document||No("No IE domain setting required")}catch{const i=document.domain;t.src="javascript:void((function(){document.open();document.domain='"+i+"';document.close();})())"}return t.contentDocument?t.doc=t.contentDocument:t.contentWindow?t.doc=t.contentWindow.document:t.document&&(t.doc=t.document),t}close(){this.alive=!1,this.myIFrame&&(this.myIFrame.doc.body.textContent="",setTimeout(()=>{null!==this.myIFrame&&(document.body.removeChild(this.myIFrame),this.myIFrame=null)},Math.floor(0)));const t=this.onDisconnect;t&&(this.onDisconnect=null,t())}startLongPoll(t,e){for(this.myID=t,this.myPW=e,this.alive=!0;this.newRequest_(););}newRequest_(){if(this.alive&&this.sendNewPolls&&this.outstandingRequests.size<(this.pendingSegs.length>0?2:1)){this.currentSerial++;const t={};t.id=this.myID,t.pw=this.myPW,t.ser=this.currentSerial;let e=this.urlFn(t),i="",r=0;for(;this.pendingSegs.length>0&&this.pendingSegs[0].d.length+30+i.length<=1870;){const c=this.pendingSegs.shift();i=i+"&seg"+r+"="+c.seg+"&ts"+r+"="+c.ts+"&d"+r+"="+c.d,r++}return e+=i,this.addLongPollTag_(e,this.currentSerial),!0}return!1}enqueueSegment(t,e,i){this.pendingSegs.push({seg:t,ts:e,d:i}),this.alive&&this.newRequest_()}addLongPollTag_(t,e){this.outstandingRequests.add(e);const i=()=>{this.outstandingRequests.delete(e),this.newRequest_()},r=setTimeout(i,Math.floor(25e3));this.addTag(t,()=>{clearTimeout(r),i()})}addTag(t,e){(0,ue.Yr)()?this.doNodeLongPoll(t,e):setTimeout(()=>{try{if(!this.sendNewPolls)return;const i=this.myIFrame.doc.createElement("script");i.type="text/javascript",i.async=!0,i.src=t,i.onload=i.onreadystatechange=function(){const r=i.readyState;(!r||"loaded"===r||"complete"===r)&&(i.onload=i.onreadystatechange=null,i.parentNode&&i.parentNode.removeChild(i),e())},i.onerror=()=>{No("Long-poll script failed to load: "+t),this.sendNewPolls=!1,this.close()},this.myIFrame.doc.body.appendChild(i)}catch{}},Math.floor(1))}}let kk=null;typeof MozWebSocket<"u"?kk=MozWebSocket:typeof WebSocket<"u"&&(kk=WebSocket);let Lw=(()=>{class n{constructor(e,i,r,s,c,p,_){this.connId=e,this.applicationId=r,this.appCheckToken=s,this.authToken=c,this.keepaliveTimer=null,this.frames=null,this.totalFrames=0,this.bytesSent=0,this.bytesReceived=0,this.log_=PD(this.connId),this.stats_=B2(i),this.connURL=n.connectionURL_(i,p,_,s,r),this.nodeAdmin=i.nodeAdmin}static connectionURL_(e,i,r,s,c){const p={v:"5"};return!(0,ue.Yr)()&&typeof location<"u"&&location.hostname&&l3.test(location.hostname)&&(p.r="f"),i&&(p.s=i),r&&(p.ls=r),s&&(p.ac=s),c&&(p.p=c),f3(e,d3,p)}open(e,i){this.onDisconnect=i,this.onMessage=e,this.log_("Websocket connecting to "+this.connURL),this.everConnected_=!1,Gy.set("previous_websocket_failure",!0);try{let r;if((0,ue.Yr)()){r={headers:{"User-Agent":`Firebase/5/${M2}/${process.platform}/${this.nodeAdmin?"AdminNode":"Node"}`,"X-Firebase-GMPID":this.applicationId||""}},this.authToken&&(r.headers.Authorization=`Bearer ${this.authToken}`),this.appCheckToken&&(r.headers["X-Firebase-AppCheck"]=this.appCheckToken);const c=process.env,p=0===this.connURL.indexOf("wss://")?c.HTTPS_PROXY||c.https_proxy:c.HTTP_PROXY||c.http_proxy;p&&(r.proxy={origin:p})}this.mySock=new kk(this.connURL,[],r)}catch(r){this.log_("Error instantiating WebSocket.");const s=r.message||r.data;return s&&this.log_(s),void this.onClosed_()}this.mySock.onopen=()=>{this.log_("Websocket connected."),this.everConnected_=!0},this.mySock.onclose=()=>{this.log_("Websocket connection was disconnected."),this.mySock=null,this.onClosed_()},this.mySock.onmessage=r=>{this.handleIncomingFrame(r)},this.mySock.onerror=r=>{this.log_("WebSocket error.  Closing connection.");const s=r.message||r.data;s&&this.log_(s),this.onClosed_()}}start(){}static forceDisallow(){n.forceDisallow_=!0}static isAvailable(){let e=!1;if(typeof navigator<"u"&&navigator.userAgent){const r=navigator.userAgent.match(/Android ([0-9]{0,}\.[0-9]{0,})/);r&&r.length>1&&parseFloat(r[1])<4.4&&(e=!0)}return!e&&null!==kk&&!n.forceDisallow_}static previouslyFailed(){return Gy.isInMemoryStorage||!0===Gy.get("previous_websocket_failure")}markConnectionHealthy(){Gy.remove("previous_websocket_failure")}appendFrame_(e){if(this.frames.push(e),this.frames.length===this.totalFrames){const i=this.frames.join("");this.frames=null;const r=(0,ue.cI)(i);this.onMessage(r)}}handleNewFrameCount_(e){this.totalFrames=e,this.frames=[]}extractFrameCount_(e){if((0,ue.hu)(null===this.frames,"We already have a frame buffer"),e.length<=6){const i=Number(e);if(!isNaN(i))return this.handleNewFrameCount_(i),null}return this.handleNewFrameCount_(1),e}handleIncomingFrame(e){if(null===this.mySock)return;const i=e.data;if(this.bytesReceived+=i.length,this.stats_.incrementCounter("bytes_received",i.length),this.resetKeepAlive(),null!==this.frames)this.appendFrame_(i);else{const r=this.extractFrameCount_(i);null!==r&&this.appendFrame_(r)}}send(e){this.resetKeepAlive();const i=(0,ue.Wl)(e);this.bytesSent+=i.length,this.stats_.incrementCounter("bytes_sent",i.length);const r=e3(i,16384);r.length>1&&this.sendString_(String(r.length));for(let s=0;s<r.length;s++)this.sendString_(r[s])}shutdown_(){this.isClosed_=!0,this.keepaliveTimer&&(clearInterval(this.keepaliveTimer),this.keepaliveTimer=null),this.mySock&&(this.mySock.close(),this.mySock=null)}onClosed_(){this.isClosed_||(this.log_("WebSocket is closing itself"),this.shutdown_(),this.onDisconnect&&(this.onDisconnect(this.everConnected_),this.onDisconnect=null))}close(){this.isClosed_||(this.log_("WebSocket is being closed"),this.shutdown_())}resetKeepAlive(){clearInterval(this.keepaliveTimer),this.keepaliveTimer=setInterval(()=>{this.mySock&&this.sendString_("0"),this.resetKeepAlive()},Math.floor(45e3))}sendString_(e){try{this.mySock.send(e)}catch(i){this.log_("Exception thrown from WebSocket.send():",i.message||i.data,"Closing connection."),setTimeout(this.onClosed_.bind(this),0)}}}return n.responsesRequiredToBeHealthy=2,n.healthyTimeout=3e4,n})(),b3=(()=>{class n{constructor(e){this.initTransports_(e)}static get ALL_TRANSPORTS(){return[um,Lw]}static get IS_TRANSPORT_INITIALIZED(){return this.globalTransportInitialized_}initTransports_(e){const i=Lw&&Lw.isAvailable();let r=i&&!Lw.previouslyFailed();if(e.webSocketOnly&&(i||ga("wss:// URL used, but browser isn't known to support websockets.  Trying anyway."),r=!0),r)this.transports_=[Lw];else{const s=this.transports_=[];for(const c of n.ALL_TRANSPORTS)c&&c.isAvailable()&&s.push(c);n.globalTransportInitialized_=!0}}initialTransport(){if(this.transports_.length>0)return this.transports_[0];throw new Error("No transports available")}upgradeTransport(){return this.transports_.length>1?this.transports_[1]:null}}return n.globalTransportInitialized_=!1,n})();class S3{constructor(t,e,i,r,s,c,p,_,C,M){this.id=t,this.repoInfo_=e,this.applicationId_=i,this.appCheckToken_=r,this.authToken_=s,this.onMessage_=c,this.onReady_=p,this.onDisconnect_=_,this.onKill_=C,this.lastSessionId=M,this.connectionCount=0,this.pendingDataMessages=[],this.state_=0,this.log_=PD("c:"+this.id+":"),this.transportManager_=new b3(e),this.log_("Connection created"),this.start_()}start_(){const t=this.transportManager_.initialTransport();this.conn_=new t(this.nextTransportId_(),this.repoInfo_,this.applicationId_,this.appCheckToken_,this.authToken_,null,this.lastSessionId),this.primaryResponsesRequired_=t.responsesRequiredToBeHealthy||0;const e=this.connReceiver_(this.conn_),i=this.disconnReceiver_(this.conn_);this.tx_=this.conn_,this.rx_=this.conn_,this.secondaryConn_=null,this.isHealthy_=!1,setTimeout(()=>{this.conn_&&this.conn_.open(e,i)},Math.floor(0));const r=t.healthyTimeout||0;r>0&&(this.healthyTimeout_=FD(()=>{this.healthyTimeout_=null,this.isHealthy_||(this.conn_&&this.conn_.bytesReceived>102400?(this.log_("Connection exceeded healthy timeout but has received "+this.conn_.bytesReceived+" bytes.  Marking connection healthy."),this.isHealthy_=!0,this.conn_.markConnectionHealthy()):this.conn_&&this.conn_.bytesSent>10240?this.log_("Connection exceeded healthy timeout but has sent "+this.conn_.bytesSent+" bytes.  Leaving connection alive."):(this.log_("Closing unhealthy connection after timeout."),this.close()))},Math.floor(r)))}nextTransportId_(){return"c:"+this.id+":"+this.connectionCount++}disconnReceiver_(t){return e=>{t===this.conn_?this.onConnectionLost_(e):t===this.secondaryConn_?(this.log_("Secondary connection lost."),this.onSecondaryConnectionLost_()):this.log_("closing an old connection")}}connReceiver_(t){return e=>{2!==this.state_&&(t===this.rx_?this.onPrimaryMessageReceived_(e):t===this.secondaryConn_?this.onSecondaryMessageReceived_(e):this.log_("message on old connection"))}}sendRequest(t){this.sendData_({t:"d",d:t})}tryCleanupConnection(){this.tx_===this.secondaryConn_&&this.rx_===this.secondaryConn_&&(this.log_("cleaning up and promoting a connection: "+this.secondaryConn_.connId),this.conn_=this.secondaryConn_,this.secondaryConn_=null)}onSecondaryControl_(t){if("t"in t){const e=t.t;"a"===e?this.upgradeIfSecondaryHealthy_():"r"===e?(this.log_("Got a reset on secondary, closing it"),this.secondaryConn_.close(),(this.tx_===this.secondaryConn_||this.rx_===this.secondaryConn_)&&this.close()):"o"===e&&(this.log_("got pong on secondary."),this.secondaryResponsesRequired_--,this.upgradeIfSecondaryHealthy_())}}onSecondaryMessageReceived_(t){const e=RD("t",t),i=RD("d",t);if("c"===e)this.onSecondaryControl_(i);else{if("d"!==e)throw new Error("Unknown protocol layer: "+e);this.pendingDataMessages.push(i)}}upgradeIfSecondaryHealthy_(){this.secondaryResponsesRequired_<=0?(this.log_("Secondary connection is healthy."),this.isHealthy_=!0,this.secondaryConn_.markConnectionHealthy(),this.proceedWithUpgrade_()):(this.log_("sending ping on secondary."),this.secondaryConn_.send({t:"c",d:{t:"p",d:{}}}))}proceedWithUpgrade_(){this.secondaryConn_.start(),this.log_("sending client ack on secondary"),this.secondaryConn_.send({t:"c",d:{t:"a",d:{}}}),this.log_("Ending transmission on primary"),this.conn_.send({t:"c",d:{t:"n",d:{}}}),this.tx_=this.secondaryConn_,this.tryCleanupConnection()}onPrimaryMessageReceived_(t){const e=RD("t",t),i=RD("d",t);"c"===e?this.onControl_(i):"d"===e&&this.onDataMessage_(i)}onDataMessage_(t){this.onPrimaryResponse_(),this.onMessage_(t)}onPrimaryResponse_(){this.isHealthy_||(this.primaryResponsesRequired_--,this.primaryResponsesRequired_<=0&&(this.log_("Primary connection is healthy."),this.isHealthy_=!0,this.conn_.markConnectionHealthy()))}onControl_(t){const e=RD("t",t);if("d"in t){const i=t.d;if("h"===e){const r=Object.assign({},i);this.repoInfo_.isUsingEmulator&&(r.h=this.repoInfo_.host),this.onHandshake_(r)}else if("n"===e){this.log_("recvd end transmission on primary"),this.rx_=this.secondaryConn_;for(let r=0;r<this.pendingDataMessages.length;++r)this.onDataMessage_(this.pendingDataMessages[r]);this.pendingDataMessages=[],this.tryCleanupConnection()}else"s"===e?this.onConnectionShutdown_(i):"r"===e?this.onReset_(i):"e"===e?O2("Server Error: "+i):"o"===e?(this.log_("got pong on primary."),this.onPrimaryResponse_(),this.sendPingOnPrimaryIfNecessary_()):O2("Unknown control packet command: "+e)}}onHandshake_(t){const e=t.ts,i=t.v,r=t.h;this.sessionId=t.s,this.repoInfo_.host=r,0===this.state_&&(this.conn_.start(),this.onConnectionEstablished_(this.conn_,e),"5"!==i&&ga("Protocol version mismatch detected"),this.tryStartUpgrade_())}tryStartUpgrade_(){const t=this.transportManager_.upgradeTransport();t&&this.startUpgrade_(t)}startUpgrade_(t){this.secondaryConn_=new t(this.nextTransportId_(),this.repoInfo_,this.applicationId_,this.appCheckToken_,this.authToken_,this.sessionId),this.secondaryResponsesRequired_=t.responsesRequiredToBeHealthy||0;const e=this.connReceiver_(this.secondaryConn_),i=this.disconnReceiver_(this.secondaryConn_);this.secondaryConn_.open(e,i),FD(()=>{this.secondaryConn_&&(this.log_("Timed out trying to upgrade."),this.secondaryConn_.close())},Math.floor(6e4))}onReset_(t){this.log_("Reset packet received.  New host: "+t),this.repoInfo_.host=t,1===this.state_?this.close():(this.closeConnections_(),this.start_())}onConnectionEstablished_(t,e){this.log_("Realtime connection established."),this.conn_=t,this.state_=1,this.onReady_&&(this.onReady_(e,this.sessionId),this.onReady_=null),0===this.primaryResponsesRequired_?(this.log_("Primary connection is healthy."),this.isHealthy_=!0):FD(()=>{this.sendPingOnPrimaryIfNecessary_()},Math.floor(5e3))}sendPingOnPrimaryIfNecessary_(){!this.isHealthy_&&1===this.state_&&(this.log_("sending ping on primary."),this.sendData_({t:"c",d:{t:"p",d:{}}}))}onSecondaryConnectionLost_(){const t=this.secondaryConn_;this.secondaryConn_=null,(this.tx_===t||this.rx_===t)&&this.close()}onConnectionLost_(t){this.conn_=null,t||0!==this.state_?1===this.state_&&this.log_("Realtime connection lost."):(this.log_("Realtime connection failed."),this.repoInfo_.isCacheableHost()&&(Gy.remove("host:"+this.repoInfo_.host),this.repoInfo_.internalHost=this.repoInfo_.host)),this.close()}onConnectionShutdown_(t){this.log_("Connection shutdown command received. Shutting down..."),this.onKill_&&(this.onKill_(t),this.onKill_=null),this.onDisconnect_=null,this.close()}sendData_(t){if(1!==this.state_)throw"Connection is not connected";this.tx_.send(t)}close(){2!==this.state_&&(this.log_("Closing realtime connection."),this.state_=2,this.closeConnections_(),this.onDisconnect_&&(this.onDisconnect_(),this.onDisconnect_=null))}closeConnections_(){this.log_("Shutting down all connections"),this.conn_&&(this.conn_.close(),this.conn_=null),this.secondaryConn_&&(this.secondaryConn_.close(),this.secondaryConn_=null),this.healthyTimeout_&&(clearTimeout(this.healthyTimeout_),this.healthyTimeout_=null)}}class A3{put(t,e,i,r){}merge(t,e,i,r){}refreshAuthToken(t){}refreshAppCheckToken(t){}onDisconnectPut(t,e,i){}onDisconnectMerge(t,e,i){}onDisconnectCancel(t,e){}reportStats(t){}}class I3{constructor(t){this.allowedEvents_=t,this.listeners_={},(0,ue.hu)(Array.isArray(t)&&t.length>0,"Requires a non-empty array")}trigger(t,...e){if(Array.isArray(this.listeners_[t])){const i=[...this.listeners_[t]];for(let r=0;r<i.length;r++)i[r].callback.apply(i[r].context,e)}}on(t,e,i){this.validateEventType_(t),this.listeners_[t]=this.listeners_[t]||[],this.listeners_[t].push({callback:e,context:i});const r=this.getInitialEvent(t);r&&e.apply(i,r)}off(t,e,i){this.validateEventType_(t);const r=this.listeners_[t]||[];for(let s=0;s<r.length;s++)if(r[s].callback===e&&(!i||i===r[s].context))return void r.splice(s,1)}validateEventType_(t){(0,ue.hu)(this.allowedEvents_.find(e=>e===t),"Unknown event: "+t)}}class Ok extends I3{constructor(){super(["online"]),this.online_=!0,typeof window<"u"&&typeof window.addEventListener<"u"&&!(0,ue.uI)()&&(window.addEventListener("online",()=>{this.online_||(this.online_=!0,this.trigger("online",!0))},!1),window.addEventListener("offline",()=>{this.online_&&(this.online_=!1,this.trigger("online",!1))},!1))}static getInstance(){return new Ok}getInitialEvent(t){return(0,ue.hu)("online"===t,"Unknown event type: "+t),[this.online_]}currentlyOnline(){return this.online_}}class ur{constructor(t,e){if(void 0===e){this.pieces_=t.split("/");let i=0;for(let r=0;r<this.pieces_.length;r++)this.pieces_[r].length>0&&(this.pieces_[i]=this.pieces_[r],i++);this.pieces_.length=i,this.pieceNum_=0}else this.pieces_=t,this.pieceNum_=e}toString(){let t="";for(let e=this.pieceNum_;e<this.pieces_.length;e++)""!==this.pieces_[e]&&(t+="/"+this.pieces_[e]);return t||"/"}}function $i(){return new ur("")}function pi(n){return n.pieceNum_>=n.pieces_.length?null:n.pieces_[n.pieceNum_]}function dm(n){return n.pieces_.length-n.pieceNum_}function Sr(n){let t=n.pieceNum_;return t<n.pieces_.length&&t++,new ur(n.pieces_,t)}function U2(n){return n.pieceNum_<n.pieces_.length?n.pieces_[n.pieces_.length-1]:null}function BD(n,t=0){return n.pieces_.slice(n.pieceNum_+t)}function O3(n){if(n.pieceNum_>=n.pieces_.length)return null;const t=[];for(let e=n.pieceNum_;e<n.pieces_.length-1;e++)t.push(n.pieces_[e]);return new ur(t,0)}function cs(n,t){const e=[];for(let i=n.pieceNum_;i<n.pieces_.length;i++)e.push(n.pieces_[i]);if(t instanceof ur)for(let i=t.pieceNum_;i<t.pieces_.length;i++)e.push(t.pieces_[i]);else{const i=t.split("/");for(let r=0;r<i.length;r++)i[r].length>0&&e.push(i[r])}return new ur(e,0)}function gi(n){return n.pieceNum_>=n.pieces_.length}function Fa(n,t){const e=pi(n),i=pi(t);if(null===e)return t;if(e===i)return Fa(Sr(n),Sr(t));throw new Error("INTERNAL ERROR: innerPath ("+t+") is not within outerPath ("+n+")")}function fY(n,t){const e=BD(n,0),i=BD(t,0);for(let r=0;r<e.length&&r<i.length;r++){const s=$y(e[r],i[r]);if(0!==s)return s}return e.length===i.length?0:e.length<i.length?-1:1}function z2(n,t){if(dm(n)!==dm(t))return!1;for(let e=n.pieceNum_,i=t.pieceNum_;e<=n.pieces_.length;e++,i++)if(n.pieces_[e]!==t.pieces_[i])return!1;return!0}function kc(n,t){let e=n.pieceNum_,i=t.pieceNum_;if(dm(n)>dm(t))return!1;for(;e<n.pieces_.length;){if(n.pieces_[e]!==t.pieces_[i])return!1;++e,++i}return!0}class pY{constructor(t,e){this.errorPrefix_=e,this.parts_=BD(t,0),this.byteLength_=Math.max(1,this.parts_.length);for(let i=0;i<this.parts_.length;i++)this.byteLength_+=(0,ue.ug)(this.parts_[i]);N3(this)}}function N3(n){if(n.byteLength_>768)throw new Error(n.errorPrefix_+"has a key path longer than 768 bytes ("+n.byteLength_+").");if(n.parts_.length>32)throw new Error(n.errorPrefix_+"path specified exceeds the maximum depth that can be written (32) or object contains a cycle "+Yy(n))}function Yy(n){return 0===n.parts_.length?"":"in property '"+n.parts_.join(".")+"'"}class j2 extends I3{constructor(){let t,e;super(["visible"]),typeof document<"u"&&typeof document.addEventListener<"u"&&(typeof document.hidden<"u"?(e="visibilitychange",t="hidden"):typeof document.mozHidden<"u"?(e="mozvisibilitychange",t="mozHidden"):typeof document.msHidden<"u"?(e="msvisibilitychange",t="msHidden"):typeof document.webkitHidden<"u"&&(e="webkitvisibilitychange",t="webkitHidden")),this.visible_=!0,e&&document.addEventListener(e,()=>{const i=!document[t];i!==this.visible_&&(this.visible_=i,this.trigger("visible",i))},!1)}static getInstance(){return new j2}getInitialEvent(t){return(0,ue.hu)("visible"===t,"Unknown event type: "+t),[this.visible_]}}const VD=1e3;let Pk,qy=(()=>{class n extends A3{constructor(e,i,r,s,c,p,_,C){if(super(),this.repoInfo_=e,this.applicationId_=i,this.onDataUpdate_=r,this.onConnectStatus_=s,this.onServerInfoUpdate_=c,this.authTokenProvider_=p,this.appCheckTokenProvider_=_,this.authOverride_=C,this.id=n.nextPersistentConnectionId_++,this.log_=PD("p:"+this.id+":"),this.interruptReasons_={},this.listens=new Map,this.outstandingPuts_=[],this.outstandingGets_=[],this.outstandingPutCount_=0,this.outstandingGetCount_=0,this.onDisconnectRequestQueue_=[],this.connected_=!1,this.reconnectDelay_=VD,this.maxReconnectDelay_=3e5,this.securityDebugCallback_=null,this.lastSessionId=null,this.establishConnectionTimer_=null,this.visible_=!1,this.requestCBHash_={},this.requestNumber_=0,this.realtime_=null,this.authToken_=null,this.appCheckToken_=null,this.forceTokenRefresh_=!1,this.invalidAuthTokenCount_=0,this.invalidAppCheckTokenCount_=0,this.firstConnection_=!0,this.lastConnectionAttemptTime_=null,this.lastConnectionEstablishedTime_=null,C&&!(0,ue.Yr)())throw new Error("Auth override specified in options, but not supported on non Node.js platforms");j2.getInstance().on("visible",this.onVisible_,this),-1===e.host.indexOf("fblocal")&&Ok.getInstance().on("online",this.onOnline_,this)}sendRequest(e,i,r){const s=++this.requestNumber_,c={r:s,a:e,b:i};this.log_((0,ue.Wl)(c)),(0,ue.hu)(this.connected_,"sendRequest call when we're not connected not allowed."),this.realtime_.sendRequest(c),r&&(this.requestCBHash_[s]=r)}get(e){this.initConnection_();const i=new ue.BH,s={action:"g",request:{p:e._path.toString(),q:e._queryObject},onComplete:p=>{const _=p.d;"ok"===p.s?i.resolve(_):i.reject(_)}};return this.outstandingGets_.push(s),this.outstandingGetCount_++,this.connected_&&this.sendGet_(this.outstandingGets_.length-1),i.promise}listen(e,i,r,s){this.initConnection_();const c=e._queryIdentifier,p=e._path.toString();this.log_("Listen called for "+p+" "+c),this.listens.has(p)||this.listens.set(p,new Map),(0,ue.hu)(e._queryParams.isDefault()||!e._queryParams.loadsAllData(),"listen() called for non-default but complete query"),(0,ue.hu)(!this.listens.get(p).has(c),"listen() called twice for same path/queryId.");const _={onComplete:s,hashFn:i,query:e,tag:r};this.listens.get(p).set(c,_),this.connected_&&this.sendListen_(_)}sendGet_(e){const i=this.outstandingGets_[e];this.sendRequest("g",i.request,r=>{delete this.outstandingGets_[e],this.outstandingGetCount_--,0===this.outstandingGetCount_&&(this.outstandingGets_=[]),i.onComplete&&i.onComplete(r)})}sendListen_(e){const i=e.query,r=i._path.toString(),s=i._queryIdentifier;this.log_("Listen on "+r+" for "+s);const c={p:r};e.tag&&(c.q=i._queryObject,c.t=e.tag),c.h=e.hashFn(),this.sendRequest("q",c,_=>{const C=_.d,M=_.s;n.warnOnListenWarnings_(C,i),(this.listens.get(r)&&this.listens.get(r).get(s))===e&&(this.log_("listen response",_),"ok"!==M&&this.removeListen_(r,s),e.onComplete&&e.onComplete(M,C))})}static warnOnListenWarnings_(e,i){if(e&&"object"==typeof e&&(0,ue.r3)(e,"w")){const r=(0,ue.DV)(e,"w");if(Array.isArray(r)&&~r.indexOf("no_index")){const s='".indexOn": "'+i._queryParams.getIndex().toString()+'"',c=i._path.toString();ga(`Using an unspecified index. Your data will be downloaded and filtered on the client. Consider adding ${s} at ${c} to your security rules for better performance.`)}}}refreshAuthToken(e){this.authToken_=e,this.log_("Auth token refreshed"),this.authToken_?this.tryAuth():this.connected_&&this.sendRequest("unauth",{},()=>{}),this.reduceReconnectDelayIfAdminCredential_(e)}reduceReconnectDelayIfAdminCredential_(e){(e&&40===e.length||(0,ue.GJ)(e))&&(this.log_("Admin auth credential detected.  Reducing max reconnect time."),this.maxReconnectDelay_=3e4)}refreshAppCheckToken(e){this.appCheckToken_=e,this.log_("App check token refreshed"),this.appCheckToken_?this.tryAppCheck():this.connected_&&this.sendRequest("unappeck",{},()=>{})}tryAuth(){if(this.connected_&&this.authToken_){const e=this.authToken_,i=(0,ue.w9)(e)?"auth":"gauth",r={cred:e};null===this.authOverride_?r.noauth=!0:"object"==typeof this.authOverride_&&(r.authvar=this.authOverride_),this.sendRequest(i,r,s=>{const c=s.s,p=s.d||"error";this.authToken_===e&&("ok"===c?this.invalidAuthTokenCount_=0:this.onAuthRevoked_(c,p))})}}tryAppCheck(){this.connected_&&this.appCheckToken_&&this.sendRequest("appcheck",{token:this.appCheckToken_},e=>{const i=e.s,r=e.d||"error";"ok"===i?this.invalidAppCheckTokenCount_=0:this.onAppCheckRevoked_(i,r)})}unlisten(e,i){const r=e._path.toString(),s=e._queryIdentifier;this.log_("Unlisten called for "+r+" "+s),(0,ue.hu)(e._queryParams.isDefault()||!e._queryParams.loadsAllData(),"unlisten() called for non-default but complete query"),this.removeListen_(r,s)&&this.connected_&&this.sendUnlisten_(r,s,e._queryObject,i)}sendUnlisten_(e,i,r,s){this.log_("Unlisten on "+e+" for "+i);const c={p:e};s&&(c.q=r,c.t=s),this.sendRequest("n",c)}onDisconnectPut(e,i,r){this.initConnection_(),this.connected_?this.sendOnDisconnect_("o",e,i,r):this.onDisconnectRequestQueue_.push({pathString:e,action:"o",data:i,onComplete:r})}onDisconnectMerge(e,i,r){this.initConnection_(),this.connected_?this.sendOnDisconnect_("om",e,i,r):this.onDisconnectRequestQueue_.push({pathString:e,action:"om",data:i,onComplete:r})}onDisconnectCancel(e,i){this.initConnection_(),this.connected_?this.sendOnDisconnect_("oc",e,null,i):this.onDisconnectRequestQueue_.push({pathString:e,action:"oc",data:null,onComplete:i})}sendOnDisconnect_(e,i,r,s){const c={p:i,d:r};this.log_("onDisconnect "+e,c),this.sendRequest(e,c,p=>{s&&setTimeout(()=>{s(p.s,p.d)},Math.floor(0))})}put(e,i,r,s){this.putInternal("p",e,i,r,s)}merge(e,i,r,s){this.putInternal("m",e,i,r,s)}putInternal(e,i,r,s,c){this.initConnection_();const p={p:i,d:r};void 0!==c&&(p.h=c),this.outstandingPuts_.push({action:e,request:p,onComplete:s}),this.outstandingPutCount_++,this.connected_?this.sendPut_(this.outstandingPuts_.length-1):this.log_("Buffering put: "+i)}sendPut_(e){const i=this.outstandingPuts_[e].action,r=this.outstandingPuts_[e].request,s=this.outstandingPuts_[e].onComplete;this.outstandingPuts_[e].queued=this.connected_,this.sendRequest(i,r,c=>{this.log_(i+" response",c),delete this.outstandingPuts_[e],this.outstandingPutCount_--,0===this.outstandingPutCount_&&(this.outstandingPuts_=[]),s&&s(c.s,c.d)})}reportStats(e){if(this.connected_){const i={c:e};this.log_("reportStats",i),this.sendRequest("s",i,r=>{"ok"!==r.s&&this.log_("reportStats","Error sending stats: "+r.d)})}}onDataMessage_(e){if("r"in e){this.log_("from server: "+(0,ue.Wl)(e));const i=e.r,r=this.requestCBHash_[i];r&&(delete this.requestCBHash_[i],r(e.b))}else{if("error"in e)throw"A server-side error has occurred: "+e.error;"a"in e&&this.onDataPush_(e.a,e.b)}}onDataPush_(e,i){this.log_("handleServerMessage",e,i),"d"===e?this.onDataUpdate_(i.p,i.d,!1,i.t):"m"===e?this.onDataUpdate_(i.p,i.d,!0,i.t):"c"===e?this.onListenRevoked_(i.p,i.q):"ac"===e?this.onAuthRevoked_(i.s,i.d):"apc"===e?this.onAppCheckRevoked_(i.s,i.d):"sd"===e?this.onSecurityDebugPacket_(i):O2("Unrecognized action received from server: "+(0,ue.Wl)(e)+"\nAre you using the latest client?")}onReady_(e,i){this.log_("connection ready"),this.connected_=!0,this.lastConnectionEstablishedTime_=(new Date).getTime(),this.handleTimestamp_(e),this.lastSessionId=i,this.firstConnection_&&this.sendConnectStats_(),this.restoreState_(),this.firstConnection_=!1,this.onConnectStatus_(!0)}scheduleConnect_(e){(0,ue.hu)(!this.realtime_,"Scheduling a connect when we're already connected/ing?"),this.establishConnectionTimer_&&clearTimeout(this.establishConnectionTimer_),this.establishConnectionTimer_=setTimeout(()=>{this.establishConnectionTimer_=null,this.establishConnection_()},Math.floor(e))}initConnection_(){!this.realtime_&&this.firstConnection_&&this.scheduleConnect_(0)}onVisible_(e){e&&!this.visible_&&this.reconnectDelay_===this.maxReconnectDelay_&&(this.log_("Window became visible.  Reducing delay."),this.reconnectDelay_=VD,this.realtime_||this.scheduleConnect_(0)),this.visible_=e}onOnline_(e){e?(this.log_("Browser went online."),this.reconnectDelay_=VD,this.realtime_||this.scheduleConnect_(0)):(this.log_("Browser went offline.  Killing connection."),this.realtime_&&this.realtime_.close())}onRealtimeDisconnect_(){if(this.log_("data client disconnected"),this.connected_=!1,this.realtime_=null,this.cancelSentTransactions_(),this.requestCBHash_={},this.shouldReconnect_()){this.visible_?this.lastConnectionEstablishedTime_&&((new Date).getTime()-this.lastConnectionEstablishedTime_>3e4&&(this.reconnectDelay_=VD),this.lastConnectionEstablishedTime_=null):(this.log_("Window isn't visible.  Delaying reconnect."),this.reconnectDelay_=this.maxReconnectDelay_,this.lastConnectionAttemptTime_=(new Date).getTime());const e=(new Date).getTime()-this.lastConnectionAttemptTime_;let i=Math.max(0,this.reconnectDelay_-e);i=Math.random()*i,this.log_("Trying to reconnect in "+i+"ms"),this.scheduleConnect_(i),this.reconnectDelay_=Math.min(this.maxReconnectDelay_,1.3*this.reconnectDelay_)}this.onConnectStatus_(!1)}establishConnection_(){var e=this;return(0,it.Z)(function*(){if(e.shouldReconnect_()){e.log_("Making a connection attempt"),e.lastConnectionAttemptTime_=(new Date).getTime(),e.lastConnectionEstablishedTime_=null;const i=e.onDataMessage_.bind(e),r=e.onReady_.bind(e),s=e.onRealtimeDisconnect_.bind(e),c=e.id+":"+n.nextConnectionId_++,p=e.lastSessionId;let _=!1,C=null;const M=function(){C?C.close():(_=!0,s())};e.realtime_={close:M,sendRequest:function(K){(0,ue.hu)(C,"sendRequest call when we're not connected not allowed."),C.sendRequest(K)}};const W=e.forceTokenRefresh_;e.forceTokenRefresh_=!1;try{const[K,oe]=yield Promise.all([e.authTokenProvider_.getToken(W),e.appCheckTokenProvider_.getToken(W)]);_?No("getToken() completed but was canceled"):(No("getToken() completed. Creating connection."),e.authToken_=K&&K.accessToken,e.appCheckToken_=oe&&oe.token,C=new S3(c,e.repoInfo_,e.applicationId_,e.appCheckToken_,e.authToken_,i,r,s,ae=>{ga(ae+" ("+e.repoInfo_.toString()+")"),e.interrupt("server_kill")},p))}catch(K){e.log_("Failed to get token: "+K),_||(e.repoInfo_.nodeAdmin&&ga(K),M())}}})()}interrupt(e){No("Interrupting connection for reason: "+e),this.interruptReasons_[e]=!0,this.realtime_?this.realtime_.close():(this.establishConnectionTimer_&&(clearTimeout(this.establishConnectionTimer_),this.establishConnectionTimer_=null),this.connected_&&this.onRealtimeDisconnect_())}resume(e){No("Resuming connection for reason: "+e),delete this.interruptReasons_[e],(0,ue.xb)(this.interruptReasons_)&&(this.reconnectDelay_=VD,this.realtime_||this.scheduleConnect_(0))}handleTimestamp_(e){const i=e-(new Date).getTime();this.onServerInfoUpdate_({serverTimeOffset:i})}cancelSentTransactions_(){for(let e=0;e<this.outstandingPuts_.length;e++){const i=this.outstandingPuts_[e];i&&"h"in i.request&&i.queued&&(i.onComplete&&i.onComplete("disconnect"),delete this.outstandingPuts_[e],this.outstandingPutCount_--)}0===this.outstandingPutCount_&&(this.outstandingPuts_=[])}onListenRevoked_(e,i){let r;r=i?i.map(c=>N2(c)).join("$"):"default";const s=this.removeListen_(e,r);s&&s.onComplete&&s.onComplete("permission_denied")}removeListen_(e,i){const r=new ur(e).toString();let s;if(this.listens.has(r)){const c=this.listens.get(r);s=c.get(i),c.delete(i),0===c.size&&this.listens.delete(r)}else s=void 0;return s}onAuthRevoked_(e,i){No("Auth token revoked: "+e+"/"+i),this.authToken_=null,this.forceTokenRefresh_=!0,this.realtime_.close(),("invalid_token"===e||"permission_denied"===e)&&(this.invalidAuthTokenCount_++,this.invalidAuthTokenCount_>=3&&(this.reconnectDelay_=3e4,this.authTokenProvider_.notifyForInvalidToken()))}onAppCheckRevoked_(e,i){No("App check token revoked: "+e+"/"+i),this.appCheckToken_=null,this.forceTokenRefresh_=!0,("invalid_token"===e||"permission_denied"===e)&&(this.invalidAppCheckTokenCount_++,this.invalidAppCheckTokenCount_>=3&&this.appCheckTokenProvider_.notifyForInvalidToken())}onSecurityDebugPacket_(e){this.securityDebugCallback_?this.securityDebugCallback_(e):"msg"in e&&console.log("FIREBASE: "+e.msg.replace("\n","\nFIREBASE: "))}restoreState_(){this.tryAuth(),this.tryAppCheck();for(const e of this.listens.values())for(const i of e.values())this.sendListen_(i);for(let e=0;e<this.outstandingPuts_.length;e++)this.outstandingPuts_[e]&&this.sendPut_(e);for(;this.onDisconnectRequestQueue_.length;){const e=this.onDisconnectRequestQueue_.shift();this.sendOnDisconnect_(e.action,e.pathString,e.data,e.onComplete)}for(let e=0;e<this.outstandingGets_.length;e++)this.outstandingGets_[e]&&this.sendGet_(e)}sendConnectStats_(){const e={};let i="js";(0,ue.Yr)()&&(i=this.repoInfo_.nodeAdmin?"admin_node":"node"),e["sdk."+i+"."+M2.replace(/\./g,"-")]=1,(0,ue.uI)()?e["framework.cordova"]=1:(0,ue.b$)()&&(e["framework.reactnative"]=1),this.reportStats(e)}shouldReconnect_(){const e=Ok.getInstance().currentlyOnline();return(0,ue.xb)(this.interruptReasons_)&&e}}return n.nextPersistentConnectionId_=0,n.nextConnectionId_=0,n})();class Ti{constructor(t,e){this.name=t,this.node=e}static Wrap(t,e){return new Ti(t,e)}}class Nk{getCompare(){return this.compare.bind(this)}indexedValueChanged(t,e){const i=new Ti(cm,t),r=new Ti(cm,e);return 0!==this.compare(i,r)}minPost(){return Ti.MIN}}class F3 extends Nk{static get __EMPTY_NODE(){return Pk}static set __EMPTY_NODE(t){Pk=t}compare(t,e){return $y(t.name,e.name)}isDefinedOn(t){throw(0,ue.g5)("KeyIndex.isDefinedOn not expected to be called.")}indexedValueChanged(t,e){return!1}minPost(){return Ti.MIN}maxPost(){return new Ti(Qf,Pk)}makePost(t,e){return(0,ue.hu)("string"==typeof t,"KeyIndex indexValue must always be a string."),new Ti(t,Pk)}toString(){return".key"}}const uh=new F3;class Rk{constructor(t,e,i,r,s=null){this.isReverse_=r,this.resultGenerator_=s,this.nodeStack_=[];let c=1;for(;!t.isEmpty();)if(c=e?i(t.key,e):1,r&&(c*=-1),c<0)t=this.isReverse_?t.left:t.right;else{if(0===c){this.nodeStack_.push(t);break}this.nodeStack_.push(t),t=this.isReverse_?t.right:t.left}}getNext(){if(0===this.nodeStack_.length)return null;let e,t=this.nodeStack_.pop();if(e=this.resultGenerator_?this.resultGenerator_(t.key,t.value):{key:t.key,value:t.value},this.isReverse_)for(t=t.left;!t.isEmpty();)this.nodeStack_.push(t),t=t.right;else for(t=t.right;!t.isEmpty();)this.nodeStack_.push(t),t=t.left;return e}hasNext(){return this.nodeStack_.length>0}peek(){if(0===this.nodeStack_.length)return null;const t=this.nodeStack_[this.nodeStack_.length-1];return this.resultGenerator_?this.resultGenerator_(t.key,t.value):{key:t.key,value:t.value}}}let W2,Ru=(()=>{class n{constructor(e,i,r,s,c){this.key=e,this.value=i,this.color=r??n.RED,this.left=s??il.EMPTY_NODE,this.right=c??il.EMPTY_NODE}copy(e,i,r,s,c){return new n(e??this.key,i??this.value,r??this.color,s??this.left,c??this.right)}count(){return this.left.count()+1+this.right.count()}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||!!e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min_(){return this.left.isEmpty()?this:this.left.min_()}minKey(){return this.min_().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,i,r){let s=this;const c=r(e,s.key);return s=c<0?s.copy(null,null,null,s.left.insert(e,i,r),null):0===c?s.copy(null,i,null,null,null):s.copy(null,null,null,null,s.right.insert(e,i,r)),s.fixUp_()}removeMin_(){if(this.left.isEmpty())return il.EMPTY_NODE;let e=this;return!e.left.isRed_()&&!e.left.left.isRed_()&&(e=e.moveRedLeft_()),e=e.copy(null,null,null,e.left.removeMin_(),null),e.fixUp_()}remove(e,i){let r,s;if(r=this,i(e,r.key)<0)!r.left.isEmpty()&&!r.left.isRed_()&&!r.left.left.isRed_()&&(r=r.moveRedLeft_()),r=r.copy(null,null,null,r.left.remove(e,i),null);else{if(r.left.isRed_()&&(r=r.rotateRight_()),!r.right.isEmpty()&&!r.right.isRed_()&&!r.right.left.isRed_()&&(r=r.moveRedRight_()),0===i(e,r.key)){if(r.right.isEmpty())return il.EMPTY_NODE;s=r.right.min_(),r=r.copy(s.key,s.value,null,null,r.right.removeMin_())}r=r.copy(null,null,null,null,r.right.remove(e,i))}return r.fixUp_()}isRed_(){return this.color}fixUp_(){let e=this;return e.right.isRed_()&&!e.left.isRed_()&&(e=e.rotateLeft_()),e.left.isRed_()&&e.left.left.isRed_()&&(e=e.rotateRight_()),e.left.isRed_()&&e.right.isRed_()&&(e=e.colorFlip_()),e}moveRedLeft_(){let e=this.colorFlip_();return e.right.left.isRed_()&&(e=e.copy(null,null,null,null,e.right.rotateRight_()),e=e.rotateLeft_(),e=e.colorFlip_()),e}moveRedRight_(){let e=this.colorFlip_();return e.left.left.isRed_()&&(e=e.rotateRight_(),e=e.colorFlip_()),e}rotateLeft_(){const e=this.copy(null,null,n.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight_(){const e=this.copy(null,null,n.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip_(){const e=this.left.copy(null,null,!this.left.color,null,null),i=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,i)}checkMaxDepth_(){const e=this.check_();return Math.pow(2,e)<=this.count()+1}check_(){if(this.isRed_()&&this.left.isRed_())throw new Error("Red node has red child("+this.key+","+this.value+")");if(this.right.isRed_())throw new Error("Right child of ("+this.key+","+this.value+") is red");const e=this.left.check_();if(e!==this.right.check_())throw new Error("Black depths differ");return e+(this.isRed_()?0:1)}}return n.RED=!0,n.BLACK=!1,n})();class il{constructor(t,e=il.EMPTY_NODE){this.comparator_=t,this.root_=e}insert(t,e){return new il(this.comparator_,this.root_.insert(t,e,this.comparator_).copy(null,null,Ru.BLACK,null,null))}remove(t){return new il(this.comparator_,this.root_.remove(t,this.comparator_).copy(null,null,Ru.BLACK,null,null))}get(t){let e,i=this.root_;for(;!i.isEmpty();){if(e=this.comparator_(t,i.key),0===e)return i.value;e<0?i=i.left:e>0&&(i=i.right)}return null}getPredecessorKey(t){let e,i=this.root_,r=null;for(;!i.isEmpty();){if(e=this.comparator_(t,i.key),0===e){if(i.left.isEmpty())return r?r.key:null;for(i=i.left;!i.right.isEmpty();)i=i.right;return i.key}e<0?i=i.left:e>0&&(r=i,i=i.right)}throw new Error("Attempted to find predecessor key for a nonexistent key.  What gives?")}isEmpty(){return this.root_.isEmpty()}count(){return this.root_.count()}minKey(){return this.root_.minKey()}maxKey(){return this.root_.maxKey()}inorderTraversal(t){return this.root_.inorderTraversal(t)}reverseTraversal(t){return this.root_.reverseTraversal(t)}getIterator(t){return new Rk(this.root_,null,this.comparator_,!1,t)}getIteratorFrom(t,e){return new Rk(this.root_,t,this.comparator_,!1,e)}getReverseIteratorFrom(t,e){return new Rk(this.root_,t,this.comparator_,!0,e)}getReverseIterator(t){return new Rk(this.root_,null,this.comparator_,!0,t)}}function xY(n,t){return $y(n.name,t.name)}function G2(n,t){return $y(n,t)}il.EMPTY_NODE=new class wY{copy(t,e,i,r,s){return this}insert(t,e,i){return new Ru(t,e,null)}remove(t,e){return this}count(){return 0}isEmpty(){return!0}inorderTraversal(t){return!1}reverseTraversal(t){return!1}minKey(){return null}maxKey(){return null}check_(){return 0}isRed_(){return!1}};const L3=function(n){return"number"==typeof n?"number:"+t3(n):"string:"+n},B3=function(n){if(n.isLeafNode()){const t=n.val();(0,ue.hu)("string"==typeof t||"number"==typeof t||"object"==typeof t&&(0,ue.r3)(t,".sv"),"Priority must be a string or number.")}else(0,ue.hu)(n===W2||n.isEmpty(),"priority of unexpected type.");(0,ue.hu)(n===W2||n.getPriority().isEmpty(),"Priority nodes can't have a priority of their own.")};let V3,H3,U3,Bw=(()=>{class n{constructor(e,i=n.__childrenNodeConstructor.EMPTY_NODE){this.value_=e,this.priorityNode_=i,this.lazyHash_=null,(0,ue.hu)(null!=this.value_,"LeafNode shouldn't be created with null/undefined value."),B3(this.priorityNode_)}static set __childrenNodeConstructor(e){V3=e}static get __childrenNodeConstructor(){return V3}isLeafNode(){return!0}getPriority(){return this.priorityNode_}updatePriority(e){return new n(this.value_,e)}getImmediateChild(e){return".priority"===e?this.priorityNode_:n.__childrenNodeConstructor.EMPTY_NODE}getChild(e){return gi(e)?this:".priority"===pi(e)?this.priorityNode_:n.__childrenNodeConstructor.EMPTY_NODE}hasChild(){return!1}getPredecessorChildName(e,i){return null}updateImmediateChild(e,i){return".priority"===e?this.updatePriority(i):i.isEmpty()&&".priority"!==e?this:n.__childrenNodeConstructor.EMPTY_NODE.updateImmediateChild(e,i).updatePriority(this.priorityNode_)}updateChild(e,i){const r=pi(e);return null===r?i:i.isEmpty()&&".priority"!==r?this:((0,ue.hu)(".priority"!==r||1===dm(e),".priority must be the last token in a path"),this.updateImmediateChild(r,n.__childrenNodeConstructor.EMPTY_NODE.updateChild(Sr(e),i)))}isEmpty(){return!1}numChildren(){return 0}forEachChild(e,i){return!1}val(e){return e&&!this.getPriority().isEmpty()?{".value":this.getValue(),".priority":this.getPriority().val()}:this.getValue()}hash(){if(null===this.lazyHash_){let e="";this.priorityNode_.isEmpty()||(e+="priority:"+L3(this.priorityNode_.val())+":");const i=typeof this.value_;e+=i+":",e+="number"===i?t3(this.value_):this.value_,this.lazyHash_=KH(e)}return this.lazyHash_}getValue(){return this.value_}compareTo(e){return e===n.__childrenNodeConstructor.EMPTY_NODE?1:e instanceof n.__childrenNodeConstructor?-1:((0,ue.hu)(e.isLeafNode(),"Unknown node type"),this.compareToLeafNode_(e))}compareToLeafNode_(e){const i=typeof e.value_,r=typeof this.value_,s=n.VALUE_TYPE_ORDER.indexOf(i),c=n.VALUE_TYPE_ORDER.indexOf(r);return(0,ue.hu)(s>=0,"Unknown leaf type: "+i),(0,ue.hu)(c>=0,"Unknown leaf type: "+r),s===c?"object"===r?0:this.value_<e.value_?-1:this.value_===e.value_?0:1:c-s}withIndex(){return this}isIndexed(){return!0}equals(e){return e===this||!!e.isLeafNode()&&(this.value_===e.value_&&this.priorityNode_.equals(e.priorityNode_))}}return n.VALUE_TYPE_ORDER=["object","boolean","number","string"],n})();const Fr=new class TY extends Nk{compare(t,e){const i=t.node.getPriority(),r=e.node.getPriority(),s=i.compareTo(r);return 0===s?$y(t.name,e.name):s}isDefinedOn(t){return!t.getPriority().isEmpty()}indexedValueChanged(t,e){return!t.getPriority().equals(e.getPriority())}minPost(){return Ti.MIN}maxPost(){return new Ti(Qf,new Bw("[PRIORITY-POST]",U3))}makePost(t,e){const i=H3(t);return new Ti(e,new Bw("[PRIORITY-POST]",i))}toString(){return".priority"}},SY=Math.log(2);class AY{constructor(t){this.count=parseInt(Math.log(t+1)/SY,10),this.current_=this.count-1;const r=(s=>parseInt(Array(this.count+1).join("1"),2))();this.bits_=t+1&r}nextBitIsOne(){const t=!(this.bits_&1<<this.current_);return this.current_--,t}}const Fk=function(n,t,e,i){n.sort(t);const r=function(_,C){const M=C-_;let V,W;if(0===M)return null;if(1===M)return V=n[_],W=e?e(V):V,new Ru(W,V.node,Ru.BLACK,null,null);{const K=parseInt(M/2,10)+_,oe=r(_,K),ae=r(K+1,C);return V=n[K],W=e?e(V):V,new Ru(W,V.node,Ru.BLACK,oe,ae)}},p=function(_){let C=null,M=null,V=n.length;const W=function(oe,ae){const fe=V-oe,Pe=V;V-=oe;const Be=r(fe+1,Pe),Re=n[fe],ze=e?e(Re):Re;K(new Ru(ze,Re.node,ae,null,Be))},K=function(oe){C?(C.left=oe,C=oe):(M=oe,C=oe)};for(let oe=0;oe<_.count;++oe){const ae=_.nextBitIsOne(),fe=Math.pow(2,_.count-(oe+1));ae?W(fe,Ru.BLACK):(W(fe,Ru.BLACK),W(fe,Ru.RED))}return M}(new AY(n.length));return new il(i||t,p)};let $2;const Vw={};class Jf{constructor(t,e){this.indexes_=t,this.indexSet_=e}static get Default(){return(0,ue.hu)(Vw&&Fr,"ChildrenNode.ts has not been loaded"),$2=$2||new Jf({".priority":Vw},{".priority":Fr}),$2}get(t){const e=(0,ue.DV)(this.indexes_,t);if(!e)throw new Error("No index defined for "+t);return e instanceof il?e:null}hasIndex(t){return(0,ue.r3)(this.indexSet_,t.toString())}addIndex(t,e){(0,ue.hu)(t!==uh,"KeyIndex always exists and isn't meant to be added to the IndexMap.");const i=[];let r=!1;const s=e.getIterator(Ti.Wrap);let p,c=s.getNext();for(;c;)r=r||t.isDefinedOn(c.node),i.push(c),c=s.getNext();p=r?Fk(i,t.getCompare()):Vw;const _=t.toString(),C=Object.assign({},this.indexSet_);C[_]=t;const M=Object.assign({},this.indexes_);return M[_]=p,new Jf(M,C)}addToIndexes(t,e){const i=(0,ue.UI)(this.indexes_,(r,s)=>{const c=(0,ue.DV)(this.indexSet_,s);if((0,ue.hu)(c,"Missing index implementation for "+s),r===Vw){if(c.isDefinedOn(t.node)){const p=[],_=e.getIterator(Ti.Wrap);let C=_.getNext();for(;C;)C.name!==t.name&&p.push(C),C=_.getNext();return p.push(t),Fk(p,c.getCompare())}return Vw}{const p=e.get(t.name);let _=r;return p&&(_=_.remove(new Ti(t.name,p))),_.insert(t,t.node)}});return new Jf(i,this.indexSet_)}removeFromIndexes(t,e){const i=(0,ue.UI)(this.indexes_,r=>{if(r===Vw)return r;{const s=e.get(t.name);return s?r.remove(new Ti(t.name,s)):r}});return new Jf(i,this.indexSet_)}}let HD,ri=(()=>{class n{constructor(e,i,r){this.children_=e,this.priorityNode_=i,this.indexMap_=r,this.lazyHash_=null,this.priorityNode_&&B3(this.priorityNode_),this.children_.isEmpty()&&(0,ue.hu)(!this.priorityNode_||this.priorityNode_.isEmpty(),"An empty node cannot have a priority")}static get EMPTY_NODE(){return HD||(HD=new n(new il(G2),null,Jf.Default))}isLeafNode(){return!1}getPriority(){return this.priorityNode_||HD}updatePriority(e){return this.children_.isEmpty()?this:new n(this.children_,e,this.indexMap_)}getImmediateChild(e){if(".priority"===e)return this.getPriority();{const i=this.children_.get(e);return null===i?HD:i}}getChild(e){const i=pi(e);return null===i?this:this.getImmediateChild(i).getChild(Sr(e))}hasChild(e){return null!==this.children_.get(e)}updateImmediateChild(e,i){if((0,ue.hu)(i,"We should always be passing snapshot nodes"),".priority"===e)return this.updatePriority(i);{const r=new Ti(e,i);let s,c;i.isEmpty()?(s=this.children_.remove(e),c=this.indexMap_.removeFromIndexes(r,this.children_)):(s=this.children_.insert(e,i),c=this.indexMap_.addToIndexes(r,this.children_));const p=s.isEmpty()?HD:this.priorityNode_;return new n(s,p,c)}}updateChild(e,i){const r=pi(e);if(null===r)return i;{(0,ue.hu)(".priority"!==pi(e)||1===dm(e),".priority must be the last token in a path");const s=this.getImmediateChild(r).updateChild(Sr(e),i);return this.updateImmediateChild(r,s)}}isEmpty(){return this.children_.isEmpty()}numChildren(){return this.children_.count()}val(e){if(this.isEmpty())return null;const i={};let r=0,s=0,c=!0;if(this.forEachChild(Fr,(p,_)=>{i[p]=_.val(e),r++,c&&n.INTEGER_REGEXP_.test(p)?s=Math.max(s,Number(p)):c=!1}),!e&&c&&s<2*r){const p=[];for(const _ in i)p[_]=i[_];return p}return e&&!this.getPriority().isEmpty()&&(i[".priority"]=this.getPriority().val()),i}hash(){if(null===this.lazyHash_){let e="";this.getPriority().isEmpty()||(e+="priority:"+L3(this.getPriority().val())+":"),this.forEachChild(Fr,(i,r)=>{const s=r.hash();""!==s&&(e+=":"+i+":"+s)}),this.lazyHash_=""===e?"":KH(e)}return this.lazyHash_}getPredecessorChildName(e,i,r){const s=this.resolveIndex_(r);if(s){const c=s.getPredecessorKey(new Ti(e,i));return c?c.name:null}return this.children_.getPredecessorKey(e)}getFirstChildName(e){const i=this.resolveIndex_(e);if(i){const r=i.minKey();return r&&r.name}return this.children_.minKey()}getFirstChild(e){const i=this.getFirstChildName(e);return i?new Ti(i,this.children_.get(i)):null}getLastChildName(e){const i=this.resolveIndex_(e);if(i){const r=i.maxKey();return r&&r.name}return this.children_.maxKey()}getLastChild(e){const i=this.getLastChildName(e);return i?new Ti(i,this.children_.get(i)):null}forEachChild(e,i){const r=this.resolveIndex_(e);return r?r.inorderTraversal(s=>i(s.name,s.node)):this.children_.inorderTraversal(i)}getIterator(e){return this.getIteratorFrom(e.minPost(),e)}getIteratorFrom(e,i){const r=this.resolveIndex_(i);if(r)return r.getIteratorFrom(e,s=>s);{const s=this.children_.getIteratorFrom(e.name,Ti.Wrap);let c=s.peek();for(;null!=c&&i.compare(c,e)<0;)s.getNext(),c=s.peek();return s}}getReverseIterator(e){return this.getReverseIteratorFrom(e.maxPost(),e)}getReverseIteratorFrom(e,i){const r=this.resolveIndex_(i);if(r)return r.getReverseIteratorFrom(e,s=>s);{const s=this.children_.getReverseIteratorFrom(e.name,Ti.Wrap);let c=s.peek();for(;null!=c&&i.compare(c,e)>0;)s.getNext(),c=s.peek();return s}}compareTo(e){return this.isEmpty()?e.isEmpty()?0:-1:e.isLeafNode()||e.isEmpty()?1:e===UD?-1:0}withIndex(e){if(e===uh||this.indexMap_.hasIndex(e))return this;{const i=this.indexMap_.addIndex(e,this.children_);return new n(this.children_,this.priorityNode_,i)}}isIndexed(e){return e===uh||this.indexMap_.hasIndex(e)}equals(e){if(e===this)return!0;if(e.isLeafNode())return!1;{const i=e;if(this.getPriority().equals(i.getPriority())){if(this.children_.count()===i.children_.count()){const r=this.getIterator(Fr),s=i.getIterator(Fr);let c=r.getNext(),p=s.getNext();for(;c&&p;){if(c.name!==p.name||!c.node.equals(p.node))return!1;c=r.getNext(),p=s.getNext()}return null===c&&null===p}return!1}return!1}}resolveIndex_(e){return e===uh?null:this.indexMap_.get(e.toString())}}return n.INTEGER_REGEXP_=/^(0|[1-9]\d*)$/,n})();const UD=new class IY extends ri{constructor(){super(new il(G2),ri.EMPTY_NODE,Jf.Default)}compareTo(t){return t===this?0:1}equals(t){return t===this}getPriority(){return this}getImmediateChild(t){return ri.EMPTY_NODE}isEmpty(){return!1}};Object.defineProperties(Ti,{MIN:{value:new Ti(cm,ri.EMPTY_NODE)},MAX:{value:new Ti(Qf,UD)}}),F3.__EMPTY_NODE=ri.EMPTY_NODE,Bw.__childrenNodeConstructor=ri,function CY(n){W2=n}(UD),function DY(n){U3=n}(UD);const MY=!0;function Cs(n,t=null){if(null===n)return ri.EMPTY_NODE;if("object"==typeof n&&".priority"in n&&(t=n[".priority"]),(0,ue.hu)(null===t||"string"==typeof t||"number"==typeof t||"object"==typeof t&&".sv"in t,"Invalid priority type found: "+typeof t),"object"==typeof n&&".value"in n&&null!==n[".value"]&&(n=n[".value"]),"object"!=typeof n||".sv"in n)return new Bw(n,Cs(t));if(n instanceof Array||!MY){let e=ri.EMPTY_NODE;return Po(n,(i,r)=>{if((0,ue.r3)(n,i)&&"."!==i.substring(0,1)){const s=Cs(r);(s.isLeafNode()||!s.isEmpty())&&(e=e.updateImmediateChild(i,s))}}),e.updatePriority(Cs(t))}{const e=[];let i=!1;if(Po(n,(c,p)=>{if("."!==c.substring(0,1)){const _=Cs(p);_.isEmpty()||(i=i||!_.getPriority().isEmpty(),e.push(new Ti(c,_)))}}),0===e.length)return ri.EMPTY_NODE;const s=Fk(e,xY,c=>c.name,G2);if(i){const c=Fk(e,Fr.getCompare());return new ri(s,Cs(t),new Jf({".priority":c},{".priority":Fr}))}return new ri(s,Cs(t),Jf.Default)}}!function EY(n){H3=n}(Cs);class Y2 extends Nk{constructor(t){super(),this.indexPath_=t,(0,ue.hu)(!gi(t)&&".priority"!==pi(t),"Can't create PathIndex with empty path or .priority key")}extractChild(t){return t.getChild(this.indexPath_)}isDefinedOn(t){return!t.getChild(this.indexPath_).isEmpty()}compare(t,e){const i=this.extractChild(t.node),r=this.extractChild(e.node),s=i.compareTo(r);return 0===s?$y(t.name,e.name):s}makePost(t,e){const i=Cs(t),r=ri.EMPTY_NODE.updateChild(this.indexPath_,i);return new Ti(e,r)}maxPost(){const t=ri.EMPTY_NODE.updateChild(this.indexPath_,UD);return new Ti(Qf,t)}toString(){return BD(this.indexPath_,0).join("/")}}const q2=new class kY extends Nk{compare(t,e){const i=t.node.compareTo(e.node);return 0===i?$y(t.name,e.name):i}isDefinedOn(t){return!0}indexedValueChanged(t,e){return!t.equals(e)}minPost(){return Ti.MIN}maxPost(){return Ti.MAX}makePost(t,e){const i=Cs(t);return new Ti(e,i)}toString(){return".value"}};function z3(n){return{type:"value",snapshotNode:n}}function Hw(n,t){return{type:"child_added",snapshotNode:t,childName:n}}function zD(n,t){return{type:"child_removed",snapshotNode:t,childName:n}}function jD(n,t,e){return{type:"child_changed",snapshotNode:t,childName:n,oldSnap:e}}class Z2{constructor(t){this.index_=t}updateChild(t,e,i,r,s,c){(0,ue.hu)(t.isIndexed(this.index_),"A node must be indexed if only a child is updated");const p=t.getImmediateChild(e);return p.getChild(r).equals(i.getChild(r))&&p.isEmpty()===i.isEmpty()||(null!=c&&(i.isEmpty()?t.hasChild(e)?c.trackChildChange(zD(e,p)):(0,ue.hu)(t.isLeafNode(),"A child remove without an old child only makes sense on a leaf node"):p.isEmpty()?c.trackChildChange(Hw(e,i)):c.trackChildChange(jD(e,i,p))),t.isLeafNode()&&i.isEmpty())?t:t.updateImmediateChild(e,i).withIndex(this.index_)}updateFullNode(t,e,i){return null!=i&&(t.isLeafNode()||t.forEachChild(Fr,(r,s)=>{e.hasChild(r)||i.trackChildChange(zD(r,s))}),e.isLeafNode()||e.forEachChild(Fr,(r,s)=>{if(t.hasChild(r)){const c=t.getImmediateChild(r);c.equals(s)||i.trackChildChange(jD(r,s,c))}else i.trackChildChange(Hw(r,s))})),e.withIndex(this.index_)}updatePriority(t,e){return t.isEmpty()?ri.EMPTY_NODE:t.updatePriority(e)}filtersNodes(){return!1}getIndexedFilter(){return this}getIndex(){return this.index_}}class GD{constructor(t){this.indexedFilter_=new Z2(t.getIndex()),this.index_=t.getIndex(),this.startPost_=GD.getStartPost_(t),this.endPost_=GD.getEndPost_(t),this.startIsInclusive_=!t.startAfterSet_,this.endIsInclusive_=!t.endBeforeSet_}getStartPost(){return this.startPost_}getEndPost(){return this.endPost_}matches(t){const e=this.startIsInclusive_?this.index_.compare(this.getStartPost(),t)<=0:this.index_.compare(this.getStartPost(),t)<0,i=this.endIsInclusive_?this.index_.compare(t,this.getEndPost())<=0:this.index_.compare(t,this.getEndPost())<0;return e&&i}updateChild(t,e,i,r,s,c){return this.matches(new Ti(e,i))||(i=ri.EMPTY_NODE),this.indexedFilter_.updateChild(t,e,i,r,s,c)}updateFullNode(t,e,i){e.isLeafNode()&&(e=ri.EMPTY_NODE);let r=e.withIndex(this.index_);r=r.updatePriority(ri.EMPTY_NODE);const s=this;return e.forEachChild(Fr,(c,p)=>{s.matches(new Ti(c,p))||(r=r.updateImmediateChild(c,ri.EMPTY_NODE))}),this.indexedFilter_.updateFullNode(t,r,i)}updatePriority(t,e){return t}filtersNodes(){return!0}getIndexedFilter(){return this.indexedFilter_}getIndex(){return this.index_}static getStartPost_(t){if(t.hasStart()){const e=t.getIndexStartName();return t.getIndex().makePost(t.getIndexStartValue(),e)}return t.getIndex().minPost()}static getEndPost_(t){if(t.hasEnd()){const e=t.getIndexEndName();return t.getIndex().makePost(t.getIndexEndValue(),e)}return t.getIndex().maxPost()}}class NY{constructor(t){this.withinDirectionalStart=e=>this.reverse_?this.withinEndPost(e):this.withinStartPost(e),this.withinDirectionalEnd=e=>this.reverse_?this.withinStartPost(e):this.withinEndPost(e),this.withinStartPost=e=>{const i=this.index_.compare(this.rangedFilter_.getStartPost(),e);return this.startIsInclusive_?i<=0:i<0},this.withinEndPost=e=>{const i=this.index_.compare(e,this.rangedFilter_.getEndPost());return this.endIsInclusive_?i<=0:i<0},this.rangedFilter_=new GD(t),this.index_=t.getIndex(),this.limit_=t.getLimit(),this.reverse_=!t.isViewFromLeft(),this.startIsInclusive_=!t.startAfterSet_,this.endIsInclusive_=!t.endBeforeSet_}updateChild(t,e,i,r,s,c){return this.rangedFilter_.matches(new Ti(e,i))||(i=ri.EMPTY_NODE),t.getImmediateChild(e).equals(i)?t:t.numChildren()<this.limit_?this.rangedFilter_.getIndexedFilter().updateChild(t,e,i,r,s,c):this.fullLimitUpdateChild_(t,e,i,s,c)}updateFullNode(t,e,i){let r;if(e.isLeafNode()||e.isEmpty())r=ri.EMPTY_NODE.withIndex(this.index_);else if(2*this.limit_<e.numChildren()&&e.isIndexed(this.index_)){let s;r=ri.EMPTY_NODE.withIndex(this.index_),s=this.reverse_?e.getReverseIteratorFrom(this.rangedFilter_.getEndPost(),this.index_):e.getIteratorFrom(this.rangedFilter_.getStartPost(),this.index_);let c=0;for(;s.hasNext()&&c<this.limit_;){const p=s.getNext();if(this.withinDirectionalStart(p)){if(!this.withinDirectionalEnd(p))break;r=r.updateImmediateChild(p.name,p.node),c++}}}else{let s;r=e.withIndex(this.index_),r=r.updatePriority(ri.EMPTY_NODE),s=this.reverse_?r.getReverseIterator(this.index_):r.getIterator(this.index_);let c=0;for(;s.hasNext();){const p=s.getNext();c<this.limit_&&this.withinDirectionalStart(p)&&this.withinDirectionalEnd(p)?c++:r=r.updateImmediateChild(p.name,ri.EMPTY_NODE)}}return this.rangedFilter_.getIndexedFilter().updateFullNode(t,r,i)}updatePriority(t,e){return t}filtersNodes(){return!0}getIndexedFilter(){return this.rangedFilter_.getIndexedFilter()}getIndex(){return this.index_}fullLimitUpdateChild_(t,e,i,r,s){let c;if(this.reverse_){const V=this.index_.getCompare();c=(W,K)=>V(K,W)}else c=this.index_.getCompare();const p=t;(0,ue.hu)(p.numChildren()===this.limit_,"");const _=new Ti(e,i),C=this.reverse_?p.getFirstChild(this.index_):p.getLastChild(this.index_),M=this.rangedFilter_.matches(_);if(p.hasChild(e)){const V=p.getImmediateChild(e);let W=r.getChildAfterChild(this.index_,C,this.reverse_);for(;null!=W&&(W.name===e||p.hasChild(W.name));)W=r.getChildAfterChild(this.index_,W,this.reverse_);const K=null==W?1:c(W,_);if(M&&!i.isEmpty()&&K>=0)return s?.trackChildChange(jD(e,i,V)),p.updateImmediateChild(e,i);{s?.trackChildChange(zD(e,V));const ae=p.updateImmediateChild(e,ri.EMPTY_NODE);return null!=W&&this.rangedFilter_.matches(W)?(s?.trackChildChange(Hw(W.name,W.node)),ae.updateImmediateChild(W.name,W.node)):ae}}return i.isEmpty()?t:M&&c(C,_)>=0?(null!=s&&(s.trackChildChange(zD(C.name,C.node)),s.trackChildChange(Hw(e,i))),p.updateImmediateChild(e,i).updateImmediateChild(C.name,ri.EMPTY_NODE)):t}}class Lk{constructor(){this.limitSet_=!1,this.startSet_=!1,this.startNameSet_=!1,this.startAfterSet_=!1,this.endSet_=!1,this.endNameSet_=!1,this.endBeforeSet_=!1,this.limit_=0,this.viewFrom_="",this.indexStartValue_=null,this.indexStartName_="",this.indexEndValue_=null,this.indexEndName_="",this.index_=Fr}hasStart(){return this.startSet_}isViewFromLeft(){return""===this.viewFrom_?this.startSet_:"l"===this.viewFrom_}getIndexStartValue(){return(0,ue.hu)(this.startSet_,"Only valid if start has been set"),this.indexStartValue_}getIndexStartName(){return(0,ue.hu)(this.startSet_,"Only valid if start has been set"),this.startNameSet_?this.indexStartName_:cm}hasEnd(){return this.endSet_}getIndexEndValue(){return(0,ue.hu)(this.endSet_,"Only valid if end has been set"),this.indexEndValue_}getIndexEndName(){return(0,ue.hu)(this.endSet_,"Only valid if end has been set"),this.endNameSet_?this.indexEndName_:Qf}hasLimit(){return this.limitSet_}hasAnchoredLimit(){return this.limitSet_&&""!==this.viewFrom_}getLimit(){return(0,ue.hu)(this.limitSet_,"Only valid if limit has been set"),this.limit_}getIndex(){return this.index_}loadsAllData(){return!(this.startSet_||this.endSet_||this.limitSet_)}isDefault(){return this.loadsAllData()&&this.index_===Fr}copy(){const t=new Lk;return t.limitSet_=this.limitSet_,t.limit_=this.limit_,t.startSet_=this.startSet_,t.startAfterSet_=this.startAfterSet_,t.indexStartValue_=this.indexStartValue_,t.startNameSet_=this.startNameSet_,t.indexStartName_=this.indexStartName_,t.endSet_=this.endSet_,t.endBeforeSet_=this.endBeforeSet_,t.indexEndValue_=this.indexEndValue_,t.endNameSet_=this.endNameSet_,t.indexEndName_=this.indexEndName_,t.index_=this.index_,t.viewFrom_=this.viewFrom_,t}}function X2(n,t,e){const i=n.copy();return i.startSet_=!0,void 0===t&&(t=null),i.indexStartValue_=t,null!=e?(i.startNameSet_=!0,i.indexStartName_=e):(i.startNameSet_=!1,i.indexStartName_=""),i}function K2(n,t,e){const i=n.copy();return i.endSet_=!0,void 0===t&&(t=null),i.indexEndValue_=t,void 0!==e?(i.endNameSet_=!0,i.indexEndName_=e):(i.endNameSet_=!1,i.indexEndName_=""),i}function Bk(n,t){const e=n.copy();return e.index_=t,e}function j3(n){const t={};if(n.isDefault())return t;let e;if(n.index_===Fr?e="$priority":n.index_===q2?e="$value":n.index_===uh?e="$key":((0,ue.hu)(n.index_ instanceof Y2,"Unrecognized index type!"),e=n.index_.toString()),t.orderBy=(0,ue.Wl)(e),n.startSet_){const i=n.startAfterSet_?"startAfter":"startAt";t[i]=(0,ue.Wl)(n.indexStartValue_),n.startNameSet_&&(t[i]+=","+(0,ue.Wl)(n.indexStartName_))}if(n.endSet_){const i=n.endBeforeSet_?"endBefore":"endAt";t[i]=(0,ue.Wl)(n.indexEndValue_),n.endNameSet_&&(t[i]+=","+(0,ue.Wl)(n.indexEndName_))}return n.limitSet_&&(n.isViewFromLeft()?t.limitToFirst=n.limit_:t.limitToLast=n.limit_),t}function G3(n){const t={};if(n.startSet_&&(t.sp=n.indexStartValue_,n.startNameSet_&&(t.sn=n.indexStartName_),t.sin=!n.startAfterSet_),n.endSet_&&(t.ep=n.indexEndValue_,n.endNameSet_&&(t.en=n.indexEndName_),t.ein=!n.endBeforeSet_),n.limitSet_){t.l=n.limit_;let e=n.viewFrom_;""===e&&(e=n.isViewFromLeft()?"l":"r"),t.vf=e}return n.index_!==Fr&&(t.i=n.index_.toString()),t}class Vk extends A3{constructor(t,e,i,r){super(),this.repoInfo_=t,this.onDataUpdate_=e,this.authTokenProvider_=i,this.appCheckTokenProvider_=r,this.log_=PD("p:rest:"),this.listens_={}}reportStats(t){throw new Error("Method not implemented.")}static getListenId_(t,e){return void 0!==e?"tag$"+e:((0,ue.hu)(t._queryParams.isDefault(),"should have a tag if it's not a default query."),t._path.toString())}listen(t,e,i,r){const s=t._path.toString();this.log_("Listen called for "+s+" "+t._queryIdentifier);const c=Vk.getListenId_(t,i),p={};this.listens_[c]=p;const _=j3(t._queryParams);this.restRequest_(s+".json",_,(C,M)=>{let V=M;if(404===C&&(V=null,C=null),null===C&&this.onDataUpdate_(s,V,!1,i),(0,ue.DV)(this.listens_,c)===p){let W;W=C?401===C?"permission_denied":"rest_error:"+C:"ok",r(W,null)}})}unlisten(t,e){const i=Vk.getListenId_(t,e);delete this.listens_[i]}get(t){const e=j3(t._queryParams),i=t._path.toString(),r=new ue.BH;return this.restRequest_(i+".json",e,(s,c)=>{let p=c;404===s&&(p=null,s=null),null===s?(this.onDataUpdate_(i,p,!1,null),r.resolve(p)):r.reject(new Error(p))}),r.promise}refreshAuthToken(t){}restRequest_(t,e={},i){return e.format="export",Promise.all([this.authTokenProvider_.getToken(!1),this.appCheckTokenProvider_.getToken(!1)]).then(([r,s])=>{r&&r.accessToken&&(e.auth=r.accessToken),s&&s.token&&(e.ac=s.token);const c=(this.repoInfo_.secure?"https://":"http://")+this.repoInfo_.host+t+"?ns="+this.repoInfo_.namespace+(0,ue.xO)(e);this.log_("Sending REST request for "+c);const p=new XMLHttpRequest;p.onreadystatechange=()=>{if(i&&4===p.readyState){this.log_("REST Response for "+c+" received. status:",p.status,"response:",p.responseText);let _=null;if(p.status>=200&&p.status<300){try{_=(0,ue.cI)(p.responseText)}catch{ga("Failed to parse JSON response for "+c+": "+p.responseText)}i(null,_)}else 401!==p.status&&404!==p.status&&ga("Got unsuccessful REST response for "+c+" Status: "+p.status),i(p.status);i=null}},p.open("GET",c,!0),p.send()})}}class VY{constructor(){this.rootNode_=ri.EMPTY_NODE}getNode(t){return this.rootNode_.getChild(t)}updateSnapshot(t,e){this.rootNode_=this.rootNode_.updateChild(t,e)}}function Hk(){return{value:null,children:new Map}}function Uw(n,t,e){if(gi(t))n.value=e,n.children.clear();else if(null!==n.value)n.value=n.value.updateChild(t,e);else{const i=pi(t);n.children.has(i)||n.children.set(i,Hk()),Uw(n.children.get(i),t=Sr(t),e)}}function Q2(n,t){if(gi(t))return n.value=null,n.children.clear(),!0;if(null!==n.value){if(n.value.isLeafNode())return!1;{const e=n.value;return n.value=null,e.forEachChild(Fr,(i,r)=>{Uw(n,new ur(i),r)}),Q2(n,t)}}if(n.children.size>0){const e=pi(t);return t=Sr(t),n.children.has(e)&&Q2(n.children.get(e),t)&&n.children.delete(e),0===n.children.size}return!0}function J2(n,t,e){null!==n.value?e(t,n.value):function HY(n,t){n.children.forEach((e,i)=>{t(i,e)})}(n,(i,r)=>{J2(r,new ur(t.toString()+"/"+i),e)})}class UY{constructor(t){this.collection_=t,this.last_=null}get(){const t=this.collection_.get(),e=Object.assign({},t);return this.last_&&Po(this.last_,(i,r)=>{e[i]=e[i]-r}),this.last_=t,e}}class GY{constructor(t,e){this.server_=e,this.statsToReport_={},this.statsListener_=new UY(t);const i=1e4+2e4*Math.random();FD(this.reportStats_.bind(this),Math.floor(i))}reportStats_(){const t=this.statsListener_.get(),e={};let i=!1;Po(t,(r,s)=>{s>0&&(0,ue.r3)(this.statsToReport_,r)&&(e[r]=s,i=!0)}),i&&this.server_.reportStats(e),FD(this.reportStats_.bind(this),Math.floor(2*Math.random()*3e5))}}var dh=function(n){return n[n.OVERWRITE=0]="OVERWRITE",n[n.MERGE=1]="MERGE",n[n.ACK_USER_WRITE=2]="ACK_USER_WRITE",n[n.LISTEN_COMPLETE=3]="LISTEN_COMPLETE",n}(dh||{});function nF(n){return{fromUser:!1,fromServer:!0,queryId:n,tagged:!0}}class Uk{constructor(t,e,i){this.path=t,this.affectedTree=e,this.revert=i,this.type=dh.ACK_USER_WRITE,this.source={fromUser:!0,fromServer:!1,queryId:null,tagged:!1}}operationForChild(t){if(gi(this.path)){if(null!=this.affectedTree.value)return(0,ue.hu)(this.affectedTree.children.isEmpty(),"affectedTree should not have overlapping affected paths."),this;{const e=this.affectedTree.subtree(new ur(t));return new Uk($i(),e,this.revert)}}return(0,ue.hu)(pi(this.path)===t,"operationForChild called for unrelated child."),new Uk(Sr(this.path),this.affectedTree,this.revert)}}class WD{constructor(t,e){this.source=t,this.path=e,this.type=dh.LISTEN_COMPLETE}operationForChild(t){return gi(this.path)?new WD(this.source,$i()):new WD(this.source,Sr(this.path))}}class Zy{constructor(t,e,i){this.source=t,this.path=e,this.snap=i,this.type=dh.OVERWRITE}operationForChild(t){return gi(this.path)?new Zy(this.source,$i(),this.snap.getImmediateChild(t)):new Zy(this.source,Sr(this.path),this.snap)}}class zw{constructor(t,e,i){this.source=t,this.path=e,this.children=i,this.type=dh.MERGE}operationForChild(t){if(gi(this.path)){const e=this.children.subtree(new ur(t));return e.isEmpty()?null:e.value?new Zy(this.source,$i(),e.value):new zw(this.source,$i(),e)}return(0,ue.hu)(pi(this.path)===t,"Can't get a merge for a child not on the path of the operation"),new zw(this.source,Sr(this.path),this.children)}toString(){return"Operation("+this.path+": "+this.source.toString()+" merge: "+this.children.toString()+")"}}class hm{constructor(t,e,i){this.node_=t,this.fullyInitialized_=e,this.filtered_=i}isFullyInitialized(){return this.fullyInitialized_}isFiltered(){return this.filtered_}isCompleteForPath(t){if(gi(t))return this.isFullyInitialized()&&!this.filtered_;const e=pi(t);return this.isCompleteForChild(e)}isCompleteForChild(t){return this.isFullyInitialized()&&!this.filtered_||this.node_.hasChild(t)}getNode(){return this.node_}}class WY{constructor(t){this.query_=t,this.index_=this.query_._queryParams.getIndex()}}function $D(n,t,e,i,r,s){const c=i.filter(p=>p.type===e);c.sort((p,_)=>function qY(n,t,e){if(null==t.childName||null==e.childName)throw(0,ue.g5)("Should only compare child_ events.");const i=new Ti(t.childName,t.snapshotNode),r=new Ti(e.childName,e.snapshotNode);return n.index_.compare(i,r)}(n,p,_)),c.forEach(p=>{const _=function YY(n,t,e){return"value"===t.type||"child_removed"===t.type||(t.prevName=e.getPredecessorChildName(t.childName,t.snapshotNode,n.index_)),t}(n,p,s);r.forEach(C=>{C.respondsTo(p.type)&&t.push(C.createEvent(_,n.query_))})})}function zk(n,t){return{eventCache:n,serverCache:t}}function YD(n,t,e,i){return zk(new hm(t,e,i),n.serverCache)}function $3(n,t,e,i){return zk(n.eventCache,new hm(t,e,i))}function jk(n){return n.eventCache.isFullyInitialized()?n.eventCache.getNode():null}function Xy(n){return n.serverCache.isFullyInitialized()?n.serverCache.getNode():null}let iF;class Lr{constructor(t,e=(()=>(iF||(iF=new il(O$)),iF))()){this.value=t,this.children=e}static fromObject(t){let e=new Lr(null);return Po(t,(i,r)=>{e=e.set(new ur(i),r)}),e}isEmpty(){return null===this.value&&this.children.isEmpty()}findRootMostMatchingPathAndValue(t,e){if(null!=this.value&&e(this.value))return{path:$i(),value:this.value};if(gi(t))return null;{const i=pi(t),r=this.children.get(i);if(null!==r){const s=r.findRootMostMatchingPathAndValue(Sr(t),e);return null!=s?{path:cs(new ur(i),s.path),value:s.value}:null}return null}}findRootMostValueAndPath(t){return this.findRootMostMatchingPathAndValue(t,()=>!0)}subtree(t){if(gi(t))return this;{const e=pi(t),i=this.children.get(e);return null!==i?i.subtree(Sr(t)):new Lr(null)}}set(t,e){if(gi(t))return new Lr(e,this.children);{const i=pi(t),s=(this.children.get(i)||new Lr(null)).set(Sr(t),e),c=this.children.insert(i,s);return new Lr(this.value,c)}}remove(t){if(gi(t))return this.children.isEmpty()?new Lr(null):new Lr(null,this.children);{const e=pi(t),i=this.children.get(e);if(i){const r=i.remove(Sr(t));let s;return s=r.isEmpty()?this.children.remove(e):this.children.insert(e,r),null===this.value&&s.isEmpty()?new Lr(null):new Lr(this.value,s)}return this}}get(t){if(gi(t))return this.value;{const e=pi(t),i=this.children.get(e);return i?i.get(Sr(t)):null}}setTree(t,e){if(gi(t))return e;{const i=pi(t),s=(this.children.get(i)||new Lr(null)).setTree(Sr(t),e);let c;return c=s.isEmpty()?this.children.remove(i):this.children.insert(i,s),new Lr(this.value,c)}}fold(t){return this.fold_($i(),t)}fold_(t,e){const i={};return this.children.inorderTraversal((r,s)=>{i[r]=s.fold_(cs(t,r),e)}),e(t,this.value,i)}findOnPath(t,e){return this.findOnPath_(t,$i(),e)}findOnPath_(t,e,i){const r=!!this.value&&i(e,this.value);if(r)return r;if(gi(t))return null;{const s=pi(t),c=this.children.get(s);return c?c.findOnPath_(Sr(t),cs(e,s),i):null}}foreachOnPath(t,e){return this.foreachOnPath_(t,$i(),e)}foreachOnPath_(t,e,i){if(gi(t))return this;{this.value&&i(e,this.value);const r=pi(t),s=this.children.get(r);return s?s.foreachOnPath_(Sr(t),cs(e,r),i):new Lr(null)}}foreach(t){this.foreach_($i(),t)}foreach_(t,e){this.children.inorderTraversal((i,r)=>{r.foreach_(cs(t,i),e)}),this.value&&e(t,this.value)}foreachChild(t){this.children.inorderTraversal((e,i)=>{i.value&&t(e,i.value)})}}class Fu{constructor(t){this.writeTree_=t}static empty(){return new Fu(new Lr(null))}}function qD(n,t,e){if(gi(t))return new Fu(new Lr(e));{const i=n.writeTree_.findRootMostValueAndPath(t);if(null!=i){const r=i.path;let s=i.value;const c=Fa(r,t);return s=s.updateChild(c,e),new Fu(n.writeTree_.set(r,s))}{const r=new Lr(e),s=n.writeTree_.setTree(t,r);return new Fu(s)}}}function rF(n,t,e){let i=n;return Po(e,(r,s)=>{i=qD(i,cs(t,r),s)}),i}function Y3(n,t){if(gi(t))return Fu.empty();{const e=n.writeTree_.setTree(t,new Lr(null));return new Fu(e)}}function sF(n,t){return null!=Ky(n,t)}function Ky(n,t){const e=n.writeTree_.findRootMostValueAndPath(t);return null!=e?n.writeTree_.get(e.path).getChild(Fa(e.path,t)):null}function q3(n){const t=[],e=n.writeTree_.value;return null!=e?e.isLeafNode()||e.forEachChild(Fr,(i,r)=>{t.push(new Ti(i,r))}):n.writeTree_.children.inorderTraversal((i,r)=>{null!=r.value&&t.push(new Ti(i,r.value))}),t}function fm(n,t){if(gi(t))return n;{const e=Ky(n,t);return new Fu(null!=e?new Lr(e):n.writeTree_.subtree(t))}}function oF(n){return n.writeTree_.isEmpty()}function jw(n,t){return Z3($i(),n.writeTree_,t)}function Z3(n,t,e){if(null!=t.value)return e.updateChild(n,t.value);{let i=null;return t.children.inorderTraversal((r,s)=>{".priority"===r?((0,ue.hu)(null!==s.value,"Priority writes must always be leaf nodes"),i=s.value):e=Z3(cs(n,r),s,e)}),!e.getChild(n).isEmpty()&&null!==i&&(e=e.updateChild(cs(n,".priority"),i)),e}}function Gk(n,t){return eU(t,n)}function e8(n,t){if(n.snap)return kc(n.path,t);for(const e in n.children)if(n.children.hasOwnProperty(e)&&kc(cs(n.path,e),t))return!0;return!1}function n8(n){return n.visible}function X3(n,t,e){let i=Fu.empty();for(let r=0;r<n.length;++r){const s=n[r];if(t(s)){const c=s.path;let p;if(s.snap)kc(e,c)?(p=Fa(e,c),i=qD(i,p,s.snap)):kc(c,e)&&(p=Fa(c,e),i=qD(i,$i(),s.snap.getChild(p)));else{if(!s.children)throw(0,ue.g5)("WriteRecord should have .snap or .children");if(kc(e,c))p=Fa(e,c),i=rF(i,p,s.children);else if(kc(c,e))if(p=Fa(c,e),gi(p))i=rF(i,$i(),s.children);else{const _=(0,ue.DV)(s.children,pi(p));if(_){const C=_.getChild(Sr(p));i=qD(i,$i(),C)}}}}}return i}function K3(n,t,e,i,r){if(i||r){const s=fm(n.visibleWrites,t);return!r&&oF(s)?e:r||null!=e||sF(s,$i())?jw(X3(n.allWrites,function(C){return(C.visible||r)&&(!i||!~i.indexOf(C.writeId))&&(kc(C.path,t)||kc(t,C.path))},t),e||ri.EMPTY_NODE):null}{const s=Ky(n.visibleWrites,t);if(null!=s)return s;{const c=fm(n.visibleWrites,t);return oF(c)?e:null!=e||sF(c,$i())?jw(c,e||ri.EMPTY_NODE):null}}}function Wk(n,t,e,i){return K3(n.writeTree,n.treePath,t,e,i)}function aF(n,t){return function i8(n,t,e){let i=ri.EMPTY_NODE;const r=Ky(n.visibleWrites,t);if(r)return r.isLeafNode()||r.forEachChild(Fr,(s,c)=>{i=i.updateImmediateChild(s,c)}),i;if(e){const s=fm(n.visibleWrites,t);return e.forEachChild(Fr,(c,p)=>{const _=jw(fm(s,new ur(c)),p);i=i.updateImmediateChild(c,_)}),q3(s).forEach(c=>{i=i.updateImmediateChild(c.name,c.node)}),i}return q3(fm(n.visibleWrites,t)).forEach(c=>{i=i.updateImmediateChild(c.name,c.node)}),i}(n.writeTree,n.treePath,t)}function Q3(n,t,e,i){return function r8(n,t,e,i,r){(0,ue.hu)(i||r,"Either existingEventSnap or existingServerSnap must exist");const s=cs(t,e);if(sF(n.visibleWrites,s))return null;{const c=fm(n.visibleWrites,s);return oF(c)?r.getChild(e):jw(c,r.getChild(e))}}(n.writeTree,n.treePath,t,e,i)}function $k(n,t){return function o8(n,t){return Ky(n.visibleWrites,t)}(n.writeTree,cs(n.treePath,t))}function lF(n,t,e){return function s8(n,t,e,i){const r=cs(t,e),s=Ky(n.visibleWrites,r);return null!=s?s:i.isCompleteForChild(e)?jw(fm(n.visibleWrites,r),i.getNode().getImmediateChild(e)):null}(n.writeTree,n.treePath,t,e)}function J3(n,t){return eU(cs(n.treePath,t),n.writeTree)}function eU(n,t){return{treePath:n,writeTree:t}}class u8{constructor(){this.changeMap=new Map}trackChildChange(t){const e=t.type,i=t.childName;(0,ue.hu)("child_added"===e||"child_changed"===e||"child_removed"===e,"Only child changes supported for tracking"),(0,ue.hu)(".priority"!==i,"Only non-priority child changes can be tracked.");const r=this.changeMap.get(i);if(r){const s=r.type;if("child_added"===e&&"child_removed"===s)this.changeMap.set(i,jD(i,t.snapshotNode,r.snapshotNode));else if("child_removed"===e&&"child_added"===s)this.changeMap.delete(i);else if("child_removed"===e&&"child_changed"===s)this.changeMap.set(i,zD(i,r.oldSnap));else if("child_changed"===e&&"child_added"===s)this.changeMap.set(i,Hw(i,t.snapshotNode));else{if("child_changed"!==e||"child_changed"!==s)throw(0,ue.g5)("Illegal combination of changes: "+t+" occurred after "+r);this.changeMap.set(i,jD(i,t.snapshotNode,r.oldSnap))}}else this.changeMap.set(i,t)}getChanges(){return Array.from(this.changeMap.values())}}const tU=new class d8{getCompleteChild(t){return null}getChildAfterChild(t,e,i){return null}};class cF{constructor(t,e,i=null){this.writes_=t,this.viewCache_=e,this.optCompleteServerCache_=i}getCompleteChild(t){const e=this.viewCache_.eventCache;if(e.isCompleteForChild(t))return e.getNode().getImmediateChild(t);{const i=null!=this.optCompleteServerCache_?new hm(this.optCompleteServerCache_,!0,!1):this.viewCache_.serverCache;return lF(this.writes_,t,i)}}getChildAfterChild(t,e,i){const r=null!=this.optCompleteServerCache_?this.optCompleteServerCache_:Xy(this.viewCache_),s=function c8(n,t,e,i,r,s){return function a8(n,t,e,i,r,s,c){let p;const _=fm(n.visibleWrites,t),C=Ky(_,$i());if(null!=C)p=C;else{if(null==e)return[];p=jw(_,e)}if(p=p.withIndex(c),p.isEmpty()||p.isLeafNode())return[];{const M=[],V=c.getCompare(),W=s?p.getReverseIteratorFrom(i,c):p.getIteratorFrom(i,c);let K=W.getNext();for(;K&&M.length<r;)0!==V(K,i)&&M.push(K),K=W.getNext();return M}}(n.writeTree,n.treePath,t,e,i,r,s)}(this.writes_,r,e,1,i,t);return 0===s.length?null:s[0]}}function nU(n,t,e,i,r,s){const c=t.eventCache;if(null!=$k(i,e))return t;{let p,_;if(gi(e))if((0,ue.hu)(t.serverCache.isFullyInitialized(),"If change path is empty, we must have complete server data"),t.serverCache.isFiltered()){const C=Xy(t),V=aF(i,C instanceof ri?C:ri.EMPTY_NODE);p=n.filter.updateFullNode(t.eventCache.getNode(),V,s)}else{const C=Wk(i,Xy(t));p=n.filter.updateFullNode(t.eventCache.getNode(),C,s)}else{const C=pi(e);if(".priority"===C){(0,ue.hu)(1===dm(e),"Can't have a priority with additional path components");const M=c.getNode();_=t.serverCache.getNode();const V=Q3(i,e,M,_);p=null!=V?n.filter.updatePriority(M,V):c.getNode()}else{const M=Sr(e);let V;if(c.isCompleteForChild(C)){_=t.serverCache.getNode();const W=Q3(i,e,c.getNode(),_);V=null!=W?c.getNode().getImmediateChild(C).updateChild(M,W):c.getNode().getImmediateChild(C)}else V=lF(i,C,t.serverCache);p=null!=V?n.filter.updateChild(c.getNode(),C,V,M,r,s):c.getNode()}}return YD(t,p,c.isFullyInitialized()||gi(e),n.filter.filtersNodes())}}function Yk(n,t,e,i,r,s,c,p){const _=t.serverCache;let C;const M=c?n.filter:n.filter.getIndexedFilter();if(gi(e))C=M.updateFullNode(_.getNode(),i,null);else if(M.filtersNodes()&&!_.isFiltered()){const K=_.getNode().updateChild(e,i);C=M.updateFullNode(_.getNode(),K,null)}else{const K=pi(e);if(!_.isCompleteForPath(e)&&dm(e)>1)return t;const oe=Sr(e),fe=_.getNode().getImmediateChild(K).updateChild(oe,i);C=".priority"===K?M.updatePriority(_.getNode(),fe):M.updateChild(_.getNode(),K,fe,oe,tU,null)}const V=$3(t,C,_.isFullyInitialized()||gi(e),M.filtersNodes());return nU(n,V,e,r,new cF(r,V,s),p)}function uF(n,t,e,i,r,s,c){const p=t.eventCache;let _,C;const M=new cF(r,t,s);if(gi(e))C=n.filter.updateFullNode(t.eventCache.getNode(),i,c),_=YD(t,C,!0,n.filter.filtersNodes());else{const V=pi(e);if(".priority"===V)C=n.filter.updatePriority(t.eventCache.getNode(),i),_=YD(t,C,p.isFullyInitialized(),p.isFiltered());else{const W=Sr(e),K=p.getNode().getImmediateChild(V);let oe;if(gi(W))oe=i;else{const ae=M.getCompleteChild(V);oe=null!=ae?".priority"===U2(W)&&ae.getChild(O3(W)).isEmpty()?ae:ae.updateChild(W,i):ri.EMPTY_NODE}_=K.equals(oe)?t:YD(t,n.filter.updateChild(p.getNode(),V,oe,W,M,c),p.isFullyInitialized(),n.filter.filtersNodes())}}return _}function iU(n,t){return n.eventCache.isCompleteForChild(t)}function rU(n,t,e){return e.foreach((i,r)=>{t=t.updateChild(i,r)}),t}function dF(n,t,e,i,r,s,c,p){if(t.serverCache.getNode().isEmpty()&&!t.serverCache.isFullyInitialized())return t;let C,_=t;C=gi(e)?i:new Lr(null).setTree(e,i);const M=t.serverCache.getNode();return C.children.inorderTraversal((V,W)=>{if(M.hasChild(V)){const oe=rU(0,t.serverCache.getNode().getImmediateChild(V),W);_=Yk(n,_,new ur(V),oe,r,s,c,p)}}),C.children.inorderTraversal((V,W)=>{const K=!t.serverCache.isCompleteForChild(V)&&null===W.value;if(!M.hasChild(V)&&!K){const ae=rU(0,t.serverCache.getNode().getImmediateChild(V),W);_=Yk(n,_,new ur(V),ae,r,s,c,p)}}),_}class b8{constructor(t,e){this.query_=t,this.eventRegistrations_=[];const i=this.query_._queryParams,r=new Z2(i.getIndex()),s=function PY(n){return n.loadsAllData()?new Z2(n.getIndex()):n.hasLimit()?new NY(n):new GD(n)}(i);this.processor_=function h8(n){return{filter:n}}(s);const c=e.serverCache,p=e.eventCache,_=r.updateFullNode(ri.EMPTY_NODE,c.getNode(),null),C=s.updateFullNode(ri.EMPTY_NODE,p.getNode(),null),M=new hm(_,c.isFullyInitialized(),r.filtersNodes()),V=new hm(C,p.isFullyInitialized(),s.filtersNodes());this.viewCache_=zk(V,M),this.eventGenerator_=new WY(this.query_)}get query(){return this.query_}}function C8(n,t){const e=Xy(n.viewCache_);return e&&(n.query._queryParams.loadsAllData()||!gi(t)&&!e.getImmediateChild(pi(t)).isEmpty())?e.getChild(t):null}function sU(n){return 0===n.eventRegistrations_.length}function oU(n,t,e){const i=[];if(e){(0,ue.hu)(null==t,"A cancel should cancel all event registrations.");const r=n.query._path;n.eventRegistrations_.forEach(s=>{const c=s.createCancelEvent(e,r);c&&i.push(c)})}if(t){let r=[];for(let s=0;s<n.eventRegistrations_.length;++s){const c=n.eventRegistrations_[s];if(c.matches(t)){if(t.hasAnyCallback()){r=r.concat(n.eventRegistrations_.slice(s+1));break}}else r.push(c)}n.eventRegistrations_=r}else n.eventRegistrations_=[];return i}function aU(n,t,e,i){t.type===dh.MERGE&&null!==t.source.queryId&&((0,ue.hu)(Xy(n.viewCache_),"We should always have a full cache before handling merges"),(0,ue.hu)(jk(n.viewCache_),"Missing event cache, even though we have a server cache"));const r=n.viewCache_,s=function p8(n,t,e,i,r){const s=new u8;let c,p;if(e.type===dh.OVERWRITE){const C=e;C.source.fromUser?c=uF(n,t,C.path,C.snap,i,r,s):((0,ue.hu)(C.source.fromServer,"Unknown source."),p=C.source.tagged||t.serverCache.isFiltered()&&!gi(C.path),c=Yk(n,t,C.path,C.snap,i,r,p,s))}else if(e.type===dh.MERGE){const C=e;C.source.fromUser?c=function m8(n,t,e,i,r,s,c){let p=t;return i.foreach((_,C)=>{const M=cs(e,_);iU(t,pi(M))&&(p=uF(n,p,M,C,r,s,c))}),i.foreach((_,C)=>{const M=cs(e,_);iU(t,pi(M))||(p=uF(n,p,M,C,r,s,c))}),p}(n,t,C.path,C.children,i,r,s):((0,ue.hu)(C.source.fromServer,"Unknown source."),p=C.source.tagged||t.serverCache.isFiltered(),c=dF(n,t,C.path,C.children,i,r,p,s))}else if(e.type===dh.ACK_USER_WRITE){const C=e;c=C.revert?function _8(n,t,e,i,r,s){let c;if(null!=$k(i,e))return t;{const p=new cF(i,t,r),_=t.eventCache.getNode();let C;if(gi(e)||".priority"===pi(e)){let M;if(t.serverCache.isFullyInitialized())M=Wk(i,Xy(t));else{const V=t.serverCache.getNode();(0,ue.hu)(V instanceof ri,"serverChildren would be complete if leaf node"),M=aF(i,V)}C=n.filter.updateFullNode(_,M,s)}else{const M=pi(e);let V=lF(i,M,t.serverCache);null==V&&t.serverCache.isCompleteForChild(M)&&(V=_.getImmediateChild(M)),C=null!=V?n.filter.updateChild(_,M,V,Sr(e),p,s):t.eventCache.getNode().hasChild(M)?n.filter.updateChild(_,M,ri.EMPTY_NODE,Sr(e),p,s):_,C.isEmpty()&&t.serverCache.isFullyInitialized()&&(c=Wk(i,Xy(t)),c.isLeafNode()&&(C=n.filter.updateFullNode(C,c,s)))}return c=t.serverCache.isFullyInitialized()||null!=$k(i,$i()),YD(t,C,c,n.filter.filtersNodes())}}(n,t,C.path,i,r,s):function v8(n,t,e,i,r,s,c){if(null!=$k(r,e))return t;const p=t.serverCache.isFiltered(),_=t.serverCache;if(null!=i.value){if(gi(e)&&_.isFullyInitialized()||_.isCompleteForPath(e))return Yk(n,t,e,_.getNode().getChild(e),r,s,p,c);if(gi(e)){let C=new Lr(null);return _.getNode().forEachChild(uh,(M,V)=>{C=C.set(new ur(M),V)}),dF(n,t,e,C,r,s,p,c)}return t}{let C=new Lr(null);return i.foreach((M,V)=>{const W=cs(e,M);_.isCompleteForPath(W)&&(C=C.set(M,_.getNode().getChild(W)))}),dF(n,t,e,C,r,s,p,c)}}(n,t,C.path,C.affectedTree,i,r,s)}else{if(e.type!==dh.LISTEN_COMPLETE)throw(0,ue.g5)("Unknown operation type: "+e.type);c=function y8(n,t,e,i,r){const s=t.serverCache;return nU(n,$3(t,s.getNode(),s.isFullyInitialized()||gi(e),s.isFiltered()),e,i,tU,r)}(n,t,e.path,i,s)}const _=s.getChanges();return function g8(n,t,e){const i=t.eventCache;if(i.isFullyInitialized()){const r=i.getNode().isLeafNode()||i.getNode().isEmpty(),s=jk(n);(e.length>0||!n.eventCache.isFullyInitialized()||r&&!i.getNode().equals(s)||!i.getNode().getPriority().equals(s.getPriority()))&&e.push(z3(jk(t)))}}(t,c,_),{viewCache:c,changes:_}}(n.processor_,r,t,e,i);return function f8(n,t){(0,ue.hu)(t.eventCache.getNode().isIndexed(n.filter.getIndex()),"Event snap not indexed"),(0,ue.hu)(t.serverCache.getNode().isIndexed(n.filter.getIndex()),"Server snap not indexed")}(n.processor_,s.viewCache),(0,ue.hu)(s.viewCache.serverCache.isFullyInitialized()||!r.serverCache.isFullyInitialized(),"Once a server snap is complete, it should never go back"),n.viewCache_=s.viewCache,lU(n,s.changes,s.viewCache.eventCache.getNode(),null)}function lU(n,t,e,i){return function $Y(n,t,e,i){const r=[],s=[];return t.forEach(c=>{"child_changed"===c.type&&n.index_.indexedValueChanged(c.oldSnap,c.snapshotNode)&&s.push(function OY(n,t){return{type:"child_moved",snapshotNode:t,childName:n}}(c.childName,c.snapshotNode))}),$D(n,r,"child_removed",t,i,e),$D(n,r,"child_added",t,i,e),$D(n,r,"child_moved",s,i,e),$D(n,r,"child_changed",t,i,e),$D(n,r,"value",t,i,e),r}(n.eventGenerator_,t,e,i?[i]:n.eventRegistrations_)}let qk,Xk;class cU{constructor(){this.views=new Map}}function hF(n,t,e,i){const r=t.source.queryId;if(null!==r){const s=n.views.get(r);return(0,ue.hu)(null!=s,"SyncTree gave us an op for an invalid query."),aU(s,t,e,i)}{let s=[];for(const c of n.views.values())s=s.concat(aU(c,t,e,i));return s}}function uU(n,t,e,i,r){const c=n.views.get(t._queryIdentifier);if(!c){let p=Wk(e,r?i:null),_=!1;p?_=!0:i instanceof ri?(p=aF(e,i),_=!1):(p=ri.EMPTY_NODE,_=!1);const C=zk(new hm(p,_,!1),new hm(i,r,!1));return new b8(t,C)}return c}function dU(n){const t=[];for(const e of n.views.values())e.query._queryParams.loadsAllData()||t.push(e);return t}function pm(n,t){let e=null;for(const i of n.views.values())e=e||C8(i,t);return e}function hU(n,t){return t._queryParams.loadsAllData()?Zk(n):n.views.get(t._queryIdentifier)}function fU(n,t){return null!=hU(n,t)}function gm(n){return null!=Zk(n)}function Zk(n){for(const t of n.views.values())if(t.query._queryParams.loadsAllData())return t;return null}let N8=1;class pU{constructor(t){this.listenProvider_=t,this.syncPointTree_=new Lr(null),this.pendingWriteTree_=function l8(){return{visibleWrites:Fu.empty(),allWrites:[],lastWriteId:-1}}(),this.tagToQueryMap=new Map,this.queryToTagMap=new Map}}function fF(n,t,e,i,r){return function XY(n,t,e,i,r){(0,ue.hu)(i>n.lastWriteId,"Stacking an older write on top of newer ones"),void 0===r&&(r=!0),n.allWrites.push({path:t,snap:e,writeId:i,visible:r}),r&&(n.visibleWrites=qD(n.visibleWrites,t,e)),n.lastWriteId=i}(n.pendingWriteTree_,t,e,i,r),r?Gw(n,new Zy({fromUser:!0,fromServer:!1,queryId:null,tagged:!1},t,e)):[]}function mm(n,t,e=!1){const i=function QY(n,t){for(let e=0;e<n.allWrites.length;e++){const i=n.allWrites[e];if(i.writeId===t)return i}return null}(n.pendingWriteTree_,t);if(function JY(n,t){const e=n.allWrites.findIndex(p=>p.writeId===t);(0,ue.hu)(e>=0,"removeWrite called with nonexistent writeId.");const i=n.allWrites[e];n.allWrites.splice(e,1);let r=i.visible,s=!1,c=n.allWrites.length-1;for(;r&&c>=0;){const p=n.allWrites[c];p.visible&&(c>=e&&e8(p,i.path)?r=!1:kc(i.path,p.path)&&(s=!0)),c--}return!!r&&(s?(function t8(n){n.visibleWrites=X3(n.allWrites,n8,$i()),n.lastWriteId=n.allWrites.length>0?n.allWrites[n.allWrites.length-1].writeId:-1}(n),!0):(i.snap?n.visibleWrites=Y3(n.visibleWrites,i.path):Po(i.children,_=>{n.visibleWrites=Y3(n.visibleWrites,cs(i.path,_))}),!0))}(n.pendingWriteTree_,t)){let s=new Lr(null);return null!=i.snap?s=s.set($i(),!0):Po(i.children,c=>{s=s.set(new ur(c),!0)}),Gw(n,new Uk(i.path,s,e))}return[]}function ZD(n,t,e){return Gw(n,new Zy({fromUser:!1,fromServer:!0,queryId:null,tagged:!1},t,e))}function Kk(n,t,e,i,r=!1){const s=t._path,c=n.syncPointTree_.get(s);let p=[];if(c&&("default"===t._queryIdentifier||fU(c,t))){const _=function M8(n,t,e,i){const r=t._queryIdentifier,s=[];let c=[];const p=gm(n);if("default"===r)for(const[_,C]of n.views.entries())c=c.concat(oU(C,e,i)),sU(C)&&(n.views.delete(_),C.query._queryParams.loadsAllData()||s.push(C.query));else{const _=n.views.get(r);_&&(c=c.concat(oU(_,e,i)),sU(_)&&(n.views.delete(r),_.query._queryParams.loadsAllData()||s.push(_.query)))}return p&&!gm(n)&&s.push(new(function S8(){return(0,ue.hu)(qk,"Reference.ts has not been loaded"),qk}())(t._repo,t._path)),{removed:s,events:c}}(c,t,e,i);(function A8(n){return 0===n.views.size})(c)&&(n.syncPointTree_=n.syncPointTree_.remove(s));const C=_.removed;if(p=_.events,!r){const M=-1!==C.findIndex(W=>W._queryParams.loadsAllData()),V=n.syncPointTree_.findOnPath(s,(W,K)=>gm(K));if(M&&!V){const W=n.syncPointTree_.subtree(s);if(!W.isEmpty()){const K=function H8(n){return n.fold((t,e,i)=>{if(e&&gm(e))return[Zk(e)];{let r=[];return e&&(r=dU(e)),Po(i,(s,c)=>{r=r.concat(c)}),r}})}(W);for(let oe=0;oe<K.length;++oe){const ae=K[oe],fe=ae.query,Pe=yU(n,ae);n.listenProvider_.startListening(KD(fe),XD(n,fe),Pe.hashFn,Pe.onComplete)}}}!V&&C.length>0&&!i&&(M?n.listenProvider_.stopListening(KD(t),null):C.forEach(W=>{const K=n.queryToTagMap.get(Jk(W));n.listenProvider_.stopListening(KD(W),K)}))}!function U8(n,t){for(let e=0;e<t.length;++e){const i=t[e];if(!i._queryParams.loadsAllData()){const r=Jk(i),s=n.queryToTagMap.get(r);n.queryToTagMap.delete(r),n.tagToQueryMap.delete(s)}}}(n,C)}return p}function gU(n,t,e,i){const r=gF(n,i);if(null!=r){const s=mF(r),c=s.path,p=s.queryId,_=Fa(c,t);return vF(n,c,new Zy(nF(p),_,e))}return[]}function pF(n,t,e,i=!1){const r=t._path;let s=null,c=!1;n.syncPointTree_.foreachOnPath(r,(W,K)=>{const oe=Fa(W,r);s=s||pm(K,oe),c=c||gm(K)});let _,p=n.syncPointTree_.get(r);p?(c=c||gm(p),s=s||pm(p,$i())):(p=new cU,n.syncPointTree_=n.syncPointTree_.set(r,p)),null!=s?_=!0:(_=!1,s=ri.EMPTY_NODE,n.syncPointTree_.subtree(r).foreachChild((K,oe)=>{const ae=pm(oe,$i());ae&&(s=s.updateImmediateChild(K,ae))}));const C=fU(p,t);if(!C&&!t._queryParams.loadsAllData()){const W=Jk(t);(0,ue.hu)(!n.queryToTagMap.has(W),"View does not exist, but we have a tag");const K=function z8(){return N8++}();n.queryToTagMap.set(W,K),n.tagToQueryMap.set(K,W)}let V=function I8(n,t,e,i,r,s){const c=uU(n,t,i,r,s);return n.views.has(t._queryIdentifier)||n.views.set(t._queryIdentifier,c),function E8(n,t){n.eventRegistrations_.push(t)}(c,e),function D8(n,t){const e=n.viewCache_.eventCache,i=[];return e.getNode().isLeafNode()||e.getNode().forEachChild(Fr,(s,c)=>{i.push(Hw(s,c))}),e.isFullyInitialized()&&i.push(z3(e.getNode())),lU(n,i,e.getNode(),t)}(c,e)}(p,t,e,Gk(n.pendingWriteTree_,r),s,_);if(!C&&!c&&!i){const W=hU(p,t);V=V.concat(function j8(n,t,e){const i=t._path,r=XD(n,t),s=yU(n,e),c=n.listenProvider_.startListening(KD(t),r,s.hashFn,s.onComplete),p=n.syncPointTree_.subtree(i);if(r)(0,ue.hu)(!gm(p.value),"If we're adding a query, it shouldn't be shadowed");else{const _=p.fold((C,M,V)=>{if(!gi(C)&&M&&gm(M))return[Zk(M).query];{let W=[];return M&&(W=W.concat(dU(M).map(K=>K.query))),Po(V,(K,oe)=>{W=W.concat(oe)}),W}});for(let C=0;C<_.length;++C){const M=_[C];n.listenProvider_.stopListening(KD(M),XD(n,M))}}return c}(n,t,W))}return V}function Qk(n,t,e){const r=n.pendingWriteTree_,s=n.syncPointTree_.findOnPath(t,(c,p)=>{const C=pm(p,Fa(c,t));if(C)return C});return K3(r,t,s,e,!0)}function Gw(n,t){return mU(t,n.syncPointTree_,null,Gk(n.pendingWriteTree_,$i()))}function mU(n,t,e,i){if(gi(n.path))return vU(n,t,e,i);{const r=t.get($i());null==e&&null!=r&&(e=pm(r,$i()));let s=[];const c=pi(n.path),p=n.operationForChild(c),_=t.children.get(c);if(_&&p){const C=e?e.getImmediateChild(c):null,M=J3(i,c);s=s.concat(mU(p,_,C,M))}return r&&(s=s.concat(hF(r,n,i,e))),s}}function vU(n,t,e,i){const r=t.get($i());null==e&&null!=r&&(e=pm(r,$i()));let s=[];return t.children.inorderTraversal((c,p)=>{const _=e?e.getImmediateChild(c):null,C=J3(i,c),M=n.operationForChild(c);M&&(s=s.concat(vU(M,p,_,C)))}),r&&(s=s.concat(hF(r,n,i,e))),s}function yU(n,t){const e=t.query,i=XD(n,e);return{hashFn:()=>(function w8(n){return n.viewCache_.serverCache.getNode()}(t)||ri.EMPTY_NODE).hash(),onComplete:r=>{if("ok"===r)return i?function L8(n,t,e){const i=gF(n,e);if(i){const r=mF(i),s=r.path,c=r.queryId,p=Fa(s,t);return vF(n,s,new WD(nF(c),p))}return[]}(n,e._path,i):function F8(n,t){return Gw(n,new WD({fromUser:!1,fromServer:!0,queryId:null,tagged:!1},t))}(n,e._path);{const s=function R$(n,t){let e="Unknown Error";"too_big"===n?e="The data requested exceeds the maximum size that can be accessed with a single request.":"permission_denied"===n?e="Client doesn't have permission to access the desired data.":"unavailable"===n&&(e="The service is unavailable");const i=new Error(n+" at "+t._path.toString()+": "+e);return i.code=n.toUpperCase(),i}(r,e);return Kk(n,e,null,s)}}}}function XD(n,t){const e=Jk(t);return n.queryToTagMap.get(e)}function Jk(n){return n._path.toString()+"$"+n._queryIdentifier}function gF(n,t){return n.tagToQueryMap.get(t)}function mF(n){const t=n.indexOf("$");return(0,ue.hu)(-1!==t&&t<n.length-1,"Bad queryKey."),{queryId:n.substr(t+1),path:new ur(n.substr(0,t))}}function vF(n,t,e){const i=n.syncPointTree_.get(t);return(0,ue.hu)(i,"Missing sync point for query tag that we're tracking"),hF(i,e,Gk(n.pendingWriteTree_,t),null)}function KD(n){return n._queryParams.loadsAllData()&&!n._queryParams.isDefault()?new(function O8(){return(0,ue.hu)(Xk,"Reference.ts has not been loaded"),Xk}())(n._repo,n._path):n}class yF{constructor(t){this.node_=t}getImmediateChild(t){const e=this.node_.getImmediateChild(t);return new yF(e)}node(){return this.node_}}class _F{constructor(t,e){this.syncTree_=t,this.path_=e}getImmediateChild(t){const e=cs(this.path_,t);return new _F(this.syncTree_,e)}node(){return Qk(this.syncTree_,this.path_)}}const G8=function(n){return(n=n||{}).timestamp=n.timestamp||(new Date).getTime(),n},_U=function(n,t,e){return n&&"object"==typeof n?((0,ue.hu)(".sv"in n,"Unexpected leaf node or priority contents"),"string"==typeof n[".sv"]?W8(n[".sv"],t,e):"object"==typeof n[".sv"]?$8(n[".sv"],t):void(0,ue.hu)(!1,"Unexpected server value: "+JSON.stringify(n,null,2))):n},W8=function(n,t,e){if("timestamp"===n)return e.timestamp;(0,ue.hu)(!1,"Unexpected server value: "+n)},$8=function(n,t,e){n.hasOwnProperty("increment")||(0,ue.hu)(!1,"Unexpected server value: "+JSON.stringify(n,null,2));const i=n.increment;"number"!=typeof i&&(0,ue.hu)(!1,"Unexpected increment value: "+i);const r=t.node();if((0,ue.hu)(null!==r&&typeof r<"u","Expected ChildrenNode.EMPTY_NODE for nulls"),!r.isLeafNode())return i;const c=r.getValue();return"number"!=typeof c?i:c+i},bU=function(n,t,e,i){return wF(t,new _F(e,n),i)},bF=function(n,t,e){return wF(n,new yF(t),e)};function wF(n,t,e){const i=n.getPriority().val(),r=_U(i,t.getImmediateChild(".priority"),e);let s;if(n.isLeafNode()){const c=n,p=_U(c.getValue(),t,e);return p!==c.getValue()||r!==c.getPriority().val()?new Bw(p,Cs(r)):n}{const c=n;return s=c,r!==c.getPriority().val()&&(s=s.updatePriority(new Bw(r))),c.forEachChild(Fr,(p,_)=>{const C=wF(_,t.getImmediateChild(p),e);C!==_&&(s=s.updateImmediateChild(p,C))}),s}}class xF{constructor(t="",e=null,i={children:{},childCount:0}){this.name=t,this.parent=e,this.node=i}}function eO(n,t){let e=t instanceof ur?t:new ur(t),i=n,r=pi(e);for(;null!==r;){const s=(0,ue.DV)(i.node.children,r)||{children:{},childCount:0};i=new xF(r,i,s),e=Sr(e),r=pi(e)}return i}function Qy(n){return n.node.value}function CF(n,t){n.node.value=t,EF(n)}function wU(n){return n.node.childCount>0}function tO(n,t){Po(n.node.children,(e,i)=>{t(new xF(e,n,i))})}function xU(n,t,e,i){e&&!i&&t(n),tO(n,r=>{xU(r,t,!0,i)}),e&&i&&t(n)}function QD(n){return new ur(null===n.parent?n.name:QD(n.parent)+"/"+n.name)}function EF(n){null!==n.parent&&function Z8(n,t,e){const i=function Y8(n){return void 0===Qy(n)&&!wU(n)}(e),r=(0,ue.r3)(n.node.children,t);i&&r?(delete n.node.children[t],n.node.childCount--,EF(n)):!i&&!r&&(n.node.children[t]=e.node,n.node.childCount++,EF(n))}(n.parent,n.name,n)}const X8=/[\[\].#$\/\u0000-\u001F\u007F]/,K8=/[\[\].#$\u0000-\u001F\u007F]/,DF=10485760,nO=function(n){return"string"==typeof n&&0!==n.length&&!X8.test(n)},CU=function(n){return"string"==typeof n&&0!==n.length&&!K8.test(n)},JD=function(n){return null===n||"string"==typeof n||"number"==typeof n&&!Ik(n)||n&&"object"==typeof n&&(0,ue.r3)(n,".sv")},hh=function(n,t,e,i){i&&void 0===t||eT((0,ue.gK)(n,"value"),t,e)},eT=function(n,t,e){const i=e instanceof ur?new pY(e,n):e;if(void 0===t)throw new Error(n+"contains undefined "+Yy(i));if("function"==typeof t)throw new Error(n+"contains a function "+Yy(i)+" with contents = "+t.toString());if(Ik(t))throw new Error(n+"contains "+t.toString()+" "+Yy(i));if("string"==typeof t&&t.length>DF/3&&(0,ue.ug)(t)>DF)throw new Error(n+"contains a string greater than "+DF+" utf8 bytes "+Yy(i)+" ('"+t.substring(0,50)+"...')");if(t&&"object"==typeof t){let r=!1,s=!1;if(Po(t,(c,p)=>{if(".value"===c)r=!0;else if(".priority"!==c&&".sv"!==c&&(s=!0,!nO(c)))throw new Error(n+" contains an invalid key ("+c+") "+Yy(i)+'.  Keys must be non-empty strings and can\'t contain ".", "#", "$", "/", "[", or "]"');(function gY(n,t){n.parts_.length>0&&(n.byteLength_+=1),n.parts_.push(t),n.byteLength_+=(0,ue.ug)(t),N3(n)})(i,c),eT(n,p,i),function mY(n){const t=n.parts_.pop();n.byteLength_-=(0,ue.ug)(t),n.parts_.length>0&&(n.byteLength_-=1)}(i)}),r&&s)throw new Error(n+' contains ".value" child '+Yy(i)+" in addition to actual children.")}},EU=function(n,t,e,i){if(i&&void 0===t)return;const r=(0,ue.gK)(n,"values");if(!t||"object"!=typeof t||Array.isArray(t))throw new Error(r+" must be an object containing the children to replace.");const s=[];Po(t,(c,p)=>{const _=new ur(c);if(eT(r,p,cs(e,_)),".priority"===U2(_)&&!JD(p))throw new Error(r+"contains an invalid value for '"+_.toString()+"', which must be a valid Firebase priority (a string, finite number, server value, or null).");s.push(_)}),function(n,t){let e,i;for(e=0;e<t.length;e++){i=t[e];const s=BD(i);for(let c=0;c<s.length;c++)if((".priority"!==s[c]||c!==s.length-1)&&!nO(s[c]))throw new Error(n+"contains an invalid key ("+s[c]+") in path "+i.toString()+'. Keys must be non-empty strings and can\'t contain ".", "#", "$", "/", "[", or "]"')}t.sort(fY);let r=null;for(e=0;e<t.length;e++){if(i=t[e],null!==r&&kc(r,i))throw new Error(n+"contains a path "+r.toString()+" that is ancestor of another path "+i.toString());r=i}}(r,s)},TF=function(n,t,e){if(!e||void 0!==t){if(Ik(t))throw new Error((0,ue.gK)(n,"priority")+"is "+t.toString()+", but must be a valid Firebase priority (a string, finite number, server value, or null).");if(!JD(t))throw new Error((0,ue.gK)(n,"priority")+"must be a valid Firebase priority (a string, finite number, server value, or null).")}},tT=function(n,t,e,i){if(!(i&&void 0===e||nO(e)))throw new Error((0,ue.gK)(n,t)+'was an invalid key = "'+e+'".  Firebase keys must be non-empty strings and can\'t contain ".", "#", "$", "/", "[", or "]").')},nT=function(n,t,e,i){if(!(i&&void 0===e||CU(e)))throw new Error((0,ue.gK)(n,t)+'was an invalid path = "'+e+'". Paths must be non-empty strings and can\'t contain ".", "#", "$", "[", or "]"')},e9=function(n,t,e,i){e&&(e=e.replace(/^\/*\.info(\/|$)/,"/")),nT(n,t,e,i)},Oc=function(n,t){if(".info"===pi(t))throw new Error(n+" failed = Can't modify data under /.info/")},DU=function(n,t){const e=t.path.toString();if("string"!=typeof t.repoInfo.host||0===t.repoInfo.host.length||!nO(t.repoInfo.namespace)&&"localhost"!==t.repoInfo.host.split(":")[0]||0!==e.length&&!function(n){return n&&(n=n.replace(/^\/*\.info(\/|$)/,"/")),CU(n)}(e))throw new Error((0,ue.gK)(n,"url")+'must be a valid firebase URL and the path can\'t contain ".", "#", "$", "[", or "]".')};class t9{constructor(){this.eventLists_=[],this.recursionDepth_=0}}function iO(n,t){let e=null;for(let i=0;i<t.length;i++){const r=t[i],s=r.getPath();null!==e&&!z2(s,e.path)&&(n.eventLists_.push(e),e=null),null===e&&(e={events:[],path:s}),e.events.push(r)}e&&n.eventLists_.push(e)}function TU(n,t,e){iO(n,e),SU(n,i=>z2(i,t))}function Ll(n,t,e){iO(n,e),SU(n,i=>kc(i,t)||kc(t,i))}function SU(n,t){n.recursionDepth_++;let e=!0;for(let i=0;i<n.eventLists_.length;i++){const r=n.eventLists_[i];r&&(t(r.path)?(n9(n.eventLists_[i]),n.eventLists_[i]=null):e=!1)}e&&(n.eventLists_=[]),n.recursionDepth_--}function n9(n){for(let t=0;t<n.events.length;t++){const e=n.events[t];if(null!==e){n.events[t]=null;const i=e.getEventRunner();Wy&&No("event: "+e.toString()),Fw(i)}}}const AU="repo_interrupt",i9=25;class r9{constructor(t,e,i,r){this.repoInfo_=t,this.forceRestClient_=e,this.authTokenProvider_=i,this.appCheckProvider_=r,this.dataUpdateCount=0,this.statsListener_=null,this.eventQueue_=new t9,this.nextWriteId_=1,this.interceptServerDataCallback_=null,this.onDisconnect_=Hk(),this.transactionQueueTree_=new xF,this.persistentConnection_=null,this.key=this.repoInfo_.toURLString()}toString(){return(this.repoInfo_.secure?"https://":"http://")+this.repoInfo_.host}}function IU(n){const e=n.infoData_.getNode(new ur(".info/serverTimeOffset")).val()||0;return(new Date).getTime()+e}function iT(n){return G8({timestamp:IU(n)})}function MU(n,t,e,i,r){n.dataUpdateCount++;const s=new ur(t);e=n.interceptServerDataCallback_?n.interceptServerDataCallback_(t,e):e;let c=[];if(r)if(i){const _=(0,ue.UI)(e,C=>Cs(C));c=function B8(n,t,e,i){const r=gF(n,i);if(r){const s=mF(r),c=s.path,p=s.queryId,_=Fa(c,t),C=Lr.fromObject(e);return vF(n,c,new zw(nF(p),_,C))}return[]}(n.serverSyncTree_,s,_,r)}else{const _=Cs(e);c=gU(n.serverSyncTree_,s,_,r)}else if(i){const _=(0,ue.UI)(e,C=>Cs(C));c=function R8(n,t,e){const i=Lr.fromObject(e);return Gw(n,new zw({fromUser:!1,fromServer:!0,queryId:null,tagged:!1},t,i))}(n.serverSyncTree_,s,_)}else{const _=Cs(e);c=ZD(n.serverSyncTree_,s,_)}let p=s;c.length>0&&(p=$w(n,s)),Ll(n.eventQueue_,p,c)}function kU(n,t){SF(n,"connected",t),!1===t&&function c9(n){Ww(n,"onDisconnectEvents");const t=iT(n),e=Hk();J2(n.onDisconnect_,$i(),(r,s)=>{const c=bU(r,s,n.serverSyncTree_,t);Uw(e,r,c)});let i=[];J2(e,$i(),(r,s)=>{i=i.concat(ZD(n.serverSyncTree_,r,s));const c=kF(n,r);$w(n,c)}),n.onDisconnect_=Hk(),Ll(n.eventQueue_,$i(),i)}(n)}function SF(n,t,e){const i=new ur("/.info/"+t),r=Cs(e);n.infoData_.updateSnapshot(i,r);const s=ZD(n.infoSyncTree_,i,r);Ll(n.eventQueue_,i,s)}function rO(n){return n.nextWriteId_++}function AF(n,t,e,i,r){Ww(n,"set",{path:t.toString(),value:e,priority:i});const s=iT(n),c=Cs(e,i),p=Qk(n.serverSyncTree_,t),_=bF(c,p,s),C=rO(n),M=fF(n.serverSyncTree_,t,_,C,!0);iO(n.eventQueue_,M),n.server_.put(t.toString(),c.val(!0),(W,K)=>{const oe="ok"===W;oe||ga("set at "+t+" failed: "+W);const ae=mm(n.serverSyncTree_,C,!oe);Ll(n.eventQueue_,t,ae),vm(0,r,W,K)});const V=kF(n,t);$w(n,V),Ll(n.eventQueue_,V,[])}function u9(n,t,e){n.server_.onDisconnectCancel(t.toString(),(i,r)=>{"ok"===i&&Q2(n.onDisconnect_,t),vm(0,e,i,r)})}function OU(n,t,e,i){const r=Cs(e);n.server_.onDisconnectPut(t.toString(),r.val(!0),(s,c)=>{"ok"===s&&Uw(n.onDisconnect_,t,r),vm(0,i,s,c)})}function IF(n,t,e){let i;i=".info"===pi(t._path)?Kk(n.infoSyncTree_,t,e):Kk(n.serverSyncTree_,t,e),TU(n.eventQueue_,t._path,i)}function NU(n){n.persistentConnection_&&n.persistentConnection_.interrupt(AU)}function Ww(n,...t){let e="";n.persistentConnection_&&(e=n.persistentConnection_.id+":"),No(e,...t)}function vm(n,t,e,i){t&&Fw(()=>{if("ok"===e)t(null);else{const r=(e||"error").toUpperCase();let s=r;i&&(s+=": "+i);const c=new Error(s);c.code=r,t(c)}})}function MF(n,t,e){return Qk(n.serverSyncTree_,t,e)||ri.EMPTY_NODE}function sO(n,t=n.transactionQueueTree_){if(t||oO(n,t),Qy(t)){const e=RU(n,t);(0,ue.hu)(e.length>0,"Sending zero length transaction queue"),e.every(r=>0===r.status)&&function m9(n,t,e){const i=e.map(C=>C.currentWriteId),r=MF(n,t,i);let s=r;const c=r.hash();for(let C=0;C<e.length;C++){const M=e[C];(0,ue.hu)(0===M.status,"tryToSendTransactionQueue_: items in queue should all be run."),M.status=1,M.retryCount++;const V=Fa(t,M.path);s=s.updateChild(V,M.currentOutputSnapshotRaw)}const p=s.val(!0),_=t;n.server_.put(_.toString(),p,C=>{Ww(n,"transaction put response",{path:_.toString(),status:C});let M=[];if("ok"===C){const V=[];for(let W=0;W<e.length;W++)e[W].status=2,M=M.concat(mm(n.serverSyncTree_,e[W].currentWriteId)),e[W].onComplete&&V.push(()=>e[W].onComplete(null,!0,e[W].currentOutputSnapshotResolved)),e[W].unwatcher();oO(n,eO(n.transactionQueueTree_,t)),sO(n,n.transactionQueueTree_),Ll(n.eventQueue_,t,M);for(let W=0;W<V.length;W++)Fw(V[W])}else{if("datastale"===C)for(let V=0;V<e.length;V++)e[V].status=3===e[V].status?4:0;else{ga("transaction at "+_.toString()+" failed: "+C);for(let V=0;V<e.length;V++)e[V].status=4,e[V].abortReason=C}$w(n,t)}},c)}(n,QD(t),e)}else wU(t)&&tO(t,e=>{sO(n,e)})}function $w(n,t){const e=PU(n,t),i=QD(e);return function v9(n,t,e){if(0===t.length)return;const i=[];let r=[];const c=t.filter(p=>0===p.status).map(p=>p.currentWriteId);for(let p=0;p<t.length;p++){const _=t[p],C=Fa(e,_.path);let V,M=!1;if((0,ue.hu)(null!==C,"rerunTransactionsUnderNode_: relativePath should not be null."),4===_.status)M=!0,V=_.abortReason,r=r.concat(mm(n.serverSyncTree_,_.currentWriteId,!0));else if(0===_.status)if(_.retryCount>=i9)M=!0,V="maxretry",r=r.concat(mm(n.serverSyncTree_,_.currentWriteId,!0));else{const W=MF(n,_.path,c);_.currentInputSnapshot=W;const K=t[p].update(W.val());if(void 0!==K){eT("transaction failed: Data returned ",K,_.path);let oe=Cs(K);"object"==typeof K&&null!=K&&(0,ue.r3)(K,".priority")||(oe=oe.updatePriority(W.getPriority()));const fe=_.currentWriteId,Pe=iT(n),Be=bF(oe,W,Pe);_.currentOutputSnapshotRaw=oe,_.currentOutputSnapshotResolved=Be,_.currentWriteId=rO(n),c.splice(c.indexOf(fe),1),r=r.concat(fF(n.serverSyncTree_,_.path,Be,_.currentWriteId,_.applyLocally)),r=r.concat(mm(n.serverSyncTree_,fe,!0))}else M=!0,V="nodata",r=r.concat(mm(n.serverSyncTree_,_.currentWriteId,!0))}Ll(n.eventQueue_,e,r),r=[],M&&(t[p].status=2,setTimeout(t[p].unwatcher,Math.floor(0)),t[p].onComplete&&i.push("nodata"===V?()=>t[p].onComplete(null,!1,t[p].currentInputSnapshot):()=>t[p].onComplete(new Error(V),!1,null)))}oO(n,n.transactionQueueTree_);for(let p=0;p<i.length;p++)Fw(i[p]);sO(n,n.transactionQueueTree_)}(n,RU(n,e),i),i}function PU(n,t){let e,i=n.transactionQueueTree_;for(e=pi(t);null!==e&&void 0===Qy(i);)i=eO(i,e),e=pi(t=Sr(t));return i}function RU(n,t){const e=[];return FU(n,t,e),e.sort((i,r)=>i.order-r.order),e}function FU(n,t,e){const i=Qy(t);if(i)for(let r=0;r<i.length;r++)e.push(i[r]);tO(t,r=>{FU(n,r,e)})}function oO(n,t){const e=Qy(t);if(e){let i=0;for(let r=0;r<e.length;r++)2!==e[r].status&&(e[i]=e[r],i++);e.length=i,CF(t,e.length>0?e:void 0)}tO(t,i=>{oO(n,i)})}function kF(n,t){const e=QD(PU(n,t)),i=eO(n.transactionQueueTree_,t);return function q8(n,t,e){let i=e?n:n.parent;for(;null!==i;){if(t(i))return!0;i=i.parent}}(i,r=>{OF(n,r)}),OF(n,i),xU(i,r=>{OF(n,r)}),e}function OF(n,t){const e=Qy(t);if(e){const i=[];let r=[],s=-1;for(let c=0;c<e.length;c++)3===e[c].status||(1===e[c].status?((0,ue.hu)(s===c-1,"All SENT items should be at beginning of queue."),s=c,e[c].status=3,e[c].abortReason="set"):((0,ue.hu)(0===e[c].status,"Unexpected transaction status in abort"),e[c].unwatcher(),r=r.concat(mm(n.serverSyncTree_,e[c].currentWriteId,!0)),e[c].onComplete&&i.push(e[c].onComplete.bind(null,new Error("set"),!1,null))));-1===s?CF(t,void 0):e.length=s+1,Ll(n.eventQueue_,QD(t),r);for(let c=0;c<i.length;c++)Fw(i[c])}}const NF=function(n,t){const e=b9(n),i=e.namespace;return"firebase.com"===e.domain&&ch(e.host+" is no longer supported. Please use <YOUR FIREBASE>.firebaseio.com instead"),(!i||"undefined"===i)&&"localhost"!==e.domain&&ch("Cannot parse Firebase url. Please use https://<YOUR FIREBASE>.firebaseio.com"),e.secure||typeof window<"u"&&window.location&&window.location.protocol&&-1!==window.location.protocol.indexOf("https:")&&ga("Insecure Firebase access from a secure page. Please use https in calls to new Firebase()."),{repoInfo:new R2(e.host,e.secure,i,"ws"===e.scheme||"wss"===e.scheme,t,"",i!==e.subdomain),path:new ur(e.pathString)}},b9=function(n){let t="",e="",i="",r="",s="",c=!0,p="https",_=443;if("string"==typeof n){let C=n.indexOf("//");C>=0&&(p=n.substring(0,C-1),n=n.substring(C+2));let M=n.indexOf("/");-1===M&&(M=n.length);let V=n.indexOf("?");-1===V&&(V=n.length),t=n.substring(0,Math.min(M,V)),M<V&&(r=function y9(n){let t="";const e=n.split("/");for(let i=0;i<e.length;i++)if(e[i].length>0){let r=e[i];try{r=decodeURIComponent(r.replace(/\+/g," "))}catch{}t+="/"+r}return t}(n.substring(M,V)));const W=function _9(n){const t={};"?"===n.charAt(0)&&(n=n.substring(1));for(const e of n.split("&")){if(0===e.length)continue;const i=e.split("=");2===i.length?t[decodeURIComponent(i[0])]=decodeURIComponent(i[1]):ga(`Invalid query segment '${e}' in query '${n}'`)}return t}(n.substring(Math.min(n.length,V)));C=t.indexOf(":"),C>=0?(c="https"===p||"wss"===p,_=parseInt(t.substring(C+1),10)):C=t.length;const K=t.slice(0,C);if("localhost"===K.toLowerCase())e="localhost";else if(K.split(".").length<=2)e=K;else{const oe=t.indexOf(".");i=t.substring(0,oe).toLowerCase(),e=t.substring(oe+1),s=i}"ns"in W&&(s=W.ns)}return{host:t,port:_,domain:e,subdomain:i,secure:c,scheme:p,pathString:r,namespace:s}},LU="-0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZ_abcdefghijklmnopqrstuvwxyz",w9=function(){let n=0;const t=[];return function(e){const i=e===n;let r;n=e;const s=new Array(8);for(r=7;r>=0;r--)s[r]=LU.charAt(e%64),e=Math.floor(e/64);(0,ue.hu)(0===e,"Cannot push at time == 0");let c=s.join("");if(i){for(r=11;r>=0&&63===t[r];r--)t[r]=0;t[r]++}else for(r=0;r<12;r++)t[r]=Math.floor(64*Math.random());for(r=0;r<12;r++)c+=LU.charAt(t[r]);return(0,ue.hu)(20===c.length,"nextPushId: Length should be 20."),c}}();class BU{constructor(t,e,i,r){this.eventType=t,this.eventRegistration=e,this.snapshot=i,this.prevName=r}getPath(){const t=this.snapshot.ref;return"value"===this.eventType?t._path:t.parent._path}getEventType(){return this.eventType}getEventRunner(){return this.eventRegistration.getEventRunner(this)}toString(){return this.getPath().toString()+":"+this.eventType+":"+(0,ue.Wl)(this.snapshot.exportVal())}}class VU{constructor(t,e,i){this.eventRegistration=t,this.error=e,this.path=i}getPath(){return this.path}getEventType(){return"cancel"}getEventRunner(){return this.eventRegistration.getEventRunner(this)}toString(){return this.path.toString()+":cancel"}}class PF{constructor(t,e){this.snapshotCallback=t,this.cancelCallback=e}onValue(t,e){this.snapshotCallback.call(null,t,e)}onCancel(t){return(0,ue.hu)(this.hasCancelCallback,"Raising a cancel event on a listener with no cancel callback"),this.cancelCallback.call(null,t)}get hasCancelCallback(){return!!this.cancelCallback}matches(t){return this.snapshotCallback===t.snapshotCallback||void 0!==this.snapshotCallback.userCallback&&this.snapshotCallback.userCallback===t.snapshotCallback.userCallback&&this.snapshotCallback.context===t.snapshotCallback.context}}class HU{constructor(t,e){this._repo=t,this._path=e}cancel(){const t=new ue.BH;return u9(this._repo,this._path,t.wrapCallback(()=>{})),t.promise}remove(){Oc("OnDisconnect.remove",this._path);const t=new ue.BH;return OU(this._repo,this._path,null,t.wrapCallback(()=>{})),t.promise}set(t){Oc("OnDisconnect.set",this._path),hh("OnDisconnect.set",t,this._path,!1);const e=new ue.BH;return OU(this._repo,this._path,t,e.wrapCallback(()=>{})),e.promise}setWithPriority(t,e){Oc("OnDisconnect.setWithPriority",this._path),hh("OnDisconnect.setWithPriority",t,this._path,!1),TF("OnDisconnect.setWithPriority",e,!1);const i=new ue.BH;return function d9(n,t,e,i,r){const s=Cs(e,i);n.server_.onDisconnectPut(t.toString(),s.val(!0),(c,p)=>{"ok"===c&&Uw(n.onDisconnect_,t,s),vm(0,r,c,p)})}(this._repo,this._path,t,e,i.wrapCallback(()=>{})),i.promise}update(t){Oc("OnDisconnect.update",this._path),EU("OnDisconnect.update",t,this._path,!1);const e=new ue.BH;return function h9(n,t,e,i){if((0,ue.xb)(e))return No("onDisconnect().update() called with empty data.  Don't do anything."),void vm(0,i,"ok",void 0);n.server_.onDisconnectMerge(t.toString(),e,(r,s)=>{"ok"===r&&Po(e,(c,p)=>{const _=Cs(p);Uw(n.onDisconnect_,cs(t,c),_)}),vm(0,i,r,s)})}(this._repo,this._path,t,e.wrapCallback(()=>{})),e.promise}}class rl{constructor(t,e,i,r){this._repo=t,this._path=e,this._queryParams=i,this._orderByCalled=r}get key(){return gi(this._path)?null:U2(this._path)}get ref(){return new Nc(this._repo,this._path)}get _queryIdentifier(){const t=G3(this._queryParams),e=N2(t);return"{}"===e?"default":e}get _queryObject(){return G3(this._queryParams)}isEqual(t){if(!((t=(0,ue.m9)(t))instanceof rl))return!1;const e=this._repo===t._repo,i=z2(this._path,t._path);return e&&i&&this._queryIdentifier===t._queryIdentifier}toJSON(){return this.toString()}toString(){return this._repo.toString()+function hY(n){let t="";for(let e=n.pieceNum_;e<n.pieces_.length;e++)""!==n.pieces_[e]&&(t+="/"+encodeURIComponent(String(n.pieces_[e])));return t||"/"}(this._path)}}function aO(n,t){if(!0===n._orderByCalled)throw new Error(t+": You can't combine multiple orderBy calls.")}function ym(n){let t=null,e=null;if(n.hasStart()&&(t=n.getIndexStartValue()),n.hasEnd()&&(e=n.getIndexEndValue()),n.getIndex()===uh){const i="Query: When ordering by key, you may only pass one argument to startAt(), endAt(), or equalTo().",r="Query: When ordering by key, the argument passed to startAt(), startAfter(), endAt(), endBefore(), or equalTo() must be a string.";if(n.hasStart()){if(n.getIndexStartName()!==cm)throw new Error(i);if("string"!=typeof t)throw new Error(r)}if(n.hasEnd()){if(n.getIndexEndName()!==Qf)throw new Error(i);if("string"!=typeof e)throw new Error(r)}}else if(n.getIndex()===Fr){if(null!=t&&!JD(t)||null!=e&&!JD(e))throw new Error("Query: When ordering by priority, the first argument passed to startAt(), startAfter() endAt(), endBefore(), or equalTo() must be a valid priority value (null, a number, or a string).")}else if((0,ue.hu)(n.getIndex()instanceof Y2||n.getIndex()===q2,"unknown index type."),null!=t&&"object"==typeof t||null!=e&&"object"==typeof e)throw new Error("Query: First argument passed to startAt(), startAfter(), endAt(), endBefore(), or equalTo() cannot be an object.")}function lO(n){if(n.hasStart()&&n.hasEnd()&&n.hasLimit()&&!n.hasAnchoredLimit())throw new Error("Query: Can't combine startAt(), startAfter(), endAt(), endBefore(), and limit(). Use limitToFirst() or limitToLast() instead.")}class Nc extends rl{constructor(t,e){super(t,e,new Lk,!1)}get parent(){const t=O3(this._path);return null===t?null:new Nc(this._repo,t)}get root(){let t=this;for(;null!==t.parent;)t=t.parent;return t}}class Jy{constructor(t,e,i){this._node=t,this.ref=e,this._index=i}get priority(){return this._node.getPriority().val()}get key(){return this.ref.key}get size(){return this._node.numChildren()}child(t){const e=new ur(t),i=e_(this.ref,t);return new Jy(this._node.getChild(e),i,Fr)}exists(){return!this._node.isEmpty()}exportVal(){return this._node.val(!0)}forEach(t){return!this._node.isLeafNode()&&!!this._node.forEachChild(this._index,(i,r)=>t(new Jy(r,e_(this.ref,i),Fr)))}hasChild(t){const e=new ur(t);return!this._node.getChild(e).isEmpty()}hasChildren(){return!this._node.isLeafNode()&&!this._node.isEmpty()}toJSON(){return this.exportVal()}val(){return this._node.val()}}function UU(n,t){return(n=(0,ue.m9)(n))._checkNotDeleted("ref"),void 0!==t?e_(n._root,t):n._root}function zU(n,t){(n=(0,ue.m9)(n))._checkNotDeleted("refFromURL");const e=NF(t,n._repo.repoInfo_.nodeAdmin);DU("refFromURL",e);const i=e.repoInfo;return!n._repo.repoInfo_.isCustomHost()&&i.host!==n._repo.repoInfo_.host&&ch("refFromURL: Host name does not match the current database: (found "+i.host+" but expected "+n._repo.repoInfo_.host+")"),UU(n,e.path.toString())}function e_(n,t){return null===pi((n=(0,ue.m9)(n))._path)?e9("child","path",t,!1):nT("child","path",t,!1),new Nc(n._repo,cs(n._path,t))}function RF(n,t){n=(0,ue.m9)(n),Oc("set",n._path),hh("set",t,n._path,!1);const e=new ue.BH;return AF(n._repo,n._path,t,null,e.wrapCallback(()=>{})),e.promise}function T9(n,t){EU("update",t,n._path,!1);const e=new ue.BH;return function l9(n,t,e,i){Ww(n,"update",{path:t.toString(),value:e});let r=!0;const s=iT(n),c={};if(Po(e,(p,_)=>{r=!1,c[p]=bU(cs(t,p),Cs(_),n.serverSyncTree_,s)}),r)No("update() called with empty data.  Don't do anything."),vm(0,i,"ok",void 0);else{const p=rO(n),_=function P8(n,t,e,i){!function KY(n,t,e,i){(0,ue.hu)(i>n.lastWriteId,"Stacking an older merge on top of newer ones"),n.allWrites.push({path:t,children:e,writeId:i,visible:!0}),n.visibleWrites=rF(n.visibleWrites,t,e),n.lastWriteId=i}(n.pendingWriteTree_,t,e,i);const r=Lr.fromObject(e);return Gw(n,new zw({fromUser:!0,fromServer:!1,queryId:null,tagged:!1},t,r))}(n.serverSyncTree_,t,c,p);iO(n.eventQueue_,_),n.server_.merge(t.toString(),e,(C,M)=>{const V="ok"===C;V||ga("update at "+t+" failed: "+C);const W=mm(n.serverSyncTree_,p,!V),K=W.length>0?$w(n,t):t;Ll(n.eventQueue_,K,W),vm(0,i,C,M)}),Po(e,C=>{const M=kF(n,cs(t,C));$w(n,M)}),Ll(n.eventQueue_,t,[])}}(n._repo,n._path,t,e.wrapCallback(()=>{})),e.promise}function S9(n){n=(0,ue.m9)(n);const t=new PF(()=>{}),e=new rT(t);return function a9(n,t,e){const i=function V8(n,t){const e=t._path;let i=null;n.syncPointTree_.foreachOnPath(e,(C,M)=>{const V=Fa(C,e);i=i||pm(M,V)});let r=n.syncPointTree_.get(e);r?i=i||pm(r,$i()):(r=new cU,n.syncPointTree_=n.syncPointTree_.set(e,r));const s=null!=i,c=s?new hm(i,!0,!1):null;return function x8(n){return jk(n.viewCache_)}(uU(r,t,Gk(n.pendingWriteTree_,t._path),s?c.getNode():ri.EMPTY_NODE,s))}(n.serverSyncTree_,t);return null!=i?Promise.resolve(i):n.server_.get(t).then(r=>{const s=Cs(r).withIndex(t._queryParams.getIndex());let c;if(pF(n.serverSyncTree_,t,e,!0),t._queryParams.loadsAllData())c=ZD(n.serverSyncTree_,t._path,s);else{const p=XD(n.serverSyncTree_,t);c=gU(n.serverSyncTree_,t._path,s,p)}return Ll(n.eventQueue_,t._path,c),Kk(n.serverSyncTree_,t,e,null,!0),s},r=>(Ww(n,"get for query "+(0,ue.Wl)(t)+" failed: "+r),Promise.reject(new Error(r))))}(n._repo,n,e).then(i=>new Jy(i,new Nc(n._repo,n._path),n._queryParams.getIndex()))}class rT{constructor(t){this.callbackContext=t}respondsTo(t){return"value"===t}createEvent(t,e){const i=e._queryParams.getIndex();return new BU("value",this,new Jy(t.snapshotNode,new Nc(e._repo,e._path),i))}getEventRunner(t){return"cancel"===t.getEventType()?()=>this.callbackContext.onCancel(t.error):()=>this.callbackContext.onValue(t.snapshot,null)}createCancelEvent(t,e){return this.callbackContext.hasCancelCallback?new VU(this,t,e):null}matches(t){return t instanceof rT&&(!t.callbackContext||!this.callbackContext||t.callbackContext.matches(this.callbackContext))}hasAnyCallback(){return null!==this.callbackContext}}class cO{constructor(t,e){this.eventType=t,this.callbackContext=e}respondsTo(t){let e="children_added"===t?"child_added":t;return e="children_removed"===e?"child_removed":e,this.eventType===e}createCancelEvent(t,e){return this.callbackContext.hasCancelCallback?new VU(this,t,e):null}createEvent(t,e){(0,ue.hu)(null!=t.childName,"Child events should have a childName.");const i=e_(new Nc(e._repo,e._path),t.childName),r=e._queryParams.getIndex();return new BU(t.type,this,new Jy(t.snapshotNode,i,r),t.prevName)}getEventRunner(t){return"cancel"===t.getEventType()?()=>this.callbackContext.onCancel(t.error):()=>this.callbackContext.onValue(t.snapshot,t.prevName)}matches(t){return t instanceof cO&&this.eventType===t.eventType&&(!this.callbackContext||!t.callbackContext||this.callbackContext.matches(t.callbackContext))}hasAnyCallback(){return!!this.callbackContext}}function sT(n,t,e,i,r){let s;if("object"==typeof i&&(s=void 0,r=i),"function"==typeof i&&(s=i),r&&r.onlyOnce){const _=e,C=(M,V)=>{IF(n._repo,n,p),_(M,V)};C.userCallback=e.userCallback,C.context=e.context,e=C}const c=new PF(e,s||void 0),p="value"===t?new rT(c):new cO(t,c);return function f9(n,t,e){let i;i=".info"===pi(t._path)?pF(n.infoSyncTree_,t,e):pF(n.serverSyncTree_,t,e),TU(n.eventQueue_,t._path,i)}(n._repo,n,p),()=>IF(n._repo,n,p)}function FF(n,t,e,i){return sT(n,"value",t,e,i)}function jU(n,t,e,i){return sT(n,"child_added",t,e,i)}function GU(n,t,e,i){return sT(n,"child_changed",t,e,i)}function WU(n,t,e,i){return sT(n,"child_moved",t,e,i)}function $U(n,t,e,i){return sT(n,"child_removed",t,e,i)}function YU(n,t,e){let i=null;const r=e?new PF(e):null;"value"===t?i=new rT(r):t&&(i=new cO(t,r)),IF(n._repo,n,i)}class Lu{}class qU extends Lu{constructor(t,e){super(),this._value=t,this._key=e}_apply(t){hh("endAt",this._value,t._path,!0);const e=K2(t._queryParams,this._value,this._key);if(lO(e),ym(e),t._queryParams.hasEnd())throw new Error("endAt: Starting point was already set (by another call to endAt, endBefore or equalTo).");return new rl(t._repo,t._path,e,t._orderByCalled)}}class I9 extends Lu{constructor(t,e){super(),this._value=t,this._key=e}_apply(t){hh("endBefore",this._value,t._path,!1);const e=function BY(n,t,e){let i;return i=K2(n,t,n.index_===uh||e?e:cm),i.endBeforeSet_=!0,i}(t._queryParams,this._value,this._key);if(lO(e),ym(e),t._queryParams.hasEnd())throw new Error("endBefore: Starting point was already set (by another call to endAt, endBefore or equalTo).");return new rl(t._repo,t._path,e,t._orderByCalled)}}class ZU extends Lu{constructor(t,e){super(),this._value=t,this._key=e}_apply(t){hh("startAt",this._value,t._path,!0);const e=X2(t._queryParams,this._value,this._key);if(lO(e),ym(e),t._queryParams.hasStart())throw new Error("startAt: Starting point was already set (by another call to startAt, startBefore or equalTo).");return new rl(t._repo,t._path,e,t._orderByCalled)}}class O9 extends Lu{constructor(t,e){super(),this._value=t,this._key=e}_apply(t){hh("startAfter",this._value,t._path,!1);const e=function LY(n,t,e){let i;return i=X2(n,t,n.index_===uh||e?e:Qf),i.startAfterSet_=!0,i}(t._queryParams,this._value,this._key);if(lO(e),ym(e),t._queryParams.hasStart())throw new Error("startAfter: Starting point was already set (by another call to startAt, startAfter, or equalTo).");return new rl(t._repo,t._path,e,t._orderByCalled)}}class P9 extends Lu{constructor(t){super(),this._limit=t}_apply(t){if(t._queryParams.hasLimit())throw new Error("limitToFirst: Limit was already set (by another call to limitToFirst or limitToLast).");return new rl(t._repo,t._path,function RY(n,t){const e=n.copy();return e.limitSet_=!0,e.limit_=t,e.viewFrom_="l",e}(t._queryParams,this._limit),t._orderByCalled)}}class F9 extends Lu{constructor(t){super(),this._limit=t}_apply(t){if(t._queryParams.hasLimit())throw new Error("limitToLast: Limit was already set (by another call to limitToFirst or limitToLast).");return new rl(t._repo,t._path,function FY(n,t){const e=n.copy();return e.limitSet_=!0,e.limit_=t,e.viewFrom_="r",e}(t._queryParams,this._limit),t._orderByCalled)}}class B9 extends Lu{constructor(t){super(),this._path=t}_apply(t){aO(t,"orderByChild");const e=new ur(this._path);if(gi(e))throw new Error("orderByChild: cannot pass in empty path. Use orderByValue() instead.");const i=new Y2(e),r=Bk(t._queryParams,i);return ym(r),new rl(t._repo,t._path,r,!0)}}class H9 extends Lu{_apply(t){aO(t,"orderByKey");const e=Bk(t._queryParams,uh);return ym(e),new rl(t._repo,t._path,e,!0)}}class z9 extends Lu{_apply(t){aO(t,"orderByPriority");const e=Bk(t._queryParams,Fr);return ym(e),new rl(t._repo,t._path,e,!0)}}class G9 extends Lu{_apply(t){aO(t,"orderByValue");const e=Bk(t._queryParams,q2);return ym(e),new rl(t._repo,t._path,e,!0)}}class $9 extends Lu{constructor(t,e){super(),this._value=t,this._key=e}_apply(t){if(hh("equalTo",this._value,t._path,!1),t._queryParams.hasStart())throw new Error("equalTo: Starting point was already set (by another call to startAt/startAfter or equalTo).");if(t._queryParams.hasEnd())throw new Error("equalTo: Ending point was already set (by another call to endAt/endBefore or equalTo).");return new qU(this._value,this._key)._apply(new ZU(this._value,this._key)._apply(t))}}function Bu(n,...t){let e=(0,ue.m9)(n);for(const i of t)e=i._apply(e);return e}(function T8(n){(0,ue.hu)(!qk,"__referenceConstructor has already been defined"),qk=n})(Nc),function k8(n){(0,ue.hu)(!Xk,"__referenceConstructor has already been defined"),Xk=n}(Nc);const LF={};function KU(n,t,e,i,r){let s=i||n.options.databaseURL;void 0===s&&(n.options.projectId||ch("Can't determine Firebase Database URL. Be sure to include  a Project ID when calling firebase.initializeApp()."),No("Using default host for project ",n.options.projectId),s=`${n.options.projectId}-default-rtdb.firebaseio.com`);let _,C,c=NF(s,r),p=c.repoInfo;typeof process<"u"&&process.env&&(C=process.env.FIREBASE_DATABASE_EMULATOR_HOST),C?(_=!0,s=`http://${C}?ns=${p.namespace}`,c=NF(s,r),p=c.repoInfo):_=!c.repoInfo.secure;const M=r&&_?new LD(LD.OWNER):new U$(n.name,n.options,t);DU("Invalid Firebase Database URL",c),gi(c.path)||ch("Database URL must point to the root of a Firebase Database (not including a child path).");const V=function K9(n,t,e,i){let r=LF[t.name];r||(r={},LF[t.name]=r);let s=r[n.toURLString()];return s&&ch("Database initialized multiple times. Please make sure the format of the database URL matches with each database() call."),s=new r9(n,false,e,i),r[n.toURLString()]=s,s}(p,n,M,new H$(n.name,e));return new J9(V,n)}class J9{constructor(t,e){this._repoInternal=t,this.app=e,this.type="database",this._instanceStarted=!1}get _repo(){return this._instanceStarted||(function s9(n,t,e){if(n.stats_=B2(n.repoInfo_),n.forceRestClient_||("object"==typeof window&&window.navigator&&window.navigator.userAgent||"").search(/googlebot|google webmaster tools|bingbot|yahoo! slurp|baiduspider|yandexbot|duckduckbot/i)>=0)n.server_=new Vk(n.repoInfo_,(i,r,s,c)=>{MU(n,i,r,s,c)},n.authTokenProvider_,n.appCheckProvider_),setTimeout(()=>kU(n,!0),0);else{if(typeof e<"u"&&null!==e){if("object"!=typeof e)throw new Error("Only objects are supported for option databaseAuthVariableOverride");try{(0,ue.Wl)(e)}catch(i){throw new Error("Invalid authOverride provided: "+i)}}n.persistentConnection_=new qy(n.repoInfo_,t,(i,r,s,c)=>{MU(n,i,r,s,c)},i=>{kU(n,i)},i=>{!function o9(n,t){Po(t,(e,i)=>{SF(n,e,i)})}(n,i)},n.authTokenProvider_,n.appCheckProvider_,e),n.server_=n.persistentConnection_}n.authTokenProvider_.addTokenChangeListener(i=>{n.server_.refreshAuthToken(i)}),n.appCheckProvider_.addTokenChangeListener(i=>{n.server_.refreshAppCheckToken(i.token)}),n.statsReporter_=function G$(n,t){const e=n.toString();return L2[e]||(L2[e]=t()),L2[e]}(n.repoInfo_,()=>new GY(n.stats_,n.server_)),n.infoData_=new VY,n.infoSyncTree_=new pU({startListening:(i,r,s,c)=>{let p=[];const _=n.infoData_.getNode(i._path);return _.isEmpty()||(p=ZD(n.infoSyncTree_,i._path,_),setTimeout(()=>{c("ok")},0)),p},stopListening:()=>{}}),SF(n,"connected",!1),n.serverSyncTree_=new pU({startListening:(i,r,s,c)=>(n.server_.listen(i,s,r,(p,_)=>{const C=c(p,_);Ll(n.eventQueue_,i._path,C)}),[]),stopListening:(i,r)=>{n.server_.unlisten(i,r)}})}(this._repoInternal,this.app.options.appId,this.app.options.databaseAuthVariableOverride),this._instanceStarted=!0),this._repoInternal}get _root(){return this._rootInternal||(this._rootInternal=new Nc(this._repo,$i())),this._rootInternal}_delete(){return null!==this._rootInternal&&(function X9(n,t){const e=LF[t];(!e||e[n.key]!==n)&&ch(`Database ${t}(${n.repoInfo_}) has already been deleted.`),NU(n),delete e[n.key]}(this._repo,this.app.name),this._repoInternal=null,this._rootInternal=null),Promise.resolve()}_checkNotDeleted(t){null===this._rootInternal&&ch("Cannot call "+t+" on a deleted database.")}}function QU(){b3.IS_TRANSPORT_INITIALIZED&&ga("Transport has already been initialized. Please call this function before calling ref or setting up a listener")}function eq(){QU(),um.forceDisallow()}function tq(){QU(),Lw.forceDisallow(),um.forceAllow()}function rq(n,t){JH(n,t)}const oq={".sv":"timestamp"};class cq{constructor(t,e){this.committed=t,this.snapshot=e}toJSON(){return{committed:this.committed,snapshot:this.snapshot.toJSON()}}}qy.prototype.simpleListen=function(n,t){this.sendRequest("q",{p:n},t)},qy.prototype.echo=function(n,t){this.sendRequest("echo",{d:n},t)},function sq(n){qH(kd.SDK_VERSION),(0,kd._registerComponent)(new os.wA("database",(t,{instanceIdentifier:e})=>KU(t.getProvider("app").getImmediate(),t.getProvider("auth-internal"),t.getProvider("app-check-internal"),e),"PUBLIC").setMultipleInstances(!0)),(0,kd.registerVersion)($H,"0.14.4",n),(0,kd.registerVersion)($H,"0.14.4","esm2017")}();const fq=new As.Yd("@firebase/database-compat"),ez=function(n){fq.warn("FIREBASE WARNING: "+n)};class mq{constructor(t){this._delegate=t}cancel(t){(0,ue.Dv)("OnDisconnect.cancel",0,1,arguments.length),(0,ue.Wj)("OnDisconnect.cancel","onComplete",t,!0);const e=this._delegate.cancel();return t&&e.then(()=>t(null),i=>t(i)),e}remove(t){(0,ue.Dv)("OnDisconnect.remove",0,1,arguments.length),(0,ue.Wj)("OnDisconnect.remove","onComplete",t,!0);const e=this._delegate.remove();return t&&e.then(()=>t(null),i=>t(i)),e}set(t,e){(0,ue.Dv)("OnDisconnect.set",1,2,arguments.length),(0,ue.Wj)("OnDisconnect.set","onComplete",e,!0);const i=this._delegate.set(t);return e&&i.then(()=>e(null),r=>e(r)),i}setWithPriority(t,e,i){(0,ue.Dv)("OnDisconnect.setWithPriority",2,3,arguments.length),(0,ue.Wj)("OnDisconnect.setWithPriority","onComplete",i,!0);const r=this._delegate.setWithPriority(t,e);return i&&r.then(()=>i(null),s=>i(s)),r}update(t,e){if((0,ue.Dv)("OnDisconnect.update",1,2,arguments.length),Array.isArray(t)){const r={};for(let s=0;s<t.length;++s)r[""+s]=t[s];t=r,ez("Passing an Array to firebase.database.onDisconnect().update() is deprecated. Use set() if you want to overwrite the existing data, or an Object with integer keys if you really do want to only update some of the children.")}(0,ue.Wj)("OnDisconnect.update","onComplete",e,!0);const i=this._delegate.update(t);return e&&i.then(()=>e(null),r=>e(r)),i}}class vq{constructor(t,e){this.committed=t,this.snapshot=e}toJSON(){return(0,ue.Dv)("TransactionResult.toJSON",0,1,arguments.length),{committed:this.committed,snapshot:this.snapshot.toJSON()}}}class _m{constructor(t,e){this._database=t,this._delegate=e}val(){return(0,ue.Dv)("DataSnapshot.val",0,0,arguments.length),this._delegate.val()}exportVal(){return(0,ue.Dv)("DataSnapshot.exportVal",0,0,arguments.length),this._delegate.exportVal()}toJSON(){return(0,ue.Dv)("DataSnapshot.toJSON",0,1,arguments.length),this._delegate.toJSON()}exists(){return(0,ue.Dv)("DataSnapshot.exists",0,0,arguments.length),this._delegate.exists()}child(t){return(0,ue.Dv)("DataSnapshot.child",0,1,arguments.length),t=String(t),nT("DataSnapshot.child","path",t,!1),new _m(this._database,this._delegate.child(t))}hasChild(t){return(0,ue.Dv)("DataSnapshot.hasChild",1,1,arguments.length),nT("DataSnapshot.hasChild","path",t,!1),this._delegate.hasChild(t)}getPriority(){return(0,ue.Dv)("DataSnapshot.getPriority",0,0,arguments.length),this._delegate.priority}forEach(t){return(0,ue.Dv)("DataSnapshot.forEach",1,1,arguments.length),(0,ue.Wj)("DataSnapshot.forEach","action",t,!1),this._delegate.forEach(e=>t(new _m(this._database,e)))}hasChildren(){return(0,ue.Dv)("DataSnapshot.hasChildren",0,0,arguments.length),this._delegate.hasChildren()}get key(){return this._delegate.key}numChildren(){return(0,ue.Dv)("DataSnapshot.numChildren",0,0,arguments.length),this._delegate.size}getRef(){return(0,ue.Dv)("DataSnapshot.ref",0,0,arguments.length),new Bl(this._database,this._delegate.ref)}get ref(){return this.getRef()}}class Zo{constructor(t,e){this.database=t,this._delegate=e}on(t,e,i,r){var s;(0,ue.Dv)("Query.on",2,4,arguments.length),(0,ue.Wj)("Query.on","callback",e,!1);const c=Zo.getCancelAndContextArgs_("Query.on",i,r),p=(C,M)=>{e.call(c.context,new _m(this.database,C),M)};p.userCallback=e,p.context=c.context;const _=null===(s=c.cancel)||void 0===s?void 0:s.bind(c.context);switch(t){case"value":return FF(this._delegate,p,_),e;case"child_added":return jU(this._delegate,p,_),e;case"child_removed":return $U(this._delegate,p,_),e;case"child_changed":return GU(this._delegate,p,_),e;case"child_moved":return WU(this._delegate,p,_),e;default:throw new Error((0,ue.gK)("Query.on","eventType")+'must be a valid event type = "value", "child_added", "child_removed", "child_changed", or "child_moved".')}}off(t,e,i){if((0,ue.Dv)("Query.off",0,3,arguments.length),function(n,t,e){if(void 0!==t)switch(t){case"value":case"child_added":case"child_removed":case"child_changed":case"child_moved":break;default:throw new Error((0,ue.gK)("Query.off","eventType")+'must be a valid event type = "value", "child_added", "child_removed", "child_changed", or "child_moved".')}}(0,t),(0,ue.Wj)("Query.off","callback",e,!0),(0,ue.lb)("Query.off","context",i,!0),e){const r=()=>{};r.userCallback=e,r.context=i,YU(this._delegate,t,r)}else YU(this._delegate,t)}get(){return S9(this._delegate).then(t=>new _m(this.database,t))}once(t,e,i,r){(0,ue.Dv)("Query.once",1,4,arguments.length),(0,ue.Wj)("Query.once","callback",e,!0);const s=Zo.getCancelAndContextArgs_("Query.once",i,r),c=new ue.BH,p=(C,M)=>{const V=new _m(this.database,C);e&&e.call(s.context,V,M),c.resolve(V)};p.userCallback=e,p.context=s.context;const _=C=>{s.cancel&&s.cancel.call(s.context,C),c.reject(C)};switch(t){case"value":FF(this._delegate,p,_,{onlyOnce:!0});break;case"child_added":jU(this._delegate,p,_,{onlyOnce:!0});break;case"child_removed":$U(this._delegate,p,_,{onlyOnce:!0});break;case"child_changed":GU(this._delegate,p,_,{onlyOnce:!0});break;case"child_moved":WU(this._delegate,p,_,{onlyOnce:!0});break;default:throw new Error((0,ue.gK)("Query.once","eventType")+'must be a valid event type = "value", "child_added", "child_removed", "child_changed", or "child_moved".')}return c.promise}limitToFirst(t){return(0,ue.Dv)("Query.limitToFirst",1,1,arguments.length),new Zo(this.database,Bu(this._delegate,function R9(n){if("number"!=typeof n||Math.floor(n)!==n||n<=0)throw new Error("limitToFirst: First argument must be a positive integer.");return new P9(n)}(t)))}limitToLast(t){return(0,ue.Dv)("Query.limitToLast",1,1,arguments.length),new Zo(this.database,Bu(this._delegate,function L9(n){if("number"!=typeof n||Math.floor(n)!==n||n<=0)throw new Error("limitToLast: First argument must be a positive integer.");return new F9(n)}(t)))}orderByChild(t){return(0,ue.Dv)("Query.orderByChild",1,1,arguments.length),new Zo(this.database,Bu(this._delegate,function V9(n){if("$key"===n)throw new Error('orderByChild: "$key" is invalid.  Use orderByKey() instead.');if("$priority"===n)throw new Error('orderByChild: "$priority" is invalid.  Use orderByPriority() instead.');if("$value"===n)throw new Error('orderByChild: "$value" is invalid.  Use orderByValue() instead.');return nT("orderByChild","path",n,!1),new B9(n)}(t)))}orderByKey(){return(0,ue.Dv)("Query.orderByKey",0,0,arguments.length),new Zo(this.database,Bu(this._delegate,function U9(){return new H9}()))}orderByPriority(){return(0,ue.Dv)("Query.orderByPriority",0,0,arguments.length),new Zo(this.database,Bu(this._delegate,function j9(){return new z9}()))}orderByValue(){return(0,ue.Dv)("Query.orderByValue",0,0,arguments.length),new Zo(this.database,Bu(this._delegate,function W9(){return new G9}()))}startAt(t=null,e){return(0,ue.Dv)("Query.startAt",0,2,arguments.length),new Zo(this.database,Bu(this._delegate,function k9(n=null,t){return tT("startAt","key",t,!0),new ZU(n,t)}(t,e)))}startAfter(t=null,e){return(0,ue.Dv)("Query.startAfter",0,2,arguments.length),new Zo(this.database,Bu(this._delegate,function N9(n,t){return tT("startAfter","key",t,!0),new O9(n,t)}(t,e)))}endAt(t=null,e){return(0,ue.Dv)("Query.endAt",0,2,arguments.length),new Zo(this.database,Bu(this._delegate,function A9(n,t){return tT("endAt","key",t,!0),new qU(n,t)}(t,e)))}endBefore(t=null,e){return(0,ue.Dv)("Query.endBefore",0,2,arguments.length),new Zo(this.database,Bu(this._delegate,function M9(n,t){return tT("endBefore","key",t,!0),new I9(n,t)}(t,e)))}equalTo(t,e){return(0,ue.Dv)("Query.equalTo",1,2,arguments.length),new Zo(this.database,Bu(this._delegate,function Y9(n,t){return tT("equalTo","key",t,!0),new $9(n,t)}(t,e)))}toString(){return(0,ue.Dv)("Query.toString",0,0,arguments.length),this._delegate.toString()}toJSON(){return(0,ue.Dv)("Query.toJSON",0,1,arguments.length),this._delegate.toJSON()}isEqual(t){if((0,ue.Dv)("Query.isEqual",1,1,arguments.length),!(t instanceof Zo))throw new Error("Query.isEqual failed: First argument must be an instance of firebase.database.Query.");return this._delegate.isEqual(t._delegate)}static getCancelAndContextArgs_(t,e,i){const r={cancel:void 0,context:void 0};if(e&&i)r.cancel=e,(0,ue.Wj)(t,"cancel",r.cancel,!0),r.context=i,(0,ue.lb)(t,"context",r.context,!0);else if(e)if("object"==typeof e&&null!==e)r.context=e;else{if("function"!=typeof e)throw new Error((0,ue.gK)(t,"cancelOrContext")+" must either be a cancel callback or a context object.");r.cancel=e}return r}get ref(){return new Bl(this.database,new Nc(this._delegate._repo,this._delegate._path))}}class Bl extends Zo{constructor(t,e){super(t,new rl(e._repo,e._path,new Lk,!1)),this.database=t,this._delegate=e}getKey(){return(0,ue.Dv)("Reference.key",0,0,arguments.length),this._delegate.key}child(t){return(0,ue.Dv)("Reference.child",1,1,arguments.length),"number"==typeof t&&(t=String(t)),new Bl(this.database,e_(this._delegate,t))}getParent(){(0,ue.Dv)("Reference.parent",0,0,arguments.length);const t=this._delegate.parent;return t?new Bl(this.database,t):null}getRoot(){return(0,ue.Dv)("Reference.root",0,0,arguments.length),new Bl(this.database,this._delegate.root)}set(t,e){(0,ue.Dv)("Reference.set",1,2,arguments.length),(0,ue.Wj)("Reference.set","onComplete",e,!0);const i=RF(this._delegate,t);return e&&i.then(()=>e(null),r=>e(r)),i}update(t,e){if((0,ue.Dv)("Reference.update",1,2,arguments.length),Array.isArray(t)){const r={};for(let s=0;s<t.length;++s)r[""+s]=t[s];t=r,ez("Passing an Array to Firebase.update() is deprecated. Use set() if you want to overwrite the existing data, or an Object with integer keys if you really do want to only update some of the children.")}Oc("Reference.update",this._delegate._path),(0,ue.Wj)("Reference.update","onComplete",e,!0);const i=T9(this._delegate,t);return e&&i.then(()=>e(null),r=>e(r)),i}setWithPriority(t,e,i){(0,ue.Dv)("Reference.setWithPriority",2,3,arguments.length),(0,ue.Wj)("Reference.setWithPriority","onComplete",i,!0);const r=function D9(n,t,e){if(Oc("setWithPriority",n._path),hh("setWithPriority",t,n._path,!1),TF("setWithPriority",e,!1),".length"===n.key||".keys"===n.key)throw"setWithPriority failed: "+n.key+" is a read-only object.";const i=new ue.BH;return AF(n._repo,n._path,t,e,i.wrapCallback(()=>{})),i.promise}(this._delegate,t,e);return i&&r.then(()=>i(null),s=>i(s)),r}remove(t){(0,ue.Dv)("Reference.remove",0,1,arguments.length),(0,ue.Wj)("Reference.remove","onComplete",t,!0);const e=function C9(n){return Oc("remove",n._path),RF(n,null)}(this._delegate);return t&&e.then(()=>t(null),i=>t(i)),e}transaction(t,e,i){(0,ue.Dv)("Reference.transaction",1,3,arguments.length),(0,ue.Wj)("Reference.transaction","transactionUpdate",t,!1),(0,ue.Wj)("Reference.transaction","onComplete",e,!0),function(n,t,e,i){if(void 0!==e&&"boolean"!=typeof e)throw new Error((0,ue.gK)("Reference.transaction","applyLocally")+"must be a boolean.")}(0,0,i);const r=function uq(n,t,e){var i;if(n=(0,ue.m9)(n),Oc("Reference.transaction",n._path),".length"===n.key||".keys"===n.key)throw"Reference.transaction failed: "+n.key+" is a read-only object.";const r=null===(i=e?.applyLocally)||void 0===i||i,s=new ue.BH,p=FF(n,()=>{});return function g9(n,t,e,i,r,s){Ww(n,"transaction on "+t);const c={path:t,update:e,onComplete:i,status:null,order:XH(),applyLocally:s,retryCount:0,unwatcher:r,abortReason:null,currentWriteId:null,currentInputSnapshot:null,currentOutputSnapshotRaw:null,currentOutputSnapshotResolved:null},p=MF(n,t,void 0);c.currentInputSnapshot=p;const _=c.update(p.val());if(void 0===_)c.unwatcher(),c.currentOutputSnapshotRaw=null,c.currentOutputSnapshotResolved=null,c.onComplete&&c.onComplete(null,!1,c.currentInputSnapshot);else{eT("transaction failed: Data returned ",_,c.path),c.status=0;const C=eO(n.transactionQueueTree_,t),M=Qy(C)||[];let V;M.push(c),CF(C,M),"object"==typeof _&&null!==_&&(0,ue.r3)(_,".priority")?(V=(0,ue.DV)(_,".priority"),(0,ue.hu)(JD(V),"Invalid priority returned by transaction. Priority must be a valid string, finite number, server value, or null.")):V=(Qk(n.serverSyncTree_,t)||ri.EMPTY_NODE).getPriority().val();const W=iT(n),K=Cs(_,V),oe=bF(K,p,W);c.currentOutputSnapshotRaw=K,c.currentOutputSnapshotResolved=oe,c.currentWriteId=rO(n);const ae=fF(n.serverSyncTree_,t,oe,c.currentWriteId,c.applyLocally);Ll(n.eventQueue_,t,ae),sO(n,n.transactionQueueTree_)}}(n._repo,n._path,t,(_,C,M)=>{let V=null;_?s.reject(_):(V=new Jy(M,new Nc(n._repo,n._path),Fr),s.resolve(new cq(C,V)))},p,r),s.promise}(this._delegate,t,{applyLocally:i}).then(s=>new vq(s.committed,new _m(this.database,s.snapshot)));return e&&r.then(s=>e(null,s.committed,s.snapshot),s=>e(s,!1,null)),r}setPriority(t,e){(0,ue.Dv)("Reference.setPriority",1,2,arguments.length),(0,ue.Wj)("Reference.setPriority","onComplete",e,!0);const i=function E9(n,t){n=(0,ue.m9)(n),Oc("setPriority",n._path),TF("setPriority",t,!1);const e=new ue.BH;return AF(n._repo,cs(n._path,".priority"),t,null,e.wrapCallback(()=>{})),e.promise}(this._delegate,t);return e&&i.then(()=>e(null),r=>e(r)),i}push(t,e){(0,ue.Dv)("Reference.push",0,2,arguments.length),(0,ue.Wj)("Reference.push","onComplete",e,!0);const i=function x9(n,t){n=(0,ue.m9)(n),Oc("push",n._path),hh("push",t,n._path,!0);const e=IU(n._repo),i=w9(e),r=e_(n,i),s=e_(n,i);let c;return c=null!=t?RF(s,t).then(()=>s):Promise.resolve(s),r.then=c.then.bind(c),r.catch=c.then.bind(c,void 0),r}(this._delegate,t),r=i.then(c=>new Bl(this.database,c));e&&r.then(()=>e(null),c=>e(c));const s=new Bl(this.database,i);return s.then=r.then.bind(r),s.catch=r.catch.bind(r,void 0),s}onDisconnect(){return Oc("Reference.onDisconnect",this._delegate._path),new mq(new HU(this._delegate._repo,this._delegate._path))}get key(){return this.getKey()}get parent(){return this.getParent()}get root(){return this.getRoot()}}class oT{constructor(t,e){this._delegate=t,this.app=e,this.INTERNAL={delete:()=>this._delegate._delete(),forceWebSockets:eq,forceLongPolling:tq}}useEmulator(t,e,i={}){!function JU(n,t,e,i={}){(n=(0,ue.m9)(n))._checkNotDeleted("useEmulator"),n._instanceStarted&&ch("Cannot call useEmulator() after instance has already been initialized.");const r=n._repoInternal;let s;if(r.repoInfo_.nodeAdmin)i.mockUserToken&&ch('mockUserToken is not supported by the Admin SDK. For client access with mock users, please use the "firebase" package instead of "firebase-admin".'),s=new LD(LD.OWNER);else if(i.mockUserToken){const c="string"==typeof i.mockUserToken?i.mockUserToken:(0,ue.Sg)(i.mockUserToken,n.app.options.projectId);s=new LD(c)}!function Z9(n,t,e,i){n.repoInfo_=new R2(`${t}:${e}`,!1,n.repoInfo_.namespace,n.repoInfo_.webSocketOnly,n.repoInfo_.nodeAdmin,n.repoInfo_.persistenceKey,n.repoInfo_.includeNamespaceInQueryParams,!0),i&&(n.authTokenProvider_=i)}(r,t,e,s)}(this._delegate,t,e,i)}ref(t){if((0,ue.Dv)("database.ref",0,1,arguments.length),t instanceof Bl){const e=zU(this._delegate,t.toString());return new Bl(this,e)}{const e=UU(this._delegate,t);return new Bl(this,e)}}refFromURL(t){(0,ue.Dv)("database.refFromURL",1,1,arguments.length);const i=zU(this._delegate,t);return new Bl(this,i)}goOffline(){return(0,ue.Dv)("database.goOffline",0,0,arguments.length),function nq(n){(n=(0,ue.m9)(n))._checkNotDeleted("goOffline"),NU(n._repo)}(this._delegate)}goOnline(){return(0,ue.Dv)("database.goOnline",0,0,arguments.length),function iq(n){(n=(0,ue.m9)(n))._checkNotDeleted("goOnline"),function p9(n){n.persistentConnection_&&n.persistentConnection_.resume(AU)}(n._repo)}(this._delegate)}}oT.ServerValue={TIMESTAMP:function aq(){return oq}(),increment:n=>function lq(n){return{".sv":{increment:n}}}(n)};var _q=Object.freeze({__proto__:null,initStandalone:function yq({app:n,url:t,version:e,customAuthImpl:i,namespace:r,nodeAdmin:s=!1}){qH(e);const c=new os.zt("auth-internal",new os.H0("database-standalone"));return c.setComponent(new os.wA("auth-internal",()=>i,"PRIVATE")),{instance:new oT(KU(n,c,void 0,t,s),n),namespace:r}}});const bq=oT.ServerValue;function tz(n){return null==n}function nz(n){return"function"==typeof n.set}function iz(n,t){return nz(t)?t:n.ref(t)}function rz(n,t){if(function xq(n){return"string"==typeof n}(n))return t.stringCase();if(nz(n))return t.firebaseCase();if(function Cq(n){return"function"==typeof n.exportVal}(n))return t.snapshotCase();throw new Error("Expects a string, snapshot, or reference. Got: "+typeof n)}function aT(n,t,e="on",i=_s.z){return new ar.y(r=>{let s=null;return s=n[e](t,(c,p)=>{i.schedule(()=>{r.next({snapshot:c,prevKey:p})}),"once"===e&&i.schedule(()=>r.complete())},c=>{i.schedule(()=>r.error(c))}),"on"===e?{unsubscribe(){null!=s&&n.off(t,s)}}:{unsubscribe(){}}}).pipe((0,Bt.U)(r=>{const{snapshot:s,prevKey:c}=r;let p=null;return s.exists()&&(p=s.key),{type:t,payload:s,prevKey:c,key:p}}),(0,ss.B)())}function sz(n,t){const e=n.length;for(let i=0;i<e;i++)if(n[i].payload.key===t)return i;return-1}function Tq(n,t){const{payload:e,prevKey:i,key:r}=t,s=sz(n,r),c=function Dq(n,t){if(tz(t))return 0;{const e=sz(n,t);return-1===e?n.length:e+1}}(n,i);switch(t.type){case"value":if(t.payload&&t.payload.exists()){let p=null;t.payload.forEach(_=>{const C={payload:_,type:"value",prevKey:p,key:_.key};return p=_.key,n=[...n,C],!1})}return n;case"child_added":if(s>-1){const p=n[s-1];(p&&p.key||null)!==i&&(n=n.filter(_=>_.payload.key!==e.key)).splice(c,0,t)}else{if(null==i)return[t,...n];(n=n.slice()).splice(c,0,t)}return n;case"child_removed":return n.filter(p=>p.payload.key!==e.key);case"child_changed":return n.map(p=>p.payload.key===r?t:p);case"child_moved":if(s>-1){const p=n.splice(s,1)[0];return(n=n.slice()).splice(c,0,p),n}return n;default:return n}}function oz(n){return(tz(n)||0===n.length)&&(n=["child_added","child_removed","child_changed","child_moved"]),n}function az(n,t,e){return function Eq(n,t,e){return aT(n,"value","once",e).pipe((0,Bi.w)(i=>{const r=[(0,hn.of)(i)];return t.forEach(s=>r.push(aT(n,s,"on",e))),(0,ys.T)(...r).pipe(yc(Tq,[]))}),(0,Ib.x)())}(n,t=oz(t),e)}function lz(n,t,e){const i=(t=oz(t)).map(r=>aT(n,r,"on",e));return(0,ys.T)(...i)}function cz(n,t){return function(i,r){return rz(i,{stringCase:()=>n.child(i)[t](r),firebaseCase:()=>i[t](r),snapshotCase:()=>i.ref[t](r)})}}function Mq(n){return function(e){return e?rz(e,{stringCase:()=>n.child(e).remove(),firebaseCase:()=>e.remove(),snapshotCase:()=>e.ref.remove()}):n.remove()}}function uz(n,t){return function(){return aT(n,"value","on",t)}}!function wq(n){n.INTERNAL.registerComponent(new os.wA("database-compat",(t,{instanceIdentifier:e})=>{const i=t.getProvider("app-compat").getImmediate(),r=t.getProvider("database").getImmediate({identifier:e});return new oT(r,i)},"PUBLIC").setServiceProps({Reference:Bl,Query:Zo,Database:oT,DataSnapshot:_m,enableLogging:rq,INTERNAL:_q,ServerValue:bq}).setMultipleInstances(!0)),n.registerVersion("@firebase/database-compat","0.3.4")}(tA.Z);const Nq=new a.OlP("angularfire2.realtimeDatabaseURL"),Pq=new a.OlP("angularfire2.database.use-emulator");let Rq=(()=>{class n{constructor(e,i,r,s,c,p,_,C,M,V,W,K,oe,ae,fe){this.schedulers=p;const Pe=_,Be=(0,Ki.on)(e,c,i);C&&nf(Be,c,M,W,K,oe,V,ae),this.database=(0,Ki.cc)(`${Be.name}.database.${r}`,"AngularFireDatabase",Be.name,()=>{const Re=c.runOutsideAngular(()=>Be.database(r||void 0));return Pe&&Re.useEmulator(...Pe),Re},[Pe])}list(e,i){const r=this.schedulers.ngZone.runOutsideAngular(()=>iz(this.database,e));let s=r;return i&&(s=i(r)),function kq(n,t){const e=t.schedulers.outsideAngular,i=t.schedulers.ngZone.run(()=>n.ref);return{query:n,update:cz(i,"update"),set:cz(i,"set"),push:r=>i.push(r),remove:Mq(i),snapshotChanges:r=>az(n,r,e).pipe(Qn.iC),stateChanges:r=>lz(n,r,e).pipe(Qn.iC),auditTrail:r=>function Sq(n,t,e){return function Iq(n,t,e){return function Aq(n,t){return aT(n,"value","on",t).pipe((0,Bt.U)(e=>{let i;return e.payload.forEach(r=>(i=r.key,!1)),{data:e,lastKeyToLoad:i}}))}(n,e).pipe(Ak(t),(0,Bt.U)(([r,s])=>{const c=r.lastKeyToLoad,p=s.map(_=>_.key);return{actions:s,lastKeyToLoad:c,loadedKeys:p}}),function S$(n){return(0,Or.e)((t,e)=>{let i=!1,r=0;t.subscribe((0,lr.x)(e,s=>(i||(i=!n(s,r++)))&&e.next(s)))})}(r=>-1===r.loadedKeys.indexOf(r.lastKeyToLoad)),(0,Bt.U)(r=>r.actions))}(n,lz(n,t).pipe(yc((r,s)=>[...r,s],[])),e)}(n,r,e).pipe(Qn.iC),valueChanges:(r,s)=>az(n,r,e).pipe((0,Bt.U)(p=>p.map(_=>s&&s.idField?Object.assign(Object.assign({},_.payload.val()),{[s.idField]:_.key}):_.payload.val())),Qn.iC)}}(s,this)}object(e){return function Oq(n,t){return{query:n,snapshotChanges:()=>uz(n,t.schedulers.outsideAngular)().pipe(Qn.iC),update:e=>n.ref.update(e),set:e=>n.ref.set(e),remove:()=>n.ref.remove(),valueChanges:()=>uz(n,t.schedulers.outsideAngular)().pipe(Qn.iC,(0,Bt.U)(i=>i.payload.exists()?i.payload.val():null))}}(this.schedulers.ngZone.runOutsideAngular(()=>iz(this.database,e)),this)}createPushId(){return this.schedulers.ngZone.runOutsideAngular(()=>this.database.ref()).push().key}}return n.\u0275fac=function(e){return new(e||n)(a.LFG(Ki.Dh),a.LFG(Ki.xv,8),a.LFG(Nq,8),a.LFG(a.Lbi),a.LFG(a.R0b),a.LFG(Qn.HU),a.LFG(Pq,8),a.LFG(Cd,8),a.LFG(xd,8),a.LFG(cu,8),a.LFG(cv,8),a.LFG(Xa,8),a.LFG(Gp,8),a.LFG(Wp,8),a.LFG(Jh,8))},n.\u0275prov=a.Yz7({token:n,factory:n.\u0275fac,providedIn:"any"}),n})(),Fq=(()=>{class n{constructor(){lu.Z.registerVersion("angularfire",Qn.q4.full,"rtdb-compat")}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=a.oAB({type:n}),n.\u0275inj=a.cJS({providers:[Rq]}),n})();const{isArray:Lq}=Array,{getPrototypeOf:Bq,prototype:Vq,keys:Hq}=Object;function dz(n){if(1===n.length){const t=n[0];if(Lq(t))return{args:t,keys:null};if(function Uq(n){return n&&"object"==typeof n&&Bq(n)===Vq}(t)){const e=Hq(t);return{args:e.map(i=>t[i]),keys:e}}}return{args:n,keys:null}}const{isArray:zq}=Array;function BF(n){return(0,Bt.U)(t=>function jq(n,t){return zq(t)?n(...t):n(t)}(n,t))}function hz(n,t){return n.reduce((e,i,r)=>(e[i]=t[r],e),{})}let fz=(()=>{class n{constructor(e,i){this._renderer=e,this._elementRef=i,this.onChange=r=>{},this.onTouched=()=>{}}setProperty(e,i){this._renderer.setProperty(this._elementRef.nativeElement,e,i)}registerOnTouched(e){this.onTouched=e}registerOnChange(e){this.onChange=e}setDisabledState(e){this.setProperty("disabled",e)}static#e=this.\u0275fac=function(i){return new(i||n)(a.Y36(a.Qsj),a.Y36(a.SBq))};static#t=this.\u0275dir=a.lG2({type:n})}return n})(),t_=(()=>{class n extends fz{static#e=this.\u0275fac=function(){let e;return function(r){return(e||(e=a.n5z(n)))(r||n)}}();static#t=this.\u0275dir=a.lG2({type:n,features:[a.qOj]})}return n})();const Vl=new a.OlP("NgValueAccessor"),$q={provide:Vl,useExisting:(0,a.Gpc)(()=>lT),multi:!0},qq=new a.OlP("CompositionEventMode");let lT=(()=>{class n extends fz{constructor(e,i,r){super(e,i),this._compositionMode=r,this._composing=!1,null==this._compositionMode&&(this._compositionMode=!function Yq(){const n=re()?re().getUserAgent():"";return/android (\d+)/.test(n.toLowerCase())}())}writeValue(e){this.setProperty("value",e??"")}_handleInput(e){(!this._compositionMode||this._compositionMode&&!this._composing)&&this.onChange(e)}_compositionStart(){this._composing=!0}_compositionEnd(e){this._composing=!1,this._compositionMode&&this.onChange(e)}static#e=this.\u0275fac=function(i){return new(i||n)(a.Y36(a.Qsj),a.Y36(a.SBq),a.Y36(qq,8))};static#t=this.\u0275dir=a.lG2({type:n,selectors:[["input","formControlName","",3,"type","checkbox"],["textarea","formControlName",""],["input","formControl","",3,"type","checkbox"],["textarea","formControl",""],["input","ngModel","",3,"type","checkbox"],["textarea","ngModel",""],["","ngDefaultControl",""]],hostBindings:function(i,r){1&i&&a.NdJ("input",function(c){return r._handleInput(c.target.value)})("blur",function(){return r.onTouched()})("compositionstart",function(){return r._compositionStart()})("compositionend",function(c){return r._compositionEnd(c.target.value)})},features:[a._Bn([$q]),a.qOj]})}return n})();function bm(n){return null==n||("string"==typeof n||Array.isArray(n))&&0===n.length}function gz(n){return null!=n&&"number"==typeof n.length}const Xo=new a.OlP("NgValidators"),wm=new a.OlP("NgAsyncValidators"),Zq=/^(?=.{1,254}$)(?=.{1,64}@)[a-zA-Z0-9!#$%&'*+/=?^_`{|}~-]+(?:\.[a-zA-Z0-9!#$%&'*+/=?^_`{|}~-]+)*@[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?(?:\.[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?)*$/;class VF{static min(t){return function mz(n){return t=>{if(bm(t.value)||bm(n))return null;const e=parseFloat(t.value);return!isNaN(e)&&e<n?{min:{min:n,actual:t.value}}:null}}(t)}static max(t){return function vz(n){return t=>{if(bm(t.value)||bm(n))return null;const e=parseFloat(t.value);return!isNaN(e)&&e>n?{max:{max:n,actual:t.value}}:null}}(t)}static required(t){return function yz(n){return bm(n.value)?{required:!0}:null}(t)}static requiredTrue(t){return function _z(n){return!0===n.value?null:{required:!0}}(t)}static email(t){return function bz(n){return bm(n.value)||Zq.test(n.value)?null:{email:!0}}(t)}static minLength(t){return function wz(n){return t=>bm(t.value)||!gz(t.value)?null:t.value.length<n?{minlength:{requiredLength:n,actualLength:t.value.length}}:null}(t)}static maxLength(t){return function xz(n){return t=>gz(t.value)&&t.value.length>n?{maxlength:{requiredLength:n,actualLength:t.value.length}}:null}(t)}static pattern(t){return function Cz(n){if(!n)return uO;let t,e;return"string"==typeof n?(e="","^"!==n.charAt(0)&&(e+="^"),e+=n,"$"!==n.charAt(n.length-1)&&(e+="$"),t=new RegExp(e)):(e=n.toString(),t=n),i=>{if(bm(i.value))return null;const r=i.value;return t.test(r)?null:{pattern:{requiredPattern:e,actualValue:r}}}}(t)}static nullValidator(t){return null}static compose(t){return Iz(t)}static composeAsync(t){return Mz(t)}}function uO(n){return null}function Ez(n){return null!=n}function Dz(n){return(0,a.QGY)(n)?(0,bi.D)(n):n}function Tz(n){let t={};return n.forEach(e=>{t=null!=e?{...t,...e}:t}),0===Object.keys(t).length?null:t}function Sz(n,t){return t.map(e=>e(n))}function Az(n){return n.map(t=>function Xq(n){return!n.validate}(t)?t:e=>t.validate(e))}function Iz(n){if(!n)return null;const t=n.filter(Ez);return 0==t.length?null:function(e){return Tz(Sz(e,t))}}function HF(n){return null!=n?Iz(Az(n)):null}function Mz(n){if(!n)return null;const t=n.filter(Ez);return 0==t.length?null:function(e){return function Gq(...n){const t=(0,gu.jO)(n),{args:e,keys:i}=dz(n),r=new ar.y(s=>{const{length:c}=e;if(!c)return void s.complete();const p=new Array(c);let _=c,C=c;for(let M=0;M<c;M++){let V=!1;(0,lh.Xf)(e[M]).subscribe((0,lr.x)(s,W=>{V||(V=!0,C--),p[M]=W},()=>_--,void 0,()=>{(!_||!V)&&(C||s.next(i?hz(i,p):p),s.complete())}))}});return t?r.pipe(BF(t)):r}(Sz(e,t).map(Dz)).pipe((0,Bt.U)(Tz))}}function UF(n){return null!=n?Mz(Az(n)):null}function kz(n,t){return null===n?[t]:Array.isArray(n)?[...n,t]:[n,t]}function Oz(n){return n._rawValidators}function Nz(n){return n._rawAsyncValidators}function zF(n){return n?Array.isArray(n)?n:[n]:[]}function dO(n,t){return Array.isArray(n)?n.includes(t):n===t}function Pz(n,t){const e=zF(t);return zF(n).forEach(r=>{dO(e,r)||e.push(r)}),e}function Rz(n,t){return zF(t).filter(e=>!dO(n,e))}class Fz{constructor(){this._rawValidators=[],this._rawAsyncValidators=[],this._onDestroyCallbacks=[]}get value(){return this.control?this.control.value:null}get valid(){return this.control?this.control.valid:null}get invalid(){return this.control?this.control.invalid:null}get pending(){return this.control?this.control.pending:null}get disabled(){return this.control?this.control.disabled:null}get enabled(){return this.control?this.control.enabled:null}get errors(){return this.control?this.control.errors:null}get pristine(){return this.control?this.control.pristine:null}get dirty(){return this.control?this.control.dirty:null}get touched(){return this.control?this.control.touched:null}get status(){return this.control?this.control.status:null}get untouched(){return this.control?this.control.untouched:null}get statusChanges(){return this.control?this.control.statusChanges:null}get valueChanges(){return this.control?this.control.valueChanges:null}get path(){return null}_setValidators(t){this._rawValidators=t||[],this._composedValidatorFn=HF(this._rawValidators)}_setAsyncValidators(t){this._rawAsyncValidators=t||[],this._composedAsyncValidatorFn=UF(this._rawAsyncValidators)}get validator(){return this._composedValidatorFn||null}get asyncValidator(){return this._composedAsyncValidatorFn||null}_registerOnDestroy(t){this._onDestroyCallbacks.push(t)}_invokeOnDestroyCallbacks(){this._onDestroyCallbacks.forEach(t=>t()),this._onDestroyCallbacks=[]}reset(t=void 0){this.control&&this.control.reset(t)}hasError(t,e){return!!this.control&&this.control.hasError(t,e)}getError(t,e){return this.control?this.control.getError(t,e):null}}class La extends Fz{get formDirective(){return null}get path(){return null}}class xm extends Fz{constructor(){super(...arguments),this._parent=null,this.name=null,this.valueAccessor=null}}class Lz{constructor(t){this._cd=t}get isTouched(){return!!this._cd?.control?.touched}get isUntouched(){return!!this._cd?.control?.untouched}get isPristine(){return!!this._cd?.control?.pristine}get isDirty(){return!!this._cd?.control?.dirty}get isValid(){return!!this._cd?.control?.valid}get isInvalid(){return!!this._cd?.control?.invalid}get isPending(){return!!this._cd?.control?.pending}get isSubmitted(){return!!this._cd?.submitted}}let jF=(()=>{class n extends Lz{constructor(e){super(e)}static#e=this.\u0275fac=function(i){return new(i||n)(a.Y36(xm,2))};static#t=this.\u0275dir=a.lG2({type:n,selectors:[["","formControlName",""],["","ngModel",""],["","formControl",""]],hostVars:14,hostBindings:function(i,r){2&i&&a.ekj("ng-untouched",r.isUntouched)("ng-touched",r.isTouched)("ng-pristine",r.isPristine)("ng-dirty",r.isDirty)("ng-valid",r.isValid)("ng-invalid",r.isInvalid)("ng-pending",r.isPending)},features:[a.qOj]})}return n})(),Bz=(()=>{class n extends Lz{constructor(e){super(e)}static#e=this.\u0275fac=function(i){return new(i||n)(a.Y36(La,10))};static#t=this.\u0275dir=a.lG2({type:n,selectors:[["","formGroupName",""],["","formArrayName",""],["","ngModelGroup",""],["","formGroup",""],["form",3,"ngNoForm",""],["","ngForm",""]],hostVars:16,hostBindings:function(i,r){2&i&&a.ekj("ng-untouched",r.isUntouched)("ng-touched",r.isTouched)("ng-pristine",r.isPristine)("ng-dirty",r.isDirty)("ng-valid",r.isValid)("ng-invalid",r.isInvalid)("ng-pending",r.isPending)("ng-submitted",r.isSubmitted)},features:[a.qOj]})}return n})();const cT="VALID",fO="INVALID",Yw="PENDING",uT="DISABLED";function $F(n){return(pO(n)?n.validators:n)||null}function YF(n,t){return(pO(t)?t.asyncValidators:n)||null}function pO(n){return null!=n&&!Array.isArray(n)&&"object"==typeof n}function Hz(n,t,e){const i=n.controls;if(!(t?Object.keys(i):i).length)throw new a.vHH(1e3,"");if(!i[e])throw new a.vHH(1001,"")}function Uz(n,t,e){n._forEachChild((i,r)=>{if(void 0===e[r])throw new a.vHH(1002,"")})}class gO{constructor(t,e){this._pendingDirty=!1,this._hasOwnPendingAsyncValidator=!1,this._pendingTouched=!1,this._onCollectionChange=()=>{},this._parent=null,this.pristine=!0,this.touched=!1,this._onDisabledChange=[],this._assignValidators(t),this._assignAsyncValidators(e)}get validator(){return this._composedValidatorFn}set validator(t){this._rawValidators=this._composedValidatorFn=t}get asyncValidator(){return this._composedAsyncValidatorFn}set asyncValidator(t){this._rawAsyncValidators=this._composedAsyncValidatorFn=t}get parent(){return this._parent}get valid(){return this.status===cT}get invalid(){return this.status===fO}get pending(){return this.status==Yw}get disabled(){return this.status===uT}get enabled(){return this.status!==uT}get dirty(){return!this.pristine}get untouched(){return!this.touched}get updateOn(){return this._updateOn?this._updateOn:this.parent?this.parent.updateOn:"change"}setValidators(t){this._assignValidators(t)}setAsyncValidators(t){this._assignAsyncValidators(t)}addValidators(t){this.setValidators(Pz(t,this._rawValidators))}addAsyncValidators(t){this.setAsyncValidators(Pz(t,this._rawAsyncValidators))}removeValidators(t){this.setValidators(Rz(t,this._rawValidators))}removeAsyncValidators(t){this.setAsyncValidators(Rz(t,this._rawAsyncValidators))}hasValidator(t){return dO(this._rawValidators,t)}hasAsyncValidator(t){return dO(this._rawAsyncValidators,t)}clearValidators(){this.validator=null}clearAsyncValidators(){this.asyncValidator=null}markAsTouched(t={}){this.touched=!0,this._parent&&!t.onlySelf&&this._parent.markAsTouched(t)}markAllAsTouched(){this.markAsTouched({onlySelf:!0}),this._forEachChild(t=>t.markAllAsTouched())}markAsUntouched(t={}){this.touched=!1,this._pendingTouched=!1,this._forEachChild(e=>{e.markAsUntouched({onlySelf:!0})}),this._parent&&!t.onlySelf&&this._parent._updateTouched(t)}markAsDirty(t={}){this.pristine=!1,this._parent&&!t.onlySelf&&this._parent.markAsDirty(t)}markAsPristine(t={}){this.pristine=!0,this._pendingDirty=!1,this._forEachChild(e=>{e.markAsPristine({onlySelf:!0})}),this._parent&&!t.onlySelf&&this._parent._updatePristine(t)}markAsPending(t={}){this.status=Yw,!1!==t.emitEvent&&this.statusChanges.emit(this.status),this._parent&&!t.onlySelf&&this._parent.markAsPending(t)}disable(t={}){const e=this._parentMarkedDirty(t.onlySelf);this.status=uT,this.errors=null,this._forEachChild(i=>{i.disable({...t,onlySelf:!0})}),this._updateValue(),!1!==t.emitEvent&&(this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._updateAncestors({...t,skipPristineCheck:e}),this._onDisabledChange.forEach(i=>i(!0))}enable(t={}){const e=this._parentMarkedDirty(t.onlySelf);this.status=cT,this._forEachChild(i=>{i.enable({...t,onlySelf:!0})}),this.updateValueAndValidity({onlySelf:!0,emitEvent:t.emitEvent}),this._updateAncestors({...t,skipPristineCheck:e}),this._onDisabledChange.forEach(i=>i(!1))}_updateAncestors(t){this._parent&&!t.onlySelf&&(this._parent.updateValueAndValidity(t),t.skipPristineCheck||this._parent._updatePristine(),this._parent._updateTouched())}setParent(t){this._parent=t}getRawValue(){return this.value}updateValueAndValidity(t={}){this._setInitialStatus(),this._updateValue(),this.enabled&&(this._cancelExistingSubscription(),this.errors=this._runValidator(),this.status=this._calculateStatus(),(this.status===cT||this.status===Yw)&&this._runAsyncValidator(t.emitEvent)),!1!==t.emitEvent&&(this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._parent&&!t.onlySelf&&this._parent.updateValueAndValidity(t)}_updateTreeValidity(t={emitEvent:!0}){this._forEachChild(e=>e._updateTreeValidity(t)),this.updateValueAndValidity({onlySelf:!0,emitEvent:t.emitEvent})}_setInitialStatus(){this.status=this._allControlsDisabled()?uT:cT}_runValidator(){return this.validator?this.validator(this):null}_runAsyncValidator(t){if(this.asyncValidator){this.status=Yw,this._hasOwnPendingAsyncValidator=!0;const e=Dz(this.asyncValidator(this));this._asyncValidationSubscription=e.subscribe(i=>{this._hasOwnPendingAsyncValidator=!1,this.setErrors(i,{emitEvent:t})})}}_cancelExistingSubscription(){this._asyncValidationSubscription&&(this._asyncValidationSubscription.unsubscribe(),this._hasOwnPendingAsyncValidator=!1)}setErrors(t,e={}){this.errors=t,this._updateControlsErrors(!1!==e.emitEvent)}get(t){let e=t;return null==e||(Array.isArray(e)||(e=e.split(".")),0===e.length)?null:e.reduce((i,r)=>i&&i._find(r),this)}getError(t,e){const i=e?this.get(e):this;return i&&i.errors?i.errors[t]:null}hasError(t,e){return!!this.getError(t,e)}get root(){let t=this;for(;t._parent;)t=t._parent;return t}_updateControlsErrors(t){this.status=this._calculateStatus(),t&&this.statusChanges.emit(this.status),this._parent&&this._parent._updateControlsErrors(t)}_initObservables(){this.valueChanges=new a.vpe,this.statusChanges=new a.vpe}_calculateStatus(){return this._allControlsDisabled()?uT:this.errors?fO:this._hasOwnPendingAsyncValidator||this._anyControlsHaveStatus(Yw)?Yw:this._anyControlsHaveStatus(fO)?fO:cT}_anyControlsHaveStatus(t){return this._anyControls(e=>e.status===t)}_anyControlsDirty(){return this._anyControls(t=>t.dirty)}_anyControlsTouched(){return this._anyControls(t=>t.touched)}_updatePristine(t={}){this.pristine=!this._anyControlsDirty(),this._parent&&!t.onlySelf&&this._parent._updatePristine(t)}_updateTouched(t={}){this.touched=this._anyControlsTouched(),this._parent&&!t.onlySelf&&this._parent._updateTouched(t)}_registerOnCollectionChange(t){this._onCollectionChange=t}_setUpdateStrategy(t){pO(t)&&null!=t.updateOn&&(this._updateOn=t.updateOn)}_parentMarkedDirty(t){return!t&&!(!this._parent||!this._parent.dirty)&&!this._parent._anyControlsDirty()}_find(t){return null}_assignValidators(t){this._rawValidators=Array.isArray(t)?t.slice():t,this._composedValidatorFn=function e7(n){return Array.isArray(n)?HF(n):n||null}(this._rawValidators)}_assignAsyncValidators(t){this._rawAsyncValidators=Array.isArray(t)?t.slice():t,this._composedAsyncValidatorFn=function t7(n){return Array.isArray(n)?UF(n):n||null}(this._rawAsyncValidators)}}class dT extends gO{constructor(t,e,i){super($F(e),YF(i,e)),this.controls=t,this._initObservables(),this._setUpdateStrategy(e),this._setUpControls(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator})}registerControl(t,e){return this.controls[t]?this.controls[t]:(this.controls[t]=e,e.setParent(this),e._registerOnCollectionChange(this._onCollectionChange),e)}addControl(t,e,i={}){this.registerControl(t,e),this.updateValueAndValidity({emitEvent:i.emitEvent}),this._onCollectionChange()}removeControl(t,e={}){this.controls[t]&&this.controls[t]._registerOnCollectionChange(()=>{}),delete this.controls[t],this.updateValueAndValidity({emitEvent:e.emitEvent}),this._onCollectionChange()}setControl(t,e,i={}){this.controls[t]&&this.controls[t]._registerOnCollectionChange(()=>{}),delete this.controls[t],e&&this.registerControl(t,e),this.updateValueAndValidity({emitEvent:i.emitEvent}),this._onCollectionChange()}contains(t){return this.controls.hasOwnProperty(t)&&this.controls[t].enabled}setValue(t,e={}){Uz(this,0,t),Object.keys(t).forEach(i=>{Hz(this,!0,i),this.controls[i].setValue(t[i],{onlySelf:!0,emitEvent:e.emitEvent})}),this.updateValueAndValidity(e)}patchValue(t,e={}){null!=t&&(Object.keys(t).forEach(i=>{const r=this.controls[i];r&&r.patchValue(t[i],{onlySelf:!0,emitEvent:e.emitEvent})}),this.updateValueAndValidity(e))}reset(t={},e={}){this._forEachChild((i,r)=>{i.reset(t[r],{onlySelf:!0,emitEvent:e.emitEvent})}),this._updatePristine(e),this._updateTouched(e),this.updateValueAndValidity(e)}getRawValue(){return this._reduceChildren({},(t,e,i)=>(t[i]=e.getRawValue(),t))}_syncPendingControls(){let t=this._reduceChildren(!1,(e,i)=>!!i._syncPendingControls()||e);return t&&this.updateValueAndValidity({onlySelf:!0}),t}_forEachChild(t){Object.keys(this.controls).forEach(e=>{const i=this.controls[e];i&&t(i,e)})}_setUpControls(){this._forEachChild(t=>{t.setParent(this),t._registerOnCollectionChange(this._onCollectionChange)})}_updateValue(){this.value=this._reduceValue()}_anyControls(t){for(const[e,i]of Object.entries(this.controls))if(this.contains(e)&&t(i))return!0;return!1}_reduceValue(){return this._reduceChildren({},(e,i,r)=>((i.enabled||this.disabled)&&(e[r]=i.value),e))}_reduceChildren(t,e){let i=t;return this._forEachChild((r,s)=>{i=e(i,r,s)}),i}_allControlsDisabled(){for(const t of Object.keys(this.controls))if(this.controls[t].enabled)return!1;return Object.keys(this.controls).length>0||this.disabled}_find(t){return this.controls.hasOwnProperty(t)?this.controls[t]:null}}class zz extends dT{}const n_=new a.OlP("CallSetDisabledState",{providedIn:"root",factory:()=>hT}),hT="always";function mO(n,t){return[...t.path,n]}function fT(n,t,e=hT){qF(n,t),t.valueAccessor.writeValue(n.value),(n.disabled||"always"===e)&&t.valueAccessor.setDisabledState?.(n.disabled),function i7(n,t){t.valueAccessor.registerOnChange(e=>{n._pendingValue=e,n._pendingChange=!0,n._pendingDirty=!0,"change"===n.updateOn&&jz(n,t)})}(n,t),function s7(n,t){const e=(i,r)=>{t.valueAccessor.writeValue(i),r&&t.viewToModelUpdate(i)};n.registerOnChange(e),t._registerOnDestroy(()=>{n._unregisterOnChange(e)})}(n,t),function r7(n,t){t.valueAccessor.registerOnTouched(()=>{n._pendingTouched=!0,"blur"===n.updateOn&&n._pendingChange&&jz(n,t),"submit"!==n.updateOn&&n.markAsTouched()})}(n,t),function n7(n,t){if(t.valueAccessor.setDisabledState){const e=i=>{t.valueAccessor.setDisabledState(i)};n.registerOnDisabledChange(e),t._registerOnDestroy(()=>{n._unregisterOnDisabledChange(e)})}}(n,t)}function vO(n,t,e=!0){const i=()=>{};t.valueAccessor&&(t.valueAccessor.registerOnChange(i),t.valueAccessor.registerOnTouched(i)),_O(n,t),n&&(t._invokeOnDestroyCallbacks(),n._registerOnCollectionChange(()=>{}))}function yO(n,t){n.forEach(e=>{e.registerOnValidatorChange&&e.registerOnValidatorChange(t)})}function qF(n,t){const e=Oz(n);null!==t.validator?n.setValidators(kz(e,t.validator)):"function"==typeof e&&n.setValidators([e]);const i=Nz(n);null!==t.asyncValidator?n.setAsyncValidators(kz(i,t.asyncValidator)):"function"==typeof i&&n.setAsyncValidators([i]);const r=()=>n.updateValueAndValidity();yO(t._rawValidators,r),yO(t._rawAsyncValidators,r)}function _O(n,t){let e=!1;if(null!==n){if(null!==t.validator){const r=Oz(n);if(Array.isArray(r)&&r.length>0){const s=r.filter(c=>c!==t.validator);s.length!==r.length&&(e=!0,n.setValidators(s))}}if(null!==t.asyncValidator){const r=Nz(n);if(Array.isArray(r)&&r.length>0){const s=r.filter(c=>c!==t.asyncValidator);s.length!==r.length&&(e=!0,n.setAsyncValidators(s))}}}const i=()=>{};return yO(t._rawValidators,i),yO(t._rawAsyncValidators,i),e}function jz(n,t){n._pendingDirty&&n.markAsDirty(),n.setValue(n._pendingValue,{emitModelToViewChange:!1}),t.viewToModelUpdate(n._pendingValue),n._pendingChange=!1}function XF(n,t){if(!n.hasOwnProperty("model"))return!1;const e=n.model;return!!e.isFirstChange()||!Object.is(t,e.currentValue)}function KF(n,t){if(!t)return null;let e,i,r;return Array.isArray(t),t.forEach(s=>{s.constructor===lT?e=s:function l7(n){return Object.getPrototypeOf(n.constructor)===t_}(s)?i=s:r=s}),r||i||e||null}function $z(n,t){const e=n.indexOf(t);e>-1&&n.splice(e,1)}function Yz(n){return"object"==typeof n&&null!==n&&2===Object.keys(n).length&&"value"in n&&"disabled"in n}const gT=class extends gO{constructor(t=null,e,i){super($F(e),YF(i,e)),this.defaultValue=null,this._onChange=[],this._pendingChange=!1,this._applyFormState(t),this._setUpdateStrategy(e),this._initObservables(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator}),pO(e)&&(e.nonNullable||e.initialValueIsDefault)&&(this.defaultValue=Yz(t)?t.value:t)}setValue(t,e={}){this.value=this._pendingValue=t,this._onChange.length&&!1!==e.emitModelToViewChange&&this._onChange.forEach(i=>i(this.value,!1!==e.emitViewToModelChange)),this.updateValueAndValidity(e)}patchValue(t,e={}){this.setValue(t,e)}reset(t=this.defaultValue,e={}){this._applyFormState(t),this.markAsPristine(e),this.markAsUntouched(e),this.setValue(this.value,e),this._pendingChange=!1}_updateValue(){}_anyControls(t){return!1}_allControlsDisabled(){return this.disabled}registerOnChange(t){this._onChange.push(t)}_unregisterOnChange(t){$z(this._onChange,t)}registerOnDisabledChange(t){this._onDisabledChange.push(t)}_unregisterOnDisabledChange(t){$z(this._onDisabledChange,t)}_forEachChild(t){}_syncPendingControls(){return!("submit"!==this.updateOn||(this._pendingDirty&&this.markAsDirty(),this._pendingTouched&&this.markAsTouched(),!this._pendingChange)||(this.setValue(this._pendingValue,{onlySelf:!0,emitModelToViewChange:!1}),0))}_applyFormState(t){Yz(t)?(this.value=this._pendingValue=t.value,t.disabled?this.disable({onlySelf:!0,emitEvent:!1}):this.enable({onlySelf:!0,emitEvent:!1})):this.value=this._pendingValue=t}},f7={provide:xm,useExisting:(0,a.Gpc)(()=>JF)},Xz=(()=>Promise.resolve())();let JF=(()=>{class n extends xm{constructor(e,i,r,s,c,p){super(),this._changeDetectorRef=c,this.callSetDisabledState=p,this.control=new gT,this._registered=!1,this.name="",this.update=new a.vpe,this._parent=e,this._setValidators(i),this._setAsyncValidators(r),this.valueAccessor=KF(0,s)}ngOnChanges(e){if(this._checkForErrors(),!this._registered||"name"in e){if(this._registered&&(this._checkName(),this.formDirective)){const i=e.name.previousValue;this.formDirective.removeControl({name:i,path:this._getPath(i)})}this._setUpControl()}"isDisabled"in e&&this._updateDisabled(e),XF(e,this.viewModel)&&(this._updateValue(this.model),this.viewModel=this.model)}ngOnDestroy(){this.formDirective&&this.formDirective.removeControl(this)}get path(){return this._getPath(this.name)}get formDirective(){return this._parent?this._parent.formDirective:null}viewToModelUpdate(e){this.viewModel=e,this.update.emit(e)}_setUpControl(){this._setUpdateStrategy(),this._isStandalone()?this._setUpStandalone():this.formDirective.addControl(this),this._registered=!0}_setUpdateStrategy(){this.options&&null!=this.options.updateOn&&(this.control._updateOn=this.options.updateOn)}_isStandalone(){return!this._parent||!(!this.options||!this.options.standalone)}_setUpStandalone(){fT(this.control,this,this.callSetDisabledState),this.control.updateValueAndValidity({emitEvent:!1})}_checkForErrors(){this._isStandalone()||this._checkParentType(),this._checkName()}_checkParentType(){}_checkName(){this.options&&this.options.name&&(this.name=this.options.name),this._isStandalone()}_updateValue(e){Xz.then(()=>{this.control.setValue(e,{emitViewToModelChange:!1}),this._changeDetectorRef?.markForCheck()})}_updateDisabled(e){const i=e.isDisabled.currentValue,r=0!==i&&(0,a.VuI)(i);Xz.then(()=>{r&&!this.control.disabled?this.control.disable():!r&&this.control.disabled&&this.control.enable(),this._changeDetectorRef?.markForCheck()})}_getPath(e){return this._parent?mO(e,this._parent):[e]}static#e=this.\u0275fac=function(i){return new(i||n)(a.Y36(La,9),a.Y36(Xo,10),a.Y36(wm,10),a.Y36(Vl,10),a.Y36(a.sBO,8),a.Y36(n_,8))};static#t=this.\u0275dir=a.lG2({type:n,selectors:[["","ngModel","",3,"formControlName","",3,"formControl",""]],inputs:{name:"name",isDisabled:["disabled","isDisabled"],model:["ngModel","model"],options:["ngModelOptions","options"]},outputs:{update:"ngModelChange"},exportAs:["ngModel"],features:[a._Bn([f7]),a.qOj,a.TTD]})}return n})(),Kz=(()=>{class n{static#e=this.\u0275fac=function(i){return new(i||n)};static#t=this.\u0275dir=a.lG2({type:n,selectors:[["form",3,"ngNoForm","",3,"ngNativeValidate",""]],hostAttrs:["novalidate",""]})}return n})(),Jz=(()=>{class n{static#e=this.\u0275fac=function(i){return new(i||n)};static#t=this.\u0275mod=a.oAB({type:n});static#n=this.\u0275inj=a.cJS({})}return n})();const eL=new a.OlP("NgModelWithFormControlWarning"),_7={provide:La,useExisting:(0,a.Gpc)(()=>bO)};let bO=(()=>{class n extends La{constructor(e,i,r){super(),this.callSetDisabledState=r,this.submitted=!1,this._onCollectionChange=()=>this._updateDomValue(),this.directives=[],this.form=null,this.ngSubmit=new a.vpe,this._setValidators(e),this._setAsyncValidators(i)}ngOnChanges(e){this._checkFormPresent(),e.hasOwnProperty("form")&&(this._updateValidators(),this._updateDomValue(),this._updateRegistrations(),this._oldForm=this.form)}ngOnDestroy(){this.form&&(_O(this.form,this),this.form._onCollectionChange===this._onCollectionChange&&this.form._registerOnCollectionChange(()=>{}))}get formDirective(){return this}get control(){return this.form}get path(){return[]}addControl(e){const i=this.form.get(e.path);return fT(i,e,this.callSetDisabledState),i.updateValueAndValidity({emitEvent:!1}),this.directives.push(e),i}getControl(e){return this.form.get(e.path)}removeControl(e){vO(e.control||null,e,!1),function c7(n,t){const e=n.indexOf(t);e>-1&&n.splice(e,1)}(this.directives,e)}addFormGroup(e){this._setUpFormContainer(e)}removeFormGroup(e){this._cleanUpFormContainer(e)}getFormGroup(e){return this.form.get(e.path)}addFormArray(e){this._setUpFormContainer(e)}removeFormArray(e){this._cleanUpFormContainer(e)}getFormArray(e){return this.form.get(e.path)}updateModel(e,i){this.form.get(e.path).setValue(i)}onSubmit(e){return this.submitted=!0,function Wz(n,t){n._syncPendingControls(),t.forEach(e=>{const i=e.control;"submit"===i.updateOn&&i._pendingChange&&(e.viewToModelUpdate(i._pendingValue),i._pendingChange=!1)})}(this.form,this.directives),this.ngSubmit.emit(e),"dialog"===e?.target?.method}onReset(){this.resetForm()}resetForm(e=void 0){this.form.reset(e),this.submitted=!1}_updateDomValue(){this.directives.forEach(e=>{const i=e.control,r=this.form.get(e.path);i!==r&&(vO(i||null,e),(n=>n instanceof gT)(r)&&(fT(r,e,this.callSetDisabledState),e.control=r))}),this.form._updateTreeValidity({emitEvent:!1})}_setUpFormContainer(e){const i=this.form.get(e.path);(function Gz(n,t){qF(n,t)})(i,e),i.updateValueAndValidity({emitEvent:!1})}_cleanUpFormContainer(e){if(this.form){const i=this.form.get(e.path);i&&function o7(n,t){return _O(n,t)}(i,e)&&i.updateValueAndValidity({emitEvent:!1})}}_updateRegistrations(){this.form._registerOnCollectionChange(this._onCollectionChange),this._oldForm&&this._oldForm._registerOnCollectionChange(()=>{})}_updateValidators(){qF(this.form,this),this._oldForm&&_O(this._oldForm,this)}_checkFormPresent(){}static#e=this.\u0275fac=function(i){return new(i||n)(a.Y36(Xo,10),a.Y36(wm,10),a.Y36(n_,8))};static#t=this.\u0275dir=a.lG2({type:n,selectors:[["","formGroup",""]],hostBindings:function(i,r){1&i&&a.NdJ("submit",function(c){return r.onSubmit(c)})("reset",function(){return r.onReset()})},inputs:{form:["formGroup","form"]},outputs:{ngSubmit:"ngSubmit"},exportAs:["ngForm"],features:[a._Bn([_7]),a.qOj,a.TTD]})}return n})();const x7={provide:xm,useExisting:(0,a.Gpc)(()=>iL)};let iL=(()=>{class n extends xm{set isDisabled(e){}static#e=this._ngModelWarningSentOnce=!1;constructor(e,i,r,s,c){super(),this._ngModelWarningConfig=c,this._added=!1,this.name=null,this.update=new a.vpe,this._ngModelWarningSent=!1,this._parent=e,this._setValidators(i),this._setAsyncValidators(r),this.valueAccessor=KF(0,s)}ngOnChanges(e){this._added||this._setUpControl(),XF(e,this.viewModel)&&(this.viewModel=this.model,this.formDirective.updateModel(this,this.model))}ngOnDestroy(){this.formDirective&&this.formDirective.removeControl(this)}viewToModelUpdate(e){this.viewModel=e,this.update.emit(e)}get path(){return mO(null==this.name?this.name:this.name.toString(),this._parent)}get formDirective(){return this._parent?this._parent.formDirective:null}_checkParentType(){}_setUpControl(){this._checkParentType(),this.control=this.formDirective.addControl(this),this._added=!0}static#t=this.\u0275fac=function(i){return new(i||n)(a.Y36(La,13),a.Y36(Xo,10),a.Y36(wm,10),a.Y36(Vl,10),a.Y36(eL,8))};static#n=this.\u0275dir=a.lG2({type:n,selectors:[["","formControlName",""]],inputs:{name:["formControlName","name"],isDisabled:["disabled","isDisabled"],model:["ngModel","model"]},outputs:{update:"ngModelChange"},features:[a._Bn([x7]),a.qOj,a.TTD]})}return n})(),g4=(()=>{class n{static#e=this.\u0275fac=function(i){return new(i||n)};static#t=this.\u0275mod=a.oAB({type:n});static#n=this.\u0275inj=a.cJS({imports:[Jz]})}return n})();class m4 extends gO{constructor(t,e,i){super($F(e),YF(i,e)),this.controls=t,this._initObservables(),this._setUpdateStrategy(e),this._setUpControls(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator})}at(t){return this.controls[this._adjustIndex(t)]}push(t,e={}){this.controls.push(t),this._registerControl(t),this.updateValueAndValidity({emitEvent:e.emitEvent}),this._onCollectionChange()}insert(t,e,i={}){this.controls.splice(t,0,e),this._registerControl(e),this.updateValueAndValidity({emitEvent:i.emitEvent})}removeAt(t,e={}){let i=this._adjustIndex(t);i<0&&(i=0),this.controls[i]&&this.controls[i]._registerOnCollectionChange(()=>{}),this.controls.splice(i,1),this.updateValueAndValidity({emitEvent:e.emitEvent})}setControl(t,e,i={}){let r=this._adjustIndex(t);r<0&&(r=0),this.controls[r]&&this.controls[r]._registerOnCollectionChange(()=>{}),this.controls.splice(r,1),e&&(this.controls.splice(r,0,e),this._registerControl(e)),this.updateValueAndValidity({emitEvent:i.emitEvent}),this._onCollectionChange()}get length(){return this.controls.length}setValue(t,e={}){Uz(this,0,t),t.forEach((i,r)=>{Hz(this,!1,r),this.at(r).setValue(i,{onlySelf:!0,emitEvent:e.emitEvent})}),this.updateValueAndValidity(e)}patchValue(t,e={}){null!=t&&(t.forEach((i,r)=>{this.at(r)&&this.at(r).patchValue(i,{onlySelf:!0,emitEvent:e.emitEvent})}),this.updateValueAndValidity(e))}reset(t=[],e={}){this._forEachChild((i,r)=>{i.reset(t[r],{onlySelf:!0,emitEvent:e.emitEvent})}),this._updatePristine(e),this._updateTouched(e),this.updateValueAndValidity(e)}getRawValue(){return this.controls.map(t=>t.getRawValue())}clear(t={}){this.controls.length<1||(this._forEachChild(e=>e._registerOnCollectionChange(()=>{})),this.controls.splice(0),this.updateValueAndValidity({emitEvent:t.emitEvent}))}_adjustIndex(t){return t<0?t+this.length:t}_syncPendingControls(){let t=this.controls.reduce((e,i)=>!!i._syncPendingControls()||e,!1);return t&&this.updateValueAndValidity({onlySelf:!0}),t}_forEachChild(t){this.controls.forEach((e,i)=>{t(e,i)})}_updateValue(){this.value=this.controls.filter(t=>t.enabled||this.disabled).map(t=>t.value)}_anyControls(t){return this.controls.some(e=>e.enabled&&t(e))}_setUpControls(){this._forEachChild(t=>this._registerControl(t))}_allControlsDisabled(){for(const t of this.controls)if(t.enabled)return!1;return this.controls.length>0||this.disabled}_registerControl(t){t.setParent(this),t._registerOnCollectionChange(this._onCollectionChange)}_find(t){return this.at(t)??null}}function v4(n){return!!n&&(void 0!==n.asyncValidators||void 0!==n.validators||void 0!==n.updateOn)}let L7=(()=>{class n{constructor(){this.useNonNullable=!1}get nonNullable(){const e=new n;return e.useNonNullable=!0,e}group(e,i=null){const r=this._reduceControls(e);let s={};return v4(i)?s=i:null!==i&&(s.validators=i.validator,s.asyncValidators=i.asyncValidator),new dT(r,s)}record(e,i=null){const r=this._reduceControls(e);return new zz(r,i)}control(e,i,r){let s={};return this.useNonNullable?(v4(i)?s=i:(s.validators=i,s.asyncValidators=r),new gT(e,{...s,nonNullable:!0})):new gT(e,i,r)}array(e,i,r){const s=e.map(c=>this._createControl(c));return new m4(s,i,r)}_reduceControls(e){const i={};return Object.keys(e).forEach(r=>{i[r]=this._createControl(e[r])}),i}_createControl(e){return e instanceof gT||e instanceof gO?e:Array.isArray(e)?this.control(e[0],e.length>1?e[1]:null,e.length>2?e[2]:null):this.control(e)}static#e=this.\u0275fac=function(i){return new(i||n)};static#t=this.\u0275prov=a.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})(),B7=(()=>{class n{static withConfig(e){return{ngModule:n,providers:[{provide:n_,useValue:e.callSetDisabledState??hT}]}}static#e=this.\u0275fac=function(i){return new(i||n)};static#t=this.\u0275mod=a.oAB({type:n});static#n=this.\u0275inj=a.cJS({imports:[g4]})}return n})(),V7=(()=>{class n{static withConfig(e){return{ngModule:n,providers:[{provide:eL,useValue:e.warnOnNgModelWithFormControl??"always"},{provide:n_,useValue:e.callSetDisabledState??hT}]}}static#e=this.\u0275fac=function(i){return new(i||n)};static#t=this.\u0275mod=a.oAB({type:n});static#n=this.\u0275inj=a.cJS({imports:[g4]})}return n})();class y4{}class H7{}const ep="*";function _4(n,t){return{type:7,name:n,definitions:t,options:{}}}function wO(n,t=null){return{type:4,styles:t,timings:n}}function b4(n,t=null){return{type:2,steps:n,options:t}}function r_(n){return{type:6,styles:n,offset:null}}function mT(n,t,e){return{type:0,name:n,styles:t,options:e}}function xO(n,t,e=null){return{type:1,expr:n,animation:t,options:e}}class vT{constructor(t=0,e=0){this._onDoneFns=[],this._onStartFns=[],this._onDestroyFns=[],this._originalOnDoneFns=[],this._originalOnStartFns=[],this._started=!1,this._destroyed=!1,this._finished=!1,this._position=0,this.parentPlayer=null,this.totalTime=t+e}_onFinish(){this._finished||(this._finished=!0,this._onDoneFns.forEach(t=>t()),this._onDoneFns=[])}onStart(t){this._originalOnStartFns.push(t),this._onStartFns.push(t)}onDone(t){this._originalOnDoneFns.push(t),this._onDoneFns.push(t)}onDestroy(t){this._onDestroyFns.push(t)}hasStarted(){return this._started}init(){}play(){this.hasStarted()||(this._onStart(),this.triggerMicrotask()),this._started=!0}triggerMicrotask(){queueMicrotask(()=>this._onFinish())}_onStart(){this._onStartFns.forEach(t=>t()),this._onStartFns=[]}pause(){}restart(){}finish(){this._onFinish()}destroy(){this._destroyed||(this._destroyed=!0,this.hasStarted()||this._onStart(),this.finish(),this._onDestroyFns.forEach(t=>t()),this._onDestroyFns=[])}reset(){this._started=!1,this._finished=!1,this._onStartFns=this._originalOnStartFns,this._onDoneFns=this._originalOnDoneFns}setPosition(t){this._position=this.totalTime?t*this.totalTime:1}getPosition(){return this.totalTime?this._position/this.totalTime:1}triggerCallback(t){const e="start"==t?this._onStartFns:this._onDoneFns;e.forEach(i=>i()),e.length=0}}class w4{constructor(t){this._onDoneFns=[],this._onStartFns=[],this._finished=!1,this._started=!1,this._destroyed=!1,this._onDestroyFns=[],this.parentPlayer=null,this.totalTime=0,this.players=t;let e=0,i=0,r=0;const s=this.players.length;0==s?queueMicrotask(()=>this._onFinish()):this.players.forEach(c=>{c.onDone(()=>{++e==s&&this._onFinish()}),c.onDestroy(()=>{++i==s&&this._onDestroy()}),c.onStart(()=>{++r==s&&this._onStart()})}),this.totalTime=this.players.reduce((c,p)=>Math.max(c,p.totalTime),0)}_onFinish(){this._finished||(this._finished=!0,this._onDoneFns.forEach(t=>t()),this._onDoneFns=[])}init(){this.players.forEach(t=>t.init())}onStart(t){this._onStartFns.push(t)}_onStart(){this.hasStarted()||(this._started=!0,this._onStartFns.forEach(t=>t()),this._onStartFns=[])}onDone(t){this._onDoneFns.push(t)}onDestroy(t){this._onDestroyFns.push(t)}hasStarted(){return this._started}play(){this.parentPlayer||this.init(),this._onStart(),this.players.forEach(t=>t.play())}pause(){this.players.forEach(t=>t.pause())}restart(){this.players.forEach(t=>t.restart())}finish(){this._onFinish(),this.players.forEach(t=>t.finish())}destroy(){this._onDestroy()}_onDestroy(){this._destroyed||(this._destroyed=!0,this._onFinish(),this.players.forEach(t=>t.destroy()),this._onDestroyFns.forEach(t=>t()),this._onDestroyFns=[])}reset(){this.players.forEach(t=>t.reset()),this._destroyed=!1,this._finished=!1,this._started=!1}setPosition(t){const e=t*this.totalTime;this.players.forEach(i=>{const r=i.totalTime?Math.min(1,e/i.totalTime):1;i.setPosition(r)})}getPosition(){const t=this.players.reduce((e,i)=>null===e||i.totalTime>e.totalTime?i:e,null);return null!=t?t.getPosition():0}beforeDestroy(){this.players.forEach(t=>{t.beforeDestroy&&t.beforeDestroy()})}triggerCallback(t){const e="start"==t?this._onStartFns:this._onDoneFns;e.forEach(i=>i()),e.length=0}}const x4=["toast-component",""];function U7(n,t){if(1&n){const e=a.EpF();a.TgZ(0,"button",5),a.NdJ("click",function(){a.CHM(e);const r=a.oxw();return a.KtG(r.remove())}),a.TgZ(1,"span",6),a._uU(2,"\xd7"),a.qZA()()}}function z7(n,t){if(1&n&&(a.ynx(0),a._uU(1),a.BQk()),2&n){const e=a.oxw(2);a.xp6(1),a.hij("[",e.duplicatesCount+1,"]")}}function j7(n,t){if(1&n&&(a.TgZ(0,"div"),a._uU(1),a.YNc(2,z7,2,1,"ng-container",4),a.qZA()),2&n){const e=a.oxw();a.Tol(e.options.titleClass),a.uIk("aria-label",e.title),a.xp6(1),a.hij(" ",e.title," "),a.xp6(1),a.Q6J("ngIf",e.duplicatesCount)}}function G7(n,t){if(1&n&&a._UZ(0,"div",7),2&n){const e=a.oxw();a.Tol(e.options.messageClass),a.Q6J("innerHTML",e.message,a.oJD)}}function W7(n,t){if(1&n&&(a.TgZ(0,"div",8),a._uU(1),a.qZA()),2&n){const e=a.oxw();a.Tol(e.options.messageClass),a.uIk("aria-label",e.message),a.xp6(1),a.hij(" ",e.message," ")}}function $7(n,t){if(1&n&&(a.TgZ(0,"div"),a._UZ(1,"div",9),a.qZA()),2&n){const e=a.oxw();a.xp6(1),a.Udp("width",e.width+"%")}}class J7{_attachedHost;component;viewContainerRef;injector;constructor(t,e){this.component=t,this.injector=e}attach(t,e){return this._attachedHost=t,t.attach(this,e)}detach(){const t=this._attachedHost;if(t)return this._attachedHost=void 0,t.detach()}get isAttached(){return null!=this._attachedHost}setAttachedHost(t){this._attachedHost=t}}class eZ{_attachedPortal;_disposeFn;attach(t,e){return this._attachedPortal=t,this.attachComponentPortal(t,e)}detach(){this._attachedPortal&&this._attachedPortal.setAttachedHost(),this._attachedPortal=void 0,this._disposeFn&&(this._disposeFn(),this._disposeFn=void 0)}setDisposeFn(t){this._disposeFn=t}}class tZ{_overlayRef;componentInstance;duplicatesCount=0;_afterClosed=new Pn.x;_activate=new Pn.x;_manualClose=new Pn.x;_resetTimeout=new Pn.x;_countDuplicate=new Pn.x;constructor(t){this._overlayRef=t}manualClose(){this._manualClose.next(),this._manualClose.complete()}manualClosed(){return this._manualClose.asObservable()}timeoutReset(){return this._resetTimeout.asObservable()}countDuplicate(){return this._countDuplicate.asObservable()}close(){this._overlayRef.detach(),this._afterClosed.next(),this._manualClose.next(),this._afterClosed.complete(),this._manualClose.complete(),this._activate.complete(),this._resetTimeout.complete(),this._countDuplicate.complete()}afterClosed(){return this._afterClosed.asObservable()}isInactive(){return this._activate.isStopped}activate(){this._activate.next(),this._activate.complete()}afterActivate(){return this._activate.asObservable()}onDuplicate(t,e){t&&this._resetTimeout.next(),e&&this._countDuplicate.next(++this.duplicatesCount)}}class CO{toastId;config;message;title;toastType;toastRef;_onTap=new Pn.x;_onAction=new Pn.x;constructor(t,e,i,r,s,c){this.toastId=t,this.config=e,this.message=i,this.title=r,this.toastType=s,this.toastRef=c,this.toastRef.afterClosed().subscribe(()=>{this._onAction.complete(),this._onTap.complete()})}triggerTap(){this._onTap.next(),this.config.tapToDismiss&&this._onTap.complete()}onTap(){return this._onTap.asObservable()}triggerAction(t){this._onAction.next(t)}onAction(){return this._onAction.asObservable()}}const E4=new a.OlP("ToastConfig");class nZ extends eZ{_hostDomElement;_componentFactoryResolver;_appRef;constructor(t,e,i){super(),this._hostDomElement=t,this._componentFactoryResolver=e,this._appRef=i}attachComponentPortal(t,e){const i=this._componentFactoryResolver.resolveComponentFactory(t.component);let r;return r=i.create(t.injector),this._appRef.attachView(r.hostView),this.setDisposeFn(()=>{this._appRef.detachView(r.hostView),r.destroy()}),e?this._hostDomElement.insertBefore(this._getComponentRootNode(r),this._hostDomElement.firstChild):this._hostDomElement.appendChild(this._getComponentRootNode(r)),r}_getComponentRootNode(t){return t.hostView.rootNodes[0]}}let iZ=(()=>{class n{_document=(0,a.f3M)(Ye);_containerElement;ngOnDestroy(){this._containerElement&&this._containerElement.parentNode&&this._containerElement.parentNode.removeChild(this._containerElement)}getContainerElement(){return this._containerElement||this._createContainer(),this._containerElement}_createContainer(){const e=this._document.createElement("div");e.classList.add("overlay-container"),e.setAttribute("aria-live","polite"),this._document.body.appendChild(e),this._containerElement=e}static \u0275fac=function(i){return new(i||n)};static \u0275prov=a.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})();class rZ{_portalHost;constructor(t){this._portalHost=t}attach(t,e=!0){return this._portalHost.attach(t,e)}detach(){return this._portalHost.detach()}}let sZ=(()=>{class n{_overlayContainer=(0,a.f3M)(iZ);_componentFactoryResolver=(0,a.f3M)(a._Vd);_appRef=(0,a.f3M)(a.z2F);_document=(0,a.f3M)(Ye);_paneElements=new Map;create(e,i){return this._createOverlayRef(this.getPaneElement(e,i))}getPaneElement(e="",i){return this._paneElements.get(i)||this._paneElements.set(i,{}),this._paneElements.get(i)[e]||(this._paneElements.get(i)[e]=this._createPaneElement(e,i)),this._paneElements.get(i)[e]}_createPaneElement(e,i){const r=this._document.createElement("div");return r.id="toast-container",r.classList.add(e),r.classList.add("toast-container"),i?i.getContainerElement().appendChild(r):this._overlayContainer.getContainerElement().appendChild(r),r}_createPortalHost(e){return new nZ(e,this._componentFactoryResolver,this._appRef)}_createOverlayRef(e){return new rZ(this._createPortalHost(e))}static \u0275fac=function(i){return new(i||n)};static \u0275prov=a.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})(),lL=(()=>{class n{overlay;_injector;sanitizer;ngZone;toastrConfig;currentlyActive=0;toasts=[];overlayContainer;previousToastMessage;index=0;constructor(e,i,r,s,c){this.overlay=i,this._injector=r,this.sanitizer=s,this.ngZone=c,this.toastrConfig={...e.default,...e.config},e.config.iconClasses&&(this.toastrConfig.iconClasses={...e.default.iconClasses,...e.config.iconClasses})}show(e,i,r={},s=""){return this._preBuildNotification(s,e,i,this.applyConfig(r))}success(e,i,r={}){return this._preBuildNotification(this.toastrConfig.iconClasses.success||"",e,i,this.applyConfig(r))}error(e,i,r={}){return this._preBuildNotification(this.toastrConfig.iconClasses.error||"",e,i,this.applyConfig(r))}info(e,i,r={}){return this._preBuildNotification(this.toastrConfig.iconClasses.info||"",e,i,this.applyConfig(r))}warning(e,i,r={}){return this._preBuildNotification(this.toastrConfig.iconClasses.warning||"",e,i,this.applyConfig(r))}clear(e){for(const i of this.toasts)if(void 0!==e){if(i.toastId===e)return void i.toastRef.manualClose()}else i.toastRef.manualClose()}remove(e){const i=this._findToast(e);if(!i||(i.activeToast.toastRef.close(),this.toasts.splice(i.index,1),this.currentlyActive=this.currentlyActive-1,!this.toastrConfig.maxOpened||!this.toasts.length))return!1;if(this.currentlyActive<this.toastrConfig.maxOpened&&this.toasts[this.currentlyActive]){const r=this.toasts[this.currentlyActive].toastRef;r.isInactive()||(this.currentlyActive=this.currentlyActive+1,r.activate())}return!0}findDuplicate(e="",i="",r,s){const{includeTitleDuplicates:c}=this.toastrConfig;for(const p of this.toasts)if((!c||c&&p.title===e)&&p.message===i)return p.toastRef.onDuplicate(r,s),p;return null}applyConfig(e={}){return{...this.toastrConfig,...e}}_findToast(e){for(let i=0;i<this.toasts.length;i++)if(this.toasts[i].toastId===e)return{index:i,activeToast:this.toasts[i]};return null}_preBuildNotification(e,i,r,s){return s.onActivateTick?this.ngZone.run(()=>this._buildNotification(e,i,r,s)):this._buildNotification(e,i,r,s)}_buildNotification(e,i,r,s){if(!s.toastComponent)throw new Error("toastComponent required");const c=this.findDuplicate(r,i,this.toastrConfig.resetTimeoutOnDuplicate&&s.timeOut>0,this.toastrConfig.countDuplicates);if((this.toastrConfig.includeTitleDuplicates&&r||i)&&this.toastrConfig.preventDuplicates&&null!==c)return c;this.previousToastMessage=i;let p=!1;this.toastrConfig.maxOpened&&this.currentlyActive>=this.toastrConfig.maxOpened&&(p=!0,this.toastrConfig.autoDismiss&&this.clear(this.toasts[0].toastId));const _=this.overlay.create(s.positionClass,this.overlayContainer);this.index=this.index+1;let C=i;i&&s.enableHtml&&(C=this.sanitizer.sanitize(a.q3G.HTML,i));const M=new tZ(_),V=new CO(this.index,s,C,r,e,M),K=a.zs3.create({providers:[{provide:CO,useValue:V}],parent:this._injector}),oe=new J7(s.toastComponent,K),ae=_.attach(oe,s.newestOnTop);M.componentInstance=ae.instance;const fe={toastId:this.index,title:r||"",message:i||"",toastRef:M,onShown:M.afterActivate(),onHidden:M.afterClosed(),onTap:V.onTap(),onAction:V.onAction(),portal:ae};return p||(this.currentlyActive=this.currentlyActive+1,setTimeout(()=>{fe.toastRef.activate()})),this.toasts.push(fe),fe}static \u0275fac=function(i){return new(i||n)(a.LFG(E4),a.LFG(sZ),a.LFG(a.zs3),a.LFG(sa),a.LFG(a.R0b))};static \u0275prov=a.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})();const oZ={maxOpened:0,autoDismiss:!1,newestOnTop:!0,preventDuplicates:!1,countDuplicates:!1,resetTimeoutOnDuplicate:!1,includeTitleDuplicates:!1,iconClasses:{error:"toast-error",info:"toast-info",success:"toast-success",warning:"toast-warning"},closeButton:!1,disableTimeOut:!1,timeOut:5e3,extendedTimeOut:1e3,enableHtml:!1,progressBar:!1,toastClass:"ngx-toastr",positionClass:"toast-top-right",titleClass:"toast-title",messageClass:"toast-message",easing:"ease-in",easeTime:300,tapToDismiss:!0,onActivateTick:!1,progressAnimation:"decreasing",toastComponent:(()=>{class n{toastrService;toastPackage;ngZone;message;title;options;duplicatesCount;originalTimeout;width=-1;toastClasses="";state;get displayStyle(){if("inactive"===this.state.value)return"none"}timeout;intervalId;hideTime;sub;sub1;sub2;sub3;constructor(e,i,r){this.toastrService=e,this.toastPackage=i,this.ngZone=r,this.message=i.message,this.title=i.title,this.options=i.config,this.originalTimeout=i.config.timeOut,this.toastClasses=`${i.toastType} ${i.config.toastClass}`,this.sub=i.toastRef.afterActivate().subscribe(()=>{this.activateToast()}),this.sub1=i.toastRef.manualClosed().subscribe(()=>{this.remove()}),this.sub2=i.toastRef.timeoutReset().subscribe(()=>{this.resetTimeout()}),this.sub3=i.toastRef.countDuplicate().subscribe(s=>{this.duplicatesCount=s}),this.state={value:"inactive",params:{easeTime:this.toastPackage.config.easeTime,easing:"ease-in"}}}ngOnDestroy(){this.sub.unsubscribe(),this.sub1.unsubscribe(),this.sub2.unsubscribe(),this.sub3.unsubscribe(),clearInterval(this.intervalId),clearTimeout(this.timeout)}activateToast(){this.state={...this.state,value:"active"},!0!==this.options.disableTimeOut&&"timeOut"!==this.options.disableTimeOut&&this.options.timeOut&&(this.outsideTimeout(()=>this.remove(),this.options.timeOut),this.hideTime=(new Date).getTime()+this.options.timeOut,this.options.progressBar&&this.outsideInterval(()=>this.updateProgress(),10))}updateProgress(){if(0===this.width||100===this.width||!this.options.timeOut)return;const e=(new Date).getTime();this.width=(this.hideTime-e)/this.options.timeOut*100,"increasing"===this.options.progressAnimation&&(this.width=100-this.width),this.width<=0&&(this.width=0),this.width>=100&&(this.width=100)}resetTimeout(){clearTimeout(this.timeout),clearInterval(this.intervalId),this.state={...this.state,value:"active"},this.outsideTimeout(()=>this.remove(),this.originalTimeout),this.options.timeOut=this.originalTimeout,this.hideTime=(new Date).getTime()+(this.options.timeOut||0),this.width=-1,this.options.progressBar&&this.outsideInterval(()=>this.updateProgress(),10)}remove(){"removed"!==this.state.value&&(clearTimeout(this.timeout),this.state={...this.state,value:"removed"},this.outsideTimeout(()=>this.toastrService.remove(this.toastPackage.toastId),+this.toastPackage.config.easeTime))}tapToast(){"removed"!==this.state.value&&(this.toastPackage.triggerTap(),this.options.tapToDismiss&&this.remove())}stickAround(){"removed"!==this.state.value&&"extendedTimeOut"!==this.options.disableTimeOut&&(clearTimeout(this.timeout),this.options.timeOut=0,this.hideTime=0,clearInterval(this.intervalId),this.width=0)}delayedHideToast(){!0===this.options.disableTimeOut||"extendedTimeOut"===this.options.disableTimeOut||0===this.options.extendedTimeOut||"removed"===this.state.value||(this.outsideTimeout(()=>this.remove(),this.options.extendedTimeOut),this.options.timeOut=this.options.extendedTimeOut,this.hideTime=(new Date).getTime()+(this.options.timeOut||0),this.width=-1,this.options.progressBar&&this.outsideInterval(()=>this.updateProgress(),10))}outsideTimeout(e,i){this.ngZone?this.ngZone.runOutsideAngular(()=>this.timeout=setTimeout(()=>this.runInsideAngular(e),i)):this.timeout=setTimeout(()=>e(),i)}outsideInterval(e,i){this.ngZone?this.ngZone.runOutsideAngular(()=>this.intervalId=setInterval(()=>this.runInsideAngular(e),i)):this.intervalId=setInterval(()=>e(),i)}runInsideAngular(e){this.ngZone?this.ngZone.run(()=>e()):e()}static \u0275fac=function(i){return new(i||n)(a.Y36(lL),a.Y36(CO),a.Y36(a.R0b))};static \u0275cmp=a.Xpm({type:n,selectors:[["","toast-component",""]],hostVars:5,hostBindings:function(i,r){1&i&&a.NdJ("click",function(){return r.tapToast()})("mouseenter",function(){return r.stickAround()})("mouseleave",function(){return r.delayedHideToast()}),2&i&&(a.d8E("@flyInOut",r.state),a.Tol(r.toastClasses),a.Udp("display",r.displayStyle))},standalone:!0,features:[a.jDz],attrs:x4,decls:5,vars:5,consts:[["type","button","class","toast-close-button","aria-label","Close",3,"click",4,"ngIf"],[3,"class",4,"ngIf"],["role","alert",3,"class","innerHTML",4,"ngIf"],["role","alert",3,"class",4,"ngIf"],[4,"ngIf"],["type","button","aria-label","Close",1,"toast-close-button",3,"click"],["aria-hidden","true"],["role","alert",3,"innerHTML"],["role","alert"],[1,"toast-progress"]],template:function(i,r){1&i&&(a.YNc(0,U7,3,0,"button",0),a.YNc(1,j7,3,5,"div",1),a.YNc(2,G7,1,3,"div",2),a.YNc(3,W7,2,4,"div",3),a.YNc(4,$7,2,2,"div",4)),2&i&&(a.Q6J("ngIf",r.options.closeButton),a.xp6(1),a.Q6J("ngIf",r.title),a.xp6(1),a.Q6J("ngIf",r.message&&r.options.enableHtml),a.xp6(1),a.Q6J("ngIf",r.message&&!r.options.enableHtml),a.xp6(1),a.Q6J("ngIf",r.options.progressBar))},dependencies:[Q],encapsulation:2,data:{animation:[_4("flyInOut",[mT("inactive",r_({opacity:0})),mT("active",r_({opacity:1})),mT("removed",r_({opacity:0})),xO("inactive => active",wO("{{ easeTime }}ms {{ easing }}")),xO("active => removed",wO("{{ easeTime }}ms {{ easing }}"))])]}})}return n})()},aZ=(n={})=>(0,a.MR2)([{provide:E4,useValue:{default:oZ,config:n}}]);let lZ=(()=>{class n{static forRoot(e={}){return{ngModule:n,providers:[aZ(e)]}}static \u0275fac=function(i){return new(i||n)};static \u0275mod=a.oAB({type:n});static \u0275inj=a.cJS({})}return n})();function D4(n){return new a.vHH(3e3,!1)}function Cm(n){switch(n.length){case 0:return new vT;case 1:return n[0];default:return new w4(n)}}function T4(n,t,e=new Map,i=new Map){const r=[],s=[];let c=-1,p=null;if(t.forEach(_=>{const C=_.get("offset"),M=C==c,V=M&&p||new Map;_.forEach((W,K)=>{let oe=K,ae=W;if("offset"!==K)switch(oe=n.normalizePropertyName(oe,r),ae){case"!":ae=e.get(K);break;case ep:ae=i.get(K);break;default:ae=n.normalizeStyleValue(K,oe,ae,r)}V.set(oe,ae)}),M||s.push(V),p=V,c=C}),r.length)throw function kZ(n){return new a.vHH(3502,!1)}();return s}function cL(n,t,e,i){switch(t){case"start":n.onStart(()=>i(e&&uL(e,"start",n)));break;case"done":n.onDone(()=>i(e&&uL(e,"done",n)));break;case"destroy":n.onDestroy(()=>i(e&&uL(e,"destroy",n)))}}function uL(n,t,e){const s=dL(n.element,n.triggerName,n.fromState,n.toState,t||n.phaseName,e.totalTime??n.totalTime,!!e.disabled),c=n._data;return null!=c&&(s._data=c),s}function dL(n,t,e,i,r="",s=0,c){return{element:n,triggerName:t,fromState:e,toState:i,phaseName:r,totalTime:s,disabled:!!c}}function Hl(n,t,e){let i=n.get(t);return i||n.set(t,i=e),i}function S4(n){const t=n.indexOf(":");return[n.substring(1,t),n.slice(t+1)]}const jZ=(()=>typeof document>"u"?null:document.documentElement)();function hL(n){const t=n.parentNode||n.host||null;return t===jZ?null:t}let s_=null,A4=!1;function I4(n,t){for(;t;){if(t===n)return!0;t=hL(t)}return!1}function M4(n,t,e){if(e)return Array.from(n.querySelectorAll(t));const i=n.querySelector(t);return i?[i]:[]}let k4=(()=>{class n{validateStyleProperty(e){return function WZ(n){s_||(s_=function $Z(){return typeof document<"u"?document.body:null}()||{},A4=!!s_.style&&"WebkitAppearance"in s_.style);let t=!0;return s_.style&&!function GZ(n){return"ebkit"==n.substring(1,6)}(n)&&(t=n in s_.style,!t&&A4&&(t="Webkit"+n.charAt(0).toUpperCase()+n.slice(1)in s_.style)),t}(e)}matchesElement(e,i){return!1}containsElement(e,i){return I4(e,i)}getParentElement(e){return hL(e)}query(e,i,r){return M4(e,i,r)}computeStyle(e,i,r){return r||""}animate(e,i,r,s,c,p=[],_){return new vT(r,s)}static#e=this.\u0275fac=function(i){return new(i||n)};static#t=this.\u0275prov=a.Yz7({token:n,factory:n.\u0275fac})}return n})(),fL=(()=>{class n{static#e=this.NOOP=new k4}return n})();const YZ=1e3,pL="ng-enter",EO="ng-leave",DO="ng-trigger",TO=".ng-trigger",N4="ng-animating",gL=".ng-animating";function tp(n){if("number"==typeof n)return n;const t=n.match(/^(-?[\.\d]+)(m?s)/);return!t||t.length<2?0:mL(parseFloat(t[1]),t[2])}function mL(n,t){return"s"===t?n*YZ:n}function SO(n,t,e){return n.hasOwnProperty("duration")?n:function ZZ(n,t,e){let r,s=0,c="";if("string"==typeof n){const p=n.match(/^(-?[\.\d]+)(m?s)(?:\s+(-?[\.\d]+)(m?s))?(?:\s+([-a-z]+(?:\(.+?\))?))?$/i);if(null===p)return t.push(D4()),{duration:0,delay:0,easing:""};r=mL(parseFloat(p[1]),p[2]);const _=p[3];null!=_&&(s=mL(parseFloat(_),p[4]));const C=p[5];C&&(c=C)}else r=n;if(!e){let p=!1,_=t.length;r<0&&(t.push(function cZ(){return new a.vHH(3100,!1)}()),p=!0),s<0&&(t.push(function uZ(){return new a.vHH(3101,!1)}()),p=!0),p&&t.splice(_,0,D4())}return{duration:r,delay:s,easing:c}}(n,t,e)}function yT(n,t={}){return Object.keys(n).forEach(e=>{t[e]=n[e]}),t}function P4(n){const t=new Map;return Object.keys(n).forEach(e=>{t.set(e,n[e])}),t}function Em(n,t=new Map,e){if(e)for(let[i,r]of e)t.set(i,r);for(let[i,r]of n)t.set(i,r);return t}function fh(n,t,e){t.forEach((i,r)=>{const s=yL(r);e&&!e.has(r)&&e.set(r,n.style[s]),n.style[s]=i})}function o_(n,t){t.forEach((e,i)=>{const r=yL(i);n.style[r]=""})}function _T(n){return Array.isArray(n)?1==n.length?n[0]:b4(n):n}const vL=new RegExp("{{\\s*(.+?)\\s*}}","g");function F4(n){let t=[];if("string"==typeof n){let e;for(;e=vL.exec(n);)t.push(e[1]);vL.lastIndex=0}return t}function bT(n,t,e){const i=n.toString(),r=i.replace(vL,(s,c)=>{let p=t[c];return null==p&&(e.push(function hZ(n){return new a.vHH(3003,!1)}()),p=""),p.toString()});return r==i?n:r}function AO(n){const t=[];let e=n.next();for(;!e.done;)t.push(e.value),e=n.next();return t}const QZ=/-+([a-z0-9])/g;function yL(n){return n.replace(QZ,(...t)=>t[1].toUpperCase())}function Ul(n,t,e){switch(t.type){case 7:return n.visitTrigger(t,e);case 0:return n.visitState(t,e);case 1:return n.visitTransition(t,e);case 2:return n.visitSequence(t,e);case 3:return n.visitGroup(t,e);case 4:return n.visitAnimate(t,e);case 5:return n.visitKeyframes(t,e);case 6:return n.visitStyle(t,e);case 8:return n.visitReference(t,e);case 9:return n.visitAnimateChild(t,e);case 10:return n.visitAnimateRef(t,e);case 11:return n.visitQuery(t,e);case 12:return n.visitStagger(t,e);default:throw function fZ(n){return new a.vHH(3004,!1)}()}}function L4(n,t){return window.getComputedStyle(n)[t]}const IO="*";function tX(n,t){const e=[];return"string"==typeof n?n.split(/\s*,\s*/).forEach(i=>function nX(n,t,e){if(":"==n[0]){const _=function iX(n,t){switch(n){case":enter":return"void => *";case":leave":return"* => void";case":increment":return(e,i)=>parseFloat(i)>parseFloat(e);case":decrement":return(e,i)=>parseFloat(i)<parseFloat(e);default:return t.push(function SZ(n){return new a.vHH(3016,!1)}()),"* => *"}}(n,e);if("function"==typeof _)return void t.push(_);n=_}const i=n.match(/^(\*|[-\w]+)\s*(<?[=-]>)\s*(\*|[-\w]+)$/);if(null==i||i.length<4)return e.push(function TZ(n){return new a.vHH(3015,!1)}()),t;const r=i[1],s=i[2],c=i[3];t.push(B4(r,c));"<"==s[0]&&!(r==IO&&c==IO)&&t.push(B4(c,r))}(i,e,t)):e.push(n),e}const MO=new Set(["true","1"]),kO=new Set(["false","0"]);function B4(n,t){const e=MO.has(n)||kO.has(n),i=MO.has(t)||kO.has(t);return(r,s)=>{let c=n==IO||n==r,p=t==IO||t==s;return!c&&e&&"boolean"==typeof r&&(c=r?MO.has(n):kO.has(n)),!p&&i&&"boolean"==typeof s&&(p=s?MO.has(t):kO.has(t)),c&&p}}const rX=new RegExp("s*:selfs*,?","g");function _L(n,t,e,i){return new sX(n).build(t,e,i)}class sX{constructor(t){this._driver=t}build(t,e,i){const r=new lX(e);return this._resetContextStyleTimingState(r),Ul(this,_T(t),r)}_resetContextStyleTimingState(t){t.currentQuerySelector="",t.collectedStyles=new Map,t.collectedStyles.set("",new Map),t.currentTime=0}visitTrigger(t,e){let i=e.queryCount=0,r=e.depCount=0;const s=[],c=[];return"@"==t.name.charAt(0)&&e.errors.push(function gZ(){return new a.vHH(3006,!1)}()),t.definitions.forEach(p=>{if(this._resetContextStyleTimingState(e),0==p.type){const _=p,C=_.name;C.toString().split(/\s*,\s*/).forEach(M=>{_.name=M,s.push(this.visitState(_,e))}),_.name=C}else if(1==p.type){const _=this.visitTransition(p,e);i+=_.queryCount,r+=_.depCount,c.push(_)}else e.errors.push(function mZ(){return new a.vHH(3007,!1)}())}),{type:7,name:t.name,states:s,transitions:c,queryCount:i,depCount:r,options:null}}visitState(t,e){const i=this.visitStyle(t.styles,e),r=t.options&&t.options.params||null;if(i.containsDynamicStyles){const s=new Set,c=r||{};i.styles.forEach(p=>{p instanceof Map&&p.forEach(_=>{F4(_).forEach(C=>{c.hasOwnProperty(C)||s.add(C)})})}),s.size&&(AO(s.values()),e.errors.push(function vZ(n,t){return new a.vHH(3008,!1)}()))}return{type:0,name:t.name,style:i,options:r?{params:r}:null}}visitTransition(t,e){e.queryCount=0,e.depCount=0;const i=Ul(this,_T(t.animation),e);return{type:1,matchers:tX(t.expr,e.errors),animation:i,queryCount:e.queryCount,depCount:e.depCount,options:a_(t.options)}}visitSequence(t,e){return{type:2,steps:t.steps.map(i=>Ul(this,i,e)),options:a_(t.options)}}visitGroup(t,e){const i=e.currentTime;let r=0;const s=t.steps.map(c=>{e.currentTime=i;const p=Ul(this,c,e);return r=Math.max(r,e.currentTime),p});return e.currentTime=r,{type:3,steps:s,options:a_(t.options)}}visitAnimate(t,e){const i=function uX(n,t){if(n.hasOwnProperty("duration"))return n;if("number"==typeof n)return bL(SO(n,t).duration,0,"");const e=n;if(e.split(/\s+/).some(s=>"{"==s.charAt(0)&&"{"==s.charAt(1))){const s=bL(0,0,"");return s.dynamic=!0,s.strValue=e,s}const r=SO(e,t);return bL(r.duration,r.delay,r.easing)}(t.timings,e.errors);e.currentAnimateTimings=i;let r,s=t.styles?t.styles:r_({});if(5==s.type)r=this.visitKeyframes(s,e);else{let c=t.styles,p=!1;if(!c){p=!0;const C={};i.easing&&(C.easing=i.easing),c=r_(C)}e.currentTime+=i.duration+i.delay;const _=this.visitStyle(c,e);_.isEmptyStep=p,r=_}return e.currentAnimateTimings=null,{type:4,timings:i,style:r,options:null}}visitStyle(t,e){const i=this._makeStyleAst(t,e);return this._validateStyleAst(i,e),i}_makeStyleAst(t,e){const i=[],r=Array.isArray(t.styles)?t.styles:[t.styles];for(let p of r)"string"==typeof p?p===ep?i.push(p):e.errors.push(new a.vHH(3002,!1)):i.push(P4(p));let s=!1,c=null;return i.forEach(p=>{if(p instanceof Map&&(p.has("easing")&&(c=p.get("easing"),p.delete("easing")),!s))for(let _ of p.values())if(_.toString().indexOf("{{")>=0){s=!0;break}}),{type:6,styles:i,easing:c,offset:t.offset,containsDynamicStyles:s,options:null}}_validateStyleAst(t,e){const i=e.currentAnimateTimings;let r=e.currentTime,s=e.currentTime;i&&s>0&&(s-=i.duration+i.delay),t.styles.forEach(c=>{"string"!=typeof c&&c.forEach((p,_)=>{const C=e.collectedStyles.get(e.currentQuerySelector),M=C.get(_);let V=!0;M&&(s!=r&&s>=M.startTime&&r<=M.endTime&&(e.errors.push(function _Z(n,t,e,i,r){return new a.vHH(3010,!1)}()),V=!1),s=M.startTime),V&&C.set(_,{startTime:s,endTime:r}),e.options&&function KZ(n,t,e){const i=t.params||{},r=F4(n);r.length&&r.forEach(s=>{i.hasOwnProperty(s)||e.push(function dZ(n){return new a.vHH(3001,!1)}())})}(p,e.options,e.errors)})})}visitKeyframes(t,e){const i={type:5,styles:[],options:null};if(!e.currentAnimateTimings)return e.errors.push(function bZ(){return new a.vHH(3011,!1)}()),i;let s=0;const c=[];let p=!1,_=!1,C=0;const M=t.steps.map(Pe=>{const Be=this._makeStyleAst(Pe,e);let Re=null!=Be.offset?Be.offset:function cX(n){if("string"==typeof n)return null;let t=null;if(Array.isArray(n))n.forEach(e=>{if(e instanceof Map&&e.has("offset")){const i=e;t=parseFloat(i.get("offset")),i.delete("offset")}});else if(n instanceof Map&&n.has("offset")){const e=n;t=parseFloat(e.get("offset")),e.delete("offset")}return t}(Be.styles),ze=0;return null!=Re&&(s++,ze=Be.offset=Re),_=_||ze<0||ze>1,p=p||ze<C,C=ze,c.push(ze),Be});_&&e.errors.push(function wZ(){return new a.vHH(3012,!1)}()),p&&e.errors.push(function xZ(){return new a.vHH(3200,!1)}());const V=t.steps.length;let W=0;s>0&&s<V?e.errors.push(function CZ(){return new a.vHH(3202,!1)}()):0==s&&(W=1/(V-1));const K=V-1,oe=e.currentTime,ae=e.currentAnimateTimings,fe=ae.duration;return M.forEach((Pe,Be)=>{const Re=W>0?Be==K?1:W*Be:c[Be],ze=Re*fe;e.currentTime=oe+ae.delay+ze,ae.duration=ze,this._validateStyleAst(Pe,e),Pe.offset=Re,i.styles.push(Pe)}),i}visitReference(t,e){return{type:8,animation:Ul(this,_T(t.animation),e),options:a_(t.options)}}visitAnimateChild(t,e){return e.depCount++,{type:9,options:a_(t.options)}}visitAnimateRef(t,e){return{type:10,animation:this.visitReference(t.animation,e),options:a_(t.options)}}visitQuery(t,e){const i=e.currentQuerySelector,r=t.options||{};e.queryCount++,e.currentQuery=t;const[s,c]=function oX(n){const t=!!n.split(/\s*,\s*/).find(e=>":self"==e);return t&&(n=n.replace(rX,"")),n=n.replace(/@\*/g,TO).replace(/@\w+/g,e=>TO+"-"+e.slice(1)).replace(/:animating/g,gL),[n,t]}(t.selector);e.currentQuerySelector=i.length?i+" "+s:s,Hl(e.collectedStyles,e.currentQuerySelector,new Map);const p=Ul(this,_T(t.animation),e);return e.currentQuery=null,e.currentQuerySelector=i,{type:11,selector:s,limit:r.limit||0,optional:!!r.optional,includeSelf:c,animation:p,originalSelector:t.selector,options:a_(t.options)}}visitStagger(t,e){e.currentQuery||e.errors.push(function EZ(){return new a.vHH(3013,!1)}());const i="full"===t.timings?{duration:0,delay:0,easing:"full"}:SO(t.timings,e.errors,!0);return{type:12,animation:Ul(this,_T(t.animation),e),timings:i,options:null}}}class lX{constructor(t){this.errors=t,this.queryCount=0,this.depCount=0,this.currentTransition=null,this.currentQuery=null,this.currentQuerySelector=null,this.currentAnimateTimings=null,this.currentTime=0,this.collectedStyles=new Map,this.options=null,this.unsupportedCSSPropertiesFound=new Set}}function a_(n){return n?(n=yT(n)).params&&(n.params=function aX(n){return n?yT(n):null}(n.params)):n={},n}function bL(n,t,e){return{duration:n,delay:t,easing:e}}function wL(n,t,e,i,r,s,c=null,p=!1){return{type:1,element:n,keyframes:t,preStyleProps:e,postStyleProps:i,duration:r,delay:s,totalTime:r+s,easing:c,subTimeline:p}}class OO{constructor(){this._map=new Map}get(t){return this._map.get(t)||[]}append(t,e){let i=this._map.get(t);i||this._map.set(t,i=[]),i.push(...e)}has(t){return this._map.has(t)}clear(){this._map.clear()}}const fX=new RegExp(":enter","g"),gX=new RegExp(":leave","g");function xL(n,t,e,i,r,s=new Map,c=new Map,p,_,C=[]){return(new mX).buildKeyframes(n,t,e,i,r,s,c,p,_,C)}class mX{buildKeyframes(t,e,i,r,s,c,p,_,C,M=[]){C=C||new OO;const V=new CL(t,e,C,r,s,M,[]);V.options=_;const W=_.delay?tp(_.delay):0;V.currentTimeline.delayNextStep(W),V.currentTimeline.setStyles([c],null,V.errors,_),Ul(this,i,V);const K=V.timelines.filter(oe=>oe.containsAnimation());if(K.length&&p.size){let oe;for(let ae=K.length-1;ae>=0;ae--){const fe=K[ae];if(fe.element===e){oe=fe;break}}oe&&!oe.allowOnlyTimelineStyles()&&oe.setStyles([p],null,V.errors,_)}return K.length?K.map(oe=>oe.buildKeyframes()):[wL(e,[],[],[],0,W,"",!1)]}visitTrigger(t,e){}visitState(t,e){}visitTransition(t,e){}visitAnimateChild(t,e){const i=e.subInstructions.get(e.element);if(i){const r=e.createSubContext(t.options),s=e.currentTimeline.currentTime,c=this._visitSubInstructions(i,r,r.options);s!=c&&e.transformIntoNewTimeline(c)}e.previousNode=t}visitAnimateRef(t,e){const i=e.createSubContext(t.options);i.transformIntoNewTimeline(),this._applyAnimationRefDelays([t.options,t.animation.options],e,i),this.visitReference(t.animation,i),e.transformIntoNewTimeline(i.currentTimeline.currentTime),e.previousNode=t}_applyAnimationRefDelays(t,e,i){for(const r of t){const s=r?.delay;if(s){const c="number"==typeof s?s:tp(bT(s,r?.params??{},e.errors));i.delayNextStep(c)}}}_visitSubInstructions(t,e,i){let s=e.currentTimeline.currentTime;const c=null!=i.duration?tp(i.duration):null,p=null!=i.delay?tp(i.delay):null;return 0!==c&&t.forEach(_=>{const C=e.appendInstructionToTimeline(_,c,p);s=Math.max(s,C.duration+C.delay)}),s}visitReference(t,e){e.updateOptions(t.options,!0),Ul(this,t.animation,e),e.previousNode=t}visitSequence(t,e){const i=e.subContextCount;let r=e;const s=t.options;if(s&&(s.params||s.delay)&&(r=e.createSubContext(s),r.transformIntoNewTimeline(),null!=s.delay)){6==r.previousNode.type&&(r.currentTimeline.snapshotCurrentStyles(),r.previousNode=NO);const c=tp(s.delay);r.delayNextStep(c)}t.steps.length&&(t.steps.forEach(c=>Ul(this,c,r)),r.currentTimeline.applyStylesToKeyframe(),r.subContextCount>i&&r.transformIntoNewTimeline()),e.previousNode=t}visitGroup(t,e){const i=[];let r=e.currentTimeline.currentTime;const s=t.options&&t.options.delay?tp(t.options.delay):0;t.steps.forEach(c=>{const p=e.createSubContext(t.options);s&&p.delayNextStep(s),Ul(this,c,p),r=Math.max(r,p.currentTimeline.currentTime),i.push(p.currentTimeline)}),i.forEach(c=>e.currentTimeline.mergeTimelineCollectedStyles(c)),e.transformIntoNewTimeline(r),e.previousNode=t}_visitTiming(t,e){if(t.dynamic){const i=t.strValue;return SO(e.params?bT(i,e.params,e.errors):i,e.errors)}return{duration:t.duration,delay:t.delay,easing:t.easing}}visitAnimate(t,e){const i=e.currentAnimateTimings=this._visitTiming(t.timings,e),r=e.currentTimeline;i.delay&&(e.incrementTime(i.delay),r.snapshotCurrentStyles());const s=t.style;5==s.type?this.visitKeyframes(s,e):(e.incrementTime(i.duration),this.visitStyle(s,e),r.applyStylesToKeyframe()),e.currentAnimateTimings=null,e.previousNode=t}visitStyle(t,e){const i=e.currentTimeline,r=e.currentAnimateTimings;!r&&i.hasCurrentStyleProperties()&&i.forwardFrame();const s=r&&r.easing||t.easing;t.isEmptyStep?i.applyEmptyStep(s):i.setStyles(t.styles,s,e.errors,e.options),e.previousNode=t}visitKeyframes(t,e){const i=e.currentAnimateTimings,r=e.currentTimeline.duration,s=i.duration,p=e.createSubContext().currentTimeline;p.easing=i.easing,t.styles.forEach(_=>{p.forwardTime((_.offset||0)*s),p.setStyles(_.styles,_.easing,e.errors,e.options),p.applyStylesToKeyframe()}),e.currentTimeline.mergeTimelineCollectedStyles(p),e.transformIntoNewTimeline(r+s),e.previousNode=t}visitQuery(t,e){const i=e.currentTimeline.currentTime,r=t.options||{},s=r.delay?tp(r.delay):0;s&&(6===e.previousNode.type||0==i&&e.currentTimeline.hasCurrentStyleProperties())&&(e.currentTimeline.snapshotCurrentStyles(),e.previousNode=NO);let c=i;const p=e.invokeQuery(t.selector,t.originalSelector,t.limit,t.includeSelf,!!r.optional,e.errors);e.currentQueryTotal=p.length;let _=null;p.forEach((C,M)=>{e.currentQueryIndex=M;const V=e.createSubContext(t.options,C);s&&V.delayNextStep(s),C===e.element&&(_=V.currentTimeline),Ul(this,t.animation,V),V.currentTimeline.applyStylesToKeyframe(),c=Math.max(c,V.currentTimeline.currentTime)}),e.currentQueryIndex=0,e.currentQueryTotal=0,e.transformIntoNewTimeline(c),_&&(e.currentTimeline.mergeTimelineCollectedStyles(_),e.currentTimeline.snapshotCurrentStyles()),e.previousNode=t}visitStagger(t,e){const i=e.parentContext,r=e.currentTimeline,s=t.timings,c=Math.abs(s.duration),p=c*(e.currentQueryTotal-1);let _=c*e.currentQueryIndex;switch(s.duration<0?"reverse":s.easing){case"reverse":_=p-_;break;case"full":_=i.currentStaggerTime}const M=e.currentTimeline;_&&M.delayNextStep(_);const V=M.currentTime;Ul(this,t.animation,e),e.previousNode=t,i.currentStaggerTime=r.currentTime-V+(r.startTime-i.currentTimeline.startTime)}}const NO={};class CL{constructor(t,e,i,r,s,c,p,_){this._driver=t,this.element=e,this.subInstructions=i,this._enterClassName=r,this._leaveClassName=s,this.errors=c,this.timelines=p,this.parentContext=null,this.currentAnimateTimings=null,this.previousNode=NO,this.subContextCount=0,this.options={},this.currentQueryIndex=0,this.currentQueryTotal=0,this.currentStaggerTime=0,this.currentTimeline=_||new PO(this._driver,e,0),p.push(this.currentTimeline)}get params(){return this.options.params}updateOptions(t,e){if(!t)return;const i=t;let r=this.options;null!=i.duration&&(r.duration=tp(i.duration)),null!=i.delay&&(r.delay=tp(i.delay));const s=i.params;if(s){let c=r.params;c||(c=this.options.params={}),Object.keys(s).forEach(p=>{(!e||!c.hasOwnProperty(p))&&(c[p]=bT(s[p],c,this.errors))})}}_copyOptions(){const t={};if(this.options){const e=this.options.params;if(e){const i=t.params={};Object.keys(e).forEach(r=>{i[r]=e[r]})}}return t}createSubContext(t=null,e,i){const r=e||this.element,s=new CL(this._driver,r,this.subInstructions,this._enterClassName,this._leaveClassName,this.errors,this.timelines,this.currentTimeline.fork(r,i||0));return s.previousNode=this.previousNode,s.currentAnimateTimings=this.currentAnimateTimings,s.options=this._copyOptions(),s.updateOptions(t),s.currentQueryIndex=this.currentQueryIndex,s.currentQueryTotal=this.currentQueryTotal,s.parentContext=this,this.subContextCount++,s}transformIntoNewTimeline(t){return this.previousNode=NO,this.currentTimeline=this.currentTimeline.fork(this.element,t),this.timelines.push(this.currentTimeline),this.currentTimeline}appendInstructionToTimeline(t,e,i){const r={duration:e??t.duration,delay:this.currentTimeline.currentTime+(i??0)+t.delay,easing:""},s=new vX(this._driver,t.element,t.keyframes,t.preStyleProps,t.postStyleProps,r,t.stretchStartingKeyframe);return this.timelines.push(s),r}incrementTime(t){this.currentTimeline.forwardTime(this.currentTimeline.duration+t)}delayNextStep(t){t>0&&this.currentTimeline.delayNextStep(t)}invokeQuery(t,e,i,r,s,c){let p=[];if(r&&p.push(this.element),t.length>0){t=(t=t.replace(fX,"."+this._enterClassName)).replace(gX,"."+this._leaveClassName);let C=this._driver.query(this.element,t,1!=i);0!==i&&(C=i<0?C.slice(C.length+i,C.length):C.slice(0,i)),p.push(...C)}return!s&&0==p.length&&c.push(function DZ(n){return new a.vHH(3014,!1)}()),p}}class PO{constructor(t,e,i,r){this._driver=t,this.element=e,this.startTime=i,this._elementTimelineStylesLookup=r,this.duration=0,this.easing=null,this._previousKeyframe=new Map,this._currentKeyframe=new Map,this._keyframes=new Map,this._styleSummary=new Map,this._localTimelineStyles=new Map,this._pendingStyles=new Map,this._backFill=new Map,this._currentEmptyStepKeyframe=null,this._elementTimelineStylesLookup||(this._elementTimelineStylesLookup=new Map),this._globalTimelineStyles=this._elementTimelineStylesLookup.get(e),this._globalTimelineStyles||(this._globalTimelineStyles=this._localTimelineStyles,this._elementTimelineStylesLookup.set(e,this._localTimelineStyles)),this._loadKeyframe()}containsAnimation(){switch(this._keyframes.size){case 0:return!1;case 1:return this.hasCurrentStyleProperties();default:return!0}}hasCurrentStyleProperties(){return this._currentKeyframe.size>0}get currentTime(){return this.startTime+this.duration}delayNextStep(t){const e=1===this._keyframes.size&&this._pendingStyles.size;this.duration||e?(this.forwardTime(this.currentTime+t),e&&this.snapshotCurrentStyles()):this.startTime+=t}fork(t,e){return this.applyStylesToKeyframe(),new PO(this._driver,t,e||this.currentTime,this._elementTimelineStylesLookup)}_loadKeyframe(){this._currentKeyframe&&(this._previousKeyframe=this._currentKeyframe),this._currentKeyframe=this._keyframes.get(this.duration),this._currentKeyframe||(this._currentKeyframe=new Map,this._keyframes.set(this.duration,this._currentKeyframe))}forwardFrame(){this.duration+=1,this._loadKeyframe()}forwardTime(t){this.applyStylesToKeyframe(),this.duration=t,this._loadKeyframe()}_updateStyle(t,e){this._localTimelineStyles.set(t,e),this._globalTimelineStyles.set(t,e),this._styleSummary.set(t,{time:this.currentTime,value:e})}allowOnlyTimelineStyles(){return this._currentEmptyStepKeyframe!==this._currentKeyframe}applyEmptyStep(t){t&&this._previousKeyframe.set("easing",t);for(let[e,i]of this._globalTimelineStyles)this._backFill.set(e,i||ep),this._currentKeyframe.set(e,ep);this._currentEmptyStepKeyframe=this._currentKeyframe}setStyles(t,e,i,r){e&&this._previousKeyframe.set("easing",e);const s=r&&r.params||{},c=function yX(n,t){const e=new Map;let i;return n.forEach(r=>{if("*"===r){i=i||t.keys();for(let s of i)e.set(s,ep)}else Em(r,e)}),e}(t,this._globalTimelineStyles);for(let[p,_]of c){const C=bT(_,s,i);this._pendingStyles.set(p,C),this._localTimelineStyles.has(p)||this._backFill.set(p,this._globalTimelineStyles.get(p)??ep),this._updateStyle(p,C)}}applyStylesToKeyframe(){0!=this._pendingStyles.size&&(this._pendingStyles.forEach((t,e)=>{this._currentKeyframe.set(e,t)}),this._pendingStyles.clear(),this._localTimelineStyles.forEach((t,e)=>{this._currentKeyframe.has(e)||this._currentKeyframe.set(e,t)}))}snapshotCurrentStyles(){for(let[t,e]of this._localTimelineStyles)this._pendingStyles.set(t,e),this._updateStyle(t,e)}getFinalKeyframe(){return this._keyframes.get(this.duration)}get properties(){const t=[];for(let e in this._currentKeyframe)t.push(e);return t}mergeTimelineCollectedStyles(t){t._styleSummary.forEach((e,i)=>{const r=this._styleSummary.get(i);(!r||e.time>r.time)&&this._updateStyle(i,e.value)})}buildKeyframes(){this.applyStylesToKeyframe();const t=new Set,e=new Set,i=1===this._keyframes.size&&0===this.duration;let r=[];this._keyframes.forEach((p,_)=>{const C=Em(p,new Map,this._backFill);C.forEach((M,V)=>{"!"===M?t.add(V):M===ep&&e.add(V)}),i||C.set("offset",_/this.duration),r.push(C)});const s=t.size?AO(t.values()):[],c=e.size?AO(e.values()):[];if(i){const p=r[0],_=new Map(p);p.set("offset",0),_.set("offset",1),r=[p,_]}return wL(this.element,r,s,c,this.duration,this.startTime,this.easing,!1)}}class vX extends PO{constructor(t,e,i,r,s,c,p=!1){super(t,e,c.delay),this.keyframes=i,this.preStyleProps=r,this.postStyleProps=s,this._stretchStartingKeyframe=p,this.timings={duration:c.duration,delay:c.delay,easing:c.easing}}containsAnimation(){return this.keyframes.length>1}buildKeyframes(){let t=this.keyframes,{delay:e,duration:i,easing:r}=this.timings;if(this._stretchStartingKeyframe&&e){const s=[],c=i+e,p=e/c,_=Em(t[0]);_.set("offset",0),s.push(_);const C=Em(t[0]);C.set("offset",U4(p)),s.push(C);const M=t.length-1;for(let V=1;V<=M;V++){let W=Em(t[V]);const K=W.get("offset");W.set("offset",U4((e+K*i)/c)),s.push(W)}i=c,e=0,r="",t=s}return wL(this.element,t,this.preStyleProps,this.postStyleProps,i,e,r,!0)}}function U4(n,t=3){const e=Math.pow(10,t-1);return Math.round(n*e)/e}class EL{}const _X=new Set(["width","height","minWidth","minHeight","maxWidth","maxHeight","left","top","bottom","right","fontSize","outlineWidth","outlineOffset","paddingTop","paddingLeft","paddingBottom","paddingRight","marginTop","marginLeft","marginBottom","marginRight","borderRadius","borderWidth","borderTopWidth","borderLeftWidth","borderRightWidth","borderBottomWidth","textIndent","perspective"]);class bX extends EL{normalizePropertyName(t,e){return yL(t)}normalizeStyleValue(t,e,i,r){let s="";const c=i.toString().trim();if(_X.has(e)&&0!==i&&"0"!==i)if("number"==typeof i)s="px";else{const p=i.match(/^[+-]?[\d\.]+([a-z]*)$/);p&&0==p[1].length&&r.push(function pZ(n,t){return new a.vHH(3005,!1)}())}return c+s}}function z4(n,t,e,i,r,s,c,p,_,C,M,V,W){return{type:0,element:n,triggerName:t,isRemovalTransition:r,fromState:e,fromStyles:s,toState:i,toStyles:c,timelines:p,queriedElements:_,preStyleProps:C,postStyleProps:M,totalTime:V,errors:W}}const DL={};class j4{constructor(t,e,i){this._triggerName=t,this.ast=e,this._stateStyles=i}match(t,e,i,r){return function wX(n,t,e,i,r){return n.some(s=>s(t,e,i,r))}(this.ast.matchers,t,e,i,r)}buildStyles(t,e,i){let r=this._stateStyles.get("*");return void 0!==t&&(r=this._stateStyles.get(t?.toString())||r),r?r.buildStyles(e,i):new Map}build(t,e,i,r,s,c,p,_,C,M){const V=[],W=this.ast.options&&this.ast.options.params||DL,oe=this.buildStyles(i,p&&p.params||DL,V),ae=_&&_.params||DL,fe=this.buildStyles(r,ae,V),Pe=new Set,Be=new Map,Re=new Map,ze="void"===r,ut={params:xX(ae,W),delay:this.ast.options?.delay},bt=M?[]:xL(t,e,this.ast.animation,s,c,oe,fe,ut,C,V);let jt=0;if(bt.forEach(Jt=>{jt=Math.max(Jt.duration+Jt.delay,jt)}),V.length)return z4(e,this._triggerName,i,r,ze,oe,fe,[],[],Be,Re,jt,V);bt.forEach(Jt=>{const ln=Jt.element,zt=Hl(Be,ln,new Set);Jt.preStyleProps.forEach(Rn=>zt.add(Rn));const Ht=Hl(Re,ln,new Set);Jt.postStyleProps.forEach(Rn=>Ht.add(Rn)),ln!==e&&Pe.add(ln)});const Vt=AO(Pe.values());return z4(e,this._triggerName,i,r,ze,oe,fe,bt,Vt,Be,Re,jt)}}function xX(n,t){const e=yT(t);for(const i in n)n.hasOwnProperty(i)&&null!=n[i]&&(e[i]=n[i]);return e}class CX{constructor(t,e,i){this.styles=t,this.defaultParams=e,this.normalizer=i}buildStyles(t,e){const i=new Map,r=yT(this.defaultParams);return Object.keys(t).forEach(s=>{const c=t[s];null!==c&&(r[s]=c)}),this.styles.styles.forEach(s=>{"string"!=typeof s&&s.forEach((c,p)=>{c&&(c=bT(c,r,e));const _=this.normalizer.normalizePropertyName(p,e);c=this.normalizer.normalizeStyleValue(p,_,c,e),i.set(p,c)})}),i}}class DX{constructor(t,e,i){this.name=t,this.ast=e,this._normalizer=i,this.transitionFactories=[],this.states=new Map,e.states.forEach(r=>{this.states.set(r.name,new CX(r.style,r.options&&r.options.params||{},i))}),G4(this.states,"true","1"),G4(this.states,"false","0"),e.transitions.forEach(r=>{this.transitionFactories.push(new j4(t,r,this.states))}),this.fallbackTransition=function TX(n,t,e){return new j4(n,{type:1,animation:{type:2,steps:[],options:null},matchers:[(c,p)=>!0],options:null,queryCount:0,depCount:0},t)}(t,this.states)}get containsQueries(){return this.ast.queryCount>0}matchTransition(t,e,i,r){return this.transitionFactories.find(c=>c.match(t,e,i,r))||null}matchStyles(t,e,i){return this.fallbackTransition.buildStyles(t,e,i)}}function G4(n,t,e){n.has(t)?n.has(e)||n.set(e,n.get(t)):n.has(e)&&n.set(t,n.get(e))}const SX=new OO;class AX{constructor(t,e,i){this.bodyNode=t,this._driver=e,this._normalizer=i,this._animations=new Map,this._playersById=new Map,this.players=[]}register(t,e){const i=[],s=_L(this._driver,e,i,[]);if(i.length)throw function OZ(n){return new a.vHH(3503,!1)}();this._animations.set(t,s)}_buildPlayer(t,e,i){const r=t.element,s=T4(this._normalizer,t.keyframes,e,i);return this._driver.animate(r,s,t.duration,t.delay,t.easing,[],!0)}create(t,e,i={}){const r=[],s=this._animations.get(t);let c;const p=new Map;if(s?(c=xL(this._driver,e,s,pL,EO,new Map,new Map,i,SX,r),c.forEach(M=>{const V=Hl(p,M.element,new Map);M.postStyleProps.forEach(W=>V.set(W,null))})):(r.push(function NZ(){return new a.vHH(3300,!1)}()),c=[]),r.length)throw function PZ(n){return new a.vHH(3504,!1)}();p.forEach((M,V)=>{M.forEach((W,K)=>{M.set(K,this._driver.computeStyle(V,K,ep))})});const C=Cm(c.map(M=>{const V=p.get(M.element);return this._buildPlayer(M,new Map,V)}));return this._playersById.set(t,C),C.onDestroy(()=>this.destroy(t)),this.players.push(C),C}destroy(t){const e=this._getPlayer(t);e.destroy(),this._playersById.delete(t);const i=this.players.indexOf(e);i>=0&&this.players.splice(i,1)}_getPlayer(t){const e=this._playersById.get(t);if(!e)throw function RZ(n){return new a.vHH(3301,!1)}();return e}listen(t,e,i,r){const s=dL(e,"","","");return cL(this._getPlayer(t),i,s,r),()=>{}}command(t,e,i,r){if("register"==i)return void this.register(t,r[0]);if("create"==i)return void this.create(t,e,r[0]||{});const s=this._getPlayer(t);switch(i){case"play":s.play();break;case"pause":s.pause();break;case"reset":s.reset();break;case"restart":s.restart();break;case"finish":s.finish();break;case"init":s.init();break;case"setPosition":s.setPosition(parseFloat(r[0]));break;case"destroy":this.destroy(t)}}}const W4="ng-animate-queued",TL="ng-animate-disabled",NX=[],$4={namespaceId:"",setForRemoval:!1,setForMove:!1,hasAnimation:!1,removedBeforeQueried:!1},PX={namespaceId:"",setForMove:!1,setForRemoval:!1,hasAnimation:!1,removedBeforeQueried:!0},Vu="__ng_removed";class SL{get params(){return this.options.params}constructor(t,e=""){this.namespaceId=e;const i=t&&t.hasOwnProperty("value");if(this.value=function BX(n){return n??null}(i?t.value:t),i){const s=yT(t);delete s.value,this.options=s}else this.options={};this.options.params||(this.options.params={})}absorbOptions(t){const e=t.params;if(e){const i=this.options.params;Object.keys(e).forEach(r=>{null==i[r]&&(i[r]=e[r])})}}}const wT="void",AL=new SL(wT);class RX{constructor(t,e,i){this.id=t,this.hostElement=e,this._engine=i,this.players=[],this._triggers=new Map,this._queue=[],this._elementListeners=new Map,this._hostClassName="ng-tns-"+t,Pc(e,this._hostClassName)}listen(t,e,i,r){if(!this._triggers.has(e))throw function FZ(n,t){return new a.vHH(3302,!1)}();if(null==i||0==i.length)throw function LZ(n){return new a.vHH(3303,!1)}();if(!function VX(n){return"start"==n||"done"==n}(i))throw function BZ(n,t){return new a.vHH(3400,!1)}();const s=Hl(this._elementListeners,t,[]),c={name:e,phase:i,callback:r};s.push(c);const p=Hl(this._engine.statesByElement,t,new Map);return p.has(e)||(Pc(t,DO),Pc(t,DO+"-"+e),p.set(e,AL)),()=>{this._engine.afterFlush(()=>{const _=s.indexOf(c);_>=0&&s.splice(_,1),this._triggers.has(e)||p.delete(e)})}}register(t,e){return!this._triggers.has(t)&&(this._triggers.set(t,e),!0)}_getTrigger(t){const e=this._triggers.get(t);if(!e)throw function VZ(n){return new a.vHH(3401,!1)}();return e}trigger(t,e,i,r=!0){const s=this._getTrigger(e),c=new IL(this.id,e,t);let p=this._engine.statesByElement.get(t);p||(Pc(t,DO),Pc(t,DO+"-"+e),this._engine.statesByElement.set(t,p=new Map));let _=p.get(e);const C=new SL(i,this.id);if(!(i&&i.hasOwnProperty("value"))&&_&&C.absorbOptions(_.options),p.set(e,C),_||(_=AL),C.value!==wT&&_.value===C.value){if(!function zX(n,t){const e=Object.keys(n),i=Object.keys(t);if(e.length!=i.length)return!1;for(let r=0;r<e.length;r++){const s=e[r];if(!t.hasOwnProperty(s)||n[s]!==t[s])return!1}return!0}(_.params,C.params)){const ae=[],fe=s.matchStyles(_.value,_.params,ae),Pe=s.matchStyles(C.value,C.params,ae);ae.length?this._engine.reportError(ae):this._engine.afterFlush(()=>{o_(t,fe),fh(t,Pe)})}return}const W=Hl(this._engine.playersByElement,t,[]);W.forEach(ae=>{ae.namespaceId==this.id&&ae.triggerName==e&&ae.queued&&ae.destroy()});let K=s.matchTransition(_.value,C.value,t,C.params),oe=!1;if(!K){if(!r)return;K=s.fallbackTransition,oe=!0}return this._engine.totalQueuedPlayers++,this._queue.push({element:t,triggerName:e,transition:K,fromState:_,toState:C,player:c,isFallbackTransition:oe}),oe||(Pc(t,W4),c.onStart(()=>{qw(t,W4)})),c.onDone(()=>{let ae=this.players.indexOf(c);ae>=0&&this.players.splice(ae,1);const fe=this._engine.playersByElement.get(t);if(fe){let Pe=fe.indexOf(c);Pe>=0&&fe.splice(Pe,1)}}),this.players.push(c),W.push(c),c}deregister(t){this._triggers.delete(t),this._engine.statesByElement.forEach(e=>e.delete(t)),this._elementListeners.forEach((e,i)=>{this._elementListeners.set(i,e.filter(r=>r.name!=t))})}clearElementCache(t){this._engine.statesByElement.delete(t),this._elementListeners.delete(t);const e=this._engine.playersByElement.get(t);e&&(e.forEach(i=>i.destroy()),this._engine.playersByElement.delete(t))}_signalRemovalForInnerTriggers(t,e){const i=this._engine.driver.query(t,TO,!0);i.forEach(r=>{if(r[Vu])return;const s=this._engine.fetchNamespacesByElement(r);s.size?s.forEach(c=>c.triggerLeaveAnimation(r,e,!1,!0)):this.clearElementCache(r)}),this._engine.afterFlushAnimationsDone(()=>i.forEach(r=>this.clearElementCache(r)))}triggerLeaveAnimation(t,e,i,r){const s=this._engine.statesByElement.get(t),c=new Map;if(s){const p=[];if(s.forEach((_,C)=>{if(c.set(C,_.value),this._triggers.has(C)){const M=this.trigger(t,C,wT,r);M&&p.push(M)}}),p.length)return this._engine.markElementAsRemoved(this.id,t,!0,e,c),i&&Cm(p).onDone(()=>this._engine.processLeaveNode(t)),!0}return!1}prepareLeaveAnimationListeners(t){const e=this._elementListeners.get(t),i=this._engine.statesByElement.get(t);if(e&&i){const r=new Set;e.forEach(s=>{const c=s.name;if(r.has(c))return;r.add(c);const _=this._triggers.get(c).fallbackTransition,C=i.get(c)||AL,M=new SL(wT),V=new IL(this.id,c,t);this._engine.totalQueuedPlayers++,this._queue.push({element:t,triggerName:c,transition:_,fromState:C,toState:M,player:V,isFallbackTransition:!0})})}}removeNode(t,e){const i=this._engine;if(t.childElementCount&&this._signalRemovalForInnerTriggers(t,e),this.triggerLeaveAnimation(t,e,!0))return;let r=!1;if(i.totalAnimations){const s=i.players.length?i.playersByQueriedElement.get(t):[];if(s&&s.length)r=!0;else{let c=t;for(;c=c.parentNode;)if(i.statesByElement.get(c)){r=!0;break}}}if(this.prepareLeaveAnimationListeners(t),r)i.markElementAsRemoved(this.id,t,!1,e);else{const s=t[Vu];(!s||s===$4)&&(i.afterFlush(()=>this.clearElementCache(t)),i.destroyInnerAnimations(t),i._onRemovalComplete(t,e))}}insertNode(t,e){Pc(t,this._hostClassName)}drainQueuedTransitions(t){const e=[];return this._queue.forEach(i=>{const r=i.player;if(r.destroyed)return;const s=i.element,c=this._elementListeners.get(s);c&&c.forEach(p=>{if(p.name==i.triggerName){const _=dL(s,i.triggerName,i.fromState.value,i.toState.value);_._data=t,cL(i.player,p.phase,_,p.callback)}}),r.markedForDestroy?this._engine.afterFlush(()=>{r.destroy()}):e.push(i)}),this._queue=[],e.sort((i,r)=>{const s=i.transition.ast.depCount,c=r.transition.ast.depCount;return 0==s||0==c?s-c:this._engine.driver.containsElement(i.element,r.element)?1:-1})}destroy(t){this.players.forEach(e=>e.destroy()),this._signalRemovalForInnerTriggers(this.hostElement,t)}}class FX{_onRemovalComplete(t,e){this.onRemovalComplete(t,e)}constructor(t,e,i){this.bodyNode=t,this.driver=e,this._normalizer=i,this.players=[],this.newHostElements=new Map,this.playersByElement=new Map,this.playersByQueriedElement=new Map,this.statesByElement=new Map,this.disabledNodes=new Set,this.totalAnimations=0,this.totalQueuedPlayers=0,this._namespaceLookup={},this._namespaceList=[],this._flushFns=[],this._whenQuietFns=[],this.namespacesByHostElement=new Map,this.collectedEnterElements=[],this.collectedLeaveElements=[],this.onRemovalComplete=(r,s)=>{}}get queuedPlayers(){const t=[];return this._namespaceList.forEach(e=>{e.players.forEach(i=>{i.queued&&t.push(i)})}),t}createNamespace(t,e){const i=new RX(t,e,this);return this.bodyNode&&this.driver.containsElement(this.bodyNode,e)?this._balanceNamespaceList(i,e):(this.newHostElements.set(e,i),this.collectEnterElement(e)),this._namespaceLookup[t]=i}_balanceNamespaceList(t,e){const i=this._namespaceList,r=this.namespacesByHostElement;if(i.length-1>=0){let c=!1,p=this.driver.getParentElement(e);for(;p;){const _=r.get(p);if(_){const C=i.indexOf(_);i.splice(C+1,0,t),c=!0;break}p=this.driver.getParentElement(p)}c||i.unshift(t)}else i.push(t);return r.set(e,t),t}register(t,e){let i=this._namespaceLookup[t];return i||(i=this.createNamespace(t,e)),i}registerTrigger(t,e,i){let r=this._namespaceLookup[t];r&&r.register(e,i)&&this.totalAnimations++}destroy(t,e){t&&(this.afterFlush(()=>{}),this.afterFlushAnimationsDone(()=>{const i=this._fetchNamespace(t);this.namespacesByHostElement.delete(i.hostElement);const r=this._namespaceList.indexOf(i);r>=0&&this._namespaceList.splice(r,1),i.destroy(e),delete this._namespaceLookup[t]}))}_fetchNamespace(t){return this._namespaceLookup[t]}fetchNamespacesByElement(t){const e=new Set,i=this.statesByElement.get(t);if(i)for(let r of i.values())if(r.namespaceId){const s=this._fetchNamespace(r.namespaceId);s&&e.add(s)}return e}trigger(t,e,i,r){if(RO(e)){const s=this._fetchNamespace(t);if(s)return s.trigger(e,i,r),!0}return!1}insertNode(t,e,i,r){if(!RO(e))return;const s=e[Vu];if(s&&s.setForRemoval){s.setForRemoval=!1,s.setForMove=!0;const c=this.collectedLeaveElements.indexOf(e);c>=0&&this.collectedLeaveElements.splice(c,1)}if(t){const c=this._fetchNamespace(t);c&&c.insertNode(e,i)}r&&this.collectEnterElement(e)}collectEnterElement(t){this.collectedEnterElements.push(t)}markElementAsDisabled(t,e){e?this.disabledNodes.has(t)||(this.disabledNodes.add(t),Pc(t,TL)):this.disabledNodes.has(t)&&(this.disabledNodes.delete(t),qw(t,TL))}removeNode(t,e,i){if(RO(e)){const r=t?this._fetchNamespace(t):null;r?r.removeNode(e,i):this.markElementAsRemoved(t,e,!1,i);const s=this.namespacesByHostElement.get(e);s&&s.id!==t&&s.removeNode(e,i)}else this._onRemovalComplete(e,i)}markElementAsRemoved(t,e,i,r,s){this.collectedLeaveElements.push(e),e[Vu]={namespaceId:t,setForRemoval:r,hasAnimation:i,removedBeforeQueried:!1,previousTriggersValues:s}}listen(t,e,i,r,s){return RO(e)?this._fetchNamespace(t).listen(e,i,r,s):()=>{}}_buildInstruction(t,e,i,r,s){return t.transition.build(this.driver,t.element,t.fromState.value,t.toState.value,i,r,t.fromState.options,t.toState.options,e,s)}destroyInnerAnimations(t){let e=this.driver.query(t,TO,!0);e.forEach(i=>this.destroyActiveAnimationsForElement(i)),0!=this.playersByQueriedElement.size&&(e=this.driver.query(t,gL,!0),e.forEach(i=>this.finishActiveQueriedAnimationOnElement(i)))}destroyActiveAnimationsForElement(t){const e=this.playersByElement.get(t);e&&e.forEach(i=>{i.queued?i.markedForDestroy=!0:i.destroy()})}finishActiveQueriedAnimationOnElement(t){const e=this.playersByQueriedElement.get(t);e&&e.forEach(i=>i.finish())}whenRenderingDone(){return new Promise(t=>{if(this.players.length)return Cm(this.players).onDone(()=>t());t()})}processLeaveNode(t){const e=t[Vu];if(e&&e.setForRemoval){if(t[Vu]=$4,e.namespaceId){this.destroyInnerAnimations(t);const i=this._fetchNamespace(e.namespaceId);i&&i.clearElementCache(t)}this._onRemovalComplete(t,e.setForRemoval)}t.classList?.contains(TL)&&this.markElementAsDisabled(t,!1),this.driver.query(t,".ng-animate-disabled",!0).forEach(i=>{this.markElementAsDisabled(i,!1)})}flush(t=-1){let e=[];if(this.newHostElements.size&&(this.newHostElements.forEach((i,r)=>this._balanceNamespaceList(i,r)),this.newHostElements.clear()),this.totalAnimations&&this.collectedEnterElements.length)for(let i=0;i<this.collectedEnterElements.length;i++)Pc(this.collectedEnterElements[i],"ng-star-inserted");if(this._namespaceList.length&&(this.totalQueuedPlayers||this.collectedLeaveElements.length)){const i=[];try{e=this._flushAnimations(i,t)}finally{for(let r=0;r<i.length;r++)i[r]()}}else for(let i=0;i<this.collectedLeaveElements.length;i++)this.processLeaveNode(this.collectedLeaveElements[i]);if(this.totalQueuedPlayers=0,this.collectedEnterElements.length=0,this.collectedLeaveElements.length=0,this._flushFns.forEach(i=>i()),this._flushFns=[],this._whenQuietFns.length){const i=this._whenQuietFns;this._whenQuietFns=[],e.length?Cm(e).onDone(()=>{i.forEach(r=>r())}):i.forEach(r=>r())}}reportError(t){throw function HZ(n){return new a.vHH(3402,!1)}()}_flushAnimations(t,e){const i=new OO,r=[],s=new Map,c=[],p=new Map,_=new Map,C=new Map,M=new Set;this.disabledNodes.forEach(Xt=>{M.add(Xt);const un=this.driver.query(Xt,".ng-animate-queued",!0);for(let Cn=0;Cn<un.length;Cn++)M.add(un[Cn])});const V=this.bodyNode,W=Array.from(this.statesByElement.keys()),K=Z4(W,this.collectedEnterElements),oe=new Map;let ae=0;K.forEach((Xt,un)=>{const Cn=pL+ae++;oe.set(un,Cn),Xt.forEach(En=>Pc(En,Cn))});const fe=[],Pe=new Set,Be=new Set;for(let Xt=0;Xt<this.collectedLeaveElements.length;Xt++){const un=this.collectedLeaveElements[Xt],Cn=un[Vu];Cn&&Cn.setForRemoval&&(fe.push(un),Pe.add(un),Cn.hasAnimation?this.driver.query(un,".ng-star-inserted",!0).forEach(En=>Pe.add(En)):Be.add(un))}const Re=new Map,ze=Z4(W,Array.from(Pe));ze.forEach((Xt,un)=>{const Cn=EO+ae++;Re.set(un,Cn),Xt.forEach(En=>Pc(En,Cn))}),t.push(()=>{K.forEach((Xt,un)=>{const Cn=oe.get(un);Xt.forEach(En=>qw(En,Cn))}),ze.forEach((Xt,un)=>{const Cn=Re.get(un);Xt.forEach(En=>qw(En,Cn))}),fe.forEach(Xt=>{this.processLeaveNode(Xt)})});const ut=[],bt=[];for(let Xt=this._namespaceList.length-1;Xt>=0;Xt--)this._namespaceList[Xt].drainQueuedTransitions(e).forEach(Cn=>{const En=Cn.player,qi=Cn.element;if(ut.push(En),this.collectedEnterElements.length){const Br=qi[Vu];if(Br&&Br.setForMove){if(Br.previousTriggersValues&&Br.previousTriggersValues.has(Cn.triggerName)){const Es=Br.previousTriggersValues.get(Cn.triggerName),js=this.statesByElement.get(Cn.element);if(js&&js.has(Cn.triggerName)){const Om=js.get(Cn.triggerName);Om.value=Es,js.set(Cn.triggerName,Om)}}return void En.destroy()}}const hr=!V||!this.driver.containsElement(V,qi),Zr=Re.get(qi),ea=oe.get(qi),Pi=this._buildInstruction(Cn,i,ea,Zr,hr);if(Pi.errors&&Pi.errors.length)return void bt.push(Pi);if(hr)return En.onStart(()=>o_(qi,Pi.fromStyles)),En.onDestroy(()=>fh(qi,Pi.toStyles)),void r.push(En);if(Cn.isFallbackTransition)return En.onStart(()=>o_(qi,Pi.fromStyles)),En.onDestroy(()=>fh(qi,Pi.toStyles)),void r.push(En);const so=[];Pi.timelines.forEach(Br=>{Br.stretchStartingKeyframe=!0,this.disabledNodes.has(Br.element)||so.push(Br)}),Pi.timelines=so,i.append(qi,Pi.timelines),c.push({instruction:Pi,player:En,element:qi}),Pi.queriedElements.forEach(Br=>Hl(p,Br,[]).push(En)),Pi.preStyleProps.forEach((Br,Es)=>{if(Br.size){let js=_.get(Es);js||_.set(Es,js=new Set),Br.forEach((Om,_h)=>js.add(_h))}}),Pi.postStyleProps.forEach((Br,Es)=>{let js=C.get(Es);js||C.set(Es,js=new Set),Br.forEach((Om,_h)=>js.add(_h))})});if(bt.length){const Xt=[];bt.forEach(un=>{Xt.push(function UZ(n,t){return new a.vHH(3505,!1)}())}),ut.forEach(un=>un.destroy()),this.reportError(Xt)}const jt=new Map,Vt=new Map;c.forEach(Xt=>{const un=Xt.element;i.has(un)&&(Vt.set(un,un),this._beforeAnimationBuild(Xt.player.namespaceId,Xt.instruction,jt))}),r.forEach(Xt=>{const un=Xt.element;this._getPreviousPlayers(un,!1,Xt.namespaceId,Xt.triggerName,null).forEach(En=>{Hl(jt,un,[]).push(En),En.destroy()})});const Jt=fe.filter(Xt=>K4(Xt,_,C)),ln=new Map;q4(ln,this.driver,Be,C,ep).forEach(Xt=>{K4(Xt,_,C)&&Jt.push(Xt)});const Ht=new Map;K.forEach((Xt,un)=>{q4(Ht,this.driver,new Set(Xt),_,"!")}),Jt.forEach(Xt=>{const un=ln.get(Xt),Cn=Ht.get(Xt);ln.set(Xt,new Map([...un?.entries()??[],...Cn?.entries()??[]]))});const Rn=[],mi=[],Jo={};c.forEach(Xt=>{const{element:un,player:Cn,instruction:En}=Xt;if(i.has(un)){if(M.has(un))return Cn.onDestroy(()=>fh(un,En.toStyles)),Cn.disabled=!0,Cn.overrideTotalTime(En.totalTime),void r.push(Cn);let qi=Jo;if(Vt.size>1){let Zr=un;const ea=[];for(;Zr=Zr.parentNode;){const Pi=Vt.get(Zr);if(Pi){qi=Pi;break}ea.push(Zr)}ea.forEach(Pi=>Vt.set(Pi,qi))}const hr=this._buildAnimation(Cn.namespaceId,En,jt,s,Ht,ln);if(Cn.setRealPlayer(hr),qi===Jo)Rn.push(Cn);else{const Zr=this.playersByElement.get(qi);Zr&&Zr.length&&(Cn.parentPlayer=Cm(Zr)),r.push(Cn)}}else o_(un,En.fromStyles),Cn.onDestroy(()=>fh(un,En.toStyles)),mi.push(Cn),M.has(un)&&r.push(Cn)}),mi.forEach(Xt=>{const un=s.get(Xt.element);if(un&&un.length){const Cn=Cm(un);Xt.setRealPlayer(Cn)}}),r.forEach(Xt=>{Xt.parentPlayer?Xt.syncPlayerEvents(Xt.parentPlayer):Xt.destroy()});for(let Xt=0;Xt<fe.length;Xt++){const un=fe[Xt],Cn=un[Vu];if(qw(un,EO),Cn&&Cn.hasAnimation)continue;let En=[];if(p.size){let hr=p.get(un);hr&&hr.length&&En.push(...hr);let Zr=this.driver.query(un,gL,!0);for(let ea=0;ea<Zr.length;ea++){let Pi=p.get(Zr[ea]);Pi&&Pi.length&&En.push(...Pi)}}const qi=En.filter(hr=>!hr.destroyed);qi.length?HX(this,un,qi):this.processLeaveNode(un)}return fe.length=0,Rn.forEach(Xt=>{this.players.push(Xt),Xt.onDone(()=>{Xt.destroy();const un=this.players.indexOf(Xt);this.players.splice(un,1)}),Xt.play()}),Rn}afterFlush(t){this._flushFns.push(t)}afterFlushAnimationsDone(t){this._whenQuietFns.push(t)}_getPreviousPlayers(t,e,i,r,s){let c=[];if(e){const p=this.playersByQueriedElement.get(t);p&&(c=p)}else{const p=this.playersByElement.get(t);if(p){const _=!s||s==wT;p.forEach(C=>{C.queued||!_&&C.triggerName!=r||c.push(C)})}}return(i||r)&&(c=c.filter(p=>!(i&&i!=p.namespaceId||r&&r!=p.triggerName))),c}_beforeAnimationBuild(t,e,i){const s=e.element,c=e.isRemovalTransition?void 0:t,p=e.isRemovalTransition?void 0:e.triggerName;for(const _ of e.timelines){const C=_.element,M=C!==s,V=Hl(i,C,[]);this._getPreviousPlayers(C,M,c,p,e.toState).forEach(K=>{const oe=K.getRealPlayer();oe.beforeDestroy&&oe.beforeDestroy(),K.destroy(),V.push(K)})}o_(s,e.fromStyles)}_buildAnimation(t,e,i,r,s,c){const p=e.triggerName,_=e.element,C=[],M=new Set,V=new Set,W=e.timelines.map(oe=>{const ae=oe.element;M.add(ae);const fe=ae[Vu];if(fe&&fe.removedBeforeQueried)return new vT(oe.duration,oe.delay);const Pe=ae!==_,Be=function UX(n){const t=[];return X4(n,t),t}((i.get(ae)||NX).map(jt=>jt.getRealPlayer())).filter(jt=>!!jt.element&&jt.element===ae),Re=s.get(ae),ze=c.get(ae),ut=T4(this._normalizer,oe.keyframes,Re,ze),bt=this._buildPlayer(oe,ut,Be);if(oe.subTimeline&&r&&V.add(ae),Pe){const jt=new IL(t,p,ae);jt.setRealPlayer(bt),C.push(jt)}return bt});C.forEach(oe=>{Hl(this.playersByQueriedElement,oe.element,[]).push(oe),oe.onDone(()=>function LX(n,t,e){let i=n.get(t);if(i){if(i.length){const r=i.indexOf(e);i.splice(r,1)}0==i.length&&n.delete(t)}return i}(this.playersByQueriedElement,oe.element,oe))}),M.forEach(oe=>Pc(oe,N4));const K=Cm(W);return K.onDestroy(()=>{M.forEach(oe=>qw(oe,N4)),fh(_,e.toStyles)}),V.forEach(oe=>{Hl(r,oe,[]).push(K)}),K}_buildPlayer(t,e,i){return e.length>0?this.driver.animate(t.element,e,t.duration,t.delay,t.easing,i):new vT(t.duration,t.delay)}}class IL{constructor(t,e,i){this.namespaceId=t,this.triggerName=e,this.element=i,this._player=new vT,this._containsRealPlayer=!1,this._queuedCallbacks=new Map,this.destroyed=!1,this.parentPlayer=null,this.markedForDestroy=!1,this.disabled=!1,this.queued=!0,this.totalTime=0}setRealPlayer(t){this._containsRealPlayer||(this._player=t,this._queuedCallbacks.forEach((e,i)=>{e.forEach(r=>cL(t,i,void 0,r))}),this._queuedCallbacks.clear(),this._containsRealPlayer=!0,this.overrideTotalTime(t.totalTime),this.queued=!1)}getRealPlayer(){return this._player}overrideTotalTime(t){this.totalTime=t}syncPlayerEvents(t){const e=this._player;e.triggerCallback&&t.onStart(()=>e.triggerCallback("start")),t.onDone(()=>this.finish()),t.onDestroy(()=>this.destroy())}_queueEvent(t,e){Hl(this._queuedCallbacks,t,[]).push(e)}onDone(t){this.queued&&this._queueEvent("done",t),this._player.onDone(t)}onStart(t){this.queued&&this._queueEvent("start",t),this._player.onStart(t)}onDestroy(t){this.queued&&this._queueEvent("destroy",t),this._player.onDestroy(t)}init(){this._player.init()}hasStarted(){return!this.queued&&this._player.hasStarted()}play(){!this.queued&&this._player.play()}pause(){!this.queued&&this._player.pause()}restart(){!this.queued&&this._player.restart()}finish(){this._player.finish()}destroy(){this.destroyed=!0,this._player.destroy()}reset(){!this.queued&&this._player.reset()}setPosition(t){this.queued||this._player.setPosition(t)}getPosition(){return this.queued?0:this._player.getPosition()}triggerCallback(t){const e=this._player;e.triggerCallback&&e.triggerCallback(t)}}function RO(n){return n&&1===n.nodeType}function Y4(n,t){const e=n.style.display;return n.style.display=t??"none",e}function q4(n,t,e,i,r){const s=[];e.forEach(_=>s.push(Y4(_)));const c=[];i.forEach((_,C)=>{const M=new Map;_.forEach(V=>{const W=t.computeStyle(C,V,r);M.set(V,W),(!W||0==W.length)&&(C[Vu]=PX,c.push(C))}),n.set(C,M)});let p=0;return e.forEach(_=>Y4(_,s[p++])),c}function Z4(n,t){const e=new Map;if(n.forEach(p=>e.set(p,[])),0==t.length)return e;const r=new Set(t),s=new Map;function c(p){if(!p)return 1;let _=s.get(p);if(_)return _;const C=p.parentNode;return _=e.has(C)?C:r.has(C)?1:c(C),s.set(p,_),_}return t.forEach(p=>{const _=c(p);1!==_&&e.get(_).push(p)}),e}function Pc(n,t){n.classList?.add(t)}function qw(n,t){n.classList?.remove(t)}function HX(n,t,e){Cm(e).onDone(()=>n.processLeaveNode(t))}function X4(n,t){for(let e=0;e<n.length;e++){const i=n[e];i instanceof w4?X4(i.players,t):t.push(i)}}function K4(n,t,e){const i=e.get(n);if(!i)return!1;let r=t.get(n);return r?i.forEach(s=>r.add(s)):t.set(n,i),e.delete(n),!0}class FO{constructor(t,e,i){this.bodyNode=t,this._driver=e,this._normalizer=i,this._triggerCache={},this.onRemovalComplete=(r,s)=>{},this._transitionEngine=new FX(t,e,i),this._timelineEngine=new AX(t,e,i),this._transitionEngine.onRemovalComplete=(r,s)=>this.onRemovalComplete(r,s)}registerTrigger(t,e,i,r,s){const c=t+"-"+r;let p=this._triggerCache[c];if(!p){const _=[],M=_L(this._driver,s,_,[]);if(_.length)throw function MZ(n,t){return new a.vHH(3404,!1)}();p=function EX(n,t,e){return new DX(n,t,e)}(r,M,this._normalizer),this._triggerCache[c]=p}this._transitionEngine.registerTrigger(e,r,p)}register(t,e){this._transitionEngine.register(t,e)}destroy(t,e){this._transitionEngine.destroy(t,e)}onInsert(t,e,i,r){this._transitionEngine.insertNode(t,e,i,r)}onRemove(t,e,i){this._transitionEngine.removeNode(t,e,i)}disableAnimations(t,e){this._transitionEngine.markElementAsDisabled(t,e)}process(t,e,i,r){if("@"==i.charAt(0)){const[s,c]=S4(i);this._timelineEngine.command(s,e,c,r)}else this._transitionEngine.trigger(t,e,i,r)}listen(t,e,i,r,s){if("@"==i.charAt(0)){const[c,p]=S4(i);return this._timelineEngine.listen(c,e,p,s)}return this._transitionEngine.listen(t,e,i,r,s)}flush(t=-1){this._transitionEngine.flush(t)}get players(){return[...this._transitionEngine.players,...this._timelineEngine.players]}whenRenderingDone(){return this._transitionEngine.whenRenderingDone()}afterFlushAnimationsDone(t){this._transitionEngine.afterFlushAnimationsDone(t)}}let GX=(()=>{class n{static#e=this.initialStylesByElement=new WeakMap;constructor(e,i,r){this._element=e,this._startStyles=i,this._endStyles=r,this._state=0;let s=n.initialStylesByElement.get(e);s||n.initialStylesByElement.set(e,s=new Map),this._initialStyles=s}start(){this._state<1&&(this._startStyles&&fh(this._element,this._startStyles,this._initialStyles),this._state=1)}finish(){this.start(),this._state<2&&(fh(this._element,this._initialStyles),this._endStyles&&(fh(this._element,this._endStyles),this._endStyles=null),this._state=1)}destroy(){this.finish(),this._state<3&&(n.initialStylesByElement.delete(this._element),this._startStyles&&(o_(this._element,this._startStyles),this._endStyles=null),this._endStyles&&(o_(this._element,this._endStyles),this._endStyles=null),fh(this._element,this._initialStyles),this._state=3)}}return n})();function ML(n){let t=null;return n.forEach((e,i)=>{(function WX(n){return"display"===n||"position"===n})(i)&&(t=t||new Map,t.set(i,e))}),t}class Q4{constructor(t,e,i,r){this.element=t,this.keyframes=e,this.options=i,this._specialStyles=r,this._onDoneFns=[],this._onStartFns=[],this._onDestroyFns=[],this._initialized=!1,this._finished=!1,this._started=!1,this._destroyed=!1,this._originalOnDoneFns=[],this._originalOnStartFns=[],this.time=0,this.parentPlayer=null,this.currentSnapshot=new Map,this._duration=i.duration,this._delay=i.delay||0,this.time=this._duration+this._delay}_onFinish(){this._finished||(this._finished=!0,this._onDoneFns.forEach(t=>t()),this._onDoneFns=[])}init(){this._buildPlayer(),this._preparePlayerBeforeStart()}_buildPlayer(){if(this._initialized)return;this._initialized=!0;const t=this.keyframes;this.domPlayer=this._triggerWebAnimation(this.element,t,this.options),this._finalKeyframe=t.length?t[t.length-1]:new Map,this.domPlayer.addEventListener("finish",()=>this._onFinish())}_preparePlayerBeforeStart(){this._delay?this._resetDomPlayerState():this.domPlayer.pause()}_convertKeyframesToObject(t){const e=[];return t.forEach(i=>{e.push(Object.fromEntries(i))}),e}_triggerWebAnimation(t,e,i){return t.animate(this._convertKeyframesToObject(e),i)}onStart(t){this._originalOnStartFns.push(t),this._onStartFns.push(t)}onDone(t){this._originalOnDoneFns.push(t),this._onDoneFns.push(t)}onDestroy(t){this._onDestroyFns.push(t)}play(){this._buildPlayer(),this.hasStarted()||(this._onStartFns.forEach(t=>t()),this._onStartFns=[],this._started=!0,this._specialStyles&&this._specialStyles.start()),this.domPlayer.play()}pause(){this.init(),this.domPlayer.pause()}finish(){this.init(),this._specialStyles&&this._specialStyles.finish(),this._onFinish(),this.domPlayer.finish()}reset(){this._resetDomPlayerState(),this._destroyed=!1,this._finished=!1,this._started=!1,this._onStartFns=this._originalOnStartFns,this._onDoneFns=this._originalOnDoneFns}_resetDomPlayerState(){this.domPlayer&&this.domPlayer.cancel()}restart(){this.reset(),this.play()}hasStarted(){return this._started}destroy(){this._destroyed||(this._destroyed=!0,this._resetDomPlayerState(),this._onFinish(),this._specialStyles&&this._specialStyles.destroy(),this._onDestroyFns.forEach(t=>t()),this._onDestroyFns=[])}setPosition(t){void 0===this.domPlayer&&this.init(),this.domPlayer.currentTime=t*this.time}getPosition(){return+(this.domPlayer.currentTime??0)/this.time}get totalTime(){return this._delay+this._duration}beforeDestroy(){const t=new Map;this.hasStarted()&&this._finalKeyframe.forEach((i,r)=>{"offset"!==r&&t.set(r,this._finished?i:L4(this.element,r))}),this.currentSnapshot=t}triggerCallback(t){const e="start"===t?this._onStartFns:this._onDoneFns;e.forEach(i=>i()),e.length=0}}class $X{validateStyleProperty(t){return!0}validateAnimatableStyleProperty(t){return!0}matchesElement(t,e){return!1}containsElement(t,e){return I4(t,e)}getParentElement(t){return hL(t)}query(t,e,i){return M4(t,e,i)}computeStyle(t,e,i){return window.getComputedStyle(t)[e]}animate(t,e,i,r,s,c=[]){const _={duration:i,delay:r,fill:0==r?"both":"forwards"};s&&(_.easing=s);const C=new Map,M=c.filter(K=>K instanceof Q4);(function JZ(n,t){return 0===n||0===t})(i,r)&&M.forEach(K=>{K.currentSnapshot.forEach((oe,ae)=>C.set(ae,oe))});let V=function XZ(n){return n.length?n[0]instanceof Map?n:n.map(t=>P4(t)):[]}(e).map(K=>Em(K));V=function eX(n,t,e){if(e.size&&t.length){let i=t[0],r=[];if(e.forEach((s,c)=>{i.has(c)||r.push(c),i.set(c,s)}),r.length)for(let s=1;s<t.length;s++){let c=t[s];r.forEach(p=>c.set(p,L4(n,p)))}}return t}(t,V,C);const W=function jX(n,t){let e=null,i=null;return Array.isArray(t)&&t.length?(e=ML(t[0]),t.length>1&&(i=ML(t[t.length-1]))):t instanceof Map&&(e=ML(t)),e||i?new GX(n,e,i):null}(t,V);return new Q4(t,V,_,W)}}let YX=(()=>{class n extends y4{constructor(e,i){super(),this._nextAnimationId=0,this._renderer=e.createRenderer(i.body,{id:"0",encapsulation:a.ifc.None,styles:[],data:{animation:[]}})}build(e){const i=this._nextAnimationId.toString();this._nextAnimationId++;const r=Array.isArray(e)?b4(e):e;return J4(this._renderer,null,i,"register",[r]),new qX(i,this._renderer)}static#e=this.\u0275fac=function(i){return new(i||n)(a.LFG(a.FYo),a.LFG(Ye))};static#t=this.\u0275prov=a.Yz7({token:n,factory:n.\u0275fac})}return n})();class qX extends H7{constructor(t,e){super(),this._id=t,this._renderer=e}create(t,e){return new ZX(this._id,t,e||{},this._renderer)}}class ZX{constructor(t,e,i,r){this.id=t,this.element=e,this._renderer=r,this.parentPlayer=null,this._started=!1,this.totalTime=0,this._command("create",i)}_listen(t,e){return this._renderer.listen(this.element,`@@${this.id}:${t}`,e)}_command(t,...e){return J4(this._renderer,this.element,this.id,t,e)}onDone(t){this._listen("done",t)}onStart(t){this._listen("start",t)}onDestroy(t){this._listen("destroy",t)}init(){this._command("init")}hasStarted(){return this._started}play(){this._command("play"),this._started=!0}pause(){this._command("pause")}restart(){this._command("restart")}finish(){this._command("finish")}destroy(){this._command("destroy")}reset(){this._command("reset"),this._started=!1}setPosition(t){this._command("setPosition",t)}getPosition(){return this._renderer.engine.players[+this.id]?.getPosition()??0}}function J4(n,t,e,i,r){return n.setProperty(t,`@@${e}:${i}`,r)}const ej="@.disabled";let XX=(()=>{class n{constructor(e,i,r){this.delegate=e,this.engine=i,this._zone=r,this._currentId=0,this._microtaskId=1,this._animationCallbacksBuffer=[],this._rendererCache=new Map,this._cdRecurDepth=0,i.onRemovalComplete=(s,c)=>{const p=c?.parentNode(s);p&&c.removeChild(p,s)}}createRenderer(e,i){const s=this.delegate.createRenderer(e,i);if(!(e&&i&&i.data&&i.data.animation)){let M=this._rendererCache.get(s);return M||(M=new tj("",s,this.engine,()=>this._rendererCache.delete(s)),this._rendererCache.set(s,M)),M}const c=i.id,p=i.id+"-"+this._currentId;this._currentId++,this.engine.register(p,e);const _=M=>{Array.isArray(M)?M.forEach(_):this.engine.registerTrigger(c,p,e,M.name,M)};return i.data.animation.forEach(_),new KX(this,p,s,this.engine)}begin(){this._cdRecurDepth++,this.delegate.begin&&this.delegate.begin()}_scheduleCountTask(){queueMicrotask(()=>{this._microtaskId++})}scheduleListenerCallback(e,i,r){e>=0&&e<this._microtaskId?this._zone.run(()=>i(r)):(0==this._animationCallbacksBuffer.length&&queueMicrotask(()=>{this._zone.run(()=>{this._animationCallbacksBuffer.forEach(s=>{const[c,p]=s;c(p)}),this._animationCallbacksBuffer=[]})}),this._animationCallbacksBuffer.push([i,r]))}end(){this._cdRecurDepth--,0==this._cdRecurDepth&&this._zone.runOutsideAngular(()=>{this._scheduleCountTask(),this.engine.flush(this._microtaskId)}),this.delegate.end&&this.delegate.end()}whenRenderingDone(){return this.engine.whenRenderingDone()}static#e=this.\u0275fac=function(i){return new(i||n)(a.LFG(a.FYo),a.LFG(FO),a.LFG(a.R0b))};static#t=this.\u0275prov=a.Yz7({token:n,factory:n.\u0275fac})}return n})();class tj{constructor(t,e,i,r){this.namespaceId=t,this.delegate=e,this.engine=i,this._onDestroy=r}get data(){return this.delegate.data}destroyNode(t){this.delegate.destroyNode?.(t)}destroy(){this.engine.destroy(this.namespaceId,this.delegate),this.engine.afterFlushAnimationsDone(()=>{queueMicrotask(()=>{this.delegate.destroy()})}),this._onDestroy?.()}createElement(t,e){return this.delegate.createElement(t,e)}createComment(t){return this.delegate.createComment(t)}createText(t){return this.delegate.createText(t)}appendChild(t,e){this.delegate.appendChild(t,e),this.engine.onInsert(this.namespaceId,e,t,!1)}insertBefore(t,e,i,r=!0){this.delegate.insertBefore(t,e,i),this.engine.onInsert(this.namespaceId,e,t,r)}removeChild(t,e,i){this.engine.onRemove(this.namespaceId,e,this.delegate)}selectRootElement(t,e){return this.delegate.selectRootElement(t,e)}parentNode(t){return this.delegate.parentNode(t)}nextSibling(t){return this.delegate.nextSibling(t)}setAttribute(t,e,i,r){this.delegate.setAttribute(t,e,i,r)}removeAttribute(t,e,i){this.delegate.removeAttribute(t,e,i)}addClass(t,e){this.delegate.addClass(t,e)}removeClass(t,e){this.delegate.removeClass(t,e)}setStyle(t,e,i,r){this.delegate.setStyle(t,e,i,r)}removeStyle(t,e,i){this.delegate.removeStyle(t,e,i)}setProperty(t,e,i){"@"==e.charAt(0)&&e==ej?this.disableAnimations(t,!!i):this.delegate.setProperty(t,e,i)}setValue(t,e){this.delegate.setValue(t,e)}listen(t,e,i){return this.delegate.listen(t,e,i)}disableAnimations(t,e){this.engine.disableAnimations(t,e)}}class KX extends tj{constructor(t,e,i,r,s){super(e,i,r,s),this.factory=t,this.namespaceId=e}setProperty(t,e,i){"@"==e.charAt(0)?"."==e.charAt(1)&&e==ej?this.disableAnimations(t,i=void 0===i||!!i):this.engine.process(this.namespaceId,t,e.slice(1),i):this.delegate.setProperty(t,e,i)}listen(t,e,i){if("@"==e.charAt(0)){const r=function QX(n){switch(n){case"body":return document.body;case"document":return document;case"window":return window;default:return n}}(t);let s=e.slice(1),c="";return"@"!=s.charAt(0)&&([s,c]=function JX(n){const t=n.indexOf(".");return[n.substring(0,t),n.slice(t+1)]}(s)),this.engine.listen(this.namespaceId,r,s,c,p=>{this.factory.scheduleListenerCallback(p._data||-1,i,p)})}return this.delegate.listen(t,e,i)}}let eK=(()=>{class n extends FO{constructor(e,i,r,s){super(e.body,i,r)}ngOnDestroy(){this.flush()}static#e=this.\u0275fac=function(i){return new(i||n)(a.LFG(Ye),a.LFG(fL),a.LFG(EL),a.LFG(a.z2F))};static#t=this.\u0275prov=a.Yz7({token:n,factory:n.\u0275fac})}return n})();const nj=[{provide:y4,useClass:YX},{provide:EL,useFactory:function tK(){return new bX}},{provide:FO,useClass:eK},{provide:a.FYo,useFactory:function nK(n,t,e){return new XX(n,t,e)},deps:[Wa,FO,a.R0b]}],kL=[{provide:fL,useFactory:()=>new $X},{provide:a.QbO,useValue:"BrowserAnimations"},...nj],ij=[{provide:fL,useClass:k4},{provide:a.QbO,useValue:"NoopAnimations"},...nj];let iK=(()=>{class n{static withConfig(e){return{ngModule:n,providers:e.disableAnimations?ij:kL}}static#e=this.\u0275fac=function(i){return new(i||n)};static#t=this.\u0275mod=a.oAB({type:n});static#n=this.\u0275inj=a.cJS({providers:kL,imports:[nd]})}return n})();var OL=["onChange","onClose","onDayCreate","onDestroy","onKeyDown","onMonthChange","onOpen","onParseConfig","onReady","onValueUpdate","onYearChange","onPreCalendarPosition"],Zw={_disable:[],allowInput:!1,allowInvalidPreload:!1,altFormat:"F j, Y",altInput:!1,altInputClass:"form-control input",animate:"object"==typeof window&&-1===window.navigator.userAgent.indexOf("MSIE"),ariaDateFormat:"F j, Y",autoFillDefaultTime:!0,clickOpens:!0,closeOnSelect:!0,conjunction:", ",dateFormat:"Y-m-d",defaultHour:12,defaultMinute:0,defaultSeconds:0,disable:[],disableMobile:!1,enableSeconds:!1,enableTime:!1,errorHandler:function(n){return typeof console<"u"&&console.warn(n)},getWeek:function(n){var t=new Date(n.getTime());t.setHours(0,0,0,0),t.setDate(t.getDate()+3-(t.getDay()+6)%7);var e=new Date(t.getFullYear(),0,4);return 1+Math.round(((t.getTime()-e.getTime())/864e5-3+(e.getDay()+6)%7)/7)},hourIncrement:1,ignoredFocusElements:[],inline:!1,locale:"default",minuteIncrement:5,mode:"single",monthSelectorType:"dropdown",nextArrow:"<svg version='1.1' xmlns='http://www.w3.org/2000/svg' xmlns:xlink='http://www.w3.org/1999/xlink' viewBox='0 0 17 17'><g></g><path d='M13.207 8.472l-7.854 7.854-0.707-0.707 7.146-7.146-7.146-7.148 0.707-0.707 7.854 7.854z' /></svg>",noCalendar:!1,now:new Date,onChange:[],onClose:[],onDayCreate:[],onDestroy:[],onKeyDown:[],onMonthChange:[],onOpen:[],onParseConfig:[],onReady:[],onValueUpdate:[],onYearChange:[],onPreCalendarPosition:[],plugins:[],position:"auto",positionElement:void 0,prevArrow:"<svg version='1.1' xmlns='http://www.w3.org/2000/svg' xmlns:xlink='http://www.w3.org/1999/xlink' viewBox='0 0 17 17'><g></g><path d='M5.207 8.471l7.146 7.147-0.707 0.707-7.853-7.854 7.854-7.853 0.707 0.707-7.147 7.146z' /></svg>",shorthandCurrentMonth:!1,showMonths:1,static:!1,time_24hr:!1,weekNumbers:!1,wrap:!1},NL={weekdays:{shorthand:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],longhand:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"]},months:{shorthand:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],longhand:["January","February","March","April","May","June","July","August","September","October","November","December"]},daysInMonth:[31,28,31,30,31,30,31,31,30,31,30,31],firstDayOfWeek:0,ordinal:function(n){var t=n%100;if(t>3&&t<21)return"th";switch(t%10){case 1:return"st";case 2:return"nd";case 3:return"rd";default:return"th"}},rangeSeparator:" to ",weekAbbreviation:"Wk",scrollTitle:"Scroll to increment",toggleTitle:"Click to toggle",amPM:["AM","PM"],yearAriaLabel:"Year",monthAriaLabel:"Month",hourAriaLabel:"Hour",minuteAriaLabel:"Minute",time_24hr:!1};const PL=NL;var sl=function(n,t){return void 0===t&&(t=2),("000"+n).slice(-1*t)},Rc=function(n){return!0===n?1:0};function rj(n,t){var e;return function(){var i=this,r=arguments;clearTimeout(e),e=setTimeout(function(){return n.apply(i,r)},t)}}var RL=function(n){return n instanceof Array?n:[n]};function Ba(n,t,e){if(!0===e)return n.classList.add(t);n.classList.remove(t)}function er(n,t,e){var i=window.document.createElement(n);return e=e||"",i.className=t=t||"",void 0!==e&&(i.textContent=e),i}function BO(n){for(;n.firstChild;)n.removeChild(n.firstChild)}function sj(n,t){return t(n)?n:n.parentNode?sj(n.parentNode,t):void 0}function VO(n,t){var e=er("div","numInputWrapper"),i=er("input","numInput "+n),r=er("span","arrowUp"),s=er("span","arrowDown");if(-1===navigator.userAgent.indexOf("MSIE 9.0")?i.type="number":(i.type="text",i.pattern="\\d*"),void 0!==t)for(var c in t)i.setAttribute(c,t[c]);return e.appendChild(i),e.appendChild(r),e.appendChild(s),e}function zl(n){try{return"function"==typeof n.composedPath?n.composedPath()[0]:n.target}catch{return n.target}}var FL=function(){},HO=function(n,t,e){return e.months[t?"shorthand":"longhand"][n]},rK={D:FL,F:function(n,t,e){n.setMonth(e.months.longhand.indexOf(t))},G:function(n,t){n.setHours((n.getHours()>=12?12:0)+parseFloat(t))},H:function(n,t){n.setHours(parseFloat(t))},J:function(n,t){n.setDate(parseFloat(t))},K:function(n,t,e){n.setHours(n.getHours()%12+12*Rc(new RegExp(e.amPM[1],"i").test(t)))},M:function(n,t,e){n.setMonth(e.months.shorthand.indexOf(t))},S:function(n,t){n.setSeconds(parseFloat(t))},U:function(n,t){return new Date(1e3*parseFloat(t))},W:function(n,t,e){var i=parseInt(t),r=new Date(n.getFullYear(),0,2+7*(i-1),0,0,0,0);return r.setDate(r.getDate()-r.getDay()+e.firstDayOfWeek),r},Y:function(n,t){n.setFullYear(parseFloat(t))},Z:function(n,t){return new Date(t)},d:function(n,t){n.setDate(parseFloat(t))},h:function(n,t){n.setHours((n.getHours()>=12?12:0)+parseFloat(t))},i:function(n,t){n.setMinutes(parseFloat(t))},j:function(n,t){n.setDate(parseFloat(t))},l:FL,m:function(n,t){n.setMonth(parseFloat(t)-1)},n:function(n,t){n.setMonth(parseFloat(t)-1)},s:function(n,t){n.setSeconds(parseFloat(t))},u:function(n,t){return new Date(parseFloat(t))},w:FL,y:function(n,t){n.setFullYear(2e3+parseFloat(t))}},l_={D:"",F:"",G:"(\\d\\d|\\d)",H:"(\\d\\d|\\d)",J:"(\\d\\d|\\d)\\w+",K:"",M:"",S:"(\\d\\d|\\d)",U:"(.+)",W:"(\\d\\d|\\d)",Y:"(\\d{4})",Z:"(.+)",d:"(\\d\\d|\\d)",h:"(\\d\\d|\\d)",i:"(\\d\\d|\\d)",j:"(\\d\\d|\\d)",l:"",m:"(\\d\\d|\\d)",n:"(\\d\\d|\\d)",s:"(\\d\\d|\\d)",u:"(.+)",w:"(\\d\\d|\\d)",y:"(\\d{2})"},xT={Z:function(n){return n.toISOString()},D:function(n,t,e){return t.weekdays.shorthand[xT.w(n,t,e)]},F:function(n,t,e){return HO(xT.n(n,t,e)-1,!1,t)},G:function(n,t,e){return sl(xT.h(n,t,e))},H:function(n){return sl(n.getHours())},J:function(n,t){return void 0!==t.ordinal?n.getDate()+t.ordinal(n.getDate()):n.getDate()},K:function(n,t){return t.amPM[Rc(n.getHours()>11)]},M:function(n,t){return HO(n.getMonth(),!0,t)},S:function(n){return sl(n.getSeconds())},U:function(n){return n.getTime()/1e3},W:function(n,t,e){return e.getWeek(n)},Y:function(n){return sl(n.getFullYear(),4)},d:function(n){return sl(n.getDate())},h:function(n){return n.getHours()%12?n.getHours()%12:12},i:function(n){return sl(n.getMinutes())},j:function(n){return n.getDate()},l:function(n,t){return t.weekdays.longhand[n.getDay()]},m:function(n){return sl(n.getMonth()+1)},n:function(n){return n.getMonth()+1},s:function(n){return n.getSeconds()},u:function(n){return n.getTime()},w:function(n){return n.getDay()},y:function(n){return String(n.getFullYear()).substring(2)}},oj=function(n){var t=n.config,e=void 0===t?Zw:t,i=n.l10n,r=void 0===i?NL:i,s=n.isMobile,c=void 0!==s&&s;return function(p,_,C){var M=C||r;return void 0===e.formatDate||c?_.split("").map(function(V,W,K){return xT[V]&&"\\"!==K[W-1]?xT[V](p,M,e):"\\"!==V?V:""}).join(""):e.formatDate(p,_,M)}},LL=function(n){var t=n.config,e=void 0===t?Zw:t,i=n.l10n,r=void 0===i?NL:i;return function(s,c,p,_){if(0===s||s){var M,C=_||r,V=s;if(s instanceof Date)M=new Date(s.getTime());else if("string"!=typeof s&&void 0!==s.toFixed)M=new Date(s);else if("string"==typeof s){var W=c||(e||Zw).dateFormat,K=String(s).trim();if("today"===K)M=new Date,p=!0;else if(e&&e.parseDate)M=e.parseDate(s,W);else if(/Z$/.test(K)||/GMT$/.test(K))M=new Date(s);else{for(var oe=void 0,ae=[],fe=0,Pe=0,Be="";fe<W.length;fe++){var Re=W[fe],ze="\\"===Re;if(l_[Re]&&"\\"!==W[fe-1]&&!ze){Be+=l_[Re];var bt=new RegExp(Be).exec(s);bt&&(oe=!0)&&ae["Y"!==Re?"push":"unshift"]({fn:rK[Re],val:bt[++Pe]})}else ze||(Be+=".")}M=e&&e.noCalendar?new Date((new Date).setHours(0,0,0,0)):new Date((new Date).getFullYear(),0,1,0,0,0,0),ae.forEach(function(jt){return M=(0,jt.fn)(M,jt.val,C)||M}),M=oe?M:void 0}}return M instanceof Date&&!isNaN(M.getTime())?(!0===p&&M.setHours(0,0,0,0),M):void e.errorHandler(new Error("Invalid date provided: "+V))}}};function jl(n,t,e){return void 0===e&&(e=!0),!1!==e?new Date(n.getTime()).setHours(0,0,0,0)-new Date(t.getTime()).setHours(0,0,0,0):n.getTime()-t.getTime()}var sK=function(n,t,e){return n>Math.min(t,e)&&n<Math.max(t,e)},BL=function(n,t,e){return 3600*n+60*t+e},oK=function(n){var t=Math.floor(n/3600),e=(n-3600*t)/60;return[t,e,n-3600*t-60*e]},aK={DAY:864e5};function VL(n){var t=n.defaultHour,e=n.defaultMinute,i=n.defaultSeconds;if(void 0!==n.minDate){var r=n.minDate.getHours(),s=n.minDate.getMinutes(),c=n.minDate.getSeconds();t<r&&(t=r),t===r&&e<s&&(e=s),t===r&&e===s&&i<c&&(i=n.minDate.getSeconds())}if(void 0!==n.maxDate){var p=n.maxDate.getHours(),_=n.maxDate.getMinutes();(t=Math.min(t,p))===p&&(e=Math.min(_,e)),t===p&&e===_&&(i=n.maxDate.getSeconds())}return{hours:t,minutes:e,seconds:i}}ce(9706);var ma=function(){return ma=Object.assign||function(n){for(var t,e=1,i=arguments.length;e<i;e++)for(var r in t=arguments[e])Object.prototype.hasOwnProperty.call(t,r)&&(n[r]=t[r]);return n},ma.apply(this,arguments)},aj=function(){for(var n=0,t=0,e=arguments.length;t<e;t++)n+=arguments[t].length;var i=Array(n),r=0;for(t=0;t<e;t++)for(var s=arguments[t],c=0,p=s.length;c<p;c++,r++)i[r]=s[c];return i},lK=300;function cK(n,t){var e={config:ma(ma({},Zw),no.defaultConfig),l10n:PL};function s(){var ge;return(null===(ge=e.calendarContainer)||void 0===ge?void 0:ge.getRootNode()).activeElement||document.activeElement}function c(ge){return ge.bind(e)}function p(){var ge=e.config;!1===ge.weekNumbers&&1===ge.showMonths||!0!==ge.noCalendar&&window.requestAnimationFrame(function(){if(void 0!==e.calendarContainer&&(e.calendarContainer.style.visibility="hidden",e.calendarContainer.style.display="block"),void 0!==e.daysContainer){var be=(e.days.offsetWidth+1)*ge.showMonths;e.daysContainer.style.width=be+"px",e.calendarContainer.style.width=be+(void 0!==e.weekWrapper?e.weekWrapper.offsetWidth:0)+"px",e.calendarContainer.style.removeProperty("visibility"),e.calendarContainer.style.removeProperty("display")}})}function _(ge){if(0===e.selectedDates.length){var be=void 0===e.config.minDate||jl(new Date,e.config.minDate)>=0?new Date:new Date(e.config.minDate.getTime()),We=VL(e.config);be.setHours(We.hours,We.minutes,We.seconds,be.getMilliseconds()),e.selectedDates=[be],e.latestSelectedDateObj=be}void 0!==ge&&"blur"!==ge.type&&function Qce(ge){ge.preventDefault();var be="keydown"===ge.type,We=zl(ge),pt=We;void 0!==e.amPM&&We===e.amPM&&(e.amPM.textContent=e.l10n.amPM[Rc(e.amPM.textContent===e.l10n.amPM[0])]);var Zt=parseFloat(pt.getAttribute("min")),fn=parseFloat(pt.getAttribute("max")),ui=parseFloat(pt.getAttribute("step")),Dn=parseInt(pt.value,10),wn=Dn+ui*(ge.delta||(be?38===ge.which?1:-1:0));if(typeof pt.value<"u"&&2===pt.value.length){var qn=pt===e.hourElement,Ir=pt===e.minuteElement;wn<Zt?(wn=fn+wn+Rc(!qn)+(Rc(qn)&&Rc(!e.amPM)),Ir&&ze(void 0,-1,e.hourElement)):wn>fn&&(wn=pt===e.hourElement?wn-fn-Rc(!e.amPM):Zt,Ir&&ze(void 0,1,e.hourElement)),e.amPM&&qn&&(1===ui?wn+Dn===23:Math.abs(wn-Dn)>ui)&&(e.amPM.textContent=e.l10n.amPM[Rc(e.amPM.textContent===e.l10n.amPM[0])]),pt.value=sl(wn)}}(ge);var pt=e._input.value;V(),lp(),e._input.value!==pt&&e._debouncedChange()}function V(){if(void 0!==e.hourElement&&void 0!==e.minuteElement){var ge=(parseInt(e.hourElement.value.slice(-2),10)||0)%24,be=(parseInt(e.minuteElement.value,10)||0)%60,We=void 0!==e.secondElement?(parseInt(e.secondElement.value,10)||0)%60:0;void 0!==e.amPM&&(ge=function C(ge,be){return ge%12+12*Rc(be===e.l10n.amPM[1])}(ge,e.amPM.textContent));var pt=void 0!==e.config.minTime||e.config.minDate&&e.minDateHasTime&&e.latestSelectedDateObj&&0===jl(e.latestSelectedDateObj,e.config.minDate,!0),Zt=void 0!==e.config.maxTime||e.config.maxDate&&e.maxDateHasTime&&e.latestSelectedDateObj&&0===jl(e.latestSelectedDateObj,e.config.maxDate,!0);if(void 0!==e.config.maxTime&&void 0!==e.config.minTime&&e.config.minTime>e.config.maxTime){var fn=BL(e.config.minTime.getHours(),e.config.minTime.getMinutes(),e.config.minTime.getSeconds()),ui=BL(e.config.maxTime.getHours(),e.config.maxTime.getMinutes(),e.config.maxTime.getSeconds()),Dn=BL(ge,be,We);if(Dn>ui&&Dn<fn){var Si=oK(fn);ge=Si[0],be=Si[1],We=Si[2]}}else{if(Zt){var wn=void 0!==e.config.maxTime?e.config.maxTime:e.config.maxDate;(ge=Math.min(ge,wn.getHours()))===wn.getHours()&&(be=Math.min(be,wn.getMinutes())),be===wn.getMinutes()&&(We=Math.min(We,wn.getSeconds()))}if(pt){var qn=void 0!==e.config.minTime?e.config.minTime:e.config.minDate;(ge=Math.max(ge,qn.getHours()))===qn.getHours()&&be<qn.getMinutes()&&(be=qn.getMinutes()),be===qn.getMinutes()&&(We=Math.max(We,qn.getSeconds()))}}K(ge,be,We)}}function W(ge){var be=ge||e.latestSelectedDateObj;be&&be instanceof Date&&K(be.getHours(),be.getMinutes(),be.getSeconds())}function K(ge,be,We){void 0!==e.latestSelectedDateObj&&e.latestSelectedDateObj.setHours(ge%24,be,We||0,0),e.hourElement&&e.minuteElement&&!e.isMobile&&(e.hourElement.value=sl(e.config.time_24hr?ge:(12+ge)%12+12*Rc(ge%12==0)),e.minuteElement.value=sl(be),void 0!==e.amPM&&(e.amPM.textContent=e.l10n.amPM[Rc(ge>=12)]),void 0!==e.secondElement&&(e.secondElement.value=sl(We)))}function oe(ge){var be=zl(ge),We=parseInt(be.value)+(ge.delta||0);(We/1e3>1||"Enter"===ge.key&&!/[^\d]/.test(We.toString()))&&Br(We)}function ae(ge,be,We,pt){return be instanceof Array?be.forEach(function(Zt){return ae(ge,Zt,We,pt)}):ge instanceof Array?ge.forEach(function(Zt){return ae(Zt,be,We,pt)}):(ge.addEventListener(be,We,pt),void e._handlers.push({remove:function(){return ge.removeEventListener(be,We,pt)}}))}function fe(){Ds("onChange")}function Be(ge,be){var We=void 0!==ge?e.parseDate(ge):e.latestSelectedDateObj||(e.config.minDate&&e.config.minDate>e.now?e.config.minDate:e.config.maxDate&&e.config.maxDate<e.now?e.config.maxDate:e.now),pt=e.currentYear,Zt=e.currentMonth;try{void 0!==We&&(e.currentYear=We.getFullYear(),e.currentMonth=We.getMonth())}catch(fn){fn.message="Invalid date supplied: "+We,e.config.errorHandler(fn)}be&&e.currentYear!==pt&&(Ds("onYearChange"),Rn()),be&&(e.currentYear!==pt||e.currentMonth!==Zt)&&Ds("onMonthChange"),e.redraw()}function Re(ge){var be=zl(ge);~be.className.indexOf("arrow")&&ze(ge,be.classList.contains("arrowUp")?1:-1)}function ze(ge,be,We){var pt=ge&&zl(ge),Zt=We||pt&&pt.parentNode&&pt.parentNode.firstChild,fn=_V("increment");fn.delta=be,Zt&&Zt.dispatchEvent(fn)}function bt(ge,be,We,pt){var Zt=Es(be,!0),fn=er("span",ge,be.getDate().toString());return fn.dateObj=be,fn.$i=pt,fn.setAttribute("aria-label",e.formatDate(be,e.config.ariaDateFormat)),-1===ge.indexOf("hidden")&&0===jl(be,e.now)&&(e.todayDateElem=fn,fn.classList.add("today"),fn.setAttribute("aria-current","date")),Zt?(fn.tabIndex=-1,bV(be)&&(fn.classList.add("selected"),e.selectedDateElem=fn,"range"===e.config.mode&&(Ba(fn,"startRange",e.selectedDates[0]&&0===jl(be,e.selectedDates[0],!0)),Ba(fn,"endRange",e.selectedDates[1]&&0===jl(be,e.selectedDates[1],!0)),"nextMonthDay"===ge&&fn.classList.add("inRange")))):fn.classList.add("flatpickr-disabled"),"range"===e.config.mode&&function Xce(ge){return!("range"!==e.config.mode||e.selectedDates.length<2)&&jl(ge,e.selectedDates[0])>=0&&jl(ge,e.selectedDates[1])<=0}(be)&&!bV(be)&&fn.classList.add("inRange"),e.weekNumbers&&1===e.config.showMonths&&"prevMonthDay"!==ge&&pt%7==6&&e.weekNumbers.insertAdjacentHTML("beforeend","<span class='flatpickr-day'>"+e.config.getWeek(be)+"</span>"),Ds("onDayCreate",fn),fn}function jt(ge){ge.focus(),"range"===e.config.mode&&xx(ge)}function Vt(ge){for(var We=ge>0?e.config.showMonths:-1,pt=ge>0?0:e.config.showMonths-1;pt!=We;pt+=ge)for(var Zt=e.daysContainer.children[pt],ui=ge>0?Zt.children.length:-1,Dn=ge>0?0:Zt.children.length-1;Dn!=ui;Dn+=ge){var Si=Zt.children[Dn];if(-1===Si.className.indexOf("hidden")&&Es(Si.dateObj))return Si}}function ln(ge,be){var We=s(),pt=js(We||document.body),Zt=void 0!==ge?ge:pt?We:void 0!==e.selectedDateElem&&js(e.selectedDateElem)?e.selectedDateElem:void 0!==e.todayDateElem&&js(e.todayDateElem)?e.todayDateElem:Vt(be>0?1:-1);void 0===Zt?e._input.focus():pt?function Jt(ge,be){for(var We=-1===ge.className.indexOf("Month")?ge.dateObj.getMonth():e.currentMonth,pt=be>0?e.config.showMonths:-1,Zt=be>0?1:-1,fn=We-e.currentMonth;fn!=pt;fn+=Zt)for(var ui=e.daysContainer.children[fn],Si=ui.children.length,wn=We-e.currentMonth===fn?ge.$i+be:be<0?ui.children.length-1:0;wn>=0&&wn<Si&&wn!=(be>0?Si:-1);wn+=Zt){var qn=ui.children[wn];if(-1===qn.className.indexOf("hidden")&&Es(qn.dateObj)&&Math.abs(ge.$i-wn)>=Math.abs(be))return jt(qn)}e.changeMonth(Zt),ln(Vt(Zt),0)}(Zt,be):jt(Zt)}function zt(ge,be){for(var We=(new Date(ge,be,1).getDay()-e.l10n.firstDayOfWeek+7)%7,pt=e.utils.getDaysInMonth((be-1+12)%12,ge),Zt=e.utils.getDaysInMonth(be,ge),fn=window.document.createDocumentFragment(),ui=e.config.showMonths>1,Dn=ui?"prevMonthDay hidden":"prevMonthDay",Si=ui?"nextMonthDay hidden":"nextMonthDay",wn=pt+1-We,qn=0;wn<=pt;wn++,qn++)fn.appendChild(bt("flatpickr-day "+Dn,new Date(ge,be-1,wn),0,qn));for(wn=1;wn<=Zt;wn++,qn++)fn.appendChild(bt("flatpickr-day",new Date(ge,be,wn),0,qn));for(var Ir=Zt+1;Ir<=42-We&&(1===e.config.showMonths||qn%7!=0);Ir++,qn++)fn.appendChild(bt("flatpickr-day "+Si,new Date(ge,be+1,Ir%Zt),0,qn));var bh=er("div","dayContainer");return bh.appendChild(fn),bh}function Ht(){if(void 0!==e.daysContainer){BO(e.daysContainer),e.weekNumbers&&BO(e.weekNumbers);for(var ge=document.createDocumentFragment(),be=0;be<e.config.showMonths;be++){var We=new Date(e.currentYear,e.currentMonth,1);We.setMonth(e.currentMonth+be),ge.appendChild(zt(We.getFullYear(),We.getMonth()))}e.daysContainer.appendChild(ge),e.days=e.daysContainer.firstChild,"range"===e.config.mode&&1===e.selectedDates.length&&xx()}}function Rn(){if(!(e.config.showMonths>1||"dropdown"!==e.config.monthSelectorType)){e.monthsDropdownContainer.tabIndex=-1,e.monthsDropdownContainer.innerHTML="";for(var be=0;be<12;be++)if(pt=be,!(void 0!==e.config.minDate&&e.currentYear===e.config.minDate.getFullYear()&&pt<e.config.minDate.getMonth()||void 0!==e.config.maxDate&&e.currentYear===e.config.maxDate.getFullYear()&&pt>e.config.maxDate.getMonth())){var We=er("option","flatpickr-monthDropdown-month");We.value=new Date(e.currentYear,be).getMonth().toString(),We.textContent=HO(be,e.config.shorthandCurrentMonth,e.l10n),We.tabIndex=-1,e.currentMonth===be&&(We.selected=!0),e.monthsDropdownContainer.appendChild(We)}}var pt}function mi(){var We,ge=er("div","flatpickr-month"),be=window.document.createDocumentFragment();e.config.showMonths>1||"static"===e.config.monthSelectorType?We=er("span","cur-month"):(e.monthsDropdownContainer=er("select","flatpickr-monthDropdown-months"),e.monthsDropdownContainer.setAttribute("aria-label",e.l10n.monthAriaLabel),ae(e.monthsDropdownContainer,"change",function(ui){var Dn=zl(ui),Si=parseInt(Dn.value,10);e.changeMonth(Si-e.currentMonth),Ds("onMonthChange")}),Rn(),We=e.monthsDropdownContainer);var pt=VO("cur-year",{tabindex:"-1"}),Zt=pt.getElementsByTagName("input")[0];Zt.setAttribute("aria-label",e.l10n.yearAriaLabel),e.config.minDate&&Zt.setAttribute("min",e.config.minDate.getFullYear().toString()),e.config.maxDate&&(Zt.setAttribute("max",e.config.maxDate.getFullYear().toString()),Zt.disabled=!!e.config.minDate&&e.config.minDate.getFullYear()===e.config.maxDate.getFullYear());var fn=er("div","flatpickr-current-month");return fn.appendChild(We),fn.appendChild(pt),be.appendChild(fn),ge.appendChild(be),{container:ge,yearElement:Zt,monthElement:We}}function Jo(){BO(e.monthNav),e.monthNav.appendChild(e.prevMonthNav),e.config.showMonths&&(e.yearElements=[],e.monthElements=[]);for(var ge=e.config.showMonths;ge--;){var be=mi();e.yearElements.push(be.yearElement),e.monthElements.push(be.monthElement),e.monthNav.appendChild(be.container)}e.monthNav.appendChild(e.nextMonthNav)}function Cn(){e.weekdayContainer?BO(e.weekdayContainer):e.weekdayContainer=er("div","flatpickr-weekdays");for(var ge=e.config.showMonths;ge--;){var be=er("div","flatpickr-weekdaycontainer");e.weekdayContainer.appendChild(be)}return En(),e.weekdayContainer}function En(){if(e.weekdayContainer){var ge=e.l10n.firstDayOfWeek,be=aj(e.l10n.weekdays.shorthand);ge>0&&ge<be.length&&(be=aj(be.splice(ge,be.length),be.splice(0,ge)));for(var We=e.config.showMonths;We--;)e.weekdayContainer.children[We].innerHTML="\n      <span class='flatpickr-weekday'>\n        "+be.join("</span><span class='flatpickr-weekday'>")+"\n      </span>\n      "}}function hr(ge,be){void 0===be&&(be=!0);var We=be?ge:ge-e.currentMonth;We<0&&!0===e._hidePrevMonthArrow||We>0&&!0===e._hideNextMonthArrow||(e.currentMonth+=We,(e.currentMonth<0||e.currentMonth>11)&&(e.currentYear+=e.currentMonth>11?1:-1,e.currentMonth=(e.currentMonth+12)%12,Ds("onYearChange"),Rn()),Ht(),Ds("onMonthChange"),XN())}function so(ge){return e.calendarContainer.contains(ge)}function ql(ge){if(e.isOpen&&!e.config.inline){var be=zl(ge),We=so(be),Zt=!(be===e.input||be===e.altInput||e.element.contains(be)||ge.path&&ge.path.indexOf&&(~ge.path.indexOf(e.input)||~ge.path.indexOf(e.altInput))||We||so(ge.relatedTarget)),fn=!e.config.ignoredFocusElements.some(function(ui){return ui.contains(be)});Zt&&fn&&(e.config.allowInput&&e.setDate(e._input.value,!1,e.config.altInput?e.config.altFormat:e.config.dateFormat),void 0!==e.timeContainer&&void 0!==e.minuteElement&&void 0!==e.hourElement&&""!==e.input.value&&void 0!==e.input.value&&_(),e.close(),e.config&&"range"===e.config.mode&&1===e.selectedDates.length&&e.clear(!1))}}function Br(ge){if(!(!ge||e.config.minDate&&ge<e.config.minDate.getFullYear()||e.config.maxDate&&ge>e.config.maxDate.getFullYear())){var We=e.currentYear!==ge;e.currentYear=ge||e.currentYear,e.config.maxDate&&e.currentYear===e.config.maxDate.getFullYear()?e.currentMonth=Math.min(e.config.maxDate.getMonth(),e.currentMonth):e.config.minDate&&e.currentYear===e.config.minDate.getFullYear()&&(e.currentMonth=Math.max(e.config.minDate.getMonth(),e.currentMonth)),We&&(e.redraw(),Ds("onYearChange"),Rn())}}function Es(ge,be){var We;void 0===be&&(be=!0);var pt=e.parseDate(ge,void 0,be);if(e.config.minDate&&pt&&jl(pt,e.config.minDate,void 0!==be?be:!e.minDateHasTime)<0||e.config.maxDate&&pt&&jl(pt,e.config.maxDate,void 0!==be?be:!e.maxDateHasTime)>0)return!1;if(!e.config.enable&&0===e.config.disable.length)return!0;if(void 0===pt)return!1;for(var Zt=!!e.config.enable,fn=null!==(We=e.config.enable)&&void 0!==We?We:e.config.disable,ui=0,Dn=void 0;ui<fn.length;ui++){if("function"==typeof(Dn=fn[ui])&&Dn(pt))return Zt;if(Dn instanceof Date&&void 0!==pt&&Dn.getTime()===pt.getTime())return Zt;if("string"==typeof Dn){var Si=e.parseDate(Dn,void 0,!0);return Si&&Si.getTime()===pt.getTime()?Zt:!Zt}if("object"==typeof Dn&&void 0!==pt&&Dn.from&&Dn.to&&pt.getTime()>=Dn.from.getTime()&&pt.getTime()<=Dn.to.getTime())return Zt}return!Zt}function js(ge){return void 0!==e.daysContainer&&-1===ge.className.indexOf("hidden")&&-1===ge.className.indexOf("flatpickr-disabled")&&e.daysContainer.contains(ge)}function Om(ge){var be=ge.target===e._input,We=e._input.value.trimEnd()!==wV();be&&We&&(!ge.relatedTarget||!so(ge.relatedTarget))&&e.setDate(e._input.value,!0,ge.target===e.altInput?e.config.altFormat:e.config.dateFormat)}function _h(ge){var be=zl(ge),We=e.config.wrap?n.contains(be):be===e._input,pt=e.config.allowInput,Zt=e.isOpen&&(!pt||!We),fn=e.config.inline&&We&&!pt;if(13===ge.keyCode&&We){if(pt)return e.setDate(e._input.value,!0,be===e.altInput?e.config.altFormat:e.config.dateFormat),e.close(),be.blur();e.open()}else if(so(be)||Zt||fn){var ui=!!e.timeContainer&&e.timeContainer.contains(be);switch(ge.keyCode){case 13:ui?(ge.preventDefault(),_(),Dx()):Tx(ge);break;case 27:ge.preventDefault(),Dx();break;case 8:case 46:We&&!e.config.allowInput&&(ge.preventDefault(),e.clear());break;case 37:case 39:if(ui||We)e.hourElement&&e.hourElement.focus();else{ge.preventDefault();var Dn=s();if(void 0!==e.daysContainer&&(!1===pt||Dn&&js(Dn))){var Si=39===ge.keyCode?1:-1;ge.ctrlKey?(ge.stopPropagation(),hr(Si),ln(Vt(1),0)):ln(void 0,Si)}}break;case 38:case 40:ge.preventDefault();var wn=40===ge.keyCode?1:-1;e.daysContainer&&void 0!==be.$i||be===e.input||be===e.altInput?ge.ctrlKey?(ge.stopPropagation(),Br(e.currentYear-wn),ln(Vt(1),0)):ui||ln(void 0,7*wn):be===e.currentYearElement?Br(e.currentYear-wn):e.config.enableTime&&(!ui&&e.hourElement&&e.hourElement.focus(),_(ge),e._debouncedChange());break;case 9:if(ui){var qn=[e.hourElement,e.minuteElement,e.secondElement,e.amPM].concat(e.pluginElements).filter(function(Zl){return Zl}),Ir=qn.indexOf(be);if(-1!==Ir){var bh=qn[Ir+(ge.shiftKey?-1:1)];ge.preventDefault(),(bh||e._input).focus()}}else!e.config.noCalendar&&e.daysContainer&&e.daysContainer.contains(be)&&ge.shiftKey&&(ge.preventDefault(),e._input.focus())}}if(void 0!==e.amPM&&be===e.amPM)switch(ge.key){case e.l10n.amPM[0].charAt(0):case e.l10n.amPM[0].charAt(0).toLowerCase():e.amPM.textContent=e.l10n.amPM[0],V(),lp();break;case e.l10n.amPM[1].charAt(0):case e.l10n.amPM[1].charAt(0).toLowerCase():e.amPM.textContent=e.l10n.amPM[1],V(),lp()}(We||so(be))&&Ds("onKeyDown",ge)}function xx(ge,be){if(void 0===be&&(be="flatpickr-day"),1===e.selectedDates.length&&(!ge||ge.classList.contains(be)&&!ge.classList.contains("flatpickr-disabled"))){for(var We=ge?ge.dateObj.getTime():e.days.firstElementChild.dateObj.getTime(),pt=e.parseDate(e.selectedDates[0],void 0,!0).getTime(),Zt=Math.min(We,e.selectedDates[0].getTime()),fn=Math.max(We,e.selectedDates[0].getTime()),ui=!1,Dn=0,Si=0,wn=Zt;wn<fn;wn+=aK.DAY)Es(new Date(wn),!0)||(ui=ui||wn>Zt&&wn<fn,wn<pt&&(!Dn||wn>Dn)?Dn=wn:wn>pt&&(!Si||wn<Si)&&(Si=wn));Array.from(e.rContainer.querySelectorAll("*:nth-child(-n+"+e.config.showMonths+") > ."+be)).forEach(function(Ir){var Zl=Ir.dateObj.getTime(),fS=Dn>0&&Zl<Dn||Si>0&&Zl>Si;if(fS)return Ir.classList.add("notAllowed"),void["inRange","startRange","endRange"].forEach(function(Sx){Ir.classList.remove(Sx)});ui&&!fS||(["startRange","inRange","endRange","notAllowed"].forEach(function(Sx){Ir.classList.remove(Sx)}),void 0!==ge&&(ge.classList.add(We<=e.selectedDates[0].getTime()?"startRange":"endRange"),pt<We&&Zl===pt?Ir.classList.add("startRange"):pt>We&&Zl===pt&&Ir.classList.add("endRange"),Zl>=Dn&&(0===Si||Zl<=Si)&&sK(Zl,pt,We)&&Ir.classList.add("inRange")))})}}function GN(){e.isOpen&&!e.config.static&&!e.config.inline&&Cx()}function WN(ge){return function(be){var We=e.config["_"+ge+"Date"]=e.parseDate(be,e.config.dateFormat),pt=e.config["_"+("min"===ge?"max":"min")+"Date"];void 0!==We&&(e["min"===ge?"minDateHasTime":"maxDateHasTime"]=We.getHours()>0||We.getMinutes()>0||We.getSeconds()>0),e.selectedDates&&(e.selectedDates=e.selectedDates.filter(function(Zt){return Es(Zt)}),!e.selectedDates.length&&"min"===ge&&W(We),lp()),e.daysContainer&&(dS(),void 0!==We?e.currentYearElement[ge]=We.getFullYear().toString():e.currentYearElement.removeAttribute(ge),e.currentYearElement.disabled=!!pt&&void 0!==We&&pt.getFullYear()===We.getFullYear())}}function uS(){return e.config.wrap?n.querySelector("[data-input]"):n}function YN(){"object"!=typeof e.config.locale&&typeof no.l10ns[e.config.locale]>"u"&&e.config.errorHandler(new Error("flatpickr: invalid locale "+e.config.locale)),e.l10n=ma(ma({},no.l10ns.default),"object"==typeof e.config.locale?e.config.locale:"default"!==e.config.locale?no.l10ns[e.config.locale]:void 0),l_.D="("+e.l10n.weekdays.shorthand.join("|")+")",l_.l="("+e.l10n.weekdays.longhand.join("|")+")",l_.M="("+e.l10n.months.shorthand.join("|")+")",l_.F="("+e.l10n.months.longhand.join("|")+")",l_.K="("+e.l10n.amPM[0]+"|"+e.l10n.amPM[1]+"|"+e.l10n.amPM[0].toLowerCase()+"|"+e.l10n.amPM[1].toLowerCase()+")",void 0===ma(ma({},t),JSON.parse(JSON.stringify(n.dataset||{}))).time_24hr&&void 0===no.defaultConfig.time_24hr&&(e.config.time_24hr=e.l10n.time_24hr),e.formatDate=oj(e),e.parseDate=LL({config:e.config,l10n:e.l10n})}function Cx(ge){if("function"!=typeof e.config.position){if(void 0!==e.calendarContainer){Ds("onPreCalendarPosition");var be=ge||e._positionElement,We=Array.prototype.reduce.call(e.calendarContainer.children,function(oue,aue){return oue+aue.offsetHeight},0),pt=e.calendarContainer.offsetWidth,Zt=e.config.position.split(" "),fn=Zt[0],ui=Zt.length>1?Zt[1]:null,Dn=be.getBoundingClientRect(),Si=window.innerHeight-Dn.bottom,wn="above"===fn||"below"!==fn&&Si<We&&Dn.top>We,qn=window.pageYOffset+Dn.top+(wn?-We-2:be.offsetHeight+2);if(Ba(e.calendarContainer,"arrowTop",!wn),Ba(e.calendarContainer,"arrowBottom",wn),!e.config.inline){var Ir=window.pageXOffset+Dn.left,bh=!1,Zl=!1;"center"===ui?(Ir-=(pt-Dn.width)/2,bh=!0):"right"===ui&&(Ir-=pt-Dn.width,Zl=!0),Ba(e.calendarContainer,"arrowLeft",!bh&&!Zl),Ba(e.calendarContainer,"arrowCenter",bh),Ba(e.calendarContainer,"arrowRight",Zl);var fS=window.document.body.offsetWidth-(window.pageXOffset+Dn.right),Sx=Ir+pt>window.document.body.offsetWidth,Jce=fS+pt>window.document.body.offsetWidth;if(Ba(e.calendarContainer,"rightMost",Sx),!e.config.static)if(e.calendarContainer.style.top=qn+"px",Sx)if(Jce){var xV=function ap(){for(var ge=null,be=0;be<document.styleSheets.length;be++){var We=document.styleSheets[be];if(We.cssRules){ge=We;break}}return ge??function Ex(){var ge=document.createElement("style");return document.head.appendChild(ge),ge.sheet}()}();if(void 0===xV)return;var eue=window.document.body.offsetWidth,tue=Math.max(0,eue/2-pt/2),rue=xV.cssRules.length,sue="{left:"+Dn.left+"px;right:auto;}";Ba(e.calendarContainer,"rightMost",!1),Ba(e.calendarContainer,"centerMost",!0),xV.insertRule(".flatpickr-calendar.centerMost:before,.flatpickr-calendar.centerMost:after"+sue,rue),e.calendarContainer.style.left=tue+"px",e.calendarContainer.style.right="auto"}else e.calendarContainer.style.left="auto",e.calendarContainer.style.right=fS+"px";else e.calendarContainer.style.left=Ir+"px",e.calendarContainer.style.right="auto"}}}else e.config.position(e,ge)}function dS(){e.config.noCalendar||e.isMobile||(Rn(),XN(),Ht())}function Dx(){e._input.focus(),-1!==window.navigator.userAgent.indexOf("MSIE")||void 0!==navigator.msMaxTouchPoints?setTimeout(e.close,0):e.close()}function Tx(ge){ge.preventDefault(),ge.stopPropagation();var We=sj(zl(ge),function(qn){return qn.classList&&qn.classList.contains("flatpickr-day")&&!qn.classList.contains("flatpickr-disabled")&&!qn.classList.contains("notAllowed")});if(void 0!==We){var pt=We,Zt=e.latestSelectedDateObj=new Date(pt.dateObj.getTime()),fn=(Zt.getMonth()<e.currentMonth||Zt.getMonth()>e.currentMonth+e.config.showMonths-1)&&"range"!==e.config.mode;if(e.selectedDateElem=pt,"single"===e.config.mode)e.selectedDates=[Zt];else if("multiple"===e.config.mode){var ui=bV(Zt);ui?e.selectedDates.splice(parseInt(ui),1):e.selectedDates.push(Zt)}else"range"===e.config.mode&&(2===e.selectedDates.length&&e.clear(!1,!1),e.latestSelectedDateObj=Zt,e.selectedDates.push(Zt),0!==jl(Zt,e.selectedDates[0],!0)&&e.selectedDates.sort(function(qn,Ir){return qn.getTime()-Ir.getTime()}));if(V(),fn){var Dn=e.currentYear!==Zt.getFullYear();e.currentYear=Zt.getFullYear(),e.currentMonth=Zt.getMonth(),Dn&&(Ds("onYearChange"),Rn()),Ds("onMonthChange")}XN(),Ht(),lp(),fn||"range"===e.config.mode||1!==e.config.showMonths?void 0!==e.selectedDateElem&&void 0===e.hourElement&&e.selectedDateElem&&e.selectedDateElem.focus():jt(pt),void 0!==e.hourElement&&void 0!==e.hourElement&&e.hourElement.focus(),e.config.closeOnSelect&&("single"===e.config.mode&&!e.config.enableTime||"range"===e.config.mode&&2===e.selectedDates.length&&!e.config.enableTime)&&Dx(),fe()}}e.parseDate=LL({config:e.config,l10n:e.l10n}),e._handlers=[],e.pluginElements=[],e.loadedPlugins=[],e._bind=ae,e._setHoursFromDate=W,e._positionCalendar=Cx,e.changeMonth=hr,e.changeYear=Br,e.clear=function Zr(ge,be){if(void 0===ge&&(ge=!0),void 0===be&&(be=!0),e.input.value="",void 0!==e.altInput&&(e.altInput.value=""),void 0!==e.mobileInput&&(e.mobileInput.value=""),e.selectedDates=[],e.latestSelectedDateObj=void 0,!0===be&&(e.currentYear=e._initialDate.getFullYear(),e.currentMonth=e._initialDate.getMonth()),!0===e.config.enableTime){var We=VL(e.config);K(We.hours,We.minutes,We.seconds)}e.redraw(),ge&&Ds("onChange")},e.close=function ea(){e.isOpen=!1,e.isMobile||(void 0!==e.calendarContainer&&e.calendarContainer.classList.remove("open"),void 0!==e._input&&e._input.classList.remove("active")),Ds("onClose")},e.onMouseOver=xx,e._createElement=er,e.createDay=bt,e.destroy=function Pi(){void 0!==e.config&&Ds("onDestroy");for(var ge=e._handlers.length;ge--;)e._handlers[ge].remove();if(e._handlers=[],e.mobileInput)e.mobileInput.parentNode&&e.mobileInput.parentNode.removeChild(e.mobileInput),e.mobileInput=void 0;else if(e.calendarContainer&&e.calendarContainer.parentNode)if(e.config.static&&e.calendarContainer.parentNode){var be=e.calendarContainer.parentNode;if(be.lastChild&&be.removeChild(be.lastChild),be.parentNode){for(;be.firstChild;)be.parentNode.insertBefore(be.firstChild,be);be.parentNode.removeChild(be)}}else e.calendarContainer.parentNode.removeChild(e.calendarContainer);e.altInput&&(e.input.type="text",e.altInput.parentNode&&e.altInput.parentNode.removeChild(e.altInput),delete e.altInput),e.input&&(e.input.type=e.input._type,e.input.classList.remove("flatpickr-input"),e.input.removeAttribute("readonly")),["_showTimeInput","latestSelectedDateObj","_hideNextMonthArrow","_hidePrevMonthArrow","__hideNextMonthArrow","__hidePrevMonthArrow","isMobile","isOpen","selectedDateElem","minDateHasTime","maxDateHasTime","days","daysContainer","_input","_positionElement","innerContainer","rContainer","monthNav","todayDateElem","calendarContainer","weekdayContainer","prevMonthNav","nextMonthNav","monthsDropdownContainer","currentMonthElement","currentYearElement","navigationCurrentMonth","selectedDateElem","config"].forEach(function(We){try{delete e[We]}catch{}})},e.isEnabled=Es,e.jumpToDate=Be,e.updateValue=lp,e.open=function yV(ge,be){if(void 0===be&&(be=e._positionElement),!0===e.isMobile){if(ge){ge.preventDefault();var We=zl(ge);We&&We.blur()}return void 0!==e.mobileInput&&(e.mobileInput.focus(),e.mobileInput.click()),void Ds("onOpen")}if(!e._input.disabled&&!e.config.inline){var pt=e.isOpen;e.isOpen=!0,pt||(e.calendarContainer.classList.add("open"),e._input.classList.add("active"),Ds("onOpen"),Cx(be)),!0===e.config.enableTime&&!0===e.config.noCalendar&&!1===e.config.allowInput&&(void 0===ge||!e.timeContainer.contains(ge.relatedTarget))&&setTimeout(function(){return e.hourElement.select()},50)}},e.redraw=dS,e.set=function qN(ge,be){if(null!==ge&&"object"==typeof ge)for(var We in Object.assign(e.config,ge),ge)void 0!==O_[We]&&O_[We].forEach(function(pt){return pt()});else e.config[ge]=be,void 0!==O_[ge]?O_[ge].forEach(function(pt){return pt()}):OL.indexOf(ge)>-1&&(e.config[ge]=RL(be));e.redraw(),lp(!0)},e.setDate=function ZN(ge,be,We){if(void 0===be&&(be=!1),void 0===We&&(We=e.config.dateFormat),0!==ge&&!ge||ge instanceof Array&&0===ge.length)return e.clear(be);hS(ge,We),e.latestSelectedDateObj=e.selectedDates[e.selectedDates.length-1],e.redraw(),Be(void 0,be),W(),0===e.selectedDates.length&&e.clear(!1),lp(be),be&&Ds("onChange")},e.toggle=function Zce(ge){if(!0===e.isOpen)return e.close();e.open(ge)};var O_={locale:[YN,En],showMonths:[Jo,p,Cn],minDate:[Be],maxDate:[Be],positionElement:[y5],clickOpens:[function(){!0===e.config.clickOpens?(ae(e._input,"focus",e.open),ae(e._input,"click",e.open)):(e._input.removeEventListener("focus",e.open),e._input.removeEventListener("click",e.open))}]};function hS(ge,be){var We=[];if(ge instanceof Array)We=ge.map(function(pt){return e.parseDate(pt,be)});else if(ge instanceof Date||"number"==typeof ge)We=[e.parseDate(ge,be)];else if("string"==typeof ge)switch(e.config.mode){case"single":case"time":We=[e.parseDate(ge,be)];break;case"multiple":We=ge.split(e.config.conjunction).map(function(pt){return e.parseDate(pt,be)});break;case"range":We=ge.split(e.l10n.rangeSeparator).map(function(pt){return e.parseDate(pt,be)})}else e.config.errorHandler(new Error("Invalid date supplied: "+JSON.stringify(ge)));e.selectedDates=e.config.allowInvalidPreload?We:We.filter(function(pt){return pt instanceof Date&&Es(pt,!1)}),"range"===e.config.mode&&e.selectedDates.sort(function(pt,Zt){return pt.getTime()-Zt.getTime()})}function v5(ge){return ge.slice().map(function(be){return"string"==typeof be||"number"==typeof be||be instanceof Date?e.parseDate(be,void 0,!0):be&&"object"==typeof be&&be.from&&be.to?{from:e.parseDate(be.from,void 0),to:e.parseDate(be.to,void 0)}:be}).filter(function(be){return be})}function y5(){e._positionElement=e.config.positionElement||e._input}function Ds(ge,be){if(void 0!==e.config){var We=e.config[ge];if(void 0!==We&&We.length>0)for(var pt=0;We[pt]&&pt<We.length;pt++)We[pt](e.selectedDates,e.input.value,e,be);"onChange"===ge&&(e.input.dispatchEvent(_V("change")),e.input.dispatchEvent(_V("input")))}}function _V(ge){var be=document.createEvent("Event");return be.initEvent(ge,!0,!0),be}function bV(ge){for(var be=0;be<e.selectedDates.length;be++){var We=e.selectedDates[be];if(We instanceof Date&&0===jl(We,ge))return""+be}return!1}function XN(){e.config.noCalendar||e.isMobile||!e.monthNav||(e.yearElements.forEach(function(ge,be){var We=new Date(e.currentYear,e.currentMonth,1);We.setMonth(e.currentMonth+be),e.config.showMonths>1||"static"===e.config.monthSelectorType?e.monthElements[be].textContent=HO(We.getMonth(),e.config.shorthandCurrentMonth,e.l10n)+" ":e.monthsDropdownContainer.value=We.getMonth().toString(),ge.value=We.getFullYear().toString()}),e._hidePrevMonthArrow=void 0!==e.config.minDate&&(e.currentYear===e.config.minDate.getFullYear()?e.currentMonth<=e.config.minDate.getMonth():e.currentYear<e.config.minDate.getFullYear()),e._hideNextMonthArrow=void 0!==e.config.maxDate&&(e.currentYear===e.config.maxDate.getFullYear()?e.currentMonth+1>e.config.maxDate.getMonth():e.currentYear>e.config.maxDate.getFullYear()))}function wV(ge){var be=ge||(e.config.altInput?e.config.altFormat:e.config.dateFormat);return e.selectedDates.map(function(We){return e.formatDate(We,be)}).filter(function(We,pt,Zt){return"range"!==e.config.mode||e.config.enableTime||Zt.indexOf(We)===pt}).join("range"!==e.config.mode?e.config.conjunction:e.l10n.rangeSeparator)}function lp(ge){void 0===ge&&(ge=!0),void 0!==e.mobileInput&&e.mobileFormatStr&&(e.mobileInput.value=void 0!==e.latestSelectedDateObj?e.formatDate(e.latestSelectedDateObj,e.mobileFormatStr):""),e.input.value=wV(e.config.dateFormat),void 0!==e.altInput&&(e.altInput.value=wV(e.config.altFormat)),!1!==ge&&Ds("onValueUpdate")}function Kce(ge){var be=zl(ge),We=e.prevMonthNav.contains(be),pt=e.nextMonthNav.contains(be);We||pt?hr(We?-1:1):e.yearElements.indexOf(be)>=0?be.select():be.classList.contains("arrowUp")?e.changeYear(e.currentYear+1):be.classList.contains("arrowDown")&&e.changeYear(e.currentYear-1)}return function r(){e.element=e.input=n,e.isOpen=!1,function $N(){var ge=["wrap","weekNumbers","allowInput","allowInvalidPreload","clickOpens","time_24hr","enableTime","noCalendar","altInput","shorthandCurrentMonth","inline","static","enableSeconds","disableMobile"],be=ma(ma({},JSON.parse(JSON.stringify(n.dataset||{}))),t),We={};e.config.parseDate=be.parseDate,e.config.formatDate=be.formatDate,Object.defineProperty(e.config,"enable",{get:function(){return e.config._enable},set:function(qn){e.config._enable=v5(qn)}}),Object.defineProperty(e.config,"disable",{get:function(){return e.config._disable},set:function(qn){e.config._disable=v5(qn)}});var pt="time"===be.mode;be.dateFormat||!be.enableTime&&!pt||(We.dateFormat=be.noCalendar||pt?"H:i"+(be.enableSeconds?":S":""):(no.defaultConfig.dateFormat||Zw.dateFormat)+" H:i"+(be.enableSeconds?":S":"")),be.altInput&&(be.enableTime||pt)&&!be.altFormat&&(We.altFormat=be.noCalendar||pt?"h:i"+(be.enableSeconds?":S K":" K"):(no.defaultConfig.altFormat||Zw.altFormat)+" h:i"+(be.enableSeconds?":S":"")+" K"),Object.defineProperty(e.config,"minDate",{get:function(){return e.config._minDate},set:WN("min")}),Object.defineProperty(e.config,"maxDate",{get:function(){return e.config._maxDate},set:WN("max")});var ui=function(qn){return function(Ir){e.config["min"===qn?"_minTime":"_maxTime"]=e.parseDate(Ir,"H:i:S")}};Object.defineProperty(e.config,"minTime",{get:function(){return e.config._minTime},set:ui("min")}),Object.defineProperty(e.config,"maxTime",{get:function(){return e.config._maxTime},set:ui("max")}),"time"===be.mode&&(e.config.noCalendar=!0,e.config.enableTime=!0),Object.assign(e.config,We,be);for(var Dn=0;Dn<ge.length;Dn++)e.config[ge[Dn]]=!0===e.config[ge[Dn]]||"true"===e.config[ge[Dn]];for(OL.filter(function(qn){return void 0!==e.config[qn]}).forEach(function(qn){e.config[qn]=RL(e.config[qn]||[]).map(c)}),e.isMobile=!e.config.disableMobile&&!e.config.inline&&"single"===e.config.mode&&!e.config.disable.length&&!e.config.enable&&!e.config.weekNumbers&&/Android|webOS|iPhone|iPad|iPod|BlackBerry|IEMobile|Opera Mini/i.test(navigator.userAgent),Dn=0;Dn<e.config.plugins.length;Dn++){var Si=e.config.plugins[Dn](e)||{};for(var wn in Si)OL.indexOf(wn)>-1?e.config[wn]=RL(Si[wn]).map(c).concat(e.config[wn]):typeof be[wn]>"u"&&(e.config[wn]=Si[wn])}be.altInputClass||(e.config.altInputClass=uS().className+" "+e.config.altInputClass),Ds("onParseConfig")}(),YN(),function Yce(){e.input=uS(),e.input?(e.input._type=e.input.type,e.input.type="text",e.input.classList.add("flatpickr-input"),e._input=e.input,e.config.altInput&&(e.altInput=er(e.input.nodeName,e.config.altInputClass),e._input=e.altInput,e.altInput.placeholder=e.input.placeholder,e.altInput.disabled=e.input.disabled,e.altInput.required=e.input.required,e.altInput.tabIndex=e.input.tabIndex,e.altInput.type="text",e.input.setAttribute("type","hidden"),!e.config.static&&e.input.parentNode&&e.input.parentNode.insertBefore(e.altInput,e.input.nextSibling)),e.config.allowInput||e._input.setAttribute("readonly","readonly"),y5()):e.config.errorHandler(new Error("Invalid input element specified"))}(),function $ce(){e.selectedDates=[],e.now=e.parseDate(e.config.now)||new Date;var ge=e.config.defaultDate||("INPUT"!==e.input.nodeName&&"TEXTAREA"!==e.input.nodeName||!e.input.placeholder||e.input.value!==e.input.placeholder?e.input.value:null);ge&&hS(ge,e.config.dateFormat),e._initialDate=e.selectedDates.length>0?e.selectedDates[0]:e.config.minDate&&e.config.minDate.getTime()>e.now.getTime()?e.config.minDate:e.config.maxDate&&e.config.maxDate.getTime()<e.now.getTime()?e.config.maxDate:e.now,e.currentYear=e._initialDate.getFullYear(),e.currentMonth=e._initialDate.getMonth(),e.selectedDates.length>0&&(e.latestSelectedDateObj=e.selectedDates[0]),void 0!==e.config.minTime&&(e.config.minTime=e.parseDate(e.config.minTime,"H:i")),void 0!==e.config.maxTime&&(e.config.maxTime=e.parseDate(e.config.maxTime,"H:i")),e.minDateHasTime=!!e.config.minDate&&(e.config.minDate.getHours()>0||e.config.minDate.getMinutes()>0||e.config.minDate.getSeconds()>0),e.maxDateHasTime=!!e.config.maxDate&&(e.config.maxDate.getHours()>0||e.config.maxDate.getMinutes()>0||e.config.maxDate.getSeconds()>0)}(),function i(){e.utils={getDaysInMonth:function(ge,be){return void 0===ge&&(ge=e.currentMonth),void 0===be&&(be=e.currentYear),1===ge&&(be%4==0&&be%100!=0||be%400==0)?29:e.l10n.daysInMonth[ge]}}}(),e.isMobile||function ut(){var ge=window.document.createDocumentFragment();if(e.calendarContainer=er("div","flatpickr-calendar"),e.calendarContainer.tabIndex=-1,!e.config.noCalendar){if(ge.appendChild(function Xt(){return e.monthNav=er("div","flatpickr-months"),e.yearElements=[],e.monthElements=[],e.prevMonthNav=er("span","flatpickr-prev-month"),e.prevMonthNav.innerHTML=e.config.prevArrow,e.nextMonthNav=er("span","flatpickr-next-month"),e.nextMonthNav.innerHTML=e.config.nextArrow,Jo(),Object.defineProperty(e,"_hidePrevMonthArrow",{get:function(){return e.__hidePrevMonthArrow},set:function(ge){e.__hidePrevMonthArrow!==ge&&(Ba(e.prevMonthNav,"flatpickr-disabled",ge),e.__hidePrevMonthArrow=ge)}}),Object.defineProperty(e,"_hideNextMonthArrow",{get:function(){return e.__hideNextMonthArrow},set:function(ge){e.__hideNextMonthArrow!==ge&&(Ba(e.nextMonthNav,"flatpickr-disabled",ge),e.__hideNextMonthArrow=ge)}}),e.currentYearElement=e.yearElements[0],XN(),e.monthNav}()),e.innerContainer=er("div","flatpickr-innerContainer"),e.config.weekNumbers){var be=function qi(){e.calendarContainer.classList.add("hasWeeks");var ge=er("div","flatpickr-weekwrapper");ge.appendChild(er("span","flatpickr-weekday",e.l10n.weekAbbreviation));var be=er("div","flatpickr-weeks");return ge.appendChild(be),{weekWrapper:ge,weekNumbers:be}}(),We=be.weekWrapper,pt=be.weekNumbers;e.innerContainer.appendChild(We),e.weekNumbers=pt,e.weekWrapper=We}e.rContainer=er("div","flatpickr-rContainer"),e.rContainer.appendChild(Cn()),e.daysContainer||(e.daysContainer=er("div","flatpickr-days"),e.daysContainer.tabIndex=-1),Ht(),e.rContainer.appendChild(e.daysContainer),e.innerContainer.appendChild(e.rContainer),ge.appendChild(e.innerContainer)}e.config.enableTime&&ge.appendChild(function un(){e.calendarContainer.classList.add("hasTime"),e.config.noCalendar&&e.calendarContainer.classList.add("noCalendar");var ge=VL(e.config);e.timeContainer=er("div","flatpickr-time"),e.timeContainer.tabIndex=-1;var be=er("span","flatpickr-time-separator",":"),We=VO("flatpickr-hour",{"aria-label":e.l10n.hourAriaLabel});e.hourElement=We.getElementsByTagName("input")[0];var pt=VO("flatpickr-minute",{"aria-label":e.l10n.minuteAriaLabel});if(e.minuteElement=pt.getElementsByTagName("input")[0],e.hourElement.tabIndex=e.minuteElement.tabIndex=-1,e.hourElement.value=sl(e.latestSelectedDateObj?e.latestSelectedDateObj.getHours():e.config.time_24hr?ge.hours:function M(ge){switch(ge%24){case 0:case 12:return 12;default:return ge%12}}(ge.hours)),e.minuteElement.value=sl(e.latestSelectedDateObj?e.latestSelectedDateObj.getMinutes():ge.minutes),e.hourElement.setAttribute("step",e.config.hourIncrement.toString()),e.minuteElement.setAttribute("step",e.config.minuteIncrement.toString()),e.hourElement.setAttribute("min",e.config.time_24hr?"0":"1"),e.hourElement.setAttribute("max",e.config.time_24hr?"23":"12"),e.hourElement.setAttribute("maxlength","2"),e.minuteElement.setAttribute("min","0"),e.minuteElement.setAttribute("max","59"),e.minuteElement.setAttribute("maxlength","2"),e.timeContainer.appendChild(We),e.timeContainer.appendChild(be),e.timeContainer.appendChild(pt),e.config.time_24hr&&e.timeContainer.classList.add("time24hr"),e.config.enableSeconds){e.timeContainer.classList.add("hasSeconds");var Zt=VO("flatpickr-second");e.secondElement=Zt.getElementsByTagName("input")[0],e.secondElement.value=sl(e.latestSelectedDateObj?e.latestSelectedDateObj.getSeconds():ge.seconds),e.secondElement.setAttribute("step",e.minuteElement.getAttribute("step")),e.secondElement.setAttribute("min","0"),e.secondElement.setAttribute("max","59"),e.secondElement.setAttribute("maxlength","2"),e.timeContainer.appendChild(er("span","flatpickr-time-separator",":")),e.timeContainer.appendChild(Zt)}return e.config.time_24hr||(e.amPM=er("span","flatpickr-am-pm",e.l10n.amPM[Rc((e.latestSelectedDateObj?e.hourElement.value:e.config.defaultHour)>11)]),e.amPM.title=e.l10n.toggleTitle,e.amPM.tabIndex=-1,e.timeContainer.appendChild(e.amPM)),e.timeContainer}()),Ba(e.calendarContainer,"rangeMode","range"===e.config.mode),Ba(e.calendarContainer,"animate",!0===e.config.animate),Ba(e.calendarContainer,"multiMonth",e.config.showMonths>1),e.calendarContainer.appendChild(ge);var Zt=void 0!==e.config.appendTo&&void 0!==e.config.appendTo.nodeType;if((e.config.inline||e.config.static)&&(e.calendarContainer.classList.add(e.config.inline?"inline":"static"),e.config.inline&&(!Zt&&e.element.parentNode?e.element.parentNode.insertBefore(e.calendarContainer,e._input.nextSibling):void 0!==e.config.appendTo&&e.config.appendTo.appendChild(e.calendarContainer)),e.config.static)){var fn=er("div","flatpickr-wrapper");e.element.parentNode&&e.element.parentNode.insertBefore(fn,e.element),fn.appendChild(e.element),e.altInput&&fn.appendChild(e.altInput),fn.appendChild(e.calendarContainer)}!e.config.static&&!e.config.inline&&(void 0!==e.config.appendTo?e.config.appendTo:window.document.body).appendChild(e.calendarContainer)}(),function Pe(){if(e.config.wrap&&["open","close","toggle","clear"].forEach(function(We){Array.prototype.forEach.call(e.element.querySelectorAll("[data-"+We+"]"),function(pt){return ae(pt,"click",e[We])})}),e.isMobile)!function qce(){var ge=e.config.enableTime?e.config.noCalendar?"time":"datetime-local":"date";e.mobileInput=er("input",e.input.className+" flatpickr-mobile"),e.mobileInput.tabIndex=1,e.mobileInput.type=ge,e.mobileInput.disabled=e.input.disabled,e.mobileInput.required=e.input.required,e.mobileInput.placeholder=e.input.placeholder,e.mobileFormatStr="datetime-local"===ge?"Y-m-d\\TH:i:S":"date"===ge?"Y-m-d":"H:i:S",e.selectedDates.length>0&&(e.mobileInput.defaultValue=e.mobileInput.value=e.formatDate(e.selectedDates[0],e.mobileFormatStr)),e.config.minDate&&(e.mobileInput.min=e.formatDate(e.config.minDate,"Y-m-d")),e.config.maxDate&&(e.mobileInput.max=e.formatDate(e.config.maxDate,"Y-m-d")),e.input.getAttribute("step")&&(e.mobileInput.step=String(e.input.getAttribute("step"))),e.input.type="hidden",void 0!==e.altInput&&(e.altInput.type="hidden");try{e.input.parentNode&&e.input.parentNode.insertBefore(e.mobileInput,e.input.nextSibling)}catch{}ae(e.mobileInput,"change",function(be){e.setDate(zl(be).value,!1,e.mobileFormatStr),Ds("onChange"),Ds("onClose")})}();else{var ge=rj(GN,50);if(e._debouncedChange=rj(fe,lK),e.daysContainer&&!/iPhone|iPad|iPod/i.test(navigator.userAgent)&&ae(e.daysContainer,"mouseover",function(We){"range"===e.config.mode&&xx(zl(We))}),ae(e._input,"keydown",_h),void 0!==e.calendarContainer&&ae(e.calendarContainer,"keydown",_h),!e.config.inline&&!e.config.static&&ae(window,"resize",ge),void 0!==window.ontouchstart?ae(window.document,"touchstart",ql):ae(window.document,"mousedown",ql),ae(window.document,"focus",ql,{capture:!0}),!0===e.config.clickOpens&&(ae(e._input,"focus",e.open),ae(e._input,"click",e.open)),void 0!==e.daysContainer&&(ae(e.monthNav,"click",Kce),ae(e.monthNav,["keyup","increment"],oe),ae(e.daysContainer,"click",Tx)),void 0!==e.timeContainer&&void 0!==e.minuteElement&&void 0!==e.hourElement){ae(e.timeContainer,["increment"],_),ae(e.timeContainer,"blur",_,{capture:!0}),ae(e.timeContainer,"click",Re),ae([e.hourElement,e.minuteElement],["focus","click"],function(We){return zl(We).select()}),void 0!==e.secondElement&&ae(e.secondElement,"focus",function(){return e.secondElement&&e.secondElement.select()}),void 0!==e.amPM&&ae(e.amPM,"click",function(We){_(We)})}e.config.allowInput&&ae(e._input,"blur",Om)}}(),(e.selectedDates.length||e.config.noCalendar)&&(e.config.enableTime&&W(e.config.noCalendar?e.latestSelectedDateObj:void 0),lp(!1)),p();var ge=/^((?!chrome|android).)*safari/i.test(navigator.userAgent);!e.isMobile&&ge&&Cx(),Ds("onReady")}(),e}function Xw(n,t){for(var e=Array.prototype.slice.call(n).filter(function(c){return c instanceof HTMLElement}),i=[],r=0;r<e.length;r++){var s=e[r];try{if(null!==s.getAttribute("data-fp-omit"))continue;void 0!==s._flatpickr&&(s._flatpickr.destroy(),s._flatpickr=void 0),s._flatpickr=cK(s,t||{}),i.push(s._flatpickr)}catch(c){console.error(c)}}return 1===i.length?i[0]:i}typeof HTMLElement<"u"&&typeof HTMLCollection<"u"&&typeof NodeList<"u"&&(HTMLCollection.prototype.flatpickr=NodeList.prototype.flatpickr=function(n){return Xw(this,n)},HTMLElement.prototype.flatpickr=function(n){return Xw([this],n)});var no=function(n,t){return"string"==typeof n?Xw(window.document.querySelectorAll(n),t):n instanceof Node?Xw([n],t):Xw(n,t)};no.defaultConfig={},no.l10ns={en:ma({},PL),default:ma({},PL)},no.localize=function(n){no.l10ns.default=ma(ma({},no.l10ns.default),n)},no.setDefaults=function(n){no.defaultConfig=ma(ma({},no.defaultConfig),n)},no.parseDate=LL({}),no.formatDate=oj({}),no.compareDates=jl,typeof jQuery<"u"&&typeof jQuery.fn<"u"&&(jQuery.fn.flatpickr=function(n){return Xw(this,n)}),Date.prototype.fp_incr=function(n){return new Date(this.getFullYear(),this.getMonth(),this.getDate()+("string"==typeof n?parseInt(n,10):n))},typeof window<"u"&&(window.flatpickr=no);const uK=no;let HL=(()=>{class n{constructor(){this.altFormat="F j, Y",this.altInput=!1,this.altInputClass="",this.allowInput=!1,this.allowInvalidPreload=!1,this.appendTo=void 0,this.ariaDateFormat="F j, Y",this.clickOpens=!0,this.dateFormat="Y-m-d",this.defaultHour=12,this.defaultMinute=0,this.defaultSeconds=0,this.disable=[],this.disableMobile=!1,this.enableTime=!1,this.enableSeconds=!1,this.formatDate=void 0,this.hourIncrement=1,this.inline=!1,this.maxDate=void 0,this.minDate=void 0,this.maxTime=void 0,this.minTime=void 0,this.minuteIncrement=5,this.mode="single",this.nextArrow=">",this.noCalendar=!1,this.now=new Date,this.prevArrow="<",this.shorthandCurrentMonth=!1,this.static=!1,this.time24hr=!1,this.utc=!1,this.weekNumbers=!1,this.wrap=!1,this.plugins=[],this.locale="default",this.convertModelValue=!1,this.showMonths=1,this.monthSelectorType="static",this.ignoredFocusElements=[]}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275prov=a.Yz7({token:n,factory:n.\u0275fac}),n})();const dK={provide:Vl,useExisting:(0,a.Gpc)(()=>lj),multi:!0};let lj=(()=>{class n{constructor(e,i,r){this.elm=e,this.defaults=i,this.renderer=r,this.options={},this.ignoredFocusElements=[],this.flatpickrReady=new a.vpe,this.flatpickrChange=new a.vpe,this.flatpickrValueUpdate=new a.vpe,this.flatpickrOpen=new a.vpe,this.flatpickrClose=new a.vpe,this.flatpickrMonthChange=new a.vpe,this.flatpickrYearChange=new a.vpe,this.flatpickrDayCreate=new a.vpe,this.isDisabled=!1,this.onChangeFn=()=>{},this.onTouchedFn=()=>{}}ngAfterViewInit(){const e={altFormat:this.altFormat,altInput:this.altInput,altInputClass:this.altInputClass,allowInput:this.allowInput,allowInvalidPreload:this.allowInvalidPreload,appendTo:this.appendTo,ariaDateFormat:this.ariaDateFormat,clickOpens:this.clickOpens,dateFormat:this.dateFormat,defaultHour:this.defaultHour,defaultMinute:this.defaultMinute,defaultSeconds:this.defaultSeconds,disable:this.disable,disableMobile:this.disableMobile,enable:this.enable,enableTime:this.enableTime,enableSeconds:this.enableSeconds,formatDate:this.formatDate,hourIncrement:this.hourIncrement,defaultDate:this.initialValue,inline:this.inline,maxDate:this.maxDate,minDate:this.minDate,maxTime:this.maxTime,minTime:this.minTime,minuteIncrement:this.minuteIncrement,mode:this.mode,nextArrow:this.nextArrow,noCalendar:this.noCalendar,now:this.now,parseDate:this.parseDate,prevArrow:this.prevArrow,shorthandCurrentMonth:this.shorthandCurrentMonth,showMonths:this.showMonths,monthSelectorType:this.monthSelectorType,static:this.static,time24hr:this.time24hr,weekNumbers:this.weekNumbers,getWeek:this.getWeek,wrap:this.wrap,plugins:this.plugins,locale:this.locale,ignoredFocusElements:this.ignoredFocusElements,onChange:(i,r,s)=>{this.flatpickrChange.emit({selectedDates:i,dateString:r,instance:s})},onOpen:(i,r,s)=>{this.flatpickrOpen.emit({selectedDates:i,dateString:r,instance:s})},onClose:(i,r,s)=>{this.flatpickrClose.emit({selectedDates:i,dateString:r,instance:s})},onMonthChange:(i,r,s)=>{this.flatpickrMonthChange.emit({selectedDates:i,dateString:r,instance:s})},onYearChange:(i,r,s)=>{this.flatpickrYearChange.emit({selectedDates:i,dateString:r,instance:s})},onReady:(i,r,s)=>{this.flatpickrReady.emit({selectedDates:i,dateString:r,instance:s})},onValueUpdate:(i,r,s)=>{this.flatpickrValueUpdate.emit({selectedDates:i,dateString:r,instance:s})},onDayCreate:(i,r,s,c)=>{this.flatpickrDayCreate.emit({selectedDates:i,dateString:r,instance:s,dayElement:c})}};Object.keys(e).forEach(i=>{typeof e[i]>"u"&&(e[i]=typeof this.options[i]<"u"?this.options[i]:this.defaults[i])}),e.time_24hr=e.time24hr,e.altInputClass=(e.altInputClass||"")+" "+this.elm.nativeElement.className,e.enable||delete e.enable,this.instance=uK(this.elm.nativeElement,e),this.setDisabledState(this.isDisabled)}ngOnChanges(e){this.instance&&Object.keys(e).forEach(i=>{this.instance.set(i,this[i])})}ngOnDestroy(){this.instance&&this.instance.destroy()}writeValue(e){let i=e;this.convertModelValue&&"range"===this.mode&&e&&(i=[e.from,e.to]),this.instance?this.instance.setDate(i):this.initialValue=i}registerOnChange(e){this.onChangeFn=e}registerOnTouched(e){this.onTouchedFn=e}setDisabledState(e){this.isDisabled=e,this.instance&&(this.isDisabled?this.renderer.setProperty(this.instance._input,"disabled","disabled"):this.renderer.removeAttribute(this.instance._input,"disabled"))}inputChanged(){const e=this.elm.nativeElement.value;if(this.convertModelValue&&"string"==typeof e)switch(this.mode){case"multiple":const i=e.split("; ").map(c=>this.instance.parseDate(c,this.instance.config.dateFormat,!this.instance.config.enableTime));this.onChangeFn(i);break;case"range":const[r,s]=e.split(this.instance.l10n.rangeSeparator).map(c=>this.instance.parseDate(c,this.instance.config.dateFormat,!this.instance.config.enableTime));this.onChangeFn({from:r,to:s});break;default:this.onChangeFn(this.instance.parseDate(e,this.instance.config.dateFormat,!this.instance.config.enableTime))}else this.onChangeFn(e)}}return n.\u0275fac=function(e){return new(e||n)(a.Y36(a.SBq),a.Y36(HL),a.Y36(a.Qsj))},n.\u0275dir=a.lG2({type:n,selectors:[["","mwlFlatpickr",""]],hostBindings:function(e,i){1&e&&a.NdJ("blur",function(){return i.onTouchedFn()})("input",function(){return i.inputChanged()})},inputs:{options:"options",altFormat:"altFormat",altInput:"altInput",altInputClass:"altInputClass",allowInput:"allowInput",allowInvalidPreload:"allowInvalidPreload",appendTo:"appendTo",ariaDateFormat:"ariaDateFormat",clickOpens:"clickOpens",dateFormat:"dateFormat",defaultHour:"defaultHour",defaultMinute:"defaultMinute",defaultSeconds:"defaultSeconds",disable:"disable",disableMobile:"disableMobile",enable:"enable",enableTime:"enableTime",enableSeconds:"enableSeconds",formatDate:"formatDate",hourIncrement:"hourIncrement",inline:"inline",maxDate:"maxDate",minDate:"minDate",maxTime:"maxTime",minTime:"minTime",minuteIncrement:"minuteIncrement",mode:"mode",nextArrow:"nextArrow",noCalendar:"noCalendar",now:"now",parseDate:"parseDate",prevArrow:"prevArrow",shorthandCurrentMonth:"shorthandCurrentMonth",showMonths:"showMonths",static:"static",time24hr:"time24hr",weekNumbers:"weekNumbers",getWeek:"getWeek",wrap:"wrap",plugins:"plugins",locale:"locale",convertModelValue:"convertModelValue",monthSelectorType:"monthSelectorType",ignoredFocusElements:"ignoredFocusElements"},outputs:{flatpickrReady:"flatpickrReady",flatpickrChange:"flatpickrChange",flatpickrValueUpdate:"flatpickrValueUpdate",flatpickrOpen:"flatpickrOpen",flatpickrClose:"flatpickrClose",flatpickrMonthChange:"flatpickrMonthChange",flatpickrYearChange:"flatpickrYearChange",flatpickrDayCreate:"flatpickrDayCreate"},exportAs:["mwlFlatpickr"],features:[a._Bn([dK]),a.TTD]}),n})();const cj=new a.OlP("flatpickr defaults");function hK(n){const t=new HL;return Object.assign(t,n),t}let fK=(()=>{class n{static forRoot(e={}){return{ngModule:n,providers:[{provide:cj,useValue:e},{provide:HL,useFactory:hK,deps:[cj]}]}}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=a.oAB({type:n}),n.\u0275inj=a.cJS({}),n})();var io=ce(1631),pK=ce(4266);const gK=["addListener","removeListener"],mK=["addEventListener","removeEventListener"],vK=["on","off"];function ro(n,t,e,i){if((0,Ps.m)(e)&&(i=e,e=void 0),i)return ro(n,t,e).pipe(BF(i));const[r,s]=function bK(n){return(0,Ps.m)(n.addEventListener)&&(0,Ps.m)(n.removeEventListener)}(n)?mK.map(c=>p=>n[c](t,p,e)):function yK(n){return(0,Ps.m)(n.addListener)&&(0,Ps.m)(n.removeListener)}(n)?gK.map(uj(n,t)):function _K(n){return(0,Ps.m)(n.on)&&(0,Ps.m)(n.off)}(n)?vK.map(uj(n,t)):[];if(!r&&(0,pK.z)(n))return(0,io.z)(c=>ro(c,t,e))((0,lh.Xf)(n));if(!r)throw new TypeError("Invalid event target");return new ar.y(c=>{const p=(..._)=>c.next(1<_.length?_:_[0]);return r(p),()=>s(p)})}function uj(n,t){return e=>i=>n[e](t,i)}var wK=ce(671);function UO(n=0,t,e=_s.P){let i=-1;return null!=t&&((0,wK.K)(t)?e=t:i=t),new ar.y(r=>{let s=function xK(n){return n instanceof Date&&!isNaN(n)}(n)?+n-e.now():n;s<0&&(s=0);let c=0;return e.schedule(function(){r.closed||(r.next(c++),0<=i?this.schedule(void 0,i):r.complete())},s)})}const{isArray:CK}=Array;function dj(n){return 1===n.length&&CK(n[0])?n[0]:n}function UL(...n){const t=(0,gu.jO)(n),e=dj(n);return e.length?new ar.y(i=>{let r=e.map(()=>[]),s=e.map(()=>!1);i.add(()=>{r=s=null});for(let c=0;!i.closed&&c<e.length;c++)(0,lh.Xf)(e[c]).subscribe((0,lr.x)(i,p=>{if(r[c].push(p),r.every(_=>_.length)){const _=r.map(C=>C.shift());i.next(t?t(..._):_),r.some((C,M)=>!C.length&&s[M])&&i.complete()}},()=>{s[c]=!0,!r[c].length&&i.complete()}));return()=>{r=s=null}}):Gr.E}function dr(n){return(0,Or.e)((t,e)=>{(0,lh.Xf)(n).subscribe((0,lr.x)(e,()=>e.complete(),I2.Z)),!e.closed&&t.subscribe(e)})}var xo=ce(9397);Math,Math,Math;const BQ=["*"],pJ=["dialog"];function d_(n){return"string"==typeof n}function h_(n){return null!=n}function tx(n){return(n||document.body).getBoundingClientRect()}const Lj={animation:!0,transitionTimerDelayMs:5},oee=()=>{},{transitionTimerDelayMs:aee}=Lj,IT=new Map,ll=(n,t,e,i)=>{let r=i.context||{};const s=IT.get(t);if(s)switch(i.runningTransition){case"continue":return Gr.E;case"stop":n.run(()=>s.transition$.complete()),r=Object.assign(s.context,r),IT.delete(t)}const c=e(t,i.animation,r)||oee;if(!i.animation||"none"===window.getComputedStyle(t).transitionProperty)return n.run(()=>c()),(0,hn.of)(void 0).pipe(function ree(n){return t=>new ar.y(e=>t.subscribe({next:c=>n.run(()=>e.next(c)),error:c=>n.run(()=>e.error(c)),complete:()=>n.run(()=>e.complete())}))}(n));const p=new Pn.x,_=new Pn.x,C=p.pipe(function DK(...n){return t=>Md(t,(0,hn.of)(...n))}(!0));IT.set(t,{transition$:p,complete:()=>{_.next(),_.complete()},context:r});const M=function see(n){const{transitionDelay:t,transitionDuration:e}=window.getComputedStyle(n);return 1e3*(parseFloat(t)+parseFloat(e))}(t);return n.runOutsideAngular(()=>{const V=ro(t,"transitionend").pipe(dr(C),Kn(({target:K})=>K===t));(function hj(...n){return 1===(n=dj(n)).length?(0,lh.Xf)(n[0]):new ar.y(function EK(n){return t=>{let e=[];for(let i=0;e&&!t.closed&&i<n.length;i++)e.push((0,lh.Xf)(n[i]).subscribe((0,lr.x)(t,r=>{if(e){for(let s=0;s<e.length;s++)s!==i&&e[s].unsubscribe();e=null}t.next(r)})))}}(n))})(UO(M+aee).pipe(dr(C)),V,_).pipe(dr(C)).subscribe(()=>{IT.delete(t),n.run(()=>{c(),p.next(),p.complete()})})}),p.asObservable()};let $O=(()=>{class n{constructor(){this.animation=Lj.animation}static#e=this.\u0275fac=function(i){return new(i||n)};static#t=this.\u0275prov=a.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})();var Ar=function(n){return n[n.Tab=9]="Tab",n[n.Enter=13]="Enter",n[n.Escape=27]="Escape",n[n.Space=32]="Space",n[n.PageUp=33]="PageUp",n[n.PageDown=34]="PageDown",n[n.End=35]="End",n[n.Home=36]="Home",n[n.ArrowLeft=37]="ArrowLeft",n[n.ArrowUp=38]="ArrowUp",n[n.ArrowRight=39]="ArrowRight",n[n.ArrowDown=40]="ArrowDown",n}(Ar||{});typeof navigator<"u"&&navigator.userAgent&&(/iPad|iPhone|iPod/.test(navigator.userAgent)||/Macintosh/.test(navigator.userAgent)&&navigator.maxTouchPoints&&navigator.maxTouchPoints>2||/Android/.test(navigator.userAgent));const eG=["a[href]","button:not([disabled])",'input:not([disabled]):not([type="hidden"])',"select:not([disabled])","textarea:not([disabled])","[contenteditable]",'[tabindex]:not([tabindex="-1"])'].join(", ");function tG(n){const t=Array.from(n.querySelectorAll(eG)).filter(e=>-1!==e.tabIndex);return[t[0],t[t.length-1]]}new Date(1882,10,12),new Date(2174,10,25);class v_{constructor(t,e,i){this.nodes=t,this.viewRef=e,this.componentRef=i}}let hte=(()=>{class n{constructor(e,i){this._el=e,this._zone=i}ngOnInit(){this._zone.onStable.asObservable().pipe(wi(1)).subscribe(()=>{ll(this._zone,this._el.nativeElement,(e,i)=>{i&&tx(e),e.classList.add("show")},{animation:this.animation,runningTransition:"continue"})})}hide(){return ll(this._zone,this._el.nativeElement,({classList:e})=>e.remove("show"),{animation:this.animation,runningTransition:"stop"})}static#e=this.\u0275fac=function(i){return new(i||n)(a.Y36(a.SBq),a.Y36(a.R0b))};static#t=this.\u0275cmp=a.Xpm({type:n,selectors:[["ngb-modal-backdrop"]],hostAttrs:[2,"z-index","1055"],hostVars:6,hostBindings:function(i,r){2&i&&(a.Tol("modal-backdrop"+(r.backdropClass?" "+r.backdropClass:"")),a.ekj("show",!r.animation)("fade",r.animation))},inputs:{animation:"animation",backdropClass:"backdropClass"},standalone:!0,features:[a.jDz],decls:0,vars:0,template:function(i,r){},encapsulation:2})}return n})();class mG{update(t){}close(t){}dismiss(t){}}const fte=["animation","ariaLabelledBy","ariaDescribedBy","backdrop","centered","fullscreen","keyboard","scrollable","size","windowClass","modalDialogClass"],pte=["animation","backdropClass"];class gte{_applyWindowOptions(t,e){fte.forEach(i=>{h_(e[i])&&(t[i]=e[i])})}_applyBackdropOptions(t,e){pte.forEach(i=>{h_(e[i])&&(t[i]=e[i])})}update(t){this._applyWindowOptions(this._windowCmptRef.instance,t),this._backdropCmptRef&&this._backdropCmptRef.instance&&this._applyBackdropOptions(this._backdropCmptRef.instance,t)}get componentInstance(){if(this._contentRef&&this._contentRef.componentRef)return this._contentRef.componentRef.instance}get closed(){return this._closed.asObservable().pipe(dr(this._hidden))}get dismissed(){return this._dismissed.asObservable().pipe(dr(this._hidden))}get hidden(){return this._hidden.asObservable()}get shown(){return this._windowCmptRef.instance.shown.asObservable()}constructor(t,e,i,r){this._windowCmptRef=t,this._contentRef=e,this._backdropCmptRef=i,this._beforeDismiss=r,this._closed=new Pn.x,this._dismissed=new Pn.x,this._hidden=new Pn.x,t.instance.dismissEvent.subscribe(s=>{this.dismiss(s)}),this.result=new Promise((s,c)=>{this._resolve=s,this._reject=c}),this.result.then(null,()=>{})}close(t){this._windowCmptRef&&(this._closed.next(t),this._resolve(t),this._removeModalElements())}_dismiss(t){this._dismissed.next(t),this._reject(t),this._removeModalElements()}dismiss(t){if(this._windowCmptRef)if(this._beforeDismiss){const e=this._beforeDismiss();!function Nj(n){return n&&n.then}(e)?!1!==e&&this._dismiss(t):e.then(i=>{!1!==i&&this._dismiss(t)},()=>{})}else this._dismiss(t)}_removeModalElements(){const t=this._windowCmptRef.instance.hide(),e=this._backdropCmptRef?this._backdropCmptRef.instance.hide():(0,hn.of)(void 0);t.subscribe(()=>{const{nativeElement:i}=this._windowCmptRef.location;i.parentNode.removeChild(i),this._windowCmptRef.destroy(),this._contentRef&&this._contentRef.viewRef&&this._contentRef.viewRef.destroy(),this._windowCmptRef=null,this._contentRef=null}),e.subscribe(()=>{if(this._backdropCmptRef){const{nativeElement:i}=this._backdropCmptRef.location;i.parentNode.removeChild(i),this._backdropCmptRef.destroy(),this._backdropCmptRef=null}}),UL(t,e).subscribe(()=>{this._hidden.next(),this._hidden.complete()})}}var dB=function(n){return n[n.BACKDROP_CLICK=0]="BACKDROP_CLICK",n[n.ESC=1]="ESC",n}(dB||{});let mte=(()=>{class n{constructor(e,i,r){this._document=e,this._elRef=i,this._zone=r,this._closed$=new Pn.x,this._elWithFocus=null,this.backdrop=!0,this.keyboard=!0,this.dismissEvent=new a.vpe,this.shown=new Pn.x,this.hidden=new Pn.x}get fullscreenClass(){return!0===this.fullscreen?" modal-fullscreen":d_(this.fullscreen)?` modal-fullscreen-${this.fullscreen}-down`:""}dismiss(e){this.dismissEvent.emit(e)}ngOnInit(){this._elWithFocus=this._document.activeElement,this._zone.onStable.asObservable().pipe(wi(1)).subscribe(()=>{this._show()})}ngOnDestroy(){this._disableEventHandling()}hide(){const{nativeElement:e}=this._elRef,i={animation:this.animation,runningTransition:"stop"},c=UL(ll(this._zone,e,()=>e.classList.remove("show"),i),ll(this._zone,this._dialogEl.nativeElement,()=>{},i));return c.subscribe(()=>{this.hidden.next(),this.hidden.complete()}),this._disableEventHandling(),this._restoreFocus(),c}_show(){const e={animation:this.animation,runningTransition:"continue"};UL(ll(this._zone,this._elRef.nativeElement,(s,c)=>{c&&tx(s),s.classList.add("show")},e),ll(this._zone,this._dialogEl.nativeElement,()=>{},e)).subscribe(()=>{this.shown.next(),this.shown.complete()}),this._enableEventHandling(),this._setFocus()}_enableEventHandling(){const{nativeElement:e}=this._elRef;this._zone.runOutsideAngular(()=>{ro(e,"keydown").pipe(dr(this._closed$),Kn(r=>r.which===Ar.Escape)).subscribe(r=>{this.keyboard?requestAnimationFrame(()=>{r.defaultPrevented||this._zone.run(()=>this.dismiss(dB.ESC))}):"static"===this.backdrop&&this._bumpBackdrop()});let i=!1;ro(this._dialogEl.nativeElement,"mousedown").pipe(dr(this._closed$),(0,xo.b)(()=>i=!1),(0,Bi.w)(()=>ro(e,"mouseup").pipe(dr(this._closed$),wi(1))),Kn(({target:r})=>e===r)).subscribe(()=>{i=!0}),ro(e,"click").pipe(dr(this._closed$)).subscribe(({target:r})=>{e===r&&("static"===this.backdrop?this._bumpBackdrop():!0===this.backdrop&&!i&&this._zone.run(()=>this.dismiss(dB.BACKDROP_CLICK))),i=!1})})}_disableEventHandling(){this._closed$.next()}_setFocus(){const{nativeElement:e}=this._elRef;if(!e.contains(document.activeElement)){const i=e.querySelector("[ngbAutofocus]"),r=tG(e)[0];(i||r||e).focus()}}_restoreFocus(){const e=this._document.body,i=this._elWithFocus;let r;r=i&&i.focus&&e.contains(i)?i:e,this._zone.runOutsideAngular(()=>{setTimeout(()=>r.focus()),this._elWithFocus=null})}_bumpBackdrop(){"static"===this.backdrop&&ll(this._zone,this._elRef.nativeElement,({classList:e})=>(e.add("modal-static"),()=>e.remove("modal-static")),{animation:this.animation,runningTransition:"continue"})}static#e=this.\u0275fac=function(i){return new(i||n)(a.Y36(Ye),a.Y36(a.SBq),a.Y36(a.R0b))};static#t=this.\u0275cmp=a.Xpm({type:n,selectors:[["ngb-modal-window"]],viewQuery:function(i,r){if(1&i&&a.Gf(pJ,7),2&i){let s;a.iGM(s=a.CRH())&&(r._dialogEl=s.first)}},hostAttrs:["role","dialog","tabindex","-1"],hostVars:7,hostBindings:function(i,r){2&i&&(a.uIk("aria-modal",!0)("aria-labelledby",r.ariaLabelledBy)("aria-describedby",r.ariaDescribedBy),a.Tol("modal d-block"+(r.windowClass?" "+r.windowClass:"")),a.ekj("fade",r.animation))},inputs:{animation:"animation",ariaLabelledBy:"ariaLabelledBy",ariaDescribedBy:"ariaDescribedBy",backdrop:"backdrop",centered:"centered",fullscreen:"fullscreen",keyboard:"keyboard",scrollable:"scrollable",size:"size",windowClass:"windowClass",modalDialogClass:"modalDialogClass"},outputs:{dismissEvent:"dismiss"},standalone:!0,features:[a.jDz],ngContentSelectors:BQ,decls:4,vars:2,consts:[["role","document"],["dialog",""],[1,"modal-content"]],template:function(i,r){1&i&&(a.F$t(),a.TgZ(0,"div",0,1)(2,"div",2),a.Hsn(3),a.qZA()()),2&i&&a.Tol("modal-dialog"+(r.size?" modal-"+r.size:"")+(r.centered?" modal-dialog-centered":"")+r.fullscreenClass+(r.scrollable?" modal-dialog-scrollable":"")+(r.modalDialogClass?" "+r.modalDialogClass:""))},styles:["ngb-modal-window .component-host-scrollable{display:flex;flex-direction:column;overflow:hidden}\n"],encapsulation:2})}return n})(),vte=(()=>{class n{constructor(e){this._document=e}hide(){const e=Math.abs(window.innerWidth-this._document.documentElement.clientWidth),i=this._document.body,r=i.style,{overflow:s,paddingRight:c}=r;if(e>0){const p=parseFloat(window.getComputedStyle(i).paddingRight);r.paddingRight=`${p+e}px`}return r.overflow="hidden",()=>{e>0&&(r.paddingRight=c),r.overflow=s}}static#e=this.\u0275fac=function(i){return new(i||n)(a.LFG(Ye))};static#t=this.\u0275prov=a.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})(),yte=(()=>{class n{constructor(e,i,r,s,c,p,_){this._applicationRef=e,this._injector=i,this._environmentInjector=r,this._document=s,this._scrollBar=c,this._rendererFactory=p,this._ngZone=_,this._activeWindowCmptHasChanged=new Pn.x,this._ariaHiddenValues=new Map,this._scrollBarRestoreFn=null,this._modalRefs=[],this._windowCmpts=[],this._activeInstances=new a.vpe,this._activeWindowCmptHasChanged.subscribe(()=>{if(this._windowCmpts.length){const C=this._windowCmpts[this._windowCmpts.length-1];((n,t,e,i=!1)=>{n.runOutsideAngular(()=>{const r=ro(t,"focusin").pipe(dr(e),(0,Bt.U)(s=>s.target));ro(t,"keydown").pipe(dr(e),Kn(s=>s.which===Ar.Tab),Ak(r)).subscribe(([s,c])=>{const[p,_]=tG(t);(c===p||c===t)&&s.shiftKey&&(_.focus(),s.preventDefault()),c===_&&!s.shiftKey&&(p.focus(),s.preventDefault())}),i&&ro(t,"click").pipe(dr(e),Ak(r),(0,Bt.U)(s=>s[1])).subscribe(s=>s.focus())})})(this._ngZone,C.location.nativeElement,this._activeWindowCmptHasChanged),this._revertAriaHidden(),this._setAriaHidden(C.location.nativeElement)}})}_restoreScrollBar(){const e=this._scrollBarRestoreFn;e&&(this._scrollBarRestoreFn=null,e())}_hideScrollBar(){this._scrollBarRestoreFn||(this._scrollBarRestoreFn=this._scrollBar.hide())}open(e,i,r){const s=r.container instanceof HTMLElement?r.container:h_(r.container)?this._document.querySelector(r.container):this._document.body,c=this._rendererFactory.createRenderer(null,null);if(!s)throw new Error(`The specified modal container "${r.container||"body"}" was not found in the DOM.`);this._hideScrollBar();const p=new mG,_=(e=r.injector||e).get(a.lqb,null)||this._environmentInjector,C=this._getContentRef(e,_,i,p,r);let M=!1!==r.backdrop?this._attachBackdrop(s):void 0,V=this._attachWindowComponent(s,C.nodes),W=new gte(V,C,M,r.beforeDismiss);return this._registerModalRef(W),this._registerWindowCmpt(V),W.hidden.pipe(wi(1)).subscribe(()=>Promise.resolve(!0).then(()=>{this._modalRefs.length||(c.removeClass(this._document.body,"modal-open"),this._restoreScrollBar(),this._revertAriaHidden())})),p.close=K=>{W.close(K)},p.dismiss=K=>{W.dismiss(K)},p.update=K=>{W.update(K)},W.update(r),1===this._modalRefs.length&&c.addClass(this._document.body,"modal-open"),M&&M.instance&&M.changeDetectorRef.detectChanges(),V.changeDetectorRef.detectChanges(),W}get activeInstances(){return this._activeInstances}dismissAll(e){this._modalRefs.forEach(i=>i.dismiss(e))}hasOpenModals(){return this._modalRefs.length>0}_attachBackdrop(e){let i=(0,a.LMc)(hte,{environmentInjector:this._applicationRef.injector,elementInjector:this._injector});return this._applicationRef.attachView(i.hostView),e.appendChild(i.location.nativeElement),i}_attachWindowComponent(e,i){let r=(0,a.LMc)(mte,{environmentInjector:this._applicationRef.injector,elementInjector:this._injector,projectableNodes:i});return this._applicationRef.attachView(r.hostView),e.appendChild(r.location.nativeElement),r}_getContentRef(e,i,r,s,c){return r?r instanceof a.Rgc?this._createFromTemplateRef(r,s):d_(r)?this._createFromString(r):this._createFromComponent(e,i,r,s,c):new v_([])}_createFromTemplateRef(e,i){const s=e.createEmbeddedView({$implicit:i,close(c){i.close(c)},dismiss(c){i.dismiss(c)}});return this._applicationRef.attachView(s),new v_([s.rootNodes],s)}_createFromString(e){const i=this._document.createTextNode(`${e}`);return new v_([[i]])}_createFromComponent(e,i,r,s,c){const p=a.zs3.create({providers:[{provide:mG,useValue:s}],parent:e}),_=(0,a.LMc)(r,{environmentInjector:i,elementInjector:p}),C=_.location.nativeElement;return c.scrollable&&C.classList.add("component-host-scrollable"),this._applicationRef.attachView(_.hostView),new v_([[C]],_.hostView,_)}_setAriaHidden(e){const i=e.parentElement;i&&e!==this._document.body&&(Array.from(i.children).forEach(r=>{r!==e&&"SCRIPT"!==r.nodeName&&(this._ariaHiddenValues.set(r,r.getAttribute("aria-hidden")),r.setAttribute("aria-hidden","true"))}),this._setAriaHidden(i))}_revertAriaHidden(){this._ariaHiddenValues.forEach((e,i)=>{e?i.setAttribute("aria-hidden",e):i.removeAttribute("aria-hidden")}),this._ariaHiddenValues.clear()}_registerModalRef(e){const i=()=>{const r=this._modalRefs.indexOf(e);r>-1&&(this._modalRefs.splice(r,1),this._activeInstances.emit(this._modalRefs))};this._modalRefs.push(e),this._activeInstances.emit(this._modalRefs),e.result.then(i,i)}_registerWindowCmpt(e){this._windowCmpts.push(e),this._activeWindowCmptHasChanged.next(),e.onDestroy(()=>{const i=this._windowCmpts.indexOf(e);i>-1&&(this._windowCmpts.splice(i,1),this._activeWindowCmptHasChanged.next())})}static#e=this.\u0275fac=function(i){return new(i||n)(a.LFG(a.z2F),a.LFG(a.zs3),a.LFG(a.lqb),a.LFG(Ye),a.LFG(vte),a.LFG(a.FYo),a.LFG(a.R0b))};static#t=this.\u0275prov=a.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})(),_te=(()=>{class n{constructor(e){this._ngbConfig=e,this.backdrop=!0,this.fullscreen=!1,this.keyboard=!0}get animation(){return void 0===this._animation?this._ngbConfig.animation:this._animation}set animation(e){this._animation=e}static#e=this.\u0275fac=function(i){return new(i||n)(a.LFG($O))};static#t=this.\u0275prov=a.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})(),hB=(()=>{class n{constructor(e,i,r){this._injector=e,this._modalStack=i,this._config=r}open(e,i={}){const r={...this._config,animation:this._config.animation,...i};return this._modalStack.open(this._injector,e,r)}get activeInstances(){return this._modalStack.activeInstances}dismissAll(e){this._modalStack.dismissAll(e)}hasOpenModals(){return this._modalStack.hasOpenModals()}static#e=this.\u0275fac=function(i){return new(i||n)(a.LFG(a.zs3),a.LFG(yte),a.LFG(_te))};static#t=this.\u0275prov=a.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})(),vG=(()=>{class n{static#e=this.\u0275fac=function(i){return new(i||n)};static#t=this.\u0275mod=a.oAB({type:n});static#n=this.\u0275inj=a.cJS({providers:[hB]})}return n})();function sx(n,t){return(0,Ps.m)(t)?(0,io.z)(n,t,1):(0,io.z)(n,1)}function PT(n){return(0,Or.e)((t,e)=>{try{t.subscribe(e)}finally{e.add(n)}})}new a.OlP("live announcer delay",{providedIn:"root",factory:function $te(){return 100}});class sN{}class oN{}class mh{constructor(t){this.normalizedNames=new Map,this.lazyUpdate=null,t?"string"==typeof t?this.lazyInit=()=>{this.headers=new Map,t.split("\n").forEach(e=>{const i=e.indexOf(":");if(i>0){const r=e.slice(0,i),s=r.toLowerCase(),c=e.slice(i+1).trim();this.maybeSetNormalizedName(r,s),this.headers.has(s)?this.headers.get(s).push(c):this.headers.set(s,[c])}})}:typeof Headers<"u"&&t instanceof Headers?(this.headers=new Map,t.forEach((e,i)=>{this.setHeaderEntries(i,e)})):this.lazyInit=()=>{this.headers=new Map,Object.entries(t).forEach(([e,i])=>{this.setHeaderEntries(e,i)})}:this.headers=new Map}has(t){return this.init(),this.headers.has(t.toLowerCase())}get(t){this.init();const e=this.headers.get(t.toLowerCase());return e&&e.length>0?e[0]:null}keys(){return this.init(),Array.from(this.normalizedNames.values())}getAll(t){return this.init(),this.headers.get(t.toLowerCase())||null}append(t,e){return this.clone({name:t,value:e,op:"a"})}set(t,e){return this.clone({name:t,value:e,op:"s"})}delete(t,e){return this.clone({name:t,value:e,op:"d"})}maybeSetNormalizedName(t,e){this.normalizedNames.has(e)||this.normalizedNames.set(e,t)}init(){this.lazyInit&&(this.lazyInit instanceof mh?this.copyFrom(this.lazyInit):this.lazyInit(),this.lazyInit=null,this.lazyUpdate&&(this.lazyUpdate.forEach(t=>this.applyUpdate(t)),this.lazyUpdate=null))}copyFrom(t){t.init(),Array.from(t.headers.keys()).forEach(e=>{this.headers.set(e,t.headers.get(e)),this.normalizedNames.set(e,t.normalizedNames.get(e))})}clone(t){const e=new mh;return e.lazyInit=this.lazyInit&&this.lazyInit instanceof mh?this.lazyInit:this,e.lazyUpdate=(this.lazyUpdate||[]).concat([t]),e}applyUpdate(t){const e=t.name.toLowerCase();switch(t.op){case"a":case"s":let i=t.value;if("string"==typeof i&&(i=[i]),0===i.length)return;this.maybeSetNormalizedName(t.name,e);const r=("a"===t.op?this.headers.get(e):void 0)||[];r.push(...i),this.headers.set(e,r);break;case"d":const s=t.value;if(s){let c=this.headers.get(e);if(!c)return;c=c.filter(p=>-1===s.indexOf(p)),0===c.length?(this.headers.delete(e),this.normalizedNames.delete(e)):this.headers.set(e,c)}else this.headers.delete(e),this.normalizedNames.delete(e)}}setHeaderEntries(t,e){const i=(Array.isArray(e)?e:[e]).map(s=>s.toString()),r=t.toLowerCase();this.headers.set(r,i),this.maybeSetNormalizedName(t,r)}forEach(t){this.init(),Array.from(this.normalizedNames.keys()).forEach(e=>t(this.normalizedNames.get(e),this.headers.get(e)))}}class Zte{encodeKey(t){return AG(t)}encodeValue(t){return AG(t)}decodeKey(t){return decodeURIComponent(t)}decodeValue(t){return decodeURIComponent(t)}}const Kte=/%(\d[a-f0-9])/gi,Qte={40:"@","3A":":",24:"$","2C":",","3B":";","3D":"=","3F":"?","2F":"/"};function AG(n){return encodeURIComponent(n).replace(Kte,(t,e)=>Qte[e]??t)}function aN(n){return`${n}`}class Tm{constructor(t={}){if(this.updates=null,this.cloneFrom=null,this.encoder=t.encoder||new Zte,t.fromString){if(t.fromObject)throw new Error("Cannot specify both fromString and fromObject.");this.map=function Xte(n,t){const e=new Map;return n.length>0&&n.replace(/^\?/,"").split("&").forEach(r=>{const s=r.indexOf("="),[c,p]=-1==s?[t.decodeKey(r),""]:[t.decodeKey(r.slice(0,s)),t.decodeValue(r.slice(s+1))],_=e.get(c)||[];_.push(p),e.set(c,_)}),e}(t.fromString,this.encoder)}else t.fromObject?(this.map=new Map,Object.keys(t.fromObject).forEach(e=>{const i=t.fromObject[e],r=Array.isArray(i)?i.map(aN):[aN(i)];this.map.set(e,r)})):this.map=null}has(t){return this.init(),this.map.has(t)}get(t){this.init();const e=this.map.get(t);return e?e[0]:null}getAll(t){return this.init(),this.map.get(t)||null}keys(){return this.init(),Array.from(this.map.keys())}append(t,e){return this.clone({param:t,value:e,op:"a"})}appendAll(t){const e=[];return Object.keys(t).forEach(i=>{const r=t[i];Array.isArray(r)?r.forEach(s=>{e.push({param:i,value:s,op:"a"})}):e.push({param:i,value:r,op:"a"})}),this.clone(e)}set(t,e){return this.clone({param:t,value:e,op:"s"})}delete(t,e){return this.clone({param:t,value:e,op:"d"})}toString(){return this.init(),this.keys().map(t=>{const e=this.encoder.encodeKey(t);return this.map.get(t).map(i=>e+"="+this.encoder.encodeValue(i)).join("&")}).filter(t=>""!==t).join("&")}clone(t){const e=new Tm({encoder:this.encoder});return e.cloneFrom=this.cloneFrom||this,e.updates=(this.updates||[]).concat(t),e}init(){null===this.map&&(this.map=new Map),null!==this.cloneFrom&&(this.cloneFrom.init(),this.cloneFrom.keys().forEach(t=>this.map.set(t,this.cloneFrom.map.get(t))),this.updates.forEach(t=>{switch(t.op){case"a":case"s":const e=("a"===t.op?this.map.get(t.param):void 0)||[];e.push(aN(t.value)),this.map.set(t.param,e);break;case"d":if(void 0===t.value){this.map.delete(t.param);break}{let i=this.map.get(t.param)||[];const r=i.indexOf(aN(t.value));-1!==r&&i.splice(r,1),i.length>0?this.map.set(t.param,i):this.map.delete(t.param)}}}),this.cloneFrom=this.updates=null)}}class Jte{constructor(){this.map=new Map}set(t,e){return this.map.set(t,e),this}get(t){return this.map.has(t)||this.map.set(t,t.defaultValue()),this.map.get(t)}delete(t){return this.map.delete(t),this}has(t){return this.map.has(t)}keys(){return this.map.keys()}}function IG(n){return typeof ArrayBuffer<"u"&&n instanceof ArrayBuffer}function MG(n){return typeof Blob<"u"&&n instanceof Blob}function kG(n){return typeof FormData<"u"&&n instanceof FormData}class RT{constructor(t,e,i,r){let s;if(this.url=e,this.body=null,this.reportProgress=!1,this.withCredentials=!1,this.responseType="json",this.method=t.toUpperCase(),function ene(n){switch(n){case"DELETE":case"GET":case"HEAD":case"OPTIONS":case"JSONP":return!1;default:return!0}}(this.method)||r?(this.body=void 0!==i?i:null,s=r):s=i,s&&(this.reportProgress=!!s.reportProgress,this.withCredentials=!!s.withCredentials,s.responseType&&(this.responseType=s.responseType),s.headers&&(this.headers=s.headers),s.context&&(this.context=s.context),s.params&&(this.params=s.params)),this.headers||(this.headers=new mh),this.context||(this.context=new Jte),this.params){const c=this.params.toString();if(0===c.length)this.urlWithParams=e;else{const p=e.indexOf("?");this.urlWithParams=e+(-1===p?"?":p<e.length-1?"&":"")+c}}else this.params=new Tm,this.urlWithParams=e}serializeBody(){return null===this.body?null:IG(this.body)||MG(this.body)||kG(this.body)||function tne(n){return typeof URLSearchParams<"u"&&n instanceof URLSearchParams}(this.body)||"string"==typeof this.body?this.body:this.body instanceof Tm?this.body.toString():"object"==typeof this.body||"boolean"==typeof this.body||Array.isArray(this.body)?JSON.stringify(this.body):this.body.toString()}detectContentTypeHeader(){return null===this.body||kG(this.body)?null:MG(this.body)?this.body.type||null:IG(this.body)?null:"string"==typeof this.body?"text/plain":this.body instanceof Tm?"application/x-www-form-urlencoded;charset=UTF-8":"object"==typeof this.body||"number"==typeof this.body||"boolean"==typeof this.body?"application/json":null}clone(t={}){const e=t.method||this.method,i=t.url||this.url,r=t.responseType||this.responseType,s=void 0!==t.body?t.body:this.body,c=void 0!==t.withCredentials?t.withCredentials:this.withCredentials,p=void 0!==t.reportProgress?t.reportProgress:this.reportProgress;let _=t.headers||this.headers,C=t.params||this.params;const M=t.context??this.context;return void 0!==t.setHeaders&&(_=Object.keys(t.setHeaders).reduce((V,W)=>V.set(W,t.setHeaders[W]),_)),t.setParams&&(C=Object.keys(t.setParams).reduce((V,W)=>V.set(W,t.setParams[W]),C)),new RT(e,i,s,{params:C,headers:_,context:M,reportProgress:p,responseType:r,withCredentials:c})}}var ox=function(n){return n[n.Sent=0]="Sent",n[n.UploadProgress=1]="UploadProgress",n[n.ResponseHeader=2]="ResponseHeader",n[n.DownloadProgress=3]="DownloadProgress",n[n.Response=4]="Response",n[n.User=5]="User",n}(ox||{});class pB{constructor(t,e=200,i="OK"){this.headers=t.headers||new mh,this.status=void 0!==t.status?t.status:e,this.statusText=t.statusText||i,this.url=t.url||null,this.ok=this.status>=200&&this.status<300}}class gB extends pB{constructor(t={}){super(t),this.type=ox.ResponseHeader}clone(t={}){return new gB({headers:t.headers||this.headers,status:void 0!==t.status?t.status:this.status,statusText:t.statusText||this.statusText,url:t.url||this.url||void 0})}}class ax extends pB{constructor(t={}){super(t),this.type=ox.Response,this.body=void 0!==t.body?t.body:null}clone(t={}){return new ax({body:void 0!==t.body?t.body:this.body,headers:t.headers||this.headers,status:void 0!==t.status?t.status:this.status,statusText:t.statusText||this.statusText,url:t.url||this.url||void 0})}}class OG extends pB{constructor(t){super(t,0,"Unknown Error"),this.name="HttpErrorResponse",this.ok=!1,this.message=this.status>=200&&this.status<300?`Http failure during parsing for ${t.url||"(unknown url)"}`:`Http failure response for ${t.url||"(unknown url)"}: ${t.status} ${t.statusText}`,this.error=t.error||null}}function mB(n,t){return{body:t,headers:n.headers,context:n.context,observe:n.observe,params:n.params,reportProgress:n.reportProgress,responseType:n.responseType,withCredentials:n.withCredentials}}let NG=(()=>{class n{constructor(e){this.handler=e}request(e,i,r={}){let s;if(e instanceof RT)s=e;else{let _,C;_=r.headers instanceof mh?r.headers:new mh(r.headers),r.params&&(C=r.params instanceof Tm?r.params:new Tm({fromObject:r.params})),s=new RT(e,i,void 0!==r.body?r.body:null,{headers:_,context:r.context,params:C,reportProgress:r.reportProgress,responseType:r.responseType||"json",withCredentials:r.withCredentials})}const c=(0,hn.of)(s).pipe(sx(_=>this.handler.handle(_)));if(e instanceof RT||"events"===r.observe)return c;const p=c.pipe(Kn(_=>_ instanceof ax));switch(r.observe||"body"){case"body":switch(s.responseType){case"arraybuffer":return p.pipe((0,Bt.U)(_=>{if(null!==_.body&&!(_.body instanceof ArrayBuffer))throw new Error("Response is not an ArrayBuffer.");return _.body}));case"blob":return p.pipe((0,Bt.U)(_=>{if(null!==_.body&&!(_.body instanceof Blob))throw new Error("Response is not a Blob.");return _.body}));case"text":return p.pipe((0,Bt.U)(_=>{if(null!==_.body&&"string"!=typeof _.body)throw new Error("Response is not a string.");return _.body}));default:return p.pipe((0,Bt.U)(_=>_.body))}case"response":return p;default:throw new Error(`Unreachable: unhandled observe type ${r.observe}}`)}}delete(e,i={}){return this.request("DELETE",e,i)}get(e,i={}){return this.request("GET",e,i)}head(e,i={}){return this.request("HEAD",e,i)}jsonp(e,i){return this.request("JSONP",e,{params:(new Tm).append(i,"JSONP_CALLBACK"),observe:"body",responseType:"json"})}options(e,i={}){return this.request("OPTIONS",e,i)}patch(e,i,r={}){return this.request("PATCH",e,mB(r,i))}post(e,i,r={}){return this.request("POST",e,mB(r,i))}put(e,i,r={}){return this.request("PUT",e,mB(r,i))}static#e=this.\u0275fac=function(i){return new(i||n)(a.LFG(sN))};static#t=this.\u0275prov=a.Yz7({token:n,factory:n.\u0275fac})}return n})();function FG(n,t){return t(n)}function ine(n,t){return(e,i)=>t.intercept(e,{handle:r=>n(r,i)})}const sne=new a.OlP(""),FT=new a.OlP(""),LG=new a.OlP("");function one(){let n=null;return(t,e)=>{null===n&&(n=((0,a.f3M)(sne,{optional:!0})??[]).reduceRight(ine,FG));const i=(0,a.f3M)(a.HDt),r=i.add();return n(t,e).pipe(PT(()=>i.remove(r)))}}let BG=(()=>{class n extends sN{constructor(e,i){super(),this.backend=e,this.injector=i,this.chain=null,this.pendingTasks=(0,a.f3M)(a.HDt)}handle(e){if(null===this.chain){const r=Array.from(new Set([...this.injector.get(FT),...this.injector.get(LG,[])]));this.chain=r.reduceRight((s,c)=>function rne(n,t,e){return(i,r)=>e.runInContext(()=>t(i,s=>n(s,r)))}(s,c,this.injector),FG)}const i=this.pendingTasks.add();return this.chain(e,r=>this.backend.handle(r)).pipe(PT(()=>this.pendingTasks.remove(i)))}static#e=this.\u0275fac=function(i){return new(i||n)(a.LFG(oN),a.LFG(a.lqb))};static#t=this.\u0275prov=a.Yz7({token:n,factory:n.\u0275fac})}return n})();const une=/^\)\]\}',?\n/;let HG=(()=>{class n{constructor(e){this.xhrFactory=e}handle(e){if("JSONP"===e.method)throw new a.vHH(-2800,!1);const i=this.xhrFactory;return(i.\u0275loadImpl?(0,bi.D)(i.\u0275loadImpl()):(0,hn.of)(null)).pipe((0,Bi.w)(()=>new ar.y(s=>{const c=i.build();if(c.open(e.method,e.urlWithParams),e.withCredentials&&(c.withCredentials=!0),e.headers.forEach((ae,fe)=>c.setRequestHeader(ae,fe.join(","))),e.headers.has("Accept")||c.setRequestHeader("Accept","application/json, text/plain, */*"),!e.headers.has("Content-Type")){const ae=e.detectContentTypeHeader();null!==ae&&c.setRequestHeader("Content-Type",ae)}if(e.responseType){const ae=e.responseType.toLowerCase();c.responseType="json"!==ae?ae:"text"}const p=e.serializeBody();let _=null;const C=()=>{if(null!==_)return _;const ae=c.statusText||"OK",fe=new mh(c.getAllResponseHeaders()),Pe=function dne(n){return"responseURL"in n&&n.responseURL?n.responseURL:/^X-Request-URL:/m.test(n.getAllResponseHeaders())?n.getResponseHeader("X-Request-URL"):null}(c)||e.url;return _=new gB({headers:fe,status:c.status,statusText:ae,url:Pe}),_},M=()=>{let{headers:ae,status:fe,statusText:Pe,url:Be}=C(),Re=null;204!==fe&&(Re=typeof c.response>"u"?c.responseText:c.response),0===fe&&(fe=Re?200:0);let ze=fe>=200&&fe<300;if("json"===e.responseType&&"string"==typeof Re){const ut=Re;Re=Re.replace(une,"");try{Re=""!==Re?JSON.parse(Re):null}catch(bt){Re=ut,ze&&(ze=!1,Re={error:bt,text:Re})}}ze?(s.next(new ax({body:Re,headers:ae,status:fe,statusText:Pe,url:Be||void 0})),s.complete()):s.error(new OG({error:Re,headers:ae,status:fe,statusText:Pe,url:Be||void 0}))},V=ae=>{const{url:fe}=C(),Pe=new OG({error:ae,status:c.status||0,statusText:c.statusText||"Unknown Error",url:fe||void 0});s.error(Pe)};let W=!1;const K=ae=>{W||(s.next(C()),W=!0);let fe={type:ox.DownloadProgress,loaded:ae.loaded};ae.lengthComputable&&(fe.total=ae.total),"text"===e.responseType&&c.responseText&&(fe.partialText=c.responseText),s.next(fe)},oe=ae=>{let fe={type:ox.UploadProgress,loaded:ae.loaded};ae.lengthComputable&&(fe.total=ae.total),s.next(fe)};return c.addEventListener("load",M),c.addEventListener("error",V),c.addEventListener("timeout",V),c.addEventListener("abort",V),e.reportProgress&&(c.addEventListener("progress",K),null!==p&&c.upload&&c.upload.addEventListener("progress",oe)),c.send(p),s.next({type:ox.Sent}),()=>{c.removeEventListener("error",V),c.removeEventListener("abort",V),c.removeEventListener("load",M),c.removeEventListener("timeout",V),e.reportProgress&&(c.removeEventListener("progress",K),null!==p&&c.upload&&c.upload.removeEventListener("progress",oe)),c.readyState!==c.DONE&&c.abort()}})))}static#e=this.\u0275fac=function(i){return new(i||n)(a.LFG(co))};static#t=this.\u0275prov=a.Yz7({token:n,factory:n.\u0275fac})}return n})();const vB=new a.OlP("XSRF_ENABLED"),UG=new a.OlP("XSRF_COOKIE_NAME",{providedIn:"root",factory:()=>"XSRF-TOKEN"}),zG=new a.OlP("XSRF_HEADER_NAME",{providedIn:"root",factory:()=>"X-XSRF-TOKEN"});class jG{}let pne=(()=>{class n{constructor(e,i,r){this.doc=e,this.platform=i,this.cookieName=r,this.lastCookieString="",this.lastToken=null,this.parseCount=0}getToken(){if("server"===this.platform)return null;const e=this.doc.cookie||"";return e!==this.lastCookieString&&(this.parseCount++,this.lastToken=y(e,this.cookieName),this.lastCookieString=e),this.lastToken}static#e=this.\u0275fac=function(i){return new(i||n)(a.LFG(Ye),a.LFG(a.Lbi),a.LFG(UG))};static#t=this.\u0275prov=a.Yz7({token:n,factory:n.\u0275fac})}return n})();function gne(n,t){const e=n.url.toLowerCase();if(!(0,a.f3M)(vB)||"GET"===n.method||"HEAD"===n.method||e.startsWith("http://")||e.startsWith("https://"))return t(n);const i=(0,a.f3M)(jG).getToken(),r=(0,a.f3M)(zG);return null!=i&&!n.headers.has(r)&&(n=n.clone({headers:n.headers.set(r,i)})),t(n)}var Sm=function(n){return n[n.Interceptors=0]="Interceptors",n[n.LegacyInterceptors=1]="LegacyInterceptors",n[n.CustomXsrfConfiguration=2]="CustomXsrfConfiguration",n[n.NoXsrfProtection=3]="NoXsrfProtection",n[n.JsonpSupport=4]="JsonpSupport",n[n.RequestsMadeViaParent=5]="RequestsMadeViaParent",n[n.Fetch=6]="Fetch",n}(Sm||{});function mne(...n){const t=[NG,HG,BG,{provide:sN,useExisting:BG},{provide:oN,useExisting:HG},{provide:FT,useValue:gne,multi:!0},{provide:vB,useValue:!0},{provide:jG,useClass:pne}];for(const e of n)t.push(...e.\u0275providers);return(0,a.MR2)(t)}const GG=new a.OlP("LEGACY_INTERCEPTOR_FN");function vne(){return function y_(n,t){return{\u0275kind:n,\u0275providers:t}}(Sm.LegacyInterceptors,[{provide:GG,useFactory:one},{provide:FT,useExisting:GG,multi:!0}])}let yne=(()=>{class n{static#e=this.\u0275fac=function(i){return new(i||n)};static#t=this.\u0275mod=a.oAB({type:n});static#n=this.\u0275inj=a.cJS({providers:[mne(vne())]})}return n})();var Ene=ce(1954);let yB,Dne=1;const cN={};function WG(n){return n in cN&&(delete cN[n],!0)}const Tne={setImmediate(n){const t=Dne++;return cN[t]=!0,yB||(yB=Promise.resolve()),yB.then(()=>WG(t)&&n()),t},clearImmediate(n){WG(n)}},{setImmediate:Sne,clearImmediate:Ane}=Tne,uN={setImmediate(...n){const{delegate:t}=uN;return(t?.setImmediate||Sne)(...n)},clearImmediate(n){const{delegate:t}=uN;return(t?.clearImmediate||Ane)(n)},delegate:void 0};var Mne=ce(2631);const One=new class kne extends Mne.v{flush(t){this._active=!0;const e=this._scheduled;this._scheduled=void 0;const{actions:i}=this;let r;t=t||i.shift();do{if(r=t.execute(t.state,t.delay))break}while((t=i[0])&&t.id===e&&i.shift());if(this._active=!1,r){for(;(t=i[0])&&t.id===e&&i.shift();)t.unsubscribe();throw r}}}(class Ine extends Ene.o{constructor(t,e){super(t,e),this.scheduler=t,this.work=e}requestAsyncId(t,e,i=0){return null!==i&&i>0?super.requestAsyncId(t,e,i):(t.actions.push(this),t._scheduled||(t._scheduled=uN.setImmediate(t.flush.bind(t,void 0))))}recycleAsyncId(t,e,i=0){var r;if(null!=i?i>0:this.delay>0)return super.recycleAsyncId(t,e,i);const{actions:s}=t;null!=e&&(null===(r=s[s.length-1])||void 0===r?void 0:r.id)!==e&&(uN.clearImmediate(e),t._scheduled===e&&(t._scheduled=void 0))}});var $G=ce(5054);const Nne=["chart"];let YG=(()=>{class n{constructor(e){this.ngZone=e,this.autoUpdateSeries=!0}ngOnChanges(e){One.schedule(()=>{this.autoUpdateSeries&&0===Object.keys(e).filter(i=>"series"!==i).length?this.updateSeries(this.series,!0):this.createElement()})}ngOnDestroy(){this.chartObj&&this.chartObj.destroy()}createElement(){const e={};this.annotations&&(e.annotations=this.annotations),this.chart&&(e.chart=this.chart),this.colors&&(e.colors=this.colors),this.dataLabels&&(e.dataLabels=this.dataLabels),this.series&&(e.series=this.series),this.stroke&&(e.stroke=this.stroke),this.labels&&(e.labels=this.labels),this.legend&&(e.legend=this.legend),this.fill&&(e.fill=this.fill),this.tooltip&&(e.tooltip=this.tooltip),this.plotOptions&&(e.plotOptions=this.plotOptions),this.responsive&&(e.responsive=this.responsive),this.markers&&(e.markers=this.markers),this.noData&&(e.noData=this.noData),this.xaxis&&(e.xaxis=this.xaxis),this.yaxis&&(e.yaxis=this.yaxis),this.forecastDataPoints&&(e.forecastDataPoints=this.forecastDataPoints),this.grid&&(e.grid=this.grid),this.states&&(e.states=this.states),this.title&&(e.title=this.title),this.subtitle&&(e.subtitle=this.subtitle),this.theme&&(e.theme=this.theme),this.chartObj&&this.chartObj.destroy(),this.ngZone.runOutsideAngular(()=>{this.chartObj=new $G(this.chartElement.nativeElement,e)}),this.render()}render(){return this.ngZone.runOutsideAngular(()=>this.chartObj.render())}updateOptions(e,i,r,s){return this.ngZone.runOutsideAngular(()=>this.chartObj.updateOptions(e,i,r,s))}updateSeries(e,i){return this.ngZone.runOutsideAngular(()=>this.chartObj.updateSeries(e,i))}appendSeries(e,i){this.ngZone.runOutsideAngular(()=>this.chartObj.appendSeries(e,i))}appendData(e){this.ngZone.runOutsideAngular(()=>this.chartObj.appendData(e))}toggleSeries(e){return this.ngZone.runOutsideAngular(()=>this.chartObj.toggleSeries(e))}showSeries(e){this.ngZone.runOutsideAngular(()=>this.chartObj.showSeries(e))}hideSeries(e){this.ngZone.runOutsideAngular(()=>this.chartObj.hideSeries(e))}resetSeries(){this.ngZone.runOutsideAngular(()=>this.chartObj.resetSeries())}zoomX(e,i){this.ngZone.runOutsideAngular(()=>this.chartObj.zoomX(e,i))}toggleDataPointSelection(e,i){this.ngZone.runOutsideAngular(()=>this.chartObj.toggleDataPointSelection(e,i))}destroy(){this.chartObj.destroy()}setLocale(e){this.ngZone.runOutsideAngular(()=>this.chartObj.setLocale(e))}paper(){this.ngZone.runOutsideAngular(()=>this.chartObj.paper())}addXaxisAnnotation(e,i,r){this.ngZone.runOutsideAngular(()=>this.chartObj.addXaxisAnnotation(e,i,r))}addYaxisAnnotation(e,i,r){this.ngZone.runOutsideAngular(()=>this.chartObj.addYaxisAnnotation(e,i,r))}addPointAnnotation(e,i,r){this.ngZone.runOutsideAngular(()=>this.chartObj.addPointAnnotation(e,i,r))}removeAnnotation(e,i){this.ngZone.runOutsideAngular(()=>this.chartObj.removeAnnotation(e,i))}clearAnnotations(e){this.ngZone.runOutsideAngular(()=>this.chartObj.clearAnnotations(e))}dataURI(e){return this.chartObj.dataURI(e)}}return n.\u0275fac=function(e){return new(e||n)(a.Y36(a.R0b))},n.\u0275cmp=a.Xpm({type:n,selectors:[["apx-chart"]],viewQuery:function(e,i){if(1&e&&a.Gf(Nne,7),2&e){let r;a.iGM(r=a.CRH())&&(i.chartElement=r.first)}},inputs:{chart:"chart",annotations:"annotations",colors:"colors",dataLabels:"dataLabels",series:"series",stroke:"stroke",labels:"labels",legend:"legend",markers:"markers",noData:"noData",fill:"fill",tooltip:"tooltip",plotOptions:"plotOptions",responsive:"responsive",xaxis:"xaxis",yaxis:"yaxis",forecastDataPoints:"forecastDataPoints",grid:"grid",states:"states",title:"title",subtitle:"subtitle",theme:"theme",autoUpdateSeries:"autoUpdateSeries"},features:[a.TTD],decls:2,vars:0,consts:[["chart",""]],template:function(e,i){1&e&&a._UZ(0,"div",null,0)},encapsulation:2,changeDetection:0}),n})();window.ApexCharts=$G;let _B,Pne=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=a.oAB({type:n}),n.\u0275inj=a.cJS({}),n})();try{_B=typeof Intl<"u"&&Intl.v8BreakIterator}catch{_B=!1}let LT,qG=(()=>{class n{constructor(e){this._platformId=e,this.isBrowser=this._platformId?wh(this._platformId):"object"==typeof document&&!!document,this.EDGE=this.isBrowser&&/(edge)/i.test(navigator.userAgent),this.TRIDENT=this.isBrowser&&/(msie|trident)/i.test(navigator.userAgent),this.BLINK=this.isBrowser&&!(!window.chrome&&!_B)&&typeof CSS<"u"&&!this.EDGE&&!this.TRIDENT,this.WEBKIT=this.isBrowser&&/AppleWebKit/i.test(navigator.userAgent)&&!this.BLINK&&!this.EDGE&&!this.TRIDENT,this.IOS=this.isBrowser&&/iPad|iPhone|iPod/.test(navigator.userAgent)&&!("MSStream"in window),this.FIREFOX=this.isBrowser&&/(firefox|minefield)/i.test(navigator.userAgent),this.ANDROID=this.isBrowser&&/android/i.test(navigator.userAgent)&&!this.TRIDENT,this.SAFARI=this.isBrowser&&/safari/i.test(navigator.userAgent)&&this.WEBKIT}static#e=this.\u0275fac=function(i){return new(i||n)(a.LFG(a.Lbi))};static#t=this.\u0275prov=a.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})();function dN(n){return function Rne(){if(null==LT&&typeof window<"u")try{window.addEventListener("test",null,Object.defineProperty({},"passive",{get:()=>LT=!0}))}finally{LT=LT||!1}return LT}()?n:!!n.capture}function wB(n,t=0){return function Gne(n){return!isNaN(parseFloat(n))&&!isNaN(Number(n))}(n)?Number(n):t}function XG(n){return Array.isArray(n)?n:[n]}var Wne=ce(7103);function BT(...n){const t=(0,gu.yG)(n),e=(0,gu.jO)(n),{args:i,keys:r}=dz(n);if(0===i.length)return(0,bi.D)([],t);const s=new ar.y(function $ne(n,t,e=Ta.y){return i=>{QG(t,()=>{const{length:r}=n,s=new Array(r);let c=r,p=r;for(let _=0;_<r;_++)QG(t,()=>{const C=(0,bi.D)(n[_],t);let M=!1;C.subscribe((0,lr.x)(i,V=>{s[_]=V,M||(M=!0,p--),p||i.next(e(s.slice()))},()=>{--c||i.complete()}))},i)},i)}}(i,t,r?c=>hz(r,c):Ta.y));return e?s.pipe(BF(e)):s}function QG(n,t,e){n?(0,Wne.f)(e,n,t):t()}const JG=new Set;let b_,Yne=(()=>{class n{constructor(e,i){this._platform=e,this._nonce=i,this._matchMedia=this._platform.isBrowser&&window.matchMedia?window.matchMedia.bind(window):Zne}matchMedia(e){return(this._platform.WEBKIT||this._platform.BLINK)&&function qne(n,t){if(!JG.has(n))try{b_||(b_=document.createElement("style"),t&&(b_.nonce=t),b_.setAttribute("type","text/css"),document.head.appendChild(b_)),b_.sheet&&(b_.sheet.insertRule(`@media ${n} {body{ }}`,0),JG.add(n))}catch(e){console.error(e)}}(e,this._nonce),this._matchMedia(e)}static#e=this.\u0275fac=function(i){return new(i||n)(a.LFG(qG),a.LFG(a.Ojb,8))};static#t=this.\u0275prov=a.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})();function Zne(n){return{matches:"all"===n||""===n,media:n,addListener:()=>{},removeListener:()=>{}}}let Xne=(()=>{class n{constructor(e,i){this._mediaMatcher=e,this._zone=i,this._queries=new Map,this._destroySubject=new Pn.x}ngOnDestroy(){this._destroySubject.next(),this._destroySubject.complete()}isMatched(e){return e6(XG(e)).some(r=>this._registerQuery(r).mql.matches)}observe(e){let s=BT(e6(XG(e)).map(c=>this._registerQuery(c).observable));return s=Md(s.pipe(wi(1)),s.pipe(function gj(n){return Kn((t,e)=>n<=e)}(1),rf(0))),s.pipe((0,Bt.U)(c=>{const p={matches:!1,breakpoints:{}};return c.forEach(({matches:_,query:C})=>{p.matches=p.matches||_,p.breakpoints[C]=_}),p}))}_registerQuery(e){if(this._queries.has(e))return this._queries.get(e);const i=this._mediaMatcher.matchMedia(e),s={observable:new ar.y(c=>{const p=_=>this._zone.run(()=>c.next(_));return i.addListener(p),()=>{i.removeListener(p)}}).pipe(Ml(i),(0,Bt.U)(({matches:c})=>({query:e,matches:c})),dr(this._destroySubject)),mql:i};return this._queries.set(e,s),s}static#e=this.\u0275fac=function(i){return new(i||n)(a.LFG(Yne),a.LFG(a.R0b))};static#t=this.\u0275prov=a.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})();function e6(n){return n.map(t=>t.split(",")).reduce((t,e)=>t.concat(e)).map(t=>t.trim())}const r6="cdk-high-contrast-black-on-white",s6="cdk-high-contrast-white-on-black",xB="cdk-high-contrast-active";let aie=(()=>{class n{constructor(e,i){this._platform=e,this._document=i,this._breakpointSubscription=(0,a.f3M)(Xne).observe("(forced-colors: active)").subscribe(()=>{this._hasCheckedHighContrastMode&&(this._hasCheckedHighContrastMode=!1,this._applyBodyHighContrastModeCssClasses())})}getHighContrastMode(){if(!this._platform.isBrowser)return 0;const e=this._document.createElement("div");e.style.backgroundColor="rgb(1,2,3)",e.style.position="absolute",this._document.body.appendChild(e);const i=this._document.defaultView||window,r=i&&i.getComputedStyle?i.getComputedStyle(e):null,s=(r&&r.backgroundColor||"").replace(/ /g,"");switch(e.remove(),s){case"rgb(0,0,0)":case"rgb(45,50,54)":case"rgb(32,32,32)":return 2;case"rgb(255,255,255)":case"rgb(255,250,239)":return 1}return 0}ngOnDestroy(){this._breakpointSubscription.unsubscribe()}_applyBodyHighContrastModeCssClasses(){if(!this._hasCheckedHighContrastMode&&this._platform.isBrowser&&this._document.body){const e=this._document.body.classList;e.remove(xB,r6,s6),this._hasCheckedHighContrastMode=!0;const i=this.getHighContrastMode();1===i?e.add(xB,r6):2===i&&e.add(xB,s6)}}static#e=this.\u0275fac=function(i){return new(i||n)(a.LFG(qG),a.LFG(Ye))};static#t=this.\u0275prov=a.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})(),o6=(()=>{class n{static#e=this.\u0275fac=function(i){return new(i||n)};static#t=this.\u0275mod=a.oAB({type:n});static#n=this.\u0275inj=a.cJS({})}return n})();const die=new a.OlP("mat-sanity-checks",{providedIn:"root",factory:function uie(){return!0}});let hie=(()=>{class n{constructor(e,i,r){this._sanityChecks=i,this._document=r,this._hasDoneGlobalChecks=!1,e._applyBodyHighContrastModeCssClasses(),this._hasDoneGlobalChecks||(this._hasDoneGlobalChecks=!0)}_checkIsEnabled(e){return!function Bne(){return typeof __karma__<"u"&&!!__karma__||typeof jasmine<"u"&&!!jasmine||typeof jest<"u"&&!!jest||typeof Mocha<"u"&&!!Mocha}()&&("boolean"==typeof this._sanityChecks?this._sanityChecks:!!this._sanityChecks[e])}static#e=this.\u0275fac=function(i){return new(i||n)(a.LFG(aie),a.LFG(die,8),a.LFG(Ye))};static#t=this.\u0275mod=a.oAB({type:n});static#n=this.\u0275inj=a.cJS({imports:[o6,o6]})}return n})();function fie(n,t){return class extends n{get color(){return this._color}set color(e){const i=e||this.defaultColor;i!==this._color&&(this._color&&this._elementRef.nativeElement.classList.remove(`mat-${this._color}`),i&&this._elementRef.nativeElement.classList.add(`mat-${i}`),this._color=i)}constructor(...e){super(...e),this.defaultColor=t,this.color=t}}}const c6=dN({passive:!0,capture:!0});class mie{constructor(){this._events=new Map,this._delegateEventHandler=t=>{const e=function Lne(n){return n.composedPath?n.composedPath()[0]:n.target}(t);e&&this._events.get(t.type)?.forEach((i,r)=>{(r===e||r.contains(e))&&i.forEach(s=>s.handleEvent(t))})}}addHandler(t,e,i,r){const s=this._events.get(e);if(s){const c=s.get(i);c?c.add(r):s.set(i,new Set([r]))}else this._events.set(e,new Map([[i,new Set([r])]])),t.runOutsideAngular(()=>{document.addEventListener(e,this._delegateEventHandler,c6)})}removeHandler(t,e,i){const r=this._events.get(t);if(!r)return;const s=r.get(e);s&&(s.delete(i),0===s.size&&r.delete(e),0===r.size&&(this._events.delete(t),document.removeEventListener(t,this._delegateEventHandler,c6)))}}class CB{static#e=this._eventManager=new mie;constructor(t,e,i,r){this._target=t,this._ngZone=e,this._platform=r,this._isPointerDown=!1,this._activeRipples=new Map,this._pointerUpEventsRegistered=!1,r.isBrowser&&(this._containerElement=KG(i))}fadeInRipple(t,e,i={}){const r=this._containerRect=this._containerRect||this._containerElement.getBoundingClientRect(),s={...u6,...i.animation},c=i.radius||function yie(n,t,e){const i=Math.max(Math.abs(n-e.left),Math.abs(n-e.right)),r=Math.max(Math.abs(t-e.top),Math.abs(t-e.bottom));return Math.sqrt(i*i+r*r)}(t,e,r),p=t-r.left,_=e-r.top,C=s.enterDuration,M=document.createElement("div");M.classList.add("mat-ripple-element"),M.style.left=p-c+"px",M.style.top=_-c+"px",M.style.height=2*c+"px",M.style.width=2*c+"px",null!=i.color&&(M.style.backgroundColor=i.color),M.style.transitionDuration=`${C}ms`,this._containerElement.appendChild(M);const V=window.getComputedStyle(M),K=V.transitionDuration,oe="none"===V.transitionProperty||"0s"===K||"0s, 0s"===K||0===r.width&&0===r.height,ae=new gie(this,M,i,oe);M.style.transform="scale3d(1, 1, 1)",ae.state=0,i.persistent||(this._mostRecentTransientRipple=ae);return!oe&&(C||s.exitDuration)&&this._ngZone.runOutsideAngular(()=>{const Pe=()=>this._finishRippleTransition(ae),Be=()=>this._destroyRipple(ae);M.addEventListener("transitionend",Pe),M.addEventListener("transitioncancel",Be)}),this._activeRipples.set(ae,null),(oe||!C)&&this._finishRippleTransition(ae),ae}fadeOutRipple(t){if(2===t.state||3===t.state)return;const e=t.element,i={...u6,...t.config.animation};e.style.transitionDuration=`${i.exitDuration}ms`,e.style.opacity="0",t.state=2,(t._animationForciblyDisabledThroughCss||!i.exitDuration)&&this._finishRippleTransition(t)}fadeOutAll(){this._getActiveRipples().forEach(t=>t.fadeOut())}fadeOutAllNonPersistent(){this._getActiveRipples().forEach(t=>{t.config.persistent||t.fadeOut()})}setupTriggerEvents(t){const e=KG(t);!this._platform.isBrowser||!e||e===this._triggerElement||(this._removeTriggerEvents(),this._triggerElement=e,h6.forEach(i=>{CB._eventManager.addHandler(this._ngZone,i,e,this)}))}handleEvent(t){"mousedown"===t.type?this._onMousedown(t):"touchstart"===t.type?this._onTouchStart(t):this._onPointerUp(),this._pointerUpEventsRegistered||(this._ngZone.runOutsideAngular(()=>{f6.forEach(e=>{this._triggerElement.addEventListener(e,this,d6)})}),this._pointerUpEventsRegistered=!0)}_finishRippleTransition(t){0===t.state?this._startFadeOutTransition(t):2===t.state&&this._destroyRipple(t)}_startFadeOutTransition(t){const e=t===this._mostRecentTransientRipple,{persistent:i}=t.config;t.state=1,!i&&(!e||!this._isPointerDown)&&t.fadeOut()}_destroyRipple(t){const e=this._activeRipples.get(t)??null;this._activeRipples.delete(t),this._activeRipples.size||(this._containerRect=null),t===this._mostRecentTransientRipple&&(this._mostRecentTransientRipple=null),t.state=3,null!==e&&(t.element.removeEventListener("transitionend",e.onTransitionEnd),t.element.removeEventListener("transitioncancel",e.onTransitionCancel)),t.element.remove()}_onMousedown(t){const e=function rie(n){return 0===n.buttons||0===n.offsetX&&0===n.offsetY}(t),i=this._lastTouchStartEvent&&Date.now()<this._lastTouchStartEvent+800;!this._target.rippleDisabled&&!e&&!i&&(this._isPointerDown=!0,this.fadeInRipple(t.clientX,t.clientY,this._target.rippleConfig))}_onTouchStart(t){if(!this._target.rippleDisabled&&!function sie(n){const t=n.touches&&n.touches[0]||n.changedTouches&&n.changedTouches[0];return!(!t||-1!==t.identifier||null!=t.radiusX&&1!==t.radiusX||null!=t.radiusY&&1!==t.radiusY)}(t)){this._lastTouchStartEvent=Date.now(),this._isPointerDown=!0;const e=t.changedTouches;if(e)for(let i=0;i<e.length;i++)this.fadeInRipple(e[i].clientX,e[i].clientY,this._target.rippleConfig)}}_onPointerUp(){this._isPointerDown&&(this._isPointerDown=!1,this._getActiveRipples().forEach(t=>{!t.config.persistent&&(1===t.state||t.config.terminateOnPointerUp&&0===t.state)&&t.fadeOut()}))}_getActiveRipples(){return Array.from(this._activeRipples.keys())}_removeTriggerEvents(){const t=this._triggerElement;t&&(h6.forEach(e=>CB._eventManager.removeHandler(e,t,this)),this._pointerUpEventsRegistered&&f6.forEach(e=>t.removeEventListener(e,this,d6)))}}const _ie=["determinateSpinner"];function bie(n,t){if(1&n&&(a.O4$(),a.TgZ(0,"svg",11),a._UZ(1,"circle",12),a.qZA()),2&n){const e=a.oxw();a.uIk("viewBox",e._viewBox()),a.xp6(1),a.Udp("stroke-dasharray",e._strokeCircumference(),"px")("stroke-dashoffset",e._strokeCircumference()/2,"px")("stroke-width",e._circleStrokeWidth(),"%"),a.uIk("r",e._circleRadius())}}const wie=fie(class{constructor(n){this._elementRef=n}},"primary"),xie=new a.OlP("mat-progress-spinner-default-options",{providedIn:"root",factory:function Cie(){return{diameter:p6}}}),p6=100;let Die=(()=>{class n extends wie{constructor(e,i,r){super(e),this.mode="mat-spinner"===this._elementRef.nativeElement.nodeName.toLowerCase()?"indeterminate":"determinate",this._value=0,this._diameter=p6,this._noopAnimations="NoopAnimations"===i&&!!r&&!r._forceAnimations,r&&(r.color&&(this.color=this.defaultColor=r.color),r.diameter&&(this.diameter=r.diameter),r.strokeWidth&&(this.strokeWidth=r.strokeWidth))}get value(){return"determinate"===this.mode?this._value:0}set value(e){this._value=Math.max(0,Math.min(100,wB(e)))}get diameter(){return this._diameter}set diameter(e){this._diameter=wB(e)}get strokeWidth(){return this._strokeWidth??this.diameter/10}set strokeWidth(e){this._strokeWidth=wB(e)}_circleRadius(){return(this.diameter-10)/2}_viewBox(){const e=2*this._circleRadius()+this.strokeWidth;return`0 0 ${e} ${e}`}_strokeCircumference(){return 2*Math.PI*this._circleRadius()}_strokeDashOffset(){return"determinate"===this.mode?this._strokeCircumference()*(100-this._value)/100:null}_circleStrokeWidth(){return this.strokeWidth/this.diameter*100}static#e=this.\u0275fac=function(i){return new(i||n)(a.Y36(a.SBq),a.Y36(a.QbO,8),a.Y36(xie))};static#t=this.\u0275cmp=a.Xpm({type:n,selectors:[["mat-progress-spinner"],["mat-spinner"]],viewQuery:function(i,r){if(1&i&&a.Gf(_ie,5),2&i){let s;a.iGM(s=a.CRH())&&(r._determinateCircle=s.first)}},hostAttrs:["role","progressbar","tabindex","-1",1,"mat-mdc-progress-spinner","mdc-circular-progress"],hostVars:16,hostBindings:function(i,r){2&i&&(a.uIk("aria-valuemin",0)("aria-valuemax",100)("aria-valuenow","determinate"===r.mode?r.value:null)("mode",r.mode),a.Udp("width",r.diameter,"px")("height",r.diameter,"px")("--mdc-circular-progress-size",r.diameter+"px")("--mdc-circular-progress-active-indicator-width",r.diameter+"px"),a.ekj("_mat-animation-noopable",r._noopAnimations)("mdc-circular-progress--indeterminate","indeterminate"===r.mode))},inputs:{color:"color",mode:"mode",value:"value",diameter:"diameter",strokeWidth:"strokeWidth"},exportAs:["matProgressSpinner"],features:[a.qOj],decls:14,vars:11,consts:[["circle",""],["aria-hidden","true",1,"mdc-circular-progress__determinate-container"],["determinateSpinner",""],["xmlns","http://www.w3.org/2000/svg","focusable","false",1,"mdc-circular-progress__determinate-circle-graphic"],["cx","50%","cy","50%",1,"mdc-circular-progress__determinate-circle"],["aria-hidden","true",1,"mdc-circular-progress__indeterminate-container"],[1,"mdc-circular-progress__spinner-layer"],[1,"mdc-circular-progress__circle-clipper","mdc-circular-progress__circle-left"],[3,"ngTemplateOutlet"],[1,"mdc-circular-progress__gap-patch"],[1,"mdc-circular-progress__circle-clipper","mdc-circular-progress__circle-right"],["xmlns","http://www.w3.org/2000/svg","focusable","false",1,"mdc-circular-progress__indeterminate-circle-graphic"],["cx","50%","cy","50%"]],template:function(i,r){if(1&i&&(a.YNc(0,bie,2,8,"ng-template",null,0,a.W1O),a.TgZ(2,"div",1,2),a.O4$(),a.TgZ(4,"svg",3),a._UZ(5,"circle",4),a.qZA()(),a.kcU(),a.TgZ(6,"div",5)(7,"div",6)(8,"div",7),a.GkF(9,8),a.qZA(),a.TgZ(10,"div",9),a.GkF(11,8),a.qZA(),a.TgZ(12,"div",10),a.GkF(13,8),a.qZA()()()),2&i){const s=a.MAs(1);a.xp6(4),a.uIk("viewBox",r._viewBox()),a.xp6(1),a.Udp("stroke-dasharray",r._strokeCircumference(),"px")("stroke-dashoffset",r._strokeDashOffset(),"px")("stroke-width",r._circleStrokeWidth(),"%"),a.uIk("r",r._circleRadius()),a.xp6(4),a.Q6J("ngTemplateOutlet",s),a.xp6(2),a.Q6J("ngTemplateOutlet",s),a.xp6(2),a.Q6J("ngTemplateOutlet",s)}},dependencies:[$e],styles:["@keyframes mdc-circular-progress-container-rotate{to{transform:rotate(360deg)}}@keyframes mdc-circular-progress-spinner-layer-rotate{12.5%{transform:rotate(135deg)}25%{transform:rotate(270deg)}37.5%{transform:rotate(405deg)}50%{transform:rotate(540deg)}62.5%{transform:rotate(675deg)}75%{transform:rotate(810deg)}87.5%{transform:rotate(945deg)}100%{transform:rotate(1080deg)}}@keyframes mdc-circular-progress-color-1-fade-in-out{from{opacity:.99}25%{opacity:.99}26%{opacity:0}89%{opacity:0}90%{opacity:.99}to{opacity:.99}}@keyframes mdc-circular-progress-color-2-fade-in-out{from{opacity:0}15%{opacity:0}25%{opacity:.99}50%{opacity:.99}51%{opacity:0}to{opacity:0}}@keyframes mdc-circular-progress-color-3-fade-in-out{from{opacity:0}40%{opacity:0}50%{opacity:.99}75%{opacity:.99}76%{opacity:0}to{opacity:0}}@keyframes mdc-circular-progress-color-4-fade-in-out{from{opacity:0}65%{opacity:0}75%{opacity:.99}90%{opacity:.99}to{opacity:0}}@keyframes mdc-circular-progress-left-spin{from{transform:rotate(265deg)}50%{transform:rotate(130deg)}to{transform:rotate(265deg)}}@keyframes mdc-circular-progress-right-spin{from{transform:rotate(-265deg)}50%{transform:rotate(-130deg)}to{transform:rotate(-265deg)}}.mdc-circular-progress{display:inline-flex;position:relative;direction:ltr;line-height:0;transition:opacity 250ms 0ms cubic-bezier(0.4, 0, 0.6, 1)}.mdc-circular-progress__determinate-container,.mdc-circular-progress__indeterminate-circle-graphic,.mdc-circular-progress__indeterminate-container,.mdc-circular-progress__spinner-layer{position:absolute;width:100%;height:100%}.mdc-circular-progress__determinate-container{transform:rotate(-90deg)}.mdc-circular-progress__indeterminate-container{font-size:0;letter-spacing:0;white-space:nowrap;opacity:0}.mdc-circular-progress__determinate-circle-graphic,.mdc-circular-progress__indeterminate-circle-graphic{fill:rgba(0,0,0,0)}.mdc-circular-progress__determinate-circle{transition:stroke-dashoffset 500ms 0ms cubic-bezier(0, 0, 0.2, 1)}.mdc-circular-progress__gap-patch{position:absolute;top:0;left:47.5%;box-sizing:border-box;width:5%;height:100%;overflow:hidden}.mdc-circular-progress__gap-patch .mdc-circular-progress__indeterminate-circle-graphic{left:-900%;width:2000%;transform:rotate(180deg)}.mdc-circular-progress__circle-clipper{display:inline-flex;position:relative;width:50%;height:100%;overflow:hidden}.mdc-circular-progress__circle-clipper .mdc-circular-progress__indeterminate-circle-graphic{width:200%}.mdc-circular-progress__circle-right .mdc-circular-progress__indeterminate-circle-graphic{left:-100%}.mdc-circular-progress--indeterminate .mdc-circular-progress__determinate-container{opacity:0}.mdc-circular-progress--indeterminate .mdc-circular-progress__indeterminate-container{opacity:1}.mdc-circular-progress--indeterminate .mdc-circular-progress__indeterminate-container{animation:mdc-circular-progress-container-rotate 1568.2352941176ms linear infinite}.mdc-circular-progress--indeterminate .mdc-circular-progress__spinner-layer{animation:mdc-circular-progress-spinner-layer-rotate 5332ms cubic-bezier(0.4, 0, 0.2, 1) infinite both}.mdc-circular-progress--indeterminate .mdc-circular-progress__color-1{animation:mdc-circular-progress-spinner-layer-rotate 5332ms cubic-bezier(0.4, 0, 0.2, 1) infinite both,mdc-circular-progress-color-1-fade-in-out 5332ms cubic-bezier(0.4, 0, 0.2, 1) infinite both}.mdc-circular-progress--indeterminate .mdc-circular-progress__color-2{animation:mdc-circular-progress-spinner-layer-rotate 5332ms cubic-bezier(0.4, 0, 0.2, 1) infinite both,mdc-circular-progress-color-2-fade-in-out 5332ms cubic-bezier(0.4, 0, 0.2, 1) infinite both}.mdc-circular-progress--indeterminate .mdc-circular-progress__color-3{animation:mdc-circular-progress-spinner-layer-rotate 5332ms cubic-bezier(0.4, 0, 0.2, 1) infinite both,mdc-circular-progress-color-3-fade-in-out 5332ms cubic-bezier(0.4, 0, 0.2, 1) infinite both}.mdc-circular-progress--indeterminate .mdc-circular-progress__color-4{animation:mdc-circular-progress-spinner-layer-rotate 5332ms cubic-bezier(0.4, 0, 0.2, 1) infinite both,mdc-circular-progress-color-4-fade-in-out 5332ms cubic-bezier(0.4, 0, 0.2, 1) infinite both}.mdc-circular-progress--indeterminate .mdc-circular-progress__circle-left .mdc-circular-progress__indeterminate-circle-graphic{animation:mdc-circular-progress-left-spin 1333ms cubic-bezier(0.4, 0, 0.2, 1) infinite both}.mdc-circular-progress--indeterminate .mdc-circular-progress__circle-right .mdc-circular-progress__indeterminate-circle-graphic{animation:mdc-circular-progress-right-spin 1333ms cubic-bezier(0.4, 0, 0.2, 1) infinite both}.mdc-circular-progress--closed{opacity:0}.mat-mdc-progress-spinner{--mdc-circular-progress-active-indicator-width:4px;--mdc-circular-progress-size:48px}.mat-mdc-progress-spinner .mdc-circular-progress__determinate-circle,.mat-mdc-progress-spinner .mdc-circular-progress__indeterminate-circle-graphic{stroke:var(--mdc-circular-progress-active-indicator-color)}@media screen and (forced-colors: active),(-ms-high-contrast: active){.mat-mdc-progress-spinner .mdc-circular-progress__determinate-circle,.mat-mdc-progress-spinner .mdc-circular-progress__indeterminate-circle-graphic{stroke:CanvasText}}.mat-mdc-progress-spinner circle{stroke-width:var(--mdc-circular-progress-active-indicator-width)}@media screen and (forced-colors: active),(-ms-high-contrast: active){.mat-mdc-progress-spinner .mdc-circular-progress--four-color .mdc-circular-progress__color-1 .mdc-circular-progress__indeterminate-circle-graphic{stroke:CanvasText}}@media screen and (forced-colors: active),(-ms-high-contrast: active){.mat-mdc-progress-spinner .mdc-circular-progress--four-color .mdc-circular-progress__color-2 .mdc-circular-progress__indeterminate-circle-graphic{stroke:CanvasText}}@media screen and (forced-colors: active),(-ms-high-contrast: active){.mat-mdc-progress-spinner .mdc-circular-progress--four-color .mdc-circular-progress__color-3 .mdc-circular-progress__indeterminate-circle-graphic{stroke:CanvasText}}@media screen and (forced-colors: active),(-ms-high-contrast: active){.mat-mdc-progress-spinner .mdc-circular-progress--four-color .mdc-circular-progress__color-4 .mdc-circular-progress__indeterminate-circle-graphic{stroke:CanvasText}}.mat-mdc-progress-spinner .mdc-circular-progress{width:var(--mdc-circular-progress-size) !important;height:var(--mdc-circular-progress-size) !important}.mat-mdc-progress-spinner{display:block;overflow:hidden;line-height:0}.mat-mdc-progress-spinner._mat-animation-noopable,.mat-mdc-progress-spinner._mat-animation-noopable .mdc-circular-progress__determinate-circle{transition:none}.mat-mdc-progress-spinner._mat-animation-noopable .mdc-circular-progress__indeterminate-circle-graphic,.mat-mdc-progress-spinner._mat-animation-noopable .mdc-circular-progress__spinner-layer,.mat-mdc-progress-spinner._mat-animation-noopable .mdc-circular-progress__indeterminate-container{animation:none}.mat-mdc-progress-spinner._mat-animation-noopable .mdc-circular-progress__indeterminate-container circle{stroke-dasharray:0 !important}.cdk-high-contrast-active .mat-mdc-progress-spinner .mdc-circular-progress__indeterminate-circle-graphic,.cdk-high-contrast-active .mat-mdc-progress-spinner .mdc-circular-progress__determinate-circle{stroke:currentColor;stroke:CanvasText}"],encapsulation:2,changeDetection:0})}return n})(),Tie=(()=>{class n{static#e=this.\u0275fac=function(i){return new(i||n)};static#t=this.\u0275mod=a.oAB({type:n});static#n=this.\u0275inj=a.cJS({imports:[Fi,hie]})}return n})();const Sie_firebase={apiKey:"AIzaSyBDgKKEOVdpy8B2-zfUNmSWI9xz9mJoMFk",authDomain:"petguardian-app.firebaseapp.com",databaseURL:"https://petguardian-app-default-rtdb.firebaseio.com",projectId:"petguardian-app",storageBucket:"petguardian-app.appspot.com",messagingSenderId:"938087449708",appId:"1:938087449708:web:b26fdf38bb98c828cdc449",measurementId:"G-0GJ9Z7MJ35"};var Yl=ce(5619);function g6(n){return new ar.y(t=>{(0,lh.Xf)(n()).subscribe(t)})}var Iie=ce(8407);function HT(n,t){const e=(0,Ps.m)(n)?n:()=>n,i=r=>r.error(e());return new ar.y(t?r=>t.schedule(i,0,r):i)}var EB=ce(7394);function DB(){return(0,Or.e)((n,t)=>{let e=null;n._refCount++;const i=(0,lr.x)(t,void 0,void 0,void 0,()=>{if(!n||n._refCount<=0||0<--n._refCount)return void(e=null);const r=n._connection,s=e;e=null,r&&(!s||r===s)&&r.unsubscribe(),t.unsubscribe()});n.subscribe(i),i.closed||(e=n.connect())})}class m6 extends ar.y{constructor(t,e){super(),this.source=t,this.subjectFactory=e,this._subject=null,this._refCount=0,this._connection=null,(0,Or.A)(t)&&(this.lift=t.lift)}_subscribe(t){return this.getSubject().subscribe(t)}getSubject(){const t=this._subject;return(!t||t.isStopped)&&(this._subject=this.subjectFactory()),this._subject}_teardown(){this._refCount=0;const{_connection:t}=this;this._subject=this._connection=null,t?.unsubscribe()}connect(){let t=this._connection;if(!t){t=this._connection=new EB.w0;const e=this.getSubject();t.add(this.source.subscribe((0,lr.x)(e,void 0,()=>{this._teardown(),e.complete()},i=>{this._teardown(),e.error(i)},()=>this._teardown()))),t.closed&&(this._connection=null,t=EB.w0.EMPTY)}return t}refCount(){return DB()(this)}}function w_(n){return(0,Or.e)((t,e)=>{let s,i=null,r=!1;i=t.subscribe((0,lr.x)(e,void 0,void 0,c=>{s=(0,lh.Xf)(n(c,w_(n)(t))),i?(i.unsubscribe(),i=null,s.subscribe(e)):r=!0})),r&&(i.unsubscribe(),i=null,s.subscribe(e))})}function fN(n){return n<=0?()=>Gr.E:(0,Or.e)((t,e)=>{let i=[];t.subscribe((0,lr.x)(e,r=>{i.push(r),n<i.length&&i.shift()},()=>{for(const r of i)e.next(r);e.complete()},void 0,()=>{i=null}))})}const ai="primary",UT=Symbol("RouteTitle");class kie{constructor(t){this.params=t||{}}has(t){return Object.prototype.hasOwnProperty.call(this.params,t)}get(t){if(this.has(t)){const e=this.params[t];return Array.isArray(e)?e[0]:e}return null}getAll(t){if(this.has(t)){const e=this.params[t];return Array.isArray(e)?e:[e]}return[]}get keys(){return Object.keys(this.params)}}function cx(n){return new kie(n)}function Oie(n,t,e){const i=e.path.split("/");if(i.length>n.length||"full"===e.pathMatch&&(t.hasChildren()||i.length<n.length))return null;const r={};for(let s=0;s<i.length;s++){const c=i[s],p=n[s];if(c.startsWith(":"))r[c.substring(1)]=p;else if(c!==p.path)return null}return{consumed:n.slice(0,i.length),posParams:r}}function vh(n,t){const e=n?Object.keys(n):void 0,i=t?Object.keys(t):void 0;if(!e||!i||e.length!=i.length)return!1;let r;for(let s=0;s<e.length;s++)if(r=e[s],!v6(n[r],t[r]))return!1;return!0}function v6(n,t){if(Array.isArray(n)&&Array.isArray(t)){if(n.length!==t.length)return!1;const e=[...n].sort(),i=[...t].sort();return e.every((r,s)=>i[s]===r)}return n===t}function y6(n){return n.length>0?n[n.length-1]:null}function Am(n){return function Aie(n){return!!n&&(n instanceof ar.y||(0,Ps.m)(n.lift)&&(0,Ps.m)(n.subscribe))}(n)?n:(0,a.QGY)(n)?(0,bi.D)(Promise.resolve(n)):(0,hn.of)(n)}const Pie={exact:function w6(n,t,e){if(!x_(n.segments,t.segments)||!pN(n.segments,t.segments,e)||n.numberOfChildren!==t.numberOfChildren)return!1;for(const i in t.children)if(!n.children[i]||!w6(n.children[i],t.children[i],e))return!1;return!0},subset:x6},_6={exact:function Rie(n,t){return vh(n,t)},subset:function Fie(n,t){return Object.keys(t).length<=Object.keys(n).length&&Object.keys(t).every(e=>v6(n[e],t[e]))},ignored:()=>!0};function b6(n,t,e){return Pie[e.paths](n.root,t.root,e.matrixParams)&&_6[e.queryParams](n.queryParams,t.queryParams)&&!("exact"===e.fragment&&n.fragment!==t.fragment)}function x6(n,t,e){return C6(n,t,t.segments,e)}function C6(n,t,e,i){if(n.segments.length>e.length){const r=n.segments.slice(0,e.length);return!(!x_(r,e)||t.hasChildren()||!pN(r,e,i))}if(n.segments.length===e.length){if(!x_(n.segments,e)||!pN(n.segments,e,i))return!1;for(const r in t.children)if(!n.children[r]||!x6(n.children[r],t.children[r],i))return!1;return!0}{const r=e.slice(0,n.segments.length),s=e.slice(n.segments.length);return!!(x_(n.segments,r)&&pN(n.segments,r,i)&&n.children[ai])&&C6(n.children[ai],t,s,i)}}function pN(n,t,e){return t.every((i,r)=>_6[e](n[r].parameters,i.parameters))}class ux{constructor(t=new vr([],{}),e={},i=null){this.root=t,this.queryParams=e,this.fragment=i}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=cx(this.queryParams)),this._queryParamMap}toString(){return Vie.serialize(this)}}class vr{constructor(t,e){this.segments=t,this.children=e,this.parent=null,Object.values(e).forEach(i=>i.parent=this)}hasChildren(){return this.numberOfChildren>0}get numberOfChildren(){return Object.keys(this.children).length}toString(){return gN(this)}}class zT{constructor(t,e){this.path=t,this.parameters=e}get parameterMap(){return this._parameterMap||(this._parameterMap=cx(this.parameters)),this._parameterMap}toString(){return T6(this)}}function x_(n,t){return n.length===t.length&&n.every((e,i)=>e.path===t[i].path)}let jT=(()=>{class n{static#e=this.\u0275fac=function(i){return new(i||n)};static#t=this.\u0275prov=a.Yz7({token:n,factory:function(){return new TB},providedIn:"root"})}return n})();class TB{parse(t){const e=new Xie(t);return new ux(e.parseRootSegment(),e.parseQueryParams(),e.parseFragment())}serialize(t){const e=`/${GT(t.root,!0)}`,i=function zie(n){const t=Object.keys(n).map(e=>{const i=n[e];return Array.isArray(i)?i.map(r=>`${mN(e)}=${mN(r)}`).join("&"):`${mN(e)}=${mN(i)}`}).filter(e=>!!e);return t.length?`?${t.join("&")}`:""}(t.queryParams),r="string"==typeof t.fragment?`#${function Hie(n){return encodeURI(n)}(t.fragment)}`:"";return`${e}${i}${r}`}}const Vie=new TB;function gN(n){return n.segments.map(t=>T6(t)).join("/")}function GT(n,t){if(!n.hasChildren())return gN(n);if(t){const e=n.children[ai]?GT(n.children[ai],!1):"",i=[];return Object.entries(n.children).forEach(([r,s])=>{r!==ai&&i.push(`${r}:${GT(s,!1)}`)}),i.length>0?`${e}(${i.join("//")})`:e}{const e=function Bie(n,t){let e=[];return Object.entries(n.children).forEach(([i,r])=>{i===ai&&(e=e.concat(t(r,i)))}),Object.entries(n.children).forEach(([i,r])=>{i!==ai&&(e=e.concat(t(r,i)))}),e}(n,(i,r)=>r===ai?[GT(n.children[ai],!1)]:[`${r}:${GT(i,!1)}`]);return 1===Object.keys(n.children).length&&null!=n.children[ai]?`${gN(n)}/${e[0]}`:`${gN(n)}/(${e.join("//")})`}}function E6(n){return encodeURIComponent(n).replace(/%40/g,"@").replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",")}function mN(n){return E6(n).replace(/%3B/gi,";")}function SB(n){return E6(n).replace(/\(/g,"%28").replace(/\)/g,"%29").replace(/%26/gi,"&")}function vN(n){return decodeURIComponent(n)}function D6(n){return vN(n.replace(/\+/g,"%20"))}function T6(n){return`${SB(n.path)}${function Uie(n){return Object.keys(n).map(t=>`;${SB(t)}=${SB(n[t])}`).join("")}(n.parameters)}`}const jie=/^[^\/()?;#]+/;function AB(n){const t=n.match(jie);return t?t[0]:""}const Gie=/^[^\/()?;=#]+/,$ie=/^[^=?&#]+/,qie=/^[^&#]+/;class Xie{constructor(t){this.url=t,this.remaining=t}parseRootSegment(){return this.consumeOptional("/"),""===this.remaining||this.peekStartsWith("?")||this.peekStartsWith("#")?new vr([],{}):new vr([],this.parseChildren())}parseQueryParams(){const t={};if(this.consumeOptional("?"))do{this.parseQueryParam(t)}while(this.consumeOptional("&"));return t}parseFragment(){return this.consumeOptional("#")?decodeURIComponent(this.remaining):null}parseChildren(){if(""===this.remaining)return{};this.consumeOptional("/");const t=[];for(this.peekStartsWith("(")||t.push(this.parseSegment());this.peekStartsWith("/")&&!this.peekStartsWith("//")&&!this.peekStartsWith("/(");)this.capture("/"),t.push(this.parseSegment());let e={};this.peekStartsWith("/(")&&(this.capture("/"),e=this.parseParens(!0));let i={};return this.peekStartsWith("(")&&(i=this.parseParens(!1)),(t.length>0||Object.keys(e).length>0)&&(i[ai]=new vr(t,e)),i}parseSegment(){const t=AB(this.remaining);if(""===t&&this.peekStartsWith(";"))throw new a.vHH(4009,!1);return this.capture(t),new zT(vN(t),this.parseMatrixParams())}parseMatrixParams(){const t={};for(;this.consumeOptional(";");)this.parseParam(t);return t}parseParam(t){const e=function Wie(n){const t=n.match(Gie);return t?t[0]:""}(this.remaining);if(!e)return;this.capture(e);let i="";if(this.consumeOptional("=")){const r=AB(this.remaining);r&&(i=r,this.capture(i))}t[vN(e)]=vN(i)}parseQueryParam(t){const e=function Yie(n){const t=n.match($ie);return t?t[0]:""}(this.remaining);if(!e)return;this.capture(e);let i="";if(this.consumeOptional("=")){const c=function Zie(n){const t=n.match(qie);return t?t[0]:""}(this.remaining);c&&(i=c,this.capture(i))}const r=D6(e),s=D6(i);if(t.hasOwnProperty(r)){let c=t[r];Array.isArray(c)||(c=[c],t[r]=c),c.push(s)}else t[r]=s}parseParens(t){const e={};for(this.capture("(");!this.consumeOptional(")")&&this.remaining.length>0;){const i=AB(this.remaining),r=this.remaining[i.length];if("/"!==r&&")"!==r&&";"!==r)throw new a.vHH(4010,!1);let s;i.indexOf(":")>-1?(s=i.slice(0,i.indexOf(":")),this.capture(s),this.capture(":")):t&&(s=ai);const c=this.parseChildren();e[s]=1===Object.keys(c).length?c[ai]:new vr([],c),this.consumeOptional("//")}return e}peekStartsWith(t){return this.remaining.startsWith(t)}consumeOptional(t){return!!this.peekStartsWith(t)&&(this.remaining=this.remaining.substring(t.length),!0)}capture(t){if(!this.consumeOptional(t))throw new a.vHH(4011,!1)}}function S6(n){return n.segments.length>0?new vr([],{[ai]:n}):n}function A6(n){const t={};for(const i of Object.keys(n.children)){const s=A6(n.children[i]);if(i===ai&&0===s.segments.length&&s.hasChildren())for(const[c,p]of Object.entries(s.children))t[c]=p;else(s.segments.length>0||s.hasChildren())&&(t[i]=s)}return function Kie(n){if(1===n.numberOfChildren&&n.children[ai]){const t=n.children[ai];return new vr(n.segments.concat(t.segments),t.children)}return n}(new vr(n.segments,t))}function C_(n){return n instanceof ux}function I6(n){let t;const r=S6(function e(s){const c={};for(const _ of s.children){const C=e(_);c[_.outlet]=C}const p=new vr(s.url,c);return s===n&&(t=p),p}(n.root));return t??r}function M6(n,t,e,i){let r=n;for(;r.parent;)r=r.parent;if(0===t.length)return IB(r,r,r,e,i);const s=function Jie(n){if("string"==typeof n[0]&&1===n.length&&"/"===n[0])return new O6(!0,0,n);let t=0,e=!1;const i=n.reduce((r,s,c)=>{if("object"==typeof s&&null!=s){if(s.outlets){const p={};return Object.entries(s.outlets).forEach(([_,C])=>{p[_]="string"==typeof C?C.split("/"):C}),[...r,{outlets:p}]}if(s.segmentPath)return[...r,s.segmentPath]}return"string"!=typeof s?[...r,s]:0===c?(s.split("/").forEach((p,_)=>{0==_&&"."===p||(0==_&&""===p?e=!0:".."===p?t++:""!=p&&r.push(p))}),r):[...r,s]},[]);return new O6(e,t,i)}(t);if(s.toRoot())return IB(r,r,new vr([],{}),e,i);const c=function ere(n,t,e){if(n.isAbsolute)return new _N(t,!0,0);if(!e)return new _N(t,!1,NaN);if(null===e.parent)return new _N(e,!0,0);const i=yN(n.commands[0])?0:1;return function tre(n,t,e){let i=n,r=t,s=e;for(;s>r;){if(s-=r,i=i.parent,!i)throw new a.vHH(4005,!1);r=i.segments.length}return new _N(i,!1,r-s)}(e,e.segments.length-1+i,n.numberOfDoubleDots)}(s,r,n),p=c.processChildren?$T(c.segmentGroup,c.index,s.commands):N6(c.segmentGroup,c.index,s.commands);return IB(r,c.segmentGroup,p,e,i)}function yN(n){return"object"==typeof n&&null!=n&&!n.outlets&&!n.segmentPath}function WT(n){return"object"==typeof n&&null!=n&&n.outlets}function IB(n,t,e,i,r){let c,s={};i&&Object.entries(i).forEach(([_,C])=>{s[_]=Array.isArray(C)?C.map(M=>`${M}`):`${C}`}),c=n===t?e:k6(n,t,e);const p=S6(A6(c));return new ux(p,s,r)}function k6(n,t,e){const i={};return Object.entries(n.children).forEach(([r,s])=>{i[r]=s===t?e:k6(s,t,e)}),new vr(n.segments,i)}class O6{constructor(t,e,i){if(this.isAbsolute=t,this.numberOfDoubleDots=e,this.commands=i,t&&i.length>0&&yN(i[0]))throw new a.vHH(4003,!1);const r=i.find(WT);if(r&&r!==y6(i))throw new a.vHH(4004,!1)}toRoot(){return this.isAbsolute&&1===this.commands.length&&"/"==this.commands[0]}}class _N{constructor(t,e,i){this.segmentGroup=t,this.processChildren=e,this.index=i}}function N6(n,t,e){if(n||(n=new vr([],{})),0===n.segments.length&&n.hasChildren())return $T(n,t,e);const i=function ire(n,t,e){let i=0,r=t;const s={match:!1,pathIndex:0,commandIndex:0};for(;r<n.segments.length;){if(i>=e.length)return s;const c=n.segments[r],p=e[i];if(WT(p))break;const _=`${p}`,C=i<e.length-1?e[i+1]:null;if(r>0&&void 0===_)break;if(_&&C&&"object"==typeof C&&void 0===C.outlets){if(!R6(_,C,c))return s;i+=2}else{if(!R6(_,{},c))return s;i++}r++}return{match:!0,pathIndex:r,commandIndex:i}}(n,t,e),r=e.slice(i.commandIndex);if(i.match&&i.pathIndex<n.segments.length){const s=new vr(n.segments.slice(0,i.pathIndex),{});return s.children[ai]=new vr(n.segments.slice(i.pathIndex),n.children),$T(s,0,r)}return i.match&&0===r.length?new vr(n.segments,{}):i.match&&!n.hasChildren()?MB(n,t,e):i.match?$T(n,0,r):MB(n,t,e)}function $T(n,t,e){if(0===e.length)return new vr(n.segments,{});{const i=function nre(n){return WT(n[0])?n[0].outlets:{[ai]:n}}(e),r={};if(Object.keys(i).some(s=>s!==ai)&&n.children[ai]&&1===n.numberOfChildren&&0===n.children[ai].segments.length){const s=$T(n.children[ai],t,e);return new vr(n.segments,s.children)}return Object.entries(i).forEach(([s,c])=>{"string"==typeof c&&(c=[c]),null!==c&&(r[s]=N6(n.children[s],t,c))}),Object.entries(n.children).forEach(([s,c])=>{void 0===i[s]&&(r[s]=c)}),new vr(n.segments,r)}}function MB(n,t,e){const i=n.segments.slice(0,t);let r=0;for(;r<e.length;){const s=e[r];if(WT(s)){const _=rre(s.outlets);return new vr(i,_)}if(0===r&&yN(e[0])){i.push(new zT(n.segments[t].path,P6(e[0]))),r++;continue}const c=WT(s)?s.outlets[ai]:`${s}`,p=r<e.length-1?e[r+1]:null;c&&p&&yN(p)?(i.push(new zT(c,P6(p))),r+=2):(i.push(new zT(c,{})),r++)}return new vr(i,{})}function rre(n){const t={};return Object.entries(n).forEach(([e,i])=>{"string"==typeof i&&(i=[i]),null!==i&&(t[e]=MB(new vr([],{}),0,i))}),t}function P6(n){const t={};return Object.entries(n).forEach(([e,i])=>t[e]=`${i}`),t}function R6(n,t,e){return n==e.path&&vh(t,e.parameters)}const YT="imperative";class yh{constructor(t,e){this.id=t,this.url=e}}class bN extends yh{constructor(t,e,i="imperative",r=null){super(t,e),this.type=0,this.navigationTrigger=i,this.restoredState=r}toString(){return`NavigationStart(id: ${this.id}, url: '${this.url}')`}}class Im extends yh{constructor(t,e,i){super(t,e),this.urlAfterRedirects=i,this.type=1}toString(){return`NavigationEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}')`}}class qT extends yh{constructor(t,e,i,r){super(t,e),this.reason=i,this.code=r,this.type=2}toString(){return`NavigationCancel(id: ${this.id}, url: '${this.url}')`}}class dx extends yh{constructor(t,e,i,r){super(t,e),this.reason=i,this.code=r,this.type=16}}class wN extends yh{constructor(t,e,i,r){super(t,e),this.error=i,this.target=r,this.type=3}toString(){return`NavigationError(id: ${this.id}, url: '${this.url}', error: ${this.error})`}}class F6 extends yh{constructor(t,e,i,r){super(t,e),this.urlAfterRedirects=i,this.state=r,this.type=4}toString(){return`RoutesRecognized(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class sre extends yh{constructor(t,e,i,r){super(t,e),this.urlAfterRedirects=i,this.state=r,this.type=7}toString(){return`GuardsCheckStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class ore extends yh{constructor(t,e,i,r,s){super(t,e),this.urlAfterRedirects=i,this.state=r,this.shouldActivate=s,this.type=8}toString(){return`GuardsCheckEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state}, shouldActivate: ${this.shouldActivate})`}}class are extends yh{constructor(t,e,i,r){super(t,e),this.urlAfterRedirects=i,this.state=r,this.type=5}toString(){return`ResolveStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class lre extends yh{constructor(t,e,i,r){super(t,e),this.urlAfterRedirects=i,this.state=r,this.type=6}toString(){return`ResolveEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class cre{constructor(t){this.route=t,this.type=9}toString(){return`RouteConfigLoadStart(path: ${this.route.path})`}}class ure{constructor(t){this.route=t,this.type=10}toString(){return`RouteConfigLoadEnd(path: ${this.route.path})`}}class dre{constructor(t){this.snapshot=t,this.type=11}toString(){return`ChildActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class hre{constructor(t){this.snapshot=t,this.type=12}toString(){return`ChildActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class fre{constructor(t){this.snapshot=t,this.type=13}toString(){return`ActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class pre{constructor(t){this.snapshot=t,this.type=14}toString(){return`ActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class L6{constructor(t,e,i){this.routerEvent=t,this.position=e,this.anchor=i,this.type=15}toString(){return`Scroll(anchor: '${this.anchor}', position: '${this.position?`${this.position[0]}, ${this.position[1]}`:null}')`}}class kB{}class OB{constructor(t){this.url=t}}class gre{constructor(){this.outlet=null,this.route=null,this.injector=null,this.children=new ZT,this.attachRef=null}}let ZT=(()=>{class n{constructor(){this.contexts=new Map}onChildOutletCreated(e,i){const r=this.getOrCreateContext(e);r.outlet=i,this.contexts.set(e,r)}onChildOutletDestroyed(e){const i=this.getContext(e);i&&(i.outlet=null,i.attachRef=null)}onOutletDeactivated(){const e=this.contexts;return this.contexts=new Map,e}onOutletReAttached(e){this.contexts=e}getOrCreateContext(e){let i=this.getContext(e);return i||(i=new gre,this.contexts.set(e,i)),i}getContext(e){return this.contexts.get(e)||null}static#e=this.\u0275fac=function(i){return new(i||n)};static#t=this.\u0275prov=a.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})();class B6{constructor(t){this._root=t}get root(){return this._root.value}parent(t){const e=this.pathFromRoot(t);return e.length>1?e[e.length-2]:null}children(t){const e=NB(t,this._root);return e?e.children.map(i=>i.value):[]}firstChild(t){const e=NB(t,this._root);return e&&e.children.length>0?e.children[0].value:null}siblings(t){const e=PB(t,this._root);return e.length<2?[]:e[e.length-2].children.map(r=>r.value).filter(r=>r!==t)}pathFromRoot(t){return PB(t,this._root).map(e=>e.value)}}function NB(n,t){if(n===t.value)return t;for(const e of t.children){const i=NB(n,e);if(i)return i}return null}function PB(n,t){if(n===t.value)return[t];for(const e of t.children){const i=PB(n,e);if(i.length)return i.unshift(t),i}return[]}class ip{constructor(t,e){this.value=t,this.children=e}toString(){return`TreeNode(${this.value})`}}function hx(n){const t={};return n&&n.children.forEach(e=>t[e.value.outlet]=e),t}class V6 extends B6{constructor(t,e){super(t),this.snapshot=e,RB(this,t)}toString(){return this.snapshot.toString()}}function H6(n,t){const e=function mre(n,t){const c=new xN([],{},{},"",{},ai,t,null,{});return new z6("",new ip(c,[]))}(0,t),i=new Yl.X([new zT("",{})]),r=new Yl.X({}),s=new Yl.X({}),c=new Yl.X({}),p=new Yl.X(""),_=new fx(i,r,c,p,s,ai,t,e.root);return _.snapshot=e.root,new V6(new ip(_,[]),e)}class fx{constructor(t,e,i,r,s,c,p,_){this.urlSubject=t,this.paramsSubject=e,this.queryParamsSubject=i,this.fragmentSubject=r,this.dataSubject=s,this.outlet=c,this.component=p,this._futureSnapshot=_,this.title=this.dataSubject?.pipe((0,Bt.U)(C=>C[UT]))??(0,hn.of)(void 0),this.url=t,this.params=e,this.queryParams=i,this.fragment=r,this.data=s}get routeConfig(){return this._futureSnapshot.routeConfig}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap||(this._paramMap=this.params.pipe((0,Bt.U)(t=>cx(t)))),this._paramMap}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=this.queryParams.pipe((0,Bt.U)(t=>cx(t)))),this._queryParamMap}toString(){return this.snapshot?this.snapshot.toString():`Future(${this._futureSnapshot})`}}function U6(n,t="emptyOnly"){const e=n.pathFromRoot;let i=0;if("always"!==t)for(i=e.length-1;i>=1;){const r=e[i],s=e[i-1];if(r.routeConfig&&""===r.routeConfig.path)i--;else{if(s.component)break;i--}}return function vre(n){return n.reduce((t,e)=>({params:{...t.params,...e.params},data:{...t.data,...e.data},resolve:{...e.data,...t.resolve,...e.routeConfig?.data,...e._resolvedData}}),{params:{},data:{},resolve:{}})}(e.slice(i))}class xN{get title(){return this.data?.[UT]}constructor(t,e,i,r,s,c,p,_,C){this.url=t,this.params=e,this.queryParams=i,this.fragment=r,this.data=s,this.outlet=c,this.component=p,this.routeConfig=_,this._resolve=C}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap||(this._paramMap=cx(this.params)),this._paramMap}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=cx(this.queryParams)),this._queryParamMap}toString(){return`Route(url:'${this.url.map(i=>i.toString()).join("/")}', path:'${this.routeConfig?this.routeConfig.path:""}')`}}class z6 extends B6{constructor(t,e){super(e),this.url=t,RB(this,e)}toString(){return j6(this._root)}}function RB(n,t){t.value._routerState=n,t.children.forEach(e=>RB(n,e))}function j6(n){const t=n.children.length>0?` { ${n.children.map(j6).join(", ")} } `:"";return`${n.value}${t}`}function FB(n){if(n.snapshot){const t=n.snapshot,e=n._futureSnapshot;n.snapshot=e,vh(t.queryParams,e.queryParams)||n.queryParamsSubject.next(e.queryParams),t.fragment!==e.fragment&&n.fragmentSubject.next(e.fragment),vh(t.params,e.params)||n.paramsSubject.next(e.params),function Nie(n,t){if(n.length!==t.length)return!1;for(let e=0;e<n.length;++e)if(!vh(n[e],t[e]))return!1;return!0}(t.url,e.url)||n.urlSubject.next(e.url),vh(t.data,e.data)||n.dataSubject.next(e.data)}else n.snapshot=n._futureSnapshot,n.dataSubject.next(n._futureSnapshot.data)}function LB(n,t){const e=vh(n.params,t.params)&&function Lie(n,t){return x_(n,t)&&n.every((e,i)=>vh(e.parameters,t[i].parameters))}(n.url,t.url);return e&&!(!n.parent!=!t.parent)&&(!n.parent||LB(n.parent,t.parent))}let BB=(()=>{class n{constructor(){this.activated=null,this._activatedRoute=null,this.name=ai,this.activateEvents=new a.vpe,this.deactivateEvents=new a.vpe,this.attachEvents=new a.vpe,this.detachEvents=new a.vpe,this.parentContexts=(0,a.f3M)(ZT),this.location=(0,a.f3M)(a.s_b),this.changeDetector=(0,a.f3M)(a.sBO),this.environmentInjector=(0,a.f3M)(a.lqb),this.inputBinder=(0,a.f3M)(CN,{optional:!0}),this.supportsBindingToComponentInputs=!0}get activatedComponentRef(){return this.activated}ngOnChanges(e){if(e.name){const{firstChange:i,previousValue:r}=e.name;if(i)return;this.isTrackedInParentContexts(r)&&(this.deactivate(),this.parentContexts.onChildOutletDestroyed(r)),this.initializeOutletWithName()}}ngOnDestroy(){this.isTrackedInParentContexts(this.name)&&this.parentContexts.onChildOutletDestroyed(this.name),this.inputBinder?.unsubscribeFromRouteData(this)}isTrackedInParentContexts(e){return this.parentContexts.getContext(e)?.outlet===this}ngOnInit(){this.initializeOutletWithName()}initializeOutletWithName(){if(this.parentContexts.onChildOutletCreated(this.name,this),this.activated)return;const e=this.parentContexts.getContext(this.name);e?.route&&(e.attachRef?this.attach(e.attachRef,e.route):this.activateWith(e.route,e.injector))}get isActivated(){return!!this.activated}get component(){if(!this.activated)throw new a.vHH(4012,!1);return this.activated.instance}get activatedRoute(){if(!this.activated)throw new a.vHH(4012,!1);return this._activatedRoute}get activatedRouteData(){return this._activatedRoute?this._activatedRoute.snapshot.data:{}}detach(){if(!this.activated)throw new a.vHH(4012,!1);this.location.detach();const e=this.activated;return this.activated=null,this._activatedRoute=null,this.detachEvents.emit(e.instance),e}attach(e,i){this.activated=e,this._activatedRoute=i,this.location.insert(e.hostView),this.inputBinder?.bindActivatedRouteToOutletComponent(this),this.attachEvents.emit(e.instance)}deactivate(){if(this.activated){const e=this.component;this.activated.destroy(),this.activated=null,this._activatedRoute=null,this.deactivateEvents.emit(e)}}activateWith(e,i){if(this.isActivated)throw new a.vHH(4013,!1);this._activatedRoute=e;const r=this.location,c=e.snapshot.component,p=this.parentContexts.getOrCreateContext(this.name).children,_=new yre(e,p,r.injector);this.activated=r.createComponent(c,{index:r.length,injector:_,environmentInjector:i??this.environmentInjector}),this.changeDetector.markForCheck(),this.inputBinder?.bindActivatedRouteToOutletComponent(this),this.activateEvents.emit(this.activated.instance)}static#e=this.\u0275fac=function(i){return new(i||n)};static#t=this.\u0275dir=a.lG2({type:n,selectors:[["router-outlet"]],inputs:{name:"name"},outputs:{activateEvents:"activate",deactivateEvents:"deactivate",attachEvents:"attach",detachEvents:"detach"},exportAs:["outlet"],standalone:!0,features:[a.TTD]})}return n})();class yre{constructor(t,e,i){this.route=t,this.childContexts=e,this.parent=i}get(t,e){return t===fx?this.route:t===ZT?this.childContexts:this.parent.get(t,e)}}const CN=new a.OlP("");let G6=(()=>{class n{constructor(){this.outletDataSubscriptions=new Map}bindActivatedRouteToOutletComponent(e){this.unsubscribeFromRouteData(e),this.subscribeToRouteData(e)}unsubscribeFromRouteData(e){this.outletDataSubscriptions.get(e)?.unsubscribe(),this.outletDataSubscriptions.delete(e)}subscribeToRouteData(e){const{activatedRoute:i}=e,r=BT([i.queryParams,i.params,i.data]).pipe((0,Bi.w)(([s,c,p],_)=>(p={...s,...c,...p},0===_?(0,hn.of)(p):Promise.resolve(p)))).subscribe(s=>{if(!e.isActivated||!e.activatedComponentRef||e.activatedRoute!==i||null===i.component)return void this.unsubscribeFromRouteData(e);const c=(0,a.qFp)(i.component);if(c)for(const{templateName:p}of c.inputs)e.activatedComponentRef.setInput(p,s[p]);else this.unsubscribeFromRouteData(e)});this.outletDataSubscriptions.set(e,r)}static#e=this.\u0275fac=function(i){return new(i||n)};static#t=this.\u0275prov=a.Yz7({token:n,factory:n.\u0275fac})}return n})();function XT(n,t,e){if(e&&n.shouldReuseRoute(t.value,e.value.snapshot)){const i=e.value;i._futureSnapshot=t.value;const r=function bre(n,t,e){return t.children.map(i=>{for(const r of e.children)if(n.shouldReuseRoute(i.value,r.value.snapshot))return XT(n,i,r);return XT(n,i)})}(n,t,e);return new ip(i,r)}{if(n.shouldAttach(t.value)){const s=n.retrieve(t.value);if(null!==s){const c=s.route;return c.value._futureSnapshot=t.value,c.children=t.children.map(p=>XT(n,p)),c}}const i=function wre(n){return new fx(new Yl.X(n.url),new Yl.X(n.params),new Yl.X(n.queryParams),new Yl.X(n.fragment),new Yl.X(n.data),n.outlet,n.component,n)}(t.value),r=t.children.map(s=>XT(n,s));return new ip(i,r)}}const VB="ngNavigationCancelingError";function W6(n,t){const{redirectTo:e,navigationBehaviorOptions:i}=C_(t)?{redirectTo:t,navigationBehaviorOptions:void 0}:t,r=$6(!1,0,t);return r.url=e,r.navigationBehaviorOptions=i,r}function $6(n,t,e){const i=new Error("NavigationCancelingError: "+(n||""));return i[VB]=!0,i.cancellationCode=t,e&&(i.url=e),i}function Y6(n){return n&&n[VB]}let q6=(()=>{class n{static#e=this.\u0275fac=function(i){return new(i||n)};static#t=this.\u0275cmp=a.Xpm({type:n,selectors:[["ng-component"]],standalone:!0,features:[a.jDz],decls:1,vars:0,template:function(i,r){1&i&&a._UZ(0,"router-outlet")},dependencies:[BB],encapsulation:2})}return n})();function HB(n){const t=n.children&&n.children.map(HB),e=t?{...n,children:t}:{...n};return!e.component&&!e.loadComponent&&(t||e.loadChildren)&&e.outlet&&e.outlet!==ai&&(e.component=q6),e}function ju(n){return n.outlet||ai}function KT(n){if(!n)return null;if(n.routeConfig?._injector)return n.routeConfig._injector;for(let t=n.parent;t;t=t.parent){const e=t.routeConfig;if(e?._loadedInjector)return e._loadedInjector;if(e?._injector)return e._injector}return null}class Ire{constructor(t,e,i,r,s){this.routeReuseStrategy=t,this.futureState=e,this.currState=i,this.forwardEvent=r,this.inputBindingEnabled=s}activate(t){const e=this.futureState._root,i=this.currState?this.currState._root:null;this.deactivateChildRoutes(e,i,t),FB(this.futureState.root),this.activateChildRoutes(e,i,t)}deactivateChildRoutes(t,e,i){const r=hx(e);t.children.forEach(s=>{const c=s.value.outlet;this.deactivateRoutes(s,r[c],i),delete r[c]}),Object.values(r).forEach(s=>{this.deactivateRouteAndItsChildren(s,i)})}deactivateRoutes(t,e,i){const r=t.value,s=e?e.value:null;if(r===s)if(r.component){const c=i.getContext(r.outlet);c&&this.deactivateChildRoutes(t,e,c.children)}else this.deactivateChildRoutes(t,e,i);else s&&this.deactivateRouteAndItsChildren(e,i)}deactivateRouteAndItsChildren(t,e){t.value.component&&this.routeReuseStrategy.shouldDetach(t.value.snapshot)?this.detachAndStoreRouteSubtree(t,e):this.deactivateRouteAndOutlet(t,e)}detachAndStoreRouteSubtree(t,e){const i=e.getContext(t.value.outlet),r=i&&t.value.component?i.children:e,s=hx(t);for(const c of Object.keys(s))this.deactivateRouteAndItsChildren(s[c],r);if(i&&i.outlet){const c=i.outlet.detach(),p=i.children.onOutletDeactivated();this.routeReuseStrategy.store(t.value.snapshot,{componentRef:c,route:t,contexts:p})}}deactivateRouteAndOutlet(t,e){const i=e.getContext(t.value.outlet),r=i&&t.value.component?i.children:e,s=hx(t);for(const c of Object.keys(s))this.deactivateRouteAndItsChildren(s[c],r);i&&(i.outlet&&(i.outlet.deactivate(),i.children.onOutletDeactivated()),i.attachRef=null,i.route=null)}activateChildRoutes(t,e,i){const r=hx(e);t.children.forEach(s=>{this.activateRoutes(s,r[s.value.outlet],i),this.forwardEvent(new pre(s.value.snapshot))}),t.children.length&&this.forwardEvent(new hre(t.value.snapshot))}activateRoutes(t,e,i){const r=t.value,s=e?e.value:null;if(FB(r),r===s)if(r.component){const c=i.getOrCreateContext(r.outlet);this.activateChildRoutes(t,e,c.children)}else this.activateChildRoutes(t,e,i);else if(r.component){const c=i.getOrCreateContext(r.outlet);if(this.routeReuseStrategy.shouldAttach(r.snapshot)){const p=this.routeReuseStrategy.retrieve(r.snapshot);this.routeReuseStrategy.store(r.snapshot,null),c.children.onOutletReAttached(p.contexts),c.attachRef=p.componentRef,c.route=p.route.value,c.outlet&&c.outlet.attach(p.componentRef,p.route.value),FB(p.route.value),this.activateChildRoutes(t,null,c.children)}else{const p=KT(r.snapshot);c.attachRef=null,c.route=r,c.injector=p,c.outlet&&c.outlet.activateWith(r,c.injector),this.activateChildRoutes(t,null,c.children)}}else this.activateChildRoutes(t,null,i)}}class Z6{constructor(t){this.path=t,this.route=this.path[this.path.length-1]}}class EN{constructor(t,e){this.component=t,this.route=e}}function Mre(n,t,e){const i=n._root;return QT(i,t?t._root:null,e,[i.value])}function px(n,t){const e=Symbol(),i=t.get(n,e);return i===e?"function"!=typeof n||(0,a.Z0I)(n)?t.get(n):n:i}function QT(n,t,e,i,r={canDeactivateChecks:[],canActivateChecks:[]}){const s=hx(t);return n.children.forEach(c=>{(function Ore(n,t,e,i,r={canDeactivateChecks:[],canActivateChecks:[]}){const s=n.value,c=t?t.value:null,p=e?e.getContext(n.value.outlet):null;if(c&&s.routeConfig===c.routeConfig){const _=function Nre(n,t,e){if("function"==typeof e)return e(n,t);switch(e){case"pathParamsChange":return!x_(n.url,t.url);case"pathParamsOrQueryParamsChange":return!x_(n.url,t.url)||!vh(n.queryParams,t.queryParams);case"always":return!0;case"paramsOrQueryParamsChange":return!LB(n,t)||!vh(n.queryParams,t.queryParams);default:return!LB(n,t)}}(c,s,s.routeConfig.runGuardsAndResolvers);_?r.canActivateChecks.push(new Z6(i)):(s.data=c.data,s._resolvedData=c._resolvedData),QT(n,t,s.component?p?p.children:null:e,i,r),_&&p&&p.outlet&&p.outlet.isActivated&&r.canDeactivateChecks.push(new EN(p.outlet.component,c))}else c&&JT(t,p,r),r.canActivateChecks.push(new Z6(i)),QT(n,null,s.component?p?p.children:null:e,i,r)})(c,s[c.value.outlet],e,i.concat([c.value]),r),delete s[c.value.outlet]}),Object.entries(s).forEach(([c,p])=>JT(p,e.getContext(c),r)),r}function JT(n,t,e){const i=hx(n),r=n.value;Object.entries(i).forEach(([s,c])=>{JT(c,r.component?t?t.children.getContext(s):null:t,e)}),e.canDeactivateChecks.push(new EN(r.component&&t&&t.outlet&&t.outlet.isActivated?t.outlet.component:null,r))}function eS(n){return"function"==typeof n}function X6(n){return n instanceof Kc||"EmptyError"===n?.name}const DN=Symbol("INITIAL_VALUE");function gx(){return(0,Bi.w)(n=>BT(n.map(t=>t.pipe(wi(1),Ml(DN)))).pipe((0,Bt.U)(t=>{for(const e of t)if(!0!==e){if(e===DN)return DN;if(!1===e||e instanceof ux)return e}return!0}),Kn(t=>t!==DN),wi(1)))}function K6(n){return(0,Iie.z)((0,xo.b)(t=>{if(C_(t))throw W6(0,t)}),(0,Bt.U)(t=>!0===t))}class TN{constructor(t){this.segmentGroup=t||null}}class Q6{constructor(t){this.urlTree=t}}function mx(n){return HT(new TN(n))}function J6(n){return HT(new Q6(n))}class Jre{constructor(t,e){this.urlSerializer=t,this.urlTree=e}noMatchError(t){return new a.vHH(4002,!1)}lineralizeSegments(t,e){let i=[],r=e.root;for(;;){if(i=i.concat(r.segments),0===r.numberOfChildren)return(0,hn.of)(i);if(r.numberOfChildren>1||!r.children[ai])return HT(new a.vHH(4e3,!1));r=r.children[ai]}}applyRedirectCommands(t,e,i){return this.applyRedirectCreateUrlTree(e,this.urlSerializer.parse(e),t,i)}applyRedirectCreateUrlTree(t,e,i,r){const s=this.createSegmentGroup(t,e.root,i,r);return new ux(s,this.createQueryParams(e.queryParams,this.urlTree.queryParams),e.fragment)}createQueryParams(t,e){const i={};return Object.entries(t).forEach(([r,s])=>{if("string"==typeof s&&s.startsWith(":")){const p=s.substring(1);i[r]=e[p]}else i[r]=s}),i}createSegmentGroup(t,e,i,r){const s=this.createSegments(t,e.segments,i,r);let c={};return Object.entries(e.children).forEach(([p,_])=>{c[p]=this.createSegmentGroup(t,_,i,r)}),new vr(s,c)}createSegments(t,e,i,r){return e.map(s=>s.path.startsWith(":")?this.findPosParam(t,s,r):this.findOrReturn(s,i))}findPosParam(t,e,i){const r=i[e.path.substring(1)];if(!r)throw new a.vHH(4001,!1);return r}findOrReturn(t,e){let i=0;for(const r of e){if(r.path===t.path)return e.splice(i),r;i++}return t}}const UB={matched:!1,consumedSegments:[],remainingSegments:[],parameters:{},positionalParamSegments:{}};function ese(n,t,e,i,r){const s=zB(n,t,e);return s.matched?(i=function Cre(n,t){return n.providers&&!n._injector&&(n._injector=(0,a.MMx)(n.providers,t,`Route: ${n.path}`)),n._injector??t}(t,i),function Xre(n,t,e,i){const r=t.canMatch;if(!r||0===r.length)return(0,hn.of)(!0);const s=r.map(c=>{const p=px(c,n);return Am(function Vre(n){return n&&eS(n.canMatch)}(p)?p.canMatch(t,e):n.runInContext(()=>p(t,e)))});return(0,hn.of)(s).pipe(gx(),K6())}(i,t,e).pipe((0,Bt.U)(c=>!0===c?s:{...UB}))):(0,hn.of)(s)}function zB(n,t,e){if(""===t.path)return"full"===t.pathMatch&&(n.hasChildren()||e.length>0)?{...UB}:{matched:!0,consumedSegments:[],remainingSegments:e,parameters:{},positionalParamSegments:{}};const r=(t.matcher||Oie)(e,n,t);if(!r)return{...UB};const s={};Object.entries(r.posParams??{}).forEach(([p,_])=>{s[p]=_.path});const c=r.consumed.length>0?{...s,...r.consumed[r.consumed.length-1].parameters}:s;return{matched:!0,consumedSegments:r.consumed,remainingSegments:e.slice(r.consumed.length),parameters:c,positionalParamSegments:r.posParams??{}}}function eW(n,t,e,i){return e.length>0&&function ise(n,t,e){return e.some(i=>SN(n,t,i)&&ju(i)!==ai)}(n,e,i)?{segmentGroup:new vr(t,nse(i,new vr(e,n.children))),slicedSegments:[]}:0===e.length&&function rse(n,t,e){return e.some(i=>SN(n,t,i))}(n,e,i)?{segmentGroup:new vr(n.segments,tse(n,0,e,i,n.children)),slicedSegments:e}:{segmentGroup:new vr(n.segments,n.children),slicedSegments:e}}function tse(n,t,e,i,r){const s={};for(const c of i)if(SN(n,e,c)&&!r[ju(c)]){const p=new vr([],{});s[ju(c)]=p}return{...r,...s}}function nse(n,t){const e={};e[ai]=t;for(const i of n)if(""===i.path&&ju(i)!==ai){const r=new vr([],{});e[ju(i)]=r}return e}function SN(n,t,e){return(!(n.hasChildren()||t.length>0)||"full"!==e.pathMatch)&&""===e.path}class lse{constructor(t,e,i,r,s,c,p){this.injector=t,this.configLoader=e,this.rootComponentType=i,this.config=r,this.urlTree=s,this.paramsInheritanceStrategy=c,this.urlSerializer=p,this.allowRedirects=!0,this.applyRedirects=new Jre(this.urlSerializer,this.urlTree)}noMatchError(t){return new a.vHH(4002,!1)}recognize(){const t=eW(this.urlTree.root,[],[],this.config).segmentGroup;return this.processSegmentGroup(this.injector,this.config,t,ai).pipe(w_(e=>{if(e instanceof Q6)return this.allowRedirects=!1,this.urlTree=e.urlTree,this.match(e.urlTree);throw e instanceof TN?this.noMatchError(e):e}),(0,Bt.U)(e=>{const i=new xN([],Object.freeze({}),Object.freeze({...this.urlTree.queryParams}),this.urlTree.fragment,{},ai,this.rootComponentType,null,{}),r=new ip(i,e),s=new z6("",r),c=function Qie(n,t,e=null,i=null){return M6(I6(n),t,e,i)}(i,[],this.urlTree.queryParams,this.urlTree.fragment);return c.queryParams=this.urlTree.queryParams,s.url=this.urlSerializer.serialize(c),this.inheritParamsAndData(s._root),{state:s,tree:c}}))}match(t){return this.processSegmentGroup(this.injector,this.config,t.root,ai).pipe(w_(i=>{throw i instanceof TN?this.noMatchError(i):i}))}inheritParamsAndData(t){const e=t.value,i=U6(e,this.paramsInheritanceStrategy);e.params=Object.freeze(i.params),e.data=Object.freeze(i.data),t.children.forEach(r=>this.inheritParamsAndData(r))}processSegmentGroup(t,e,i,r){return 0===i.segments.length&&i.hasChildren()?this.processChildren(t,e,i):this.processSegment(t,e,i,i.segments,r,!0)}processChildren(t,e,i){const r=[];for(const s of Object.keys(i.children))"primary"===s?r.unshift(s):r.push(s);return(0,bi.D)(r).pipe(sx(s=>{const c=i.children[s],p=function Sre(n,t){const e=n.filter(i=>ju(i)===t);return e.push(...n.filter(i=>ju(i)!==t)),e}(e,s);return this.processSegmentGroup(t,p,c,s)}),yc((s,c)=>(s.push(...c),s)),Da(null),function Mie(n,t){const e=arguments.length>=2;return i=>i.pipe(n?Kn((r,s)=>n(r,s,i)):Ta.y,fN(1),e?Da(t):oc(()=>new Kc))}(),(0,io.z)(s=>{if(null===s)return mx(i);const c=tW(s);return function cse(n){n.sort((t,e)=>t.value.outlet===ai?-1:e.value.outlet===ai?1:t.value.outlet.localeCompare(e.value.outlet))}(c),(0,hn.of)(c)}))}processSegment(t,e,i,r,s,c){return(0,bi.D)(e).pipe(sx(p=>this.processSegmentAgainstRoute(p._injector??t,e,p,i,r,s,c).pipe(w_(_=>{if(_ instanceof TN)return(0,hn.of)(null);throw _}))),qa(p=>!!p),w_(p=>{if(X6(p))return function ose(n,t,e){return 0===t.length&&!n.children[e]}(i,r,s)?(0,hn.of)([]):mx(i);throw p}))}processSegmentAgainstRoute(t,e,i,r,s,c,p){return function sse(n,t,e,i){return!!(ju(n)===i||i!==ai&&SN(t,e,n))&&("**"===n.path||zB(t,n,e).matched)}(i,r,s,c)?void 0===i.redirectTo?this.matchSegmentAgainstRoute(t,r,i,s,c,p):p&&this.allowRedirects?this.expandSegmentAgainstRouteUsingRedirect(t,r,e,i,s,c):mx(r):mx(r)}expandSegmentAgainstRouteUsingRedirect(t,e,i,r,s,c){return"**"===r.path?this.expandWildCardWithParamsAgainstRouteUsingRedirect(t,i,r,c):this.expandRegularSegmentAgainstRouteUsingRedirect(t,e,i,r,s,c)}expandWildCardWithParamsAgainstRouteUsingRedirect(t,e,i,r){const s=this.applyRedirects.applyRedirectCommands([],i.redirectTo,{});return i.redirectTo.startsWith("/")?J6(s):this.applyRedirects.lineralizeSegments(i,s).pipe((0,io.z)(c=>{const p=new vr(c,{});return this.processSegment(t,e,p,c,r,!1)}))}expandRegularSegmentAgainstRouteUsingRedirect(t,e,i,r,s,c){const{matched:p,consumedSegments:_,remainingSegments:C,positionalParamSegments:M}=zB(e,r,s);if(!p)return mx(e);const V=this.applyRedirects.applyRedirectCommands(_,r.redirectTo,M);return r.redirectTo.startsWith("/")?J6(V):this.applyRedirects.lineralizeSegments(r,V).pipe((0,io.z)(W=>this.processSegment(t,i,e,W.concat(C),c,!1)))}matchSegmentAgainstRoute(t,e,i,r,s,c){let p;if("**"===i.path){const _=r.length>0?y6(r).parameters:{},C=new xN(r,_,Object.freeze({...this.urlTree.queryParams}),this.urlTree.fragment,nW(i),ju(i),i.component??i._loadedComponent??null,i,iW(i));p=(0,hn.of)({snapshot:C,consumedSegments:[],remainingSegments:[]}),e.children={}}else p=ese(e,i,r,t).pipe((0,Bt.U)(({matched:_,consumedSegments:C,remainingSegments:M,parameters:V})=>_?{snapshot:new xN(C,V,Object.freeze({...this.urlTree.queryParams}),this.urlTree.fragment,nW(i),ju(i),i.component??i._loadedComponent??null,i,iW(i)),consumedSegments:C,remainingSegments:M}:null));return p.pipe((0,Bi.w)(_=>null===_?mx(e):this.getChildConfig(t=i._injector??t,i,r).pipe((0,Bi.w)(({routes:C})=>{const M=i._loadedInjector??t,{snapshot:V,consumedSegments:W,remainingSegments:K}=_,{segmentGroup:oe,slicedSegments:ae}=eW(e,W,K,C);if(0===ae.length&&oe.hasChildren())return this.processChildren(M,C,oe).pipe((0,Bt.U)(Pe=>null===Pe?null:[new ip(V,Pe)]));if(0===C.length&&0===ae.length)return(0,hn.of)([new ip(V,[])]);const fe=ju(i)===s;return this.processSegment(M,C,oe,ae,fe?ai:s,!0).pipe((0,Bt.U)(Pe=>[new ip(V,Pe)]))}))))}getChildConfig(t,e,i){return e.children?(0,hn.of)({routes:e.children,injector:t}):e.loadChildren?void 0!==e._loadedRoutes?(0,hn.of)({routes:e._loadedRoutes,injector:e._loadedInjector}):function Zre(n,t,e,i){const r=t.canLoad;if(void 0===r||0===r.length)return(0,hn.of)(!0);const s=r.map(c=>{const p=px(c,n);return Am(function Rre(n){return n&&eS(n.canLoad)}(p)?p.canLoad(t,e):n.runInContext(()=>p(t,e)))});return(0,hn.of)(s).pipe(gx(),K6())}(t,e,i).pipe((0,io.z)(r=>r?this.configLoader.loadChildren(t,e).pipe((0,xo.b)(s=>{e._loadedRoutes=s.routes,e._loadedInjector=s.injector})):function Qre(n){return HT($6(!1,3))}())):(0,hn.of)({routes:[],injector:t})}}function use(n){const t=n.value.routeConfig;return t&&""===t.path}function tW(n){const t=[],e=new Set;for(const i of n){if(!use(i)){t.push(i);continue}const r=t.find(s=>i.value.routeConfig===s.value.routeConfig);void 0!==r?(r.children.push(...i.children),e.add(r)):t.push(i)}for(const i of e){const r=tW(i.children);t.push(new ip(i.value,r))}return t.filter(i=>!e.has(i))}function nW(n){return n.data||{}}function iW(n){return n.resolve||{}}function hse(n,t){return(0,io.z)(e=>{const{targetSnapshot:i,guards:{canActivateChecks:r}}=e;if(!r.length)return(0,hn.of)(e);let s=0;return(0,bi.D)(r).pipe(sx(c=>function fse(n,t,e,i){const r=n.routeConfig,s=n._resolve;return void 0!==r?.title&&!rW(r)&&(s[UT]=r.title),function pse(n,t,e,i){const r=function gse(n){return[...Object.keys(n),...Object.getOwnPropertySymbols(n)]}(n);if(0===r.length)return(0,hn.of)({});const s={};return(0,bi.D)(r).pipe((0,io.z)(c=>function mse(n,t,e,i){const r=KT(t)??i,s=px(n,r);return Am(s.resolve?s.resolve(t,e):r.runInContext(()=>s(t,e)))}(n[c],t,e,i).pipe(qa(),(0,xo.b)(p=>{s[c]=p}))),fN(1),function fj(n){return(0,Bt.U)(()=>n)}(s),w_(c=>X6(c)?Gr.E:HT(c)))}(s,n,t,i).pipe((0,Bt.U)(c=>(n._resolvedData=c,n.data=U6(n,e).resolve,r&&rW(r)&&(n.data[UT]=r.title),null)))}(c.route,i,n,t)),(0,xo.b)(()=>s++),fN(1),(0,io.z)(c=>s===r.length?(0,hn.of)(e):Gr.E))})}function rW(n){return"string"==typeof n.title||null===n.title}function jB(n){return(0,Bi.w)(t=>{const e=n(t);return e?(0,bi.D)(e).pipe((0,Bt.U)(()=>t)):(0,hn.of)(t)})}const vx=new a.OlP("ROUTES");let GB=(()=>{class n{constructor(){this.componentLoaders=new WeakMap,this.childrenLoaders=new WeakMap,this.compiler=(0,a.f3M)(a.Sil)}loadComponent(e){if(this.componentLoaders.get(e))return this.componentLoaders.get(e);if(e._loadedComponent)return(0,hn.of)(e._loadedComponent);this.onLoadStartListener&&this.onLoadStartListener(e);const i=Am(e.loadComponent()).pipe((0,Bt.U)(sW),(0,xo.b)(s=>{this.onLoadEndListener&&this.onLoadEndListener(e),e._loadedComponent=s}),PT(()=>{this.componentLoaders.delete(e)})),r=new m6(i,()=>new Pn.x).pipe(DB());return this.componentLoaders.set(e,r),r}loadChildren(e,i){if(this.childrenLoaders.get(i))return this.childrenLoaders.get(i);if(i._loadedRoutes)return(0,hn.of)({routes:i._loadedRoutes,injector:i._loadedInjector});this.onLoadStartListener&&this.onLoadStartListener(i);const s=function vse(n,t,e,i){return Am(n.loadChildren()).pipe((0,Bt.U)(sW),(0,io.z)(r=>r instanceof a.YKP||Array.isArray(r)?(0,hn.of)(r):(0,bi.D)(t.compileModuleAsync(r))),(0,Bt.U)(r=>{i&&i(n);let s,c,p=!1;return Array.isArray(r)?(c=r,!0):(s=r.create(e).injector,c=s.get(vx,[],{optional:!0,self:!0}).flat()),{routes:c.map(HB),injector:s}}))}(i,this.compiler,e,this.onLoadEndListener).pipe(PT(()=>{this.childrenLoaders.delete(i)})),c=new m6(s,()=>new Pn.x).pipe(DB());return this.childrenLoaders.set(i,c),c}static#e=this.\u0275fac=function(i){return new(i||n)};static#t=this.\u0275prov=a.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})();function sW(n){return function yse(n){return n&&"object"==typeof n&&"default"in n}(n)?n.default:n}let AN=(()=>{class n{get hasRequestedNavigation(){return 0!==this.navigationId}constructor(){this.currentNavigation=null,this.currentTransition=null,this.lastSuccessfulNavigation=null,this.events=new Pn.x,this.transitionAbortSubject=new Pn.x,this.configLoader=(0,a.f3M)(GB),this.environmentInjector=(0,a.f3M)(a.lqb),this.urlSerializer=(0,a.f3M)(jT),this.rootContexts=(0,a.f3M)(ZT),this.inputBindingEnabled=null!==(0,a.f3M)(CN,{optional:!0}),this.navigationId=0,this.afterPreactivation=()=>(0,hn.of)(void 0),this.rootComponentType=null,this.configLoader.onLoadEndListener=r=>this.events.next(new ure(r)),this.configLoader.onLoadStartListener=r=>this.events.next(new cre(r))}complete(){this.transitions?.complete()}handleNavigationRequest(e){const i=++this.navigationId;this.transitions?.next({...this.transitions.value,...e,id:i})}setupNavigations(e,i,r){return this.transitions=new Yl.X({id:0,currentUrlTree:i,currentRawUrl:i,currentBrowserUrl:i,extractedUrl:e.urlHandlingStrategy.extract(i),urlAfterRedirects:e.urlHandlingStrategy.extract(i),rawUrl:i,extras:{},resolve:null,reject:null,promise:Promise.resolve(!0),source:YT,restoredState:null,currentSnapshot:r.snapshot,targetSnapshot:null,currentRouterState:r,targetRouterState:null,guards:{canActivateChecks:[],canDeactivateChecks:[]},guardsResult:null}),this.transitions.pipe(Kn(s=>0!==s.id),(0,Bt.U)(s=>({...s,extractedUrl:e.urlHandlingStrategy.extract(s.rawUrl)})),(0,Bi.w)(s=>{this.currentTransition=s;let c=!1,p=!1;return(0,hn.of)(s).pipe((0,xo.b)(_=>{this.currentNavigation={id:_.id,initialUrl:_.rawUrl,extractedUrl:_.extractedUrl,trigger:_.source,extras:_.extras,previousNavigation:this.lastSuccessfulNavigation?{...this.lastSuccessfulNavigation,previousNavigation:null}:null}}),(0,Bi.w)(_=>{const C=_.currentBrowserUrl.toString(),M=!e.navigated||_.extractedUrl.toString()!==C||C!==_.currentUrlTree.toString();if(!M&&"reload"!==(_.extras.onSameUrlNavigation??e.onSameUrlNavigation)){const W="";return this.events.next(new dx(_.id,this.urlSerializer.serialize(_.rawUrl),W,0)),_.resolve(null),Gr.E}if(e.urlHandlingStrategy.shouldProcessUrl(_.rawUrl))return(0,hn.of)(_).pipe((0,Bi.w)(W=>{const K=this.transitions?.getValue();return this.events.next(new bN(W.id,this.urlSerializer.serialize(W.extractedUrl),W.source,W.restoredState)),K!==this.transitions?.getValue()?Gr.E:Promise.resolve(W)}),function dse(n,t,e,i,r,s){return(0,io.z)(c=>function ase(n,t,e,i,r,s,c="emptyOnly"){return new lse(n,t,e,i,r,c,s).recognize()}(n,t,e,i,c.extractedUrl,r,s).pipe((0,Bt.U)(({state:p,tree:_})=>({...c,targetSnapshot:p,urlAfterRedirects:_}))))}(this.environmentInjector,this.configLoader,this.rootComponentType,e.config,this.urlSerializer,e.paramsInheritanceStrategy),(0,xo.b)(W=>{s.targetSnapshot=W.targetSnapshot,s.urlAfterRedirects=W.urlAfterRedirects,this.currentNavigation={...this.currentNavigation,finalUrl:W.urlAfterRedirects};const K=new F6(W.id,this.urlSerializer.serialize(W.extractedUrl),this.urlSerializer.serialize(W.urlAfterRedirects),W.targetSnapshot);this.events.next(K)}));if(M&&e.urlHandlingStrategy.shouldProcessUrl(_.currentRawUrl)){const{id:W,extractedUrl:K,source:oe,restoredState:ae,extras:fe}=_,Pe=new bN(W,this.urlSerializer.serialize(K),oe,ae);this.events.next(Pe);const Be=H6(0,this.rootComponentType).snapshot;return this.currentTransition=s={..._,targetSnapshot:Be,urlAfterRedirects:K,extras:{...fe,skipLocationChange:!1,replaceUrl:!1}},(0,hn.of)(s)}{const W="";return this.events.next(new dx(_.id,this.urlSerializer.serialize(_.extractedUrl),W,1)),_.resolve(null),Gr.E}}),(0,xo.b)(_=>{const C=new sre(_.id,this.urlSerializer.serialize(_.extractedUrl),this.urlSerializer.serialize(_.urlAfterRedirects),_.targetSnapshot);this.events.next(C)}),(0,Bt.U)(_=>(this.currentTransition=s={..._,guards:Mre(_.targetSnapshot,_.currentSnapshot,this.rootContexts)},s)),function Ure(n,t){return(0,io.z)(e=>{const{targetSnapshot:i,currentSnapshot:r,guards:{canActivateChecks:s,canDeactivateChecks:c}}=e;return 0===c.length&&0===s.length?(0,hn.of)({...e,guardsResult:!0}):function zre(n,t,e,i){return(0,bi.D)(n).pipe((0,io.z)(r=>function qre(n,t,e,i,r){const s=t&&t.routeConfig?t.routeConfig.canDeactivate:null;if(!s||0===s.length)return(0,hn.of)(!0);const c=s.map(p=>{const _=KT(t)??r,C=px(p,_);return Am(function Bre(n){return n&&eS(n.canDeactivate)}(C)?C.canDeactivate(n,t,e,i):_.runInContext(()=>C(n,t,e,i))).pipe(qa())});return(0,hn.of)(c).pipe(gx())}(r.component,r.route,e,t,i)),qa(r=>!0!==r,!0))}(c,i,r,n).pipe((0,io.z)(p=>p&&function Pre(n){return"boolean"==typeof n}(p)?function jre(n,t,e,i){return(0,bi.D)(t).pipe(sx(r=>Md(function Wre(n,t){return null!==n&&t&&t(new dre(n)),(0,hn.of)(!0)}(r.route.parent,i),function Gre(n,t){return null!==n&&t&&t(new fre(n)),(0,hn.of)(!0)}(r.route,i),function Yre(n,t,e){const i=t[t.length-1],s=t.slice(0,t.length-1).reverse().map(c=>function kre(n){const t=n.routeConfig?n.routeConfig.canActivateChild:null;return t&&0!==t.length?{node:n,guards:t}:null}(c)).filter(c=>null!==c).map(c=>g6(()=>{const p=c.guards.map(_=>{const C=KT(c.node)??e,M=px(_,C);return Am(function Lre(n){return n&&eS(n.canActivateChild)}(M)?M.canActivateChild(i,n):C.runInContext(()=>M(i,n))).pipe(qa())});return(0,hn.of)(p).pipe(gx())}));return(0,hn.of)(s).pipe(gx())}(n,r.path,e),function $re(n,t,e){const i=t.routeConfig?t.routeConfig.canActivate:null;if(!i||0===i.length)return(0,hn.of)(!0);const r=i.map(s=>g6(()=>{const c=KT(t)??e,p=px(s,c);return Am(function Fre(n){return n&&eS(n.canActivate)}(p)?p.canActivate(t,n):c.runInContext(()=>p(t,n))).pipe(qa())}));return(0,hn.of)(r).pipe(gx())}(n,r.route,e))),qa(r=>!0!==r,!0))}(i,s,n,t):(0,hn.of)(p)),(0,Bt.U)(p=>({...e,guardsResult:p})))})}(this.environmentInjector,_=>this.events.next(_)),(0,xo.b)(_=>{if(s.guardsResult=_.guardsResult,C_(_.guardsResult))throw W6(0,_.guardsResult);const C=new ore(_.id,this.urlSerializer.serialize(_.extractedUrl),this.urlSerializer.serialize(_.urlAfterRedirects),_.targetSnapshot,!!_.guardsResult);this.events.next(C)}),Kn(_=>!!_.guardsResult||(this.cancelNavigationTransition(_,"",3),!1)),jB(_=>{if(_.guards.canActivateChecks.length)return(0,hn.of)(_).pipe((0,xo.b)(C=>{const M=new are(C.id,this.urlSerializer.serialize(C.extractedUrl),this.urlSerializer.serialize(C.urlAfterRedirects),C.targetSnapshot);this.events.next(M)}),(0,Bi.w)(C=>{let M=!1;return(0,hn.of)(C).pipe(hse(e.paramsInheritanceStrategy,this.environmentInjector),(0,xo.b)({next:()=>M=!0,complete:()=>{M||this.cancelNavigationTransition(C,"",2)}}))}),(0,xo.b)(C=>{const M=new lre(C.id,this.urlSerializer.serialize(C.extractedUrl),this.urlSerializer.serialize(C.urlAfterRedirects),C.targetSnapshot);this.events.next(M)}))}),jB(_=>{const C=M=>{const V=[];M.routeConfig?.loadComponent&&!M.routeConfig._loadedComponent&&V.push(this.configLoader.loadComponent(M.routeConfig).pipe((0,xo.b)(W=>{M.component=W}),(0,Bt.U)(()=>{})));for(const W of M.children)V.push(...C(W));return V};return BT(C(_.targetSnapshot.root)).pipe(Da(),wi(1))}),jB(()=>this.afterPreactivation()),(0,Bt.U)(_=>{const C=function _re(n,t,e){const i=XT(n,t._root,e?e._root:void 0);return new V6(i,t)}(e.routeReuseStrategy,_.targetSnapshot,_.currentRouterState);return this.currentTransition=s={..._,targetRouterState:C},s}),(0,xo.b)(()=>{this.events.next(new kB)}),((n,t,e,i)=>(0,Bt.U)(r=>(new Ire(t,r.targetRouterState,r.currentRouterState,e,i).activate(n),r)))(this.rootContexts,e.routeReuseStrategy,_=>this.events.next(_),this.inputBindingEnabled),wi(1),(0,xo.b)({next:_=>{c=!0,this.lastSuccessfulNavigation=this.currentNavigation,this.events.next(new Im(_.id,this.urlSerializer.serialize(_.extractedUrl),this.urlSerializer.serialize(_.urlAfterRedirects))),e.titleStrategy?.updateTitle(_.targetRouterState.snapshot),_.resolve(!0)},complete:()=>{c=!0}}),dr(this.transitionAbortSubject.pipe((0,xo.b)(_=>{throw _}))),PT(()=>{c||p||this.cancelNavigationTransition(s,"",1),this.currentNavigation?.id===s.id&&(this.currentNavigation=null)}),w_(_=>{if(p=!0,Y6(_))this.events.next(new qT(s.id,this.urlSerializer.serialize(s.extractedUrl),_.message,_.cancellationCode)),function xre(n){return Y6(n)&&C_(n.url)}(_)?this.events.next(new OB(_.url)):s.resolve(!1);else{this.events.next(new wN(s.id,this.urlSerializer.serialize(s.extractedUrl),_,s.targetSnapshot??void 0));try{s.resolve(e.errorHandler(_))}catch(C){s.reject(C)}}return Gr.E}))}))}cancelNavigationTransition(e,i,r){const s=new qT(e.id,this.urlSerializer.serialize(e.extractedUrl),i,r);this.events.next(s),e.resolve(!1)}static#e=this.\u0275fac=function(i){return new(i||n)};static#t=this.\u0275prov=a.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})();function oW(n){return n!==YT}let aW=(()=>{class n{buildTitle(e){let i,r=e.root;for(;void 0!==r;)i=this.getResolvedTitleForRoute(r)??i,r=r.children.find(s=>s.outlet===ai);return i}getResolvedTitleForRoute(e){return e.data[UT]}static#e=this.\u0275fac=function(i){return new(i||n)};static#t=this.\u0275prov=a.Yz7({token:n,factory:function(){return(0,a.f3M)(_se)},providedIn:"root"})}return n})(),_se=(()=>{class n extends aW{constructor(e){super(),this.title=e}updateTitle(e){const i=this.buildTitle(e);void 0!==i&&this.title.setTitle(i)}static#e=this.\u0275fac=function(i){return new(i||n)(a.LFG(wt))};static#t=this.\u0275prov=a.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})(),bse=(()=>{class n{static#e=this.\u0275fac=function(i){return new(i||n)};static#t=this.\u0275prov=a.Yz7({token:n,factory:function(){return(0,a.f3M)(xse)},providedIn:"root"})}return n})();class wse{shouldDetach(t){return!1}store(t,e){}shouldAttach(t){return!1}retrieve(t){return null}shouldReuseRoute(t,e){return t.routeConfig===e.routeConfig}}let xse=(()=>{class n extends wse{static#e=this.\u0275fac=function(){let e;return function(r){return(e||(e=a.n5z(n)))(r||n)}}();static#t=this.\u0275prov=a.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})();const IN=new a.OlP("",{providedIn:"root",factory:()=>({})});let Cse=(()=>{class n{static#e=this.\u0275fac=function(i){return new(i||n)};static#t=this.\u0275prov=a.Yz7({token:n,factory:function(){return(0,a.f3M)(Ese)},providedIn:"root"})}return n})(),Ese=(()=>{class n{shouldProcessUrl(e){return!0}extract(e){return e}merge(e,i){return e}static#e=this.\u0275fac=function(i){return new(i||n)};static#t=this.\u0275prov=a.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})();var tS=function(n){return n[n.COMPLETE=0]="COMPLETE",n[n.FAILED=1]="FAILED",n[n.REDIRECTING=2]="REDIRECTING",n}(tS||{});function lW(n,t){n.events.pipe(Kn(e=>e instanceof Im||e instanceof qT||e instanceof wN||e instanceof dx),(0,Bt.U)(e=>e instanceof Im||e instanceof dx?tS.COMPLETE:e instanceof qT&&(0===e.code||1===e.code)?tS.REDIRECTING:tS.FAILED),Kn(e=>e!==tS.REDIRECTING),wi(1)).subscribe(()=>{t()})}function Dse(n){throw n}function Tse(n,t,e){return t.parse("/")}const Sse={paths:"exact",fragment:"ignored",matrixParams:"ignored",queryParams:"exact"},Ase={paths:"subset",fragment:"ignored",matrixParams:"ignored",queryParams:"subset"};let va=(()=>{class n{get navigationId(){return this.navigationTransitions.navigationId}get browserPageId(){return"computed"!==this.canceledNavigationResolution?this.currentPageId:this.location.getState()?.\u0275routerPageId??this.currentPageId}get events(){return this._events}constructor(){this.disposed=!1,this.currentPageId=0,this.console=(0,a.f3M)(a.c2e),this.isNgZoneEnabled=!1,this._events=new Pn.x,this.options=(0,a.f3M)(IN,{optional:!0})||{},this.pendingTasks=(0,a.f3M)(a.HDt),this.errorHandler=this.options.errorHandler||Dse,this.malformedUriErrorHandler=this.options.malformedUriErrorHandler||Tse,this.navigated=!1,this.lastSuccessfulId=-1,this.urlHandlingStrategy=(0,a.f3M)(Cse),this.routeReuseStrategy=(0,a.f3M)(bse),this.titleStrategy=(0,a.f3M)(aW),this.onSameUrlNavigation=this.options.onSameUrlNavigation||"ignore",this.paramsInheritanceStrategy=this.options.paramsInheritanceStrategy||"emptyOnly",this.urlUpdateStrategy=this.options.urlUpdateStrategy||"deferred",this.canceledNavigationResolution=this.options.canceledNavigationResolution||"replace",this.config=(0,a.f3M)(vx,{optional:!0})?.flat()??[],this.navigationTransitions=(0,a.f3M)(AN),this.urlSerializer=(0,a.f3M)(jT),this.location=(0,a.f3M)(Ut),this.componentInputBindingEnabled=!!(0,a.f3M)(CN,{optional:!0}),this.eventsSubscription=new EB.w0,this.isNgZoneEnabled=(0,a.f3M)(a.R0b)instanceof a.R0b&&a.R0b.isInAngularZone(),this.resetConfig(this.config),this.currentUrlTree=new ux,this.rawUrlTree=this.currentUrlTree,this.browserUrlTree=this.currentUrlTree,this.routerState=H6(0,null),this.navigationTransitions.setupNavigations(this,this.currentUrlTree,this.routerState).subscribe(e=>{this.lastSuccessfulId=e.id,this.currentPageId=this.browserPageId},e=>{this.console.warn(`Unhandled Navigation Error: ${e}`)}),this.subscribeToNavigationEvents()}subscribeToNavigationEvents(){const e=this.navigationTransitions.events.subscribe(i=>{try{const{currentTransition:r}=this.navigationTransitions;if(null===r)return void(cW(i)&&this._events.next(i));if(i instanceof bN)oW(r.source)&&(this.browserUrlTree=r.extractedUrl);else if(i instanceof dx)this.rawUrlTree=r.rawUrl;else if(i instanceof F6){if("eager"===this.urlUpdateStrategy){if(!r.extras.skipLocationChange){const s=this.urlHandlingStrategy.merge(r.urlAfterRedirects,r.rawUrl);this.setBrowserUrl(s,r)}this.browserUrlTree=r.urlAfterRedirects}}else if(i instanceof kB)this.currentUrlTree=r.urlAfterRedirects,this.rawUrlTree=this.urlHandlingStrategy.merge(r.urlAfterRedirects,r.rawUrl),this.routerState=r.targetRouterState,"deferred"===this.urlUpdateStrategy&&(r.extras.skipLocationChange||this.setBrowserUrl(this.rawUrlTree,r),this.browserUrlTree=r.urlAfterRedirects);else if(i instanceof qT)0!==i.code&&1!==i.code&&(this.navigated=!0),(3===i.code||2===i.code)&&this.restoreHistory(r);else if(i instanceof OB){const s=this.urlHandlingStrategy.merge(i.url,r.currentRawUrl),c={skipLocationChange:r.extras.skipLocationChange,replaceUrl:"eager"===this.urlUpdateStrategy||oW(r.source)};this.scheduleNavigation(s,YT,null,c,{resolve:r.resolve,reject:r.reject,promise:r.promise})}i instanceof wN&&this.restoreHistory(r,!0),i instanceof Im&&(this.navigated=!0),cW(i)&&this._events.next(i)}catch(r){this.navigationTransitions.transitionAbortSubject.next(r)}});this.eventsSubscription.add(e)}resetRootComponentType(e){this.routerState.root.component=e,this.navigationTransitions.rootComponentType=e}initialNavigation(){if(this.setUpLocationChangeListener(),!this.navigationTransitions.hasRequestedNavigation){const e=this.location.getState();this.navigateToSyncWithBrowser(this.location.path(!0),YT,e)}}setUpLocationChangeListener(){this.locationSubscription||(this.locationSubscription=this.location.subscribe(e=>{const i="popstate"===e.type?"popstate":"hashchange";"popstate"===i&&setTimeout(()=>{this.navigateToSyncWithBrowser(e.url,i,e.state)},0)}))}navigateToSyncWithBrowser(e,i,r){const s={replaceUrl:!0},c=r?.navigationId?r:null;if(r){const _={...r};delete _.navigationId,delete _.\u0275routerPageId,0!==Object.keys(_).length&&(s.state=_)}const p=this.parseUrl(e);this.scheduleNavigation(p,i,c,s)}get url(){return this.serializeUrl(this.currentUrlTree)}getCurrentNavigation(){return this.navigationTransitions.currentNavigation}get lastSuccessfulNavigation(){return this.navigationTransitions.lastSuccessfulNavigation}resetConfig(e){this.config=e.map(HB),this.navigated=!1,this.lastSuccessfulId=-1}ngOnDestroy(){this.dispose()}dispose(){this.navigationTransitions.complete(),this.locationSubscription&&(this.locationSubscription.unsubscribe(),this.locationSubscription=void 0),this.disposed=!0,this.eventsSubscription.unsubscribe()}createUrlTree(e,i={}){const{relativeTo:r,queryParams:s,fragment:c,queryParamsHandling:p,preserveFragment:_}=i,C=_?this.currentUrlTree.fragment:c;let V,M=null;switch(p){case"merge":M={...this.currentUrlTree.queryParams,...s};break;case"preserve":M=this.currentUrlTree.queryParams;break;default:M=s||null}null!==M&&(M=this.removeEmptyProps(M));try{V=I6(r?r.snapshot:this.routerState.snapshot.root)}catch{("string"!=typeof e[0]||!e[0].startsWith("/"))&&(e=[]),V=this.currentUrlTree.root}return M6(V,e,M,C??null)}navigateByUrl(e,i={skipLocationChange:!1}){const r=C_(e)?e:this.parseUrl(e),s=this.urlHandlingStrategy.merge(r,this.rawUrlTree);return this.scheduleNavigation(s,YT,null,i)}navigate(e,i={skipLocationChange:!1}){return function Ise(n){for(let t=0;t<n.length;t++)if(null==n[t])throw new a.vHH(4008,!1)}(e),this.navigateByUrl(this.createUrlTree(e,i),i)}serializeUrl(e){return this.urlSerializer.serialize(e)}parseUrl(e){let i;try{i=this.urlSerializer.parse(e)}catch(r){i=this.malformedUriErrorHandler(r,this.urlSerializer,e)}return i}isActive(e,i){let r;if(r=!0===i?{...Sse}:!1===i?{...Ase}:i,C_(e))return b6(this.currentUrlTree,e,r);const s=this.parseUrl(e);return b6(this.currentUrlTree,s,r)}removeEmptyProps(e){return Object.keys(e).reduce((i,r)=>{const s=e[r];return null!=s&&(i[r]=s),i},{})}scheduleNavigation(e,i,r,s,c){if(this.disposed)return Promise.resolve(!1);let p,_,C;c?(p=c.resolve,_=c.reject,C=c.promise):C=new Promise((V,W)=>{p=V,_=W});const M=this.pendingTasks.add();return lW(this,()=>{queueMicrotask(()=>this.pendingTasks.remove(M))}),this.navigationTransitions.handleNavigationRequest({source:i,restoredState:r,currentUrlTree:this.currentUrlTree,currentRawUrl:this.currentUrlTree,currentBrowserUrl:this.browserUrlTree,rawUrl:e,extras:s,resolve:p,reject:_,promise:C,currentSnapshot:this.routerState.snapshot,currentRouterState:this.routerState}),C.catch(V=>Promise.reject(V))}setBrowserUrl(e,i){const r=this.urlSerializer.serialize(e);if(this.location.isCurrentPathEqualTo(r)||i.extras.replaceUrl){const c={...i.extras.state,...this.generateNgRouterState(i.id,this.browserPageId)};this.location.replaceState(r,"",c)}else{const s={...i.extras.state,...this.generateNgRouterState(i.id,this.browserPageId+1)};this.location.go(r,"",s)}}restoreHistory(e,i=!1){if("computed"===this.canceledNavigationResolution){const s=this.currentPageId-this.browserPageId;0!==s?this.location.historyGo(s):this.currentUrlTree===this.getCurrentNavigation()?.finalUrl&&0===s&&(this.resetState(e),this.browserUrlTree=e.currentUrlTree,this.resetUrlToCurrentUrlTree())}else"replace"===this.canceledNavigationResolution&&(i&&this.resetState(e),this.resetUrlToCurrentUrlTree())}resetState(e){this.routerState=e.currentRouterState,this.currentUrlTree=e.currentUrlTree,this.rawUrlTree=this.urlHandlingStrategy.merge(this.currentUrlTree,e.rawUrl)}resetUrlToCurrentUrlTree(){this.location.replaceState(this.urlSerializer.serialize(this.rawUrlTree),"",this.generateNgRouterState(this.lastSuccessfulId,this.currentPageId))}generateNgRouterState(e,i){return"computed"===this.canceledNavigationResolution?{navigationId:e,\u0275routerPageId:i}:{navigationId:e}}static#e=this.\u0275fac=function(i){return new(i||n)};static#t=this.\u0275prov=a.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})();function cW(n){return!(n instanceof kB||n instanceof OB)}let nS=(()=>{class n{constructor(e,i,r,s,c,p){this.router=e,this.route=i,this.tabIndexAttribute=r,this.renderer=s,this.el=c,this.locationStrategy=p,this.href=null,this.commands=null,this.onChanges=new Pn.x,this.preserveFragment=!1,this.skipLocationChange=!1,this.replaceUrl=!1;const _=c.nativeElement.tagName?.toLowerCase();this.isAnchorElement="a"===_||"area"===_,this.isAnchorElement?this.subscription=e.events.subscribe(C=>{C instanceof Im&&this.updateHref()}):this.setTabIndexIfNotOnNativeEl("0")}setTabIndexIfNotOnNativeEl(e){null!=this.tabIndexAttribute||this.isAnchorElement||this.applyAttributeValue("tabindex",e)}ngOnChanges(e){this.isAnchorElement&&this.updateHref(),this.onChanges.next(this)}set routerLink(e){null!=e?(this.commands=Array.isArray(e)?e:[e],this.setTabIndexIfNotOnNativeEl("0")):(this.commands=null,this.setTabIndexIfNotOnNativeEl(null))}onClick(e,i,r,s,c){return!!(null===this.urlTree||this.isAnchorElement&&(0!==e||i||r||s||c||"string"==typeof this.target&&"_self"!=this.target))||(this.router.navigateByUrl(this.urlTree,{skipLocationChange:this.skipLocationChange,replaceUrl:this.replaceUrl,state:this.state}),!this.isAnchorElement)}ngOnDestroy(){this.subscription?.unsubscribe()}updateHref(){this.href=null!==this.urlTree&&this.locationStrategy?this.locationStrategy?.prepareExternalUrl(this.router.serializeUrl(this.urlTree)):null;const e=null===this.href?null:(0,a.P3R)(this.href,this.el.nativeElement.tagName.toLowerCase(),"href");this.applyAttributeValue("href",e)}applyAttributeValue(e,i){const r=this.renderer,s=this.el.nativeElement;null!==i?r.setAttribute(s,e,i):r.removeAttribute(s,e)}get urlTree(){return null===this.commands?null:this.router.createUrlTree(this.commands,{relativeTo:void 0!==this.relativeTo?this.relativeTo:this.route,queryParams:this.queryParams,fragment:this.fragment,queryParamsHandling:this.queryParamsHandling,preserveFragment:this.preserveFragment})}static#e=this.\u0275fac=function(i){return new(i||n)(a.Y36(va),a.Y36(fx),a.$8M("tabindex"),a.Y36(a.Qsj),a.Y36(a.SBq),a.Y36(St))};static#t=this.\u0275dir=a.lG2({type:n,selectors:[["","routerLink",""]],hostVars:1,hostBindings:function(i,r){1&i&&a.NdJ("click",function(c){return r.onClick(c.button,c.ctrlKey,c.shiftKey,c.altKey,c.metaKey)}),2&i&&a.uIk("target",r.target)},inputs:{target:"target",queryParams:"queryParams",fragment:"fragment",queryParamsHandling:"queryParamsHandling",state:"state",relativeTo:"relativeTo",preserveFragment:["preserveFragment","preserveFragment",a.VuI],skipLocationChange:["skipLocationChange","skipLocationChange",a.VuI],replaceUrl:["replaceUrl","replaceUrl",a.VuI],routerLink:"routerLink"},standalone:!0,features:[a.Xq5,a.TTD]})}return n})(),uW=(()=>{class n{get isActive(){return this._isActive}constructor(e,i,r,s,c){this.router=e,this.element=i,this.renderer=r,this.cdr=s,this.link=c,this.classes=[],this._isActive=!1,this.routerLinkActiveOptions={exact:!1},this.isActiveChange=new a.vpe,this.routerEventsSubscription=e.events.subscribe(p=>{p instanceof Im&&this.update()})}ngAfterContentInit(){(0,hn.of)(this.links.changes,(0,hn.of)(null)).pipe((0,Id.J)()).subscribe(e=>{this.update(),this.subscribeToEachLinkOnChanges()})}subscribeToEachLinkOnChanges(){this.linkInputChangesSubscription?.unsubscribe();const e=[...this.links.toArray(),this.link].filter(i=>!!i).map(i=>i.onChanges);this.linkInputChangesSubscription=(0,bi.D)(e).pipe((0,Id.J)()).subscribe(i=>{this._isActive!==this.isLinkActive(this.router)(i)&&this.update()})}set routerLinkActive(e){const i=Array.isArray(e)?e:e.split(" ");this.classes=i.filter(r=>!!r)}ngOnChanges(e){this.update()}ngOnDestroy(){this.routerEventsSubscription.unsubscribe(),this.linkInputChangesSubscription?.unsubscribe()}update(){!this.links||!this.router.navigated||queueMicrotask(()=>{const e=this.hasActiveLinks();this._isActive!==e&&(this._isActive=e,this.cdr.markForCheck(),this.classes.forEach(i=>{e?this.renderer.addClass(this.element.nativeElement,i):this.renderer.removeClass(this.element.nativeElement,i)}),e&&void 0!==this.ariaCurrentWhenActive?this.renderer.setAttribute(this.element.nativeElement,"aria-current",this.ariaCurrentWhenActive.toString()):this.renderer.removeAttribute(this.element.nativeElement,"aria-current"),this.isActiveChange.emit(e))})}isLinkActive(e){const i=function Mse(n){return!!n.paths}(this.routerLinkActiveOptions)?this.routerLinkActiveOptions:this.routerLinkActiveOptions.exact||!1;return r=>!!r.urlTree&&e.isActive(r.urlTree,i)}hasActiveLinks(){const e=this.isLinkActive(this.router);return this.link&&e(this.link)||this.links.some(e)}static#e=this.\u0275fac=function(i){return new(i||n)(a.Y36(va),a.Y36(a.SBq),a.Y36(a.Qsj),a.Y36(a.sBO),a.Y36(nS,8))};static#t=this.\u0275dir=a.lG2({type:n,selectors:[["","routerLinkActive",""]],contentQueries:function(i,r,s){if(1&i&&a.Suo(s,nS,5),2&i){let c;a.iGM(c=a.CRH())&&(r.links=c)}},inputs:{routerLinkActiveOptions:"routerLinkActiveOptions",ariaCurrentWhenActive:"ariaCurrentWhenActive",routerLinkActive:"routerLinkActive"},outputs:{isActiveChange:"isActiveChange"},exportAs:["routerLinkActive"],standalone:!0,features:[a.TTD]})}return n})();class dW{}let kse=(()=>{class n{constructor(e,i,r,s,c){this.router=e,this.injector=r,this.preloadingStrategy=s,this.loader=c}setUpPreloading(){this.subscription=this.router.events.pipe(Kn(e=>e instanceof Im),sx(()=>this.preload())).subscribe(()=>{})}preload(){return this.processRoutes(this.injector,this.router.config)}ngOnDestroy(){this.subscription&&this.subscription.unsubscribe()}processRoutes(e,i){const r=[];for(const s of i){s.providers&&!s._injector&&(s._injector=(0,a.MMx)(s.providers,e,`Route: ${s.path}`));const c=s._injector??e,p=s._loadedInjector??c;(s.loadChildren&&!s._loadedRoutes&&void 0===s.canLoad||s.loadComponent&&!s._loadedComponent)&&r.push(this.preloadConfig(c,s)),(s.children||s._loadedRoutes)&&r.push(this.processRoutes(p,s.children??s._loadedRoutes))}return(0,bi.D)(r).pipe((0,Id.J)())}preloadConfig(e,i){return this.preloadingStrategy.preload(i,()=>{let r;r=i.loadChildren&&void 0===i.canLoad?this.loader.loadChildren(e,i):(0,hn.of)(null);const s=r.pipe((0,io.z)(c=>null===c?(0,hn.of)(void 0):(i._loadedRoutes=c.routes,i._loadedInjector=c.injector,this.processRoutes(c.injector??e,c.routes))));if(i.loadComponent&&!i._loadedComponent){const c=this.loader.loadComponent(i);return(0,bi.D)([s,c]).pipe((0,Id.J)())}return s})}static#e=this.\u0275fac=function(i){return new(i||n)(a.LFG(va),a.LFG(a.Sil),a.LFG(a.lqb),a.LFG(dW),a.LFG(GB))};static#t=this.\u0275prov=a.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})();const WB=new a.OlP("");let hW=(()=>{class n{constructor(e,i,r,s,c={}){this.urlSerializer=e,this.transitions=i,this.viewportScroller=r,this.zone=s,this.options=c,this.lastId=0,this.lastSource="imperative",this.restoredId=0,this.store={},c.scrollPositionRestoration=c.scrollPositionRestoration||"disabled",c.anchorScrolling=c.anchorScrolling||"disabled"}init(){"disabled"!==this.options.scrollPositionRestoration&&this.viewportScroller.setHistoryScrollRestoration("manual"),this.routerEventsSubscription=this.createScrollEvents(),this.scrollEventsSubscription=this.consumeScrollEvents()}createScrollEvents(){return this.transitions.events.subscribe(e=>{e instanceof bN?(this.store[this.lastId]=this.viewportScroller.getScrollPosition(),this.lastSource=e.navigationTrigger,this.restoredId=e.restoredState?e.restoredState.navigationId:0):e instanceof Im?(this.lastId=e.id,this.scheduleScrollEvent(e,this.urlSerializer.parse(e.urlAfterRedirects).fragment)):e instanceof dx&&0===e.code&&(this.lastSource=void 0,this.restoredId=0,this.scheduleScrollEvent(e,this.urlSerializer.parse(e.url).fragment))})}consumeScrollEvents(){return this.transitions.events.subscribe(e=>{e instanceof L6&&(e.position?"top"===this.options.scrollPositionRestoration?this.viewportScroller.scrollToPosition([0,0]):"enabled"===this.options.scrollPositionRestoration&&this.viewportScroller.scrollToPosition(e.position):e.anchor&&"enabled"===this.options.anchorScrolling?this.viewportScroller.scrollToAnchor(e.anchor):"disabled"!==this.options.scrollPositionRestoration&&this.viewportScroller.scrollToPosition([0,0]))})}scheduleScrollEvent(e,i){this.zone.runOutsideAngular(()=>{setTimeout(()=>{this.zone.run(()=>{this.transitions.events.next(new L6(e,"popstate"===this.lastSource?this.store[this.restoredId]:null,i))})},0)})}ngOnDestroy(){this.routerEventsSubscription?.unsubscribe(),this.scrollEventsSubscription?.unsubscribe()}static#e=this.\u0275fac=function(i){a.$Z()};static#t=this.\u0275prov=a.Yz7({token:n,factory:n.\u0275fac})}return n})();function rp(n,t){return{\u0275kind:n,\u0275providers:t}}function pW(){const n=(0,a.f3M)(a.zs3);return t=>{const e=n.get(a.z2F);if(t!==e.components[0])return;const i=n.get(va),r=n.get(gW);1===n.get($B)&&i.initialNavigation(),n.get(mW,null,a.XFs.Optional)?.setUpPreloading(),n.get(WB,null,a.XFs.Optional)?.init(),i.resetRootComponentType(e.componentTypes[0]),r.closed||(r.next(),r.complete(),r.unsubscribe())}}const gW=new a.OlP("",{factory:()=>new Pn.x}),$B=new a.OlP("",{providedIn:"root",factory:()=>1}),mW=new a.OlP("");function Rse(n){return rp(0,[{provide:mW,useExisting:kse},{provide:dW,useExisting:n}])}const vW=new a.OlP("ROUTER_FORROOT_GUARD"),Lse=[Ut,{provide:jT,useClass:TB},va,ZT,{provide:fx,useFactory:function fW(n){return n.routerState.root},deps:[va]},GB,[]];function Bse(){return new a.PXZ("Router",va)}let yW=(()=>{class n{constructor(e){}static forRoot(e,i){return{ngModule:n,providers:[Lse,[],{provide:vx,multi:!0,useValue:e},{provide:vW,useFactory:zse,deps:[[va,new a.FiY,new a.tp0]]},{provide:IN,useValue:i||{}},i?.useHash?{provide:St,useClass:xt}:{provide:St,useClass:At},{provide:WB,useFactory:()=>{const n=(0,a.f3M)(Qr),t=(0,a.f3M)(a.R0b),e=(0,a.f3M)(IN),i=(0,a.f3M)(AN),r=(0,a.f3M)(jT);return e.scrollOffset&&n.setOffset(e.scrollOffset),new hW(r,i,n,t,e)}},i?.preloadingStrategy?Rse(i.preloadingStrategy).\u0275providers:[],{provide:a.PXZ,multi:!0,useFactory:Bse},i?.initialNavigation?jse(i):[],i?.bindToComponentInputs?rp(8,[G6,{provide:CN,useExisting:G6}]).\u0275providers:[],[{provide:_W,useFactory:pW},{provide:a.tb,multi:!0,useExisting:_W}]]}}static forChild(e){return{ngModule:n,providers:[{provide:vx,multi:!0,useValue:e}]}}static#e=this.\u0275fac=function(i){return new(i||n)(a.LFG(vW,8))};static#t=this.\u0275mod=a.oAB({type:n});static#n=this.\u0275inj=a.cJS({})}return n})();function zse(n){return"guarded"}function jse(n){return["disabled"===n.initialNavigation?rp(3,[{provide:a.ip1,multi:!0,useFactory:()=>{const t=(0,a.f3M)(va);return()=>{t.setUpLocationChangeListener()}}},{provide:$B,useValue:2}]).\u0275providers:[],"enabledBlocking"===n.initialNavigation?rp(2,[{provide:$B,useValue:0},{provide:a.ip1,multi:!0,deps:[a.zs3],useFactory:t=>{const e=t.get(gt,Promise.resolve());return()=>e.then(()=>new Promise(i=>{const r=t.get(va),s=t.get(gW);lW(r,()=>{i(!0)}),t.get(AN).afterPreactivation=()=>(i(!0),s.closed?(0,hn.of)(void 0):s),r.initialNavigation()}))}}]).\u0275providers:[]]}const _W=new a.OlP("");var E_=function(n){return n.UserNotFound="auth/user-not-found",n.WrongPassword="auth/wrong-password",n.EmailInUse="auth/email-already-in-use",n.WeakPassword="auth/weak-password",n.BadEmail="auth/invalid-email",n.InvalidLogin="auth/invalid-login-credentials",n}(E_||{});let Wse=(()=>{class n{constructor(){}firebaseError(e){switch(e){case E_.UserNotFound:return"User does not exist";case E_.WrongPassword:return"Wrong password";case E_.EmailInUse:return"Email already in use";case E_.WeakPassword:return"Weak password, use 6 characters at least";case E_.BadEmail:return"Invalid Email";case E_.InvalidLogin:return"Credentials not accepted";default:return"Unknown error"}}static#e=this.\u0275fac=function(i){return new(i||n)};static#t=this.\u0275prov=a.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})(),D_=(()=>{class n{constructor(){this.loggedIn=new Yl.X(!1)}get isLoggedIn(){return this.loggedIn.asObservable()}isLoggedNext(e){return this.loggedIn.next(e)}SessionAddStorage(e,i){sessionStorage.setItem(e,JSON.stringify(i))}SessionGetStorage(e){const i=sessionStorage.getItem(e);return JSON.parse(i)}SessionRemove(e){sessionStorage.removeItem(e),sessionStorage.clear()}SessionClear(){sessionStorage.clear()}LocalAddStorage(e,i){localStorage.setItem(e,JSON.stringify(i))}LocalGetStorage(e){const i=localStorage.getItem(e);return JSON.parse(i)}LocalRemove(e){localStorage.removeItem(e)}LocalClear(){localStorage.clear()}static#e=this.\u0275fac=function(i){return new(i||n)};static#t=this.\u0275prov=a.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})(),T_=(()=>{class n{constructor(e,i){this.http=e,this.storageService=i,this.apiUrl="https://petguardian-api.uc.r.appspot.com/"}getAppointments(e){return new Promise((i,r)=>{this.http.get(this.apiUrl+"vet/findAppointments/"+e).subscribe(s=>{i(s)},s=>{r(s)})})}getClients(e){return new Promise((i,r)=>{this.http.get(this.apiUrl+"vet/findClients/"+e).subscribe(s=>{i(s)},s=>{r(s)})})}getSingleClient(e){return new Promise((i,r)=>{this.http.get(this.apiUrl+"/client/find/"+e).subscribe(s=>{i(s)},s=>{r(s)})})}getClientPets(e){return new Promise((i,r)=>{this.http.get(this.apiUrl+"/client/findPets/"+e).subscribe(s=>{i(s)},s=>{r(s)})})}getPet(e){return new Promise((i,r)=>{this.http.get(this.apiUrl+"/pet/find/"+e).subscribe(s=>{i(s)},s=>{r(s)})})}static#e=this.\u0275fac=function(i){return new(i||n)(a.LFG(NG),a.LFG(D_))};static#t=this.\u0275prov=a.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})();function $se(n,t){1&n&&(a.TgZ(0,"span",10)(1,"strong"),a._uU(2,"Mail"),a.qZA(),a._uU(3," is required "),a.qZA())}function Yse(n,t){1&n&&(a.TgZ(0,"span",10),a._uU(1," Mail must be "),a.TgZ(2,"strong"),a._uU(3,"valid"),a.qZA()())}function qse(n,t){1&n&&(a.TgZ(0,"span",10)(1,"strong"),a._uU(2,"Password"),a.qZA(),a._uU(3," is required "),a.qZA())}let Zse=(()=>{class n{constructor(e,i,r,s,c,p,_){this.fb=e,this.afAuth=i,this.router=r,this.fireBaseErrorService=s,this.toastr=c,this.storageService=p,this.apiService=_,this.loginUser=this.fb.group({email:["",[VF.required,VF.email]],password:["",VF.required]}),this.subscription=this.storageService.isLoggedIn.subscribe(C=>{1==C&&this.router.navigate(["dashboard"])})}login(){this.afAuth.signInWithEmailAndPassword(this.loginUser.value.email,this.loginUser.value.password).then(r=>{this.storageService.isLoggedNext(!0),this.storageService.SessionAddStorage("uid",r.user?.uid),this.router.navigate(["dashboard"])}).catch(r=>{this.toastr.error(this.fireBaseErrorService.firebaseError(r.code),"Error")})}static#e=this.\u0275fac=function(i){return new(i||n)(a.Y36(L7),a.Y36(Cd),a.Y36(va),a.Y36(Wse),a.Y36(lL),a.Y36(D_),a.Y36(T_))};static#t=this.\u0275cmp=a.Xpm({type:n,selectors:[["app-login"]],decls:20,vars:5,consts:[[1,"wrapper"],[1,"body"],["src","../../../assets/img/login-person.png","alt","Login",1,"logo"],[3,"formGroup","ngSubmit"],[1,"form-floating","mb-3"],["type","email","formControlName","email","placeholder","name@example.com",1,"form-control"],["class","text-danger errorLabel",4,"ngIf"],["type","password","formControlName","password","placeholder","Password",1,"form-control"],[1,"d-grid","gap-2"],["type","submit",1,"btn","btn-primary","btn-lg",3,"disabled"],[1,"text-danger","errorLabel"]],template:function(i,r){if(1&i&&(a.TgZ(0,"div",0)(1,"div",1),a._UZ(2,"img",2),a.TgZ(3,"h1"),a._uU(4,"Login"),a.qZA(),a.TgZ(5,"form",3),a.NdJ("ngSubmit",function(){return r.login()}),a.TgZ(6,"div",4),a._UZ(7,"input",5),a.TgZ(8,"label"),a._uU(9,"Email"),a.qZA(),a.YNc(10,$se,4,0,"span",6),a.YNc(11,Yse,4,0,"span",6),a.qZA(),a.TgZ(12,"div",4),a._UZ(13,"input",7),a.TgZ(14,"label"),a._uU(15,"Password"),a.qZA(),a.YNc(16,qse,4,0,"span",6),a.qZA(),a.TgZ(17,"div",8)(18,"button",9),a._uU(19,"Iniciar Sesion"),a.qZA()()()()()),2&i){let s,c,p;a.xp6(5),a.Q6J("formGroup",r.loginUser),a.xp6(5),a.Q6J("ngIf",(null==(s=r.loginUser.get("email"))?null:s.hasError("required"))&&(null==(s=r.loginUser.get("email"))?null:s.touched)),a.xp6(1),a.Q6J("ngIf",(null==(c=r.loginUser.get("email"))?null:c.hasError("email"))&&(null==(c=r.loginUser.get("email"))?null:c.touched)),a.xp6(5),a.Q6J("ngIf",(null==(p=r.loginUser.get("password"))?null:p.hasError("required"))&&(null==(p=r.loginUser.get("password"))?null:p.touched)),a.xp6(2),a.Q6J("disabled",r.loginUser.invalid)}},dependencies:[Q,Kz,lT,jF,Bz,bO,iL],styles:[".wrapper[_ngcontent-%COMP%]{display:flex;align-items:center;justify-content:center;height:100vh}.logo[_ngcontent-%COMP%]{height:130px;margin-bottom:10px}.body[_ngcontent-%COMP%]{width:100%;max-width:330px;margin:auto;padding:30px;text-align:center}"]})}return n})();function MN(n){return(MN="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(n)}function ei(n,t){if(t.length<n)throw new TypeError(n+" argument"+(n>1?"s":"")+" required, but only "+t.length+" present")}function Yi(n){ei(1,arguments);var t=Object.prototype.toString.call(n);return n instanceof Date||"object"===MN(n)&&"[object Date]"===t?new Date(n.getTime()):"number"==typeof n||"[object Number]"===t?new Date(n):(("string"==typeof n||"[object String]"===t)&&typeof console<"u"&&(console.warn("Starting with v2.0.0-beta.1 date-fns doesn't accept strings as date arguments. Please use `parseISO` to parse strings. See: https://github.com/date-fns/date-fns/blob/master/docs/upgradeGuide.md#string-arguments"),console.warn((new Error).stack)),new Date(NaN))}function bW(n,t){ei(2,arguments);var e=Yi(n),i=Yi(t);return e.getFullYear()===i.getFullYear()&&e.getMonth()===i.getMonth()}function iS(n){ei(1,arguments);var t=Yi(n);return t.setHours(0,0,0,0),t}function wW(n,t){ei(2,arguments);var e=iS(n),i=iS(t);return e.getTime()===i.getTime()}var Kse=function(){function n(){}return n.prototype.getAllStyles=function(t){return window.getComputedStyle(t)},n.prototype.getStyle=function(t,e){return this.getAllStyles(t)[e]},n.prototype.isStaticPositioned=function(t){return"static"===(this.getStyle(t,"position")||"static")},n.prototype.offsetParent=function(t){for(var e=t.offsetParent||document.documentElement;e&&e!==document.documentElement&&this.isStaticPositioned(e);)e=e.offsetParent;return e||document.documentElement},n.prototype.position=function(t,e){void 0===e&&(e=!0);var i,r={width:0,height:0,top:0,bottom:0,left:0,right:0};if("fixed"===this.getStyle(t,"position"))i={top:(i=t.getBoundingClientRect()).top,bottom:i.bottom,left:i.left,right:i.right,height:i.height,width:i.width};else{var s=this.offsetParent(t);i=this.offset(t,!1),s!==document.documentElement&&(r=this.offset(s,!1)),r.top+=s.clientTop,r.left+=s.clientLeft}return i.top-=r.top,i.bottom-=r.top,i.left-=r.left,i.right-=r.left,e&&(i.top=Math.round(i.top),i.bottom=Math.round(i.bottom),i.left=Math.round(i.left),i.right=Math.round(i.right)),i},n.prototype.offset=function(t,e){void 0===e&&(e=!0);var i=t.getBoundingClientRect(),r_top=window.pageYOffset-document.documentElement.clientTop,r_left=window.pageXOffset-document.documentElement.clientLeft,s={height:i.height||t.offsetHeight,width:i.width||t.offsetWidth,top:i.top+r_top,bottom:i.bottom+r_top,left:i.left+r_left,right:i.right+r_left};return e&&(s.height=Math.round(s.height),s.width=Math.round(s.width),s.top=Math.round(s.top),s.bottom=Math.round(s.bottom),s.left=Math.round(s.left),s.right=Math.round(s.right)),s},n.prototype.positionElements=function(t,e,i,r){var s=i.split("-"),c=s[0],p=void 0===c?"top":c,_=s[1],C=void 0===_?"center":_,M=r?this.offset(t,!1):this.position(t,!1),V=this.getAllStyles(e),W=parseFloat(V.marginTop),K=parseFloat(V.marginBottom),oe=parseFloat(V.marginLeft),ae=parseFloat(V.marginRight),fe=0,Pe=0;switch(p){case"top":fe=M.top-(e.offsetHeight+W+K);break;case"bottom":fe=M.top+M.height;break;case"left":Pe=M.left-(e.offsetWidth+oe+ae);break;case"right":Pe=M.left+M.width}switch(C){case"top":fe=M.top;break;case"bottom":fe=M.top+M.height-e.offsetHeight;break;case"left":Pe=M.left;break;case"right":Pe=M.left+M.width-e.offsetWidth;break;case"center":"top"===p||"bottom"===p?Pe=M.left+M.width/2-e.offsetWidth/2:fe=M.top+M.height/2-e.offsetHeight/2}e.style.transform="translate("+Math.round(Pe)+"px, "+Math.round(fe)+"px)";var Be=e.getBoundingClientRect(),Re=document.documentElement,ze=window.innerHeight||Re.clientHeight,ut=window.innerWidth||Re.clientWidth;return Be.left>=0&&Be.top>=0&&Be.right<=ut&&Be.bottom<=ze},n}(),Qse=/\s+/,xW=new Kse,Gu=function(){return Gu=Object.assign||function(n){for(var t,e=1,i=arguments.length;e<i;e++)for(var r in t=arguments[e])Object.prototype.hasOwnProperty.call(t,r)&&(n[r]=t[r]);return n},Gu.apply(this,arguments)},YB=function(n,t,e){if(e||2===arguments.length)for(var s,i=0,r=t.length;i<r;i++)(s||!(i in t))&&(s||(s=Array.prototype.slice.call(t,0,i)),s[i]=t[i]);return n.concat(s||Array.prototype.slice.call(t))},qB=function(n){return n[n.SUNDAY=0]="SUNDAY",n[n.MONDAY=1]="MONDAY",n[n.TUESDAY=2]="TUESDAY",n[n.WEDNESDAY=3]="WEDNESDAY",n[n.THURSDAY=4]="THURSDAY",n[n.FRIDAY=5]="FRIDAY",n[n.SATURDAY=6]="SATURDAY",n}(qB||{}),eoe=[qB.SUNDAY,qB.SATURDAY],ZB=7,Mm=86400;function CW(n,t){var e=t.startDate,r=t.excluded,s=t.precision;if(r.length<1)return 0;for(var p=n.getDay,_=n.addDays,C=(0,n.addSeconds)(e,t.seconds-1),M=p(e),V=p(C),W=0,K=e,oe=function(){var ae=p(K);r.some(function(fe){return fe===ae})&&(W+=function toe(n,t){var i=t.day,s=t.dayEnd,c=t.startDate,p=t.endDate,_=n.differenceInSeconds,M=n.startOfDay;if("minutes"===t.precision){if(i===t.dayStart)return _((0,n.endOfDay)(c),c)+1;if(i===s)return _(p,M(p))+1}return Mm}(n,{dayStart:M,dayEnd:V,day:ae,precision:s,startDate:e,endDate:C})),K=_(K,1)};K<C;)oe();return W}function rS(n,t){var i=t.periodStart,r=t.periodEnd;return t.events.filter(function(s){return function roe(n,t){var e=t.event,i=t.periodStart,r=t.periodEnd,s=n.isSameSecond,c=e.start,p=e.end||e.start;return!!(c>i&&c<r||p>i&&p<r||c<i&&p>r||s(c,i)||s(c,r)||s(p,i)||s(p,r))}(n,{event:s,periodStart:i,periodEnd:r})})}function EW(n,t){var e=t.date,i=t.weekendDays,r=void 0===i?eoe:i,c=n.isSameDay,p=n.getDay,_=(0,n.startOfDay)(new Date),C=p(e);return{date:e,day:C,isPast:e<_,isToday:c(e,_),isFuture:e>_,isWeekend:r.indexOf(C)>-1}}function KB(n,t){for(var r=t.excluded,s=void 0===r?[]:r,c=t.weekendDays,p=t.viewStart,_=void 0===p?n.startOfWeek(t.viewDate,{weekStartsOn:t.weekStartsOn}):p,C=t.viewEnd,M=void 0===C?n.addDays(_,ZB):C,V=n.addDays,W=n.getDay,K=[],oe=_;oe<M;)s.some(function(ae){return W(oe)===ae})||K.push(EW(n,{date:oe,weekendDays:c})),oe=V(oe,1);return K}function ooe(n,t){var e=t.events,i=void 0===e?[]:e,r=t.excluded,s=void 0===r?[]:r,c=t.precision,p=void 0===c?"days":c,_=t.absolutePositionedEvents,C=void 0!==_&&_,M=t.viewStart,V=t.viewEnd;M=n.startOfDay(M),V=n.endOfDay(V);var W=n.differenceInSeconds,K=n.differenceInDays,oe=function soe(n,t){for(var i=t.date2,r=t.excluded,s=t.date1,c=0;s<i;)-1===r.indexOf(n.getDay(s))&&c++,s=n.addDays(s,1);return c}(n,{date1:M,date2:V,excluded:s}),ae=K(V,M)+1,fe=i.filter(function(Re){return Re.allDay}).map(function(Re){var ze=function ioe(n,t){var e=t.event,i=t.startOfWeek,r=t.excluded,s=t.precision,c=n.differenceInDays,p=n.startOfDay,_=n.differenceInSeconds;if(e.start<i)return 0;var C=0;switch(s){case"days":C=c(p(e.start),i)*Mm;break;case"minutes":C=_(e.start,i)}return C-=CW(n,{startDate:i,seconds:C,excluded:r,precision:s}),Math.abs(C/Mm)}(n,{event:Re,startOfWeek:M,excluded:s,precision:p}),ut=function noe(n,t){var e=t.event,i=t.offset,s=t.excluded,c=t.precision,p=t.totalDaysInView,C=n.differenceInSeconds,M=n.addDays,V=n.endOfDay,W=n.differenceInDays,K=Mm,oe=(0,n.max)([e.start,t.startOfWeekDate]);e.end&&(K="minutes"===c?C(e.end,oe):W(M(V(e.end),1),oe)*Mm);var ae=i*Mm,Pe=p*Mm;return ae+K>Pe&&(K=Pe-ae),(K-=CW(n,{startDate:oe,seconds:K,excluded:s,precision:c}))/Mm}(n,{event:Re,offset:ze,startOfWeekDate:M,excluded:s,precision:p,totalDaysInView:ae});return{event:Re,offset:ze,span:ut}}).filter(function(Re){return Re.offset<oe}).filter(function(Re){return Re.span>0}).map(function(Re){return{event:Re.event,offset:Re.offset,span:Re.span,startsBeforeWeek:Re.event.start<M,endsAfterWeek:(Re.event.end||Re.event.start)>V}}).sort(function(Re,ze){var ut=W(Re.event.start,ze.event.start);return 0===ut?W(ze.event.end||ze.event.start,Re.event.end||Re.event.start):ut}),Pe=[],Be=[];return fe.forEach(function(Re,ze){if(-1===Be.indexOf(Re)){Be.push(Re);var ut=Re.span+Re.offset,bt=fe.slice(ze+1).filter(function(Jt){if(Jt.offset>=ut&&ut+Jt.span<=ae&&-1===Be.indexOf(Jt)){var ln=Jt.offset-ut;return C||(Jt.offset=ln),ut+=Jt.span+ln,Be.push(Jt),!0}}),jt=YB([Re],bt,!0),Vt=jt.filter(function(Jt){return Jt.event.id}).map(function(Jt){return Jt.event.id}).join("-");Pe.push(Gu({row:jt},Vt?{id:Vt}:{}))}}),Pe}function aoe(n,t){var e=t.events,i=t.viewDate,r=t.hourSegments,s=t.hourDuration,c=t.dayStart,p=t.dayEnd,_=t.weekStartsOn,C=t.excluded,M=t.weekendDays,V=t.segmentHeight,W=t.viewStart,K=t.viewEnd,oe=t.minimumEventHeight,ae=function doe(n,t){var e=t.viewDate,i=t.hourSegments,r=t.hourDuration,s=t.dayStart,c=t.dayEnd,p=n.setMinutes,_=n.setHours,C=n.startOfDay,M=n.startOfMinute,V=n.endOfDay,W=n.addMinutes,K=n.addDays,oe=[],ae=p(_(C(e),NN(s.hour)),PN(s.minute)),fe=p(_(M(V(e)),NN(c.hour)),PN(c.minute)),Pe=(r||60)/i,Be=C(e),Re=V(e),ze=function(ln){return ln};n.getTimezoneOffset(Be)!==n.getTimezoneOffset(Re)&&(Be=K(Be,1),ae=K(ae,1),fe=K(fe,1),ze=function(ln){return K(ln,-1)});for(var ut=r?1440/r:60,bt=0;bt<ut;bt++){for(var jt=[],Vt=0;Vt<i;Vt++){var Jt=W(W(ae,bt*(r||60)),Vt*Pe);Jt>=ae&&Jt<fe&&jt.push({date:ze(Jt),displayDate:Jt,isStart:0===Vt})}jt.length>0&&oe.push({segments:jt})}return oe}(n,{viewDate:i,hourSegments:r,hourDuration:s,dayStart:c,dayEnd:p}),fe=KB(n,{viewDate:i,weekStartsOn:_,excluded:C,weekendDays:M,viewStart:W,viewEnd:K}),Pe=n.setHours,Be=n.setMinutes,Re=n.getHours,ze=n.getMinutes;return fe.map(function(ut){var bt=function uoe(n,t){var e=t.events,i=t.viewDate,r=t.hourSegments,s=t.dayStart,c=t.dayEnd,p=t.eventWidth,_=t.segmentHeight,C=t.hourDuration,M=t.minimumEventHeight,V=n.setMinutes,W=n.setHours,K=n.startOfDay,oe=n.startOfMinute,ae=n.endOfDay,fe=n.differenceInMinutes,Pe=V(W(K(i),NN(s.hour)),PN(s.minute)),Be=V(W(oe(ae(i)),NN(c.hour)),PN(c.minute));Be.setSeconds(59,999);var Re=[],ze=rS(n,{events:e.filter(function(Vt){return!Vt.allDay}),periodStart:Pe,periodEnd:Be}),ut=ze.sort(function(Vt,Jt){return Vt.start.valueOf()-Jt.start.valueOf()}).map(function(Vt){var Jt=Vt.start,ln=Vt.end||Jt,zt=Jt<Pe,Ht=ln>Be,Rn=r*_/(C||60),mi=0;if(Jt>Pe){var Jo=n.getTimezoneOffset(Jt),un=n.getTimezoneOffset(Pe)-Jo;mi+=fe(Jt,Pe)+un}mi*=Rn,mi=Math.floor(mi);var Cn=zt?Pe:Jt,En=Ht?Be:ln,qi=n.getTimezoneOffset(Cn)-n.getTimezoneOffset(En),hr=fe(En,Cn)+qi;Vt.end?hr*=Rn:hr=_,M&&hr<M&&(hr=M),hr=Math.floor(hr);for(var ea=ON(Re,mi,mi+hr),Pi=0;ea.some(function(ql){return ql.left===Pi});)Pi+=p;var so={event:Vt,height:hr,width:p,top:mi,left:Pi,startsBeforeDay:zt,endsAfterDay:Ht};return Re.push(so),so}),bt=Math.max.apply(Math,ut.map(function(Vt){return Vt.left+Vt.width})),jt=rS(n,{events:e.filter(function(Vt){return Vt.allDay}),periodStart:K(Pe),periodEnd:ae(Be)});return{events:ut,width:bt,allDayEvents:jt,period:{events:ze,start:Pe,end:Be}}}(n,{events:e,viewDate:ut.date,hourSegments:r,dayStart:c,dayEnd:p,segmentHeight:V,eventWidth:1,hourDuration:s,minimumEventHeight:oe}),jt=ae.map(function(ln){var zt=ln.segments.map(function(Ht){var Rn=Be(Pe(ut.date,Re(Ht.date)),ze(Ht.date));return Gu(Gu({},Ht),{date:Rn})});return Gu(Gu({},ln),{segments:zt})});function Vt(ln,zt){var Ht=Math.max.apply(Math,zt.map(function(mi){return mi.left+1})),Rn=ln.filter(function(mi){return mi.left>=Ht}).filter(function(mi){return ON(zt,mi.top,mi.top+mi.height).length>0});return Rn.length>0?Vt(ln,Rn):Ht}var Jt=bt.events.map(function(ln){var Ht=100/Vt(bt.events,ON(bt.events,ln.top,ln.top+ln.height));return Gu(Gu({},ln),{left:ln.left*Ht,width:Ht})});return{hours:jt,date:ut.date,events:Jt.map(function(ln){var zt=ON(Jt.filter(function(Ht){return Ht.left>ln.left}),ln.top,ln.top+ln.height);return zt.length>0?Gu(Gu({},ln),{width:Math.min.apply(Math,zt.map(function(Ht){return Ht.left}))-ln.left}):ln})}})}function ON(n,t,e){return n.filter(function(i){var r=i.top,s=i.top+i.height;return t<s&&s<e||t<r&&r<e||r<=t&&e<=s})}function NN(n){return Math.max(Math.min(23,n),0)}function PN(n){return Math.max(Math.min(59,n),0)}var yx=function(n){return n.NotArray="Events must be an array",n.StartPropertyMissing="Event is missing the `start` property",n.StartPropertyNotDate="Event `start` property should be a javascript date object. Do `new Date(event.start)` to fix it.",n.EndPropertyNotDate="Event `end` property should be a javascript date object. Do `new Date(event.end)` to fix it.",n.EndsBeforeStart="Event `start` property occurs after the `end`",n}(yx||{});function QB(n,t){return n=function goe(n,t){return typeof n>"u"?typeof t>"u"?n:t:n}(n,t),"function"==typeof n?function(){for(var i=arguments,r=arguments.length,s=Array(r),c=0;c<r;c++)s[c]=i[c];return!!n.apply(this,s)}:n?function(){return!0}:function(){return!1}}var JB="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(n){return typeof n}:function(n){return n&&"function"==typeof Symbol&&n.constructor===Symbol?"symbol":typeof n},DW=function(n){return null!=n&&"object"===(typeof n>"u"?"undefined":JB(n))&&1===n.nodeType&&"object"===JB(n.style)&&"object"===JB(n.ownerDocument)};function TW(n,t){if(t=tV(t,!0),!DW(t))return-1;for(var e=0;e<n.length;e++)if(n[e]===t)return e;return-1}function eV(n,t){return-1!==TW(n,t)}function voe(n){for(var t=arguments,e=[],i=arguments.length-1;i-- >0;)e[i]=t[i+1];return function moe(n,t){for(var e=0;e<t.length;e++)eV(n,t[e])||n.push(t[e]);return t}(n,e=e.map(tV))}function yoe(n){for(var t=arguments,e=[],i=arguments.length-1;i-- >0;)e[i]=t[i+1];return e.map(tV).reduce(function(r,s){var c=TW(n,s);return-1!==c?r.concat(n.splice(c,1)):r},[])}function tV(n,t){if("string"==typeof n)try{return document.querySelector(n)}catch(e){throw e}if(!DW(n)&&!t)throw new TypeError(n+" is not a DOM element.");return n}function SW(n){if(n===window)return function boe(){var n={top:{value:0,enumerable:!0},left:{value:0,enumerable:!0},right:{value:window.innerWidth,enumerable:!0},bottom:{value:window.innerHeight,enumerable:!0},width:{value:window.innerWidth,enumerable:!0},height:{value:window.innerHeight,enumerable:!0},x:{value:0,enumerable:!0},y:{value:0,enumerable:!0}};if(Object.create)return Object.create({},n);var t={};return Object.defineProperties(t,n),t}();try{var t=n.getBoundingClientRect();return void 0===t.x&&(t.x=t.left,t.y=t.top),t}catch{throw new TypeError("Can't call getBoundingClientRect on "+n)}}var t,nV=void 0;"function"!=typeof Object.create?(t=function(){},nV=function(e,i){if(e!==Object(e)&&null!==e)throw TypeError("Argument must be an object, or null");t.prototype=e||{};var r=new t;return t.prototype=null,void 0!==i&&Object.defineProperties(r,i),null===e&&(r.__proto__=null),r}):nV=Object.create;var xoe=nV,S_=["altKey","button","buttons","clientX","clientY","ctrlKey","metaKey","movementX","movementY","offsetX","offsetY","pageX","pageY","region","relatedTarget","screenX","screenY","shiftKey","which","x","y"];function iV(n,t){t=t||{};for(var e=xoe(n),i=0;i<S_.length;i++)void 0!==t[S_[i]]&&(e[S_[i]]=t[S_[i]]);return e}function rV(n,t){console.log("data ",t),n.data=t||{},n.dispatched="mousemove"}var sS=["webkit","moz","ms","o"],oS=function(){if(typeof window>"u")return function(){};for(var n=0,t=sS.length;n<t&&!window.requestAnimationFrame;++n)window.requestAnimationFrame=window[sS[n]+"RequestAnimationFrame"];if(!window.requestAnimationFrame){var e=0;window.requestAnimationFrame=function(i){var r=(new Date).getTime(),s=Math.max(0,16-r-e),c=window.setTimeout(function(){return i(r+s)},s);return e=r+s,c}}return window.requestAnimationFrame.bind(window)}(),_x=function(){if(typeof window>"u")return function(){};for(var n=0,t=sS.length;n<t&&!window.cancelAnimationFrame;++n)window.cancelAnimationFrame=window[sS[n]+"CancelAnimationFrame"]||window[sS[n]+"CancelRequestAnimationFrame"];return window.cancelAnimationFrame||(window.cancelAnimationFrame=function(e){window.clearTimeout(e)}),window.cancelAnimationFrame.bind(window)}();function Eoe(n,t){void 0===t&&(t={});var e=this,i=4,r=!1;if("object"!=typeof t.margin){var s=t.margin||-1;this.margin={left:s,right:s,top:s,bottom:s}}else this.margin=t.margin;this.scrollWhenOutside=t.scrollWhenOutside||!1;var c={},p=function _oe(n,t){var e=QB((t=t||{}).allowUpdate,!0);return function(r){if(r=r||window.event,n.target=r.target||r.srcElement||r.originalTarget,n.element=this,n.type=r.type,e(r)){if(r.targetTouches)n.x=r.targetTouches[0].clientX,n.y=r.targetTouches[0].clientY,n.pageX=r.targetTouches[0].pageX,n.pageY=r.targetTouches[0].pageY,n.screenX=r.targetTouches[0].screenX,n.screenY=r.targetTouches[0].screenY;else{if(null===r.pageX&&null!==r.clientX){var s=r.target&&r.target.ownerDocument||document,c=s.documentElement,p=s.body;n.pageX=r.clientX+(c&&c.scrollLeft||p&&p.scrollLeft||0)-(c&&c.clientLeft||p&&p.clientLeft||0),n.pageY=r.clientY+(c&&c.scrollTop||p&&p.scrollTop||0)-(c&&c.clientTop||p&&p.clientTop||0)}else n.pageX=r.pageX,n.pageY=r.pageY;n.x=r.clientX,n.y=r.clientY,n.screenX=r.screenX,n.screenY=r.screenY}n.clientX=n.x,n.clientY=n.y}}}(c),_=function Coe(n){var t={screenX:0,screenY:0,clientX:0,clientY:0,ctrlKey:!1,shiftKey:!1,altKey:!1,metaKey:!1,button:0,buttons:1,relatedTarget:null,region:null};function e(s){for(var c=0;c<S_.length;c++)t[S_[c]]=s[S_[c]]}return void 0!==n&&n.addEventListener("mousemove",e),{destroy:function r(){n&&n.removeEventListener("mousemove",e,!1),t=null},dispatch:MouseEvent?function(c,p,_){var C=new MouseEvent("mousemove",iV(t,p));return rV(C,_),c.dispatchEvent(C)}:"function"==typeof document.createEvent?function(c,p,_){var C=iV(t,p),M=document.createEvent("MouseEvents");return M.initMouseEvent("mousemove",!0,!0,window,0,C.screenX,C.screenY,C.clientX,C.clientY,C.ctrlKey,C.altKey,C.shiftKey,C.metaKey,C.button,C.relatedTarget),rV(M,_),c.dispatchEvent(M)}:"function"==typeof document.createEventObject?function(c,p,_){var C=document.createEventObject(),M=iV(t,p);for(var V in M)C[V]=M[V];return rV(C,_),c.dispatchEvent(C)}:void 0}}(),C=!1;window.addEventListener("mousemove",p,!1),window.addEventListener("touchmove",p,!1),isNaN(t.maxSpeed)||(i=t.maxSpeed),"object"!=typeof i&&(i={left:i,right:i,top:i,bottom:i}),this.autoScroll=QB(t.autoScroll),this.syncMove=QB(t.syncMove,!1),this.destroy=function(zt){window.removeEventListener("mousemove",p,!1),window.removeEventListener("touchmove",p,!1),window.removeEventListener("mousedown",ae,!1),window.removeEventListener("touchstart",ae,!1),window.removeEventListener("mouseup",fe,!1),window.removeEventListener("touchend",fe,!1),window.removeEventListener("pointerup",fe,!1),window.removeEventListener("mouseleave",Be,!1),window.removeEventListener("mousemove",ut,!1),window.removeEventListener("touchmove",ut,!1),window.removeEventListener("scroll",oe,!0),n=[],zt&&Pe()},this.add=function(){for(var zt=[],Ht=arguments.length;Ht--;)zt[Ht]=arguments[Ht];return voe.apply(void 0,[n].concat(zt)),this},this.remove=function(){for(var zt=[],Ht=arguments.length;Ht--;)zt[Ht]=arguments[Ht];return yoe.apply(void 0,[n].concat(zt))};var V,zt,M=null;"[object Array]"!==Object.prototype.toString.call(n)&&(n=[n]),zt=n,n=[],zt.forEach(function(Ht){Ht===window?M=window:e.add(Ht)}),Object.defineProperties(this,{down:{get:function(){return C}},maxSpeed:{get:function(){return i}},point:{get:function(){return c}},scrolling:{get:function(){return r}}});var K,W=null;function oe(zt){for(var Ht=0;Ht<n.length;Ht++)if(n[Ht]===zt.target){r=!0;break}r&&oS(function(){return r=!1})}function ae(){C=!0}function fe(){C=!1,Pe()}function Pe(){_x(K),_x(V)}function Be(){C=!1}function ze(){for(var zt=null,Ht=0;Ht<n.length;Ht++)AW(c,n[Ht])&&(zt=n[Ht]);return zt}function ut(zt){if(e.autoScroll()&&!zt.dispatched){var Ht=zt.target,Rn=document.body;W&&!AW(c,W)&&(e.scrollWhenOutside||(W=null)),Ht&&Ht.parentNode===Rn?Ht=ze():(Ht=function Re(zt){if(!zt)return null;if(W===zt||eV(n,zt))return zt;for(;zt=zt.parentNode;)if(eV(n,zt))return zt;return null}(Ht),Ht||(Ht=ze())),Ht&&Ht!==W&&(W=Ht),M&&(_x(V),V=oS(bt)),W&&(_x(K),K=oS(jt))}}function bt(){Vt(M),_x(V),V=oS(bt)}function jt(){W&&(Vt(W),_x(K),K=oS(jt))}function Vt(zt){var Rn,mi,Ht=SW(zt);Rn=c.x<Ht.left+e.margin.left?Math.floor(Math.max(-1,(c.x-Ht.left)/e.margin.left-1)*e.maxSpeed.left):c.x>Ht.right-e.margin.right?Math.ceil(Math.min(1,(c.x-Ht.right)/e.margin.right+1)*e.maxSpeed.right):0,mi=c.y<Ht.top+e.margin.top?Math.floor(Math.max(-1,(c.y-Ht.top)/e.margin.top-1)*e.maxSpeed.top):c.y>Ht.bottom-e.margin.bottom?Math.ceil(Math.min(1,(c.y-Ht.bottom)/e.margin.bottom+1)*e.maxSpeed.bottom):0,e.syncMove()&&_.dispatch(zt,{pageX:c.pageX+Rn,pageY:c.pageY+mi,clientX:c.x+Rn,clientY:c.y+mi}),setTimeout(function(){mi&&function Jt(zt,Ht){zt===window?window.scrollTo(zt.pageXOffset,zt.pageYOffset+Ht):zt.scrollTop+=Ht}(zt,mi),Rn&&function ln(zt,Ht){zt===window?window.scrollTo(zt.pageXOffset+Ht,zt.pageYOffset):zt.scrollLeft+=Ht}(zt,Rn)})}window.addEventListener("mousedown",ae,!1),window.addEventListener("touchstart",ae,!1),window.addEventListener("mouseup",fe,!1),window.addEventListener("touchend",fe,!1),window.addEventListener("pointerup",fe,!1),window.addEventListener("mousemove",ut,!1),window.addEventListener("touchmove",ut,!1),window.addEventListener("mouseleave",Be,!1),window.addEventListener("scroll",oe,!0)}function AW(n,t,e){return e?n.y>e.top&&n.y<e.bottom&&n.x>e.left&&n.x<e.right:function woe(n,t){var e=SW(t);return n.y>e.top&&n.y<e.bottom&&n.x>e.left&&n.x<e.right}(n,t)}function sV(n,t,e){e&&e.split(" ").forEach(i=>n.addClass(t.nativeElement,i))}function RN(n,t,e){e&&e.split(" ").forEach(i=>n.removeClass(t.nativeElement,i))}let IW=(()=>{class n{constructor(){this.currentDrag=new Pn.x}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275prov=a.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),MW=(()=>{class n{constructor(e){this.elementRef=e}}return n.\u0275fac=function(e){return new(e||n)(a.Y36(a.SBq))},n.\u0275dir=a.lG2({type:n,selectors:[["","mwlDraggableScrollContainer",""]]}),n})(),oV=(()=>{class n{constructor(e,i,r,s,c,p,_){this.element=e,this.renderer=i,this.draggableHelper=r,this.zone=s,this.vcr=c,this.scrollContainer=p,this.document=_,this.dragAxis={x:!0,y:!0},this.dragSnapGrid={},this.ghostDragEnabled=!0,this.showOriginalElementWhileDragging=!1,this.dragCursor="",this.autoScroll={margin:20},this.dragPointerDown=new a.vpe,this.dragStart=new a.vpe,this.ghostElementCreated=new a.vpe,this.dragging=new a.vpe,this.dragEnd=new a.vpe,this.pointerDown$=new Pn.x,this.pointerMove$=new Pn.x,this.pointerUp$=new Pn.x,this.eventListenerSubscriptions={},this.destroy$=new Pn.x,this.timeLongPress={timerBegin:0,timerEnd:0}}ngOnInit(){this.checkEventListeners();const e=this.pointerDown$.pipe(Kn(()=>this.canDrag()),(0,io.z)(i=>{i.event.stopPropagation&&!this.scrollContainer&&i.event.stopPropagation();const r=this.renderer.createElement("style");this.renderer.setAttribute(r,"type","text/css"),this.renderer.appendChild(r,this.renderer.createText("\n          body * {\n           -moz-user-select: none;\n           -ms-user-select: none;\n           -webkit-user-select: none;\n           user-select: none;\n          }\n        ")),requestAnimationFrame(()=>{this.document.head.appendChild(r)});const s=this.getScrollPosition(),c=new ar.y(K=>this.renderer.listen(this.scrollContainer?this.scrollContainer.elementRef.nativeElement:"window","scroll",ae=>K.next(ae))).pipe(Ml(s),(0,Bt.U)(()=>this.getScrollPosition())),p=new Pn.x,_=new Gi;this.dragPointerDown.observers.length>0&&this.zone.run(()=>{this.dragPointerDown.next({x:0,y:0})});const C=(0,ys.T)(this.pointerUp$,this.pointerDown$,_,this.destroy$).pipe((0,ss.B)()),M=BT([this.pointerMove$,c]).pipe((0,Bt.U)(([K,oe])=>({currentDrag$:p,transformX:K.clientX-i.clientX,transformY:K.clientY-i.clientY,clientX:K.clientX,clientY:K.clientY,scrollLeft:oe.left,scrollTop:oe.top,target:K.event.target})),(0,Bt.U)(K=>(this.dragSnapGrid.x&&(K.transformX=Math.round(K.transformX/this.dragSnapGrid.x)*this.dragSnapGrid.x),this.dragSnapGrid.y&&(K.transformY=Math.round(K.transformY/this.dragSnapGrid.y)*this.dragSnapGrid.y),K)),(0,Bt.U)(K=>(this.dragAxis.x||(K.transformX=0),this.dragAxis.y||(K.transformY=0),K)),(0,Bt.U)(K=>{const oe=K.scrollLeft-s.left,ae=K.scrollTop-s.top;return{...K,x:K.transformX+oe,y:K.transformY+ae}}),Kn(({x:K,y:oe,transformX:ae,transformY:fe})=>!this.validateDrag||this.validateDrag({x:K,y:oe,transform:{x:ae,y:fe}})),dr(C),(0,ss.B)()),V=M.pipe(wi(1),(0,ss.B)()),W=M.pipe(fN(1),(0,ss.B)());return V.subscribe(({clientX:K,clientY:oe,x:ae,y:fe})=>{if(this.dragStart.observers.length>0&&this.zone.run(()=>{this.dragStart.next({cancelDrag$:_})}),this.scroller=function Doe(n,t){return new Eoe(n,t)}([this.scrollContainer?this.scrollContainer.elementRef.nativeElement:this.document.defaultView],{...this.autoScroll,autoScroll:()=>!0}),sV(this.renderer,this.element,this.dragActiveClass),this.ghostDragEnabled){const Pe=this.element.nativeElement.getBoundingClientRect(),Be=this.element.nativeElement.cloneNode(!0);if(this.showOriginalElementWhileDragging||this.renderer.setStyle(this.element.nativeElement,"visibility","hidden"),this.ghostElementAppendTo?this.ghostElementAppendTo.appendChild(Be):this.element.nativeElement.parentNode.insertBefore(Be,this.element.nativeElement.nextSibling),this.ghostElement=Be,this.document.body.style.cursor=this.dragCursor,this.setElementStyles(Be,{position:"fixed",top:`${Pe.top}px`,left:`${Pe.left}px`,width:`${Pe.width}px`,height:`${Pe.height}px`,cursor:this.dragCursor,margin:"0",willChange:"transform",pointerEvents:"none"}),this.ghostElementTemplate){const Re=this.vcr.createEmbeddedView(this.ghostElementTemplate);Be.innerHTML="",Re.rootNodes.filter(ze=>ze instanceof Node).forEach(ze=>{Be.appendChild(ze)}),W.subscribe(()=>{this.vcr.remove(this.vcr.indexOf(Re))})}this.ghostElementCreated.observers.length>0&&this.zone.run(()=>{this.ghostElementCreated.emit({clientX:K-ae,clientY:oe-fe,element:Be})}),W.subscribe(()=>{Be.parentElement.removeChild(Be),this.ghostElement=null,this.renderer.setStyle(this.element.nativeElement,"visibility","")})}this.draggableHelper.currentDrag.next(p)}),W.pipe((0,io.z)(K=>{const oe=_.pipe(function poe(n){return function foe(n,t){return(0,Or.e)(Ab(n,t,arguments.length>=2,!1,!0))}((t,e,i)=>!n||n(e,i)?t+1:t,0)}(),wi(1),(0,Bt.U)(ae=>({...K,dragCancelled:ae>0})));return _.complete(),oe})).subscribe(({x:K,y:oe,dragCancelled:ae})=>{this.scroller.destroy(),this.dragEnd.observers.length>0&&this.zone.run(()=>{this.dragEnd.next({x:K,y:oe,dragCancelled:ae})}),RN(this.renderer,this.element,this.dragActiveClass),p.complete()}),(0,ys.T)(C,W).pipe(wi(1)).subscribe(()=>{requestAnimationFrame(()=>{this.document.head.removeChild(r)})}),M}),(0,ss.B)());(0,ys.T)(e.pipe(wi(1),(0,Bt.U)(i=>[,i])),e.pipe(Cv())).pipe(Kn(([i,r])=>!i||i.x!==r.x||i.y!==r.y),(0,Bt.U)(([i,r])=>r)).subscribe(({x:i,y:r,currentDrag$:s,clientX:c,clientY:p,transformX:_,transformY:C,target:M})=>{this.dragging.observers.length>0&&this.zone.run(()=>{this.dragging.next({x:i,y:r})}),requestAnimationFrame(()=>{if(this.ghostElement){const V=`translate3d(${_}px, ${C}px, 0px)`;this.setElementStyles(this.ghostElement,{transform:V,"-webkit-transform":V,"-ms-transform":V,"-moz-transform":V,"-o-transform":V})}}),s.next({clientX:c,clientY:p,dropData:this.dropData,target:M})})}ngOnChanges(e){e.dragAxis&&this.checkEventListeners()}ngOnDestroy(){this.unsubscribeEventListeners(),this.pointerDown$.complete(),this.pointerMove$.complete(),this.pointerUp$.complete(),this.destroy$.next()}checkEventListeners(){const e=this.canDrag(),i=Object.keys(this.eventListenerSubscriptions).length>0;e&&!i?this.zone.runOutsideAngular(()=>{this.eventListenerSubscriptions.mousedown=this.renderer.listen(this.element.nativeElement,"mousedown",r=>{this.onMouseDown(r)}),this.eventListenerSubscriptions.mouseup=this.renderer.listen("document","mouseup",r=>{this.onMouseUp(r)}),this.eventListenerSubscriptions.touchstart=this.renderer.listen(this.element.nativeElement,"touchstart",r=>{this.onTouchStart(r)}),this.eventListenerSubscriptions.touchend=this.renderer.listen("document","touchend",r=>{this.onTouchEnd(r)}),this.eventListenerSubscriptions.touchcancel=this.renderer.listen("document","touchcancel",r=>{this.onTouchEnd(r)}),this.eventListenerSubscriptions.mouseenter=this.renderer.listen(this.element.nativeElement,"mouseenter",()=>{this.onMouseEnter()}),this.eventListenerSubscriptions.mouseleave=this.renderer.listen(this.element.nativeElement,"mouseleave",()=>{this.onMouseLeave()})}):!e&&i&&this.unsubscribeEventListeners()}onMouseDown(e){0===e.button&&(this.eventListenerSubscriptions.mousemove||(this.eventListenerSubscriptions.mousemove=this.renderer.listen("document","mousemove",i=>{this.pointerMove$.next({event:i,clientX:i.clientX,clientY:i.clientY})})),this.pointerDown$.next({event:e,clientX:e.clientX,clientY:e.clientY}))}onMouseUp(e){0===e.button&&(this.eventListenerSubscriptions.mousemove&&(this.eventListenerSubscriptions.mousemove(),delete this.eventListenerSubscriptions.mousemove),this.pointerUp$.next({event:e,clientX:e.clientX,clientY:e.clientY}))}onTouchStart(e){let i,r,s;if(this.touchStartLongPress&&(this.timeLongPress.timerBegin=Date.now(),r=!1,s=this.hasScrollbar(),i=this.getScrollPosition()),!this.eventListenerSubscriptions.touchmove){const c=ro(this.document,"contextmenu").subscribe(_=>{_.preventDefault()}),p=ro(this.document,"touchmove",{passive:!1}).subscribe(_=>{this.touchStartLongPress&&!r&&s&&(r=this.shouldBeginDrag(e,_,i)),(!this.touchStartLongPress||!s||r)&&(_.preventDefault(),this.pointerMove$.next({event:_,clientX:_.targetTouches[0].clientX,clientY:_.targetTouches[0].clientY}))});this.eventListenerSubscriptions.touchmove=()=>{c.unsubscribe(),p.unsubscribe()}}this.pointerDown$.next({event:e,clientX:e.touches[0].clientX,clientY:e.touches[0].clientY})}onTouchEnd(e){this.eventListenerSubscriptions.touchmove&&(this.eventListenerSubscriptions.touchmove(),delete this.eventListenerSubscriptions.touchmove,this.touchStartLongPress&&this.enableScroll()),this.pointerUp$.next({event:e,clientX:e.changedTouches[0].clientX,clientY:e.changedTouches[0].clientY})}onMouseEnter(){this.setCursor(this.dragCursor)}onMouseLeave(){this.setCursor("")}canDrag(){return this.dragAxis.x||this.dragAxis.y}setCursor(e){this.eventListenerSubscriptions.mousemove||this.renderer.setStyle(this.element.nativeElement,"cursor",e)}unsubscribeEventListeners(){Object.keys(this.eventListenerSubscriptions).forEach(e=>{this.eventListenerSubscriptions[e](),delete this.eventListenerSubscriptions[e]})}setElementStyles(e,i){Object.keys(i).forEach(r=>{this.renderer.setStyle(e,r,i[r])})}getScrollElement(){return this.scrollContainer?this.scrollContainer.elementRef.nativeElement:this.document.body}getScrollPosition(){return this.scrollContainer?{top:this.scrollContainer.elementRef.nativeElement.scrollTop,left:this.scrollContainer.elementRef.nativeElement.scrollLeft}:{top:window.pageYOffset||this.document.documentElement.scrollTop,left:window.pageXOffset||this.document.documentElement.scrollLeft}}shouldBeginDrag(e,i,r){const s=this.getScrollPosition(),c_top=Math.abs(s.top-r.top),c_left=Math.abs(s.left-r.left),p=Math.abs(i.targetTouches[0].clientX-e.touches[0].clientX)-c_left,_=Math.abs(i.targetTouches[0].clientY-e.touches[0].clientY)-c_top,M=this.touchStartLongPress;return(p+_>M.delta||c_top>0||c_left>0)&&(this.timeLongPress.timerBegin=Date.now()),this.timeLongPress.timerEnd=Date.now(),this.timeLongPress.timerEnd-this.timeLongPress.timerBegin>=M.delay&&(this.disableScroll(),!0)}enableScroll(){this.scrollContainer&&this.renderer.setStyle(this.scrollContainer.elementRef.nativeElement,"overflow",""),this.renderer.setStyle(this.document.body,"overflow","")}disableScroll(){this.scrollContainer&&this.renderer.setStyle(this.scrollContainer.elementRef.nativeElement,"overflow","hidden"),this.renderer.setStyle(this.document.body,"overflow","hidden")}hasScrollbar(){const e=this.getScrollElement();return e.scrollWidth>e.clientWidth||e.scrollHeight>e.clientHeight}}return n.\u0275fac=function(e){return new(e||n)(a.Y36(a.SBq),a.Y36(a.Qsj),a.Y36(IW),a.Y36(a.R0b),a.Y36(a.s_b),a.Y36(MW,8),a.Y36(Ye))},n.\u0275dir=a.lG2({type:n,selectors:[["","mwlDraggable",""]],inputs:{dropData:"dropData",dragAxis:"dragAxis",dragSnapGrid:"dragSnapGrid",ghostDragEnabled:"ghostDragEnabled",showOriginalElementWhileDragging:"showOriginalElementWhileDragging",validateDrag:"validateDrag",dragCursor:"dragCursor",dragActiveClass:"dragActiveClass",ghostElementAppendTo:"ghostElementAppendTo",ghostElementTemplate:"ghostElementTemplate",touchStartLongPress:"touchStartLongPress",autoScroll:"autoScroll"},outputs:{dragPointerDown:"dragPointerDown",dragStart:"dragStart",ghostElementCreated:"ghostElementCreated",dragging:"dragging",dragEnd:"dragEnd"},features:[a.TTD]}),n})();function kW(n,t,e){return n>=e.left&&n<=e.right&&t>=e.top&&t<=e.bottom}let aV=(()=>{class n{constructor(e,i,r,s,c){this.element=e,this.draggableHelper=i,this.zone=r,this.renderer=s,this.scrollContainer=c,this.dragEnter=new a.vpe,this.dragLeave=new a.vpe,this.dragOver=new a.vpe,this.drop=new a.vpe}ngOnInit(){this.currentDragSubscription=this.draggableHelper.currentDrag.subscribe(e=>{sV(this.renderer,this.element,this.dragActiveClass);const i={updateCache:!0},r=this.renderer.listen(this.scrollContainer?this.scrollContainer.elementRef.nativeElement:"window","scroll",()=>{i.updateCache=!0});let s;const c=e.pipe((0,Bt.U)(({clientX:C,clientY:M,dropData:V,target:W})=>{s={clientX:C,clientY:M,dropData:V,target:W},i.updateCache&&(i.rect=this.element.nativeElement.getBoundingClientRect(),this.scrollContainer&&(i.scrollContainerRect=this.scrollContainer.elementRef.nativeElement.getBoundingClientRect()),i.updateCache=!1);const K=kW(C,M,i.rect),oe=!this.validateDrop||this.validateDrop({clientX:C,clientY:M,target:W,dropData:V});return i.scrollContainerRect?K&&oe&&kW(C,M,i.scrollContainerRect):K&&oe})),p=c.pipe((0,Ib.x)());let _;p.pipe(Kn(C=>C)).subscribe(()=>{_=!0,sV(this.renderer,this.element,this.dragOverClass),this.dragEnter.observers.length>0&&this.zone.run(()=>{this.dragEnter.next(s)})}),c.pipe(Kn(C=>C)).subscribe(()=>{this.dragOver.observers.length>0&&this.zone.run(()=>{this.dragOver.next(s)})}),p.pipe(Cv(),Kn(([C,M])=>C&&!M)).subscribe(()=>{_=!1,RN(this.renderer,this.element,this.dragOverClass),this.dragLeave.observers.length>0&&this.zone.run(()=>{this.dragLeave.next(s)})}),e.subscribe({complete:()=>{r(),RN(this.renderer,this.element,this.dragActiveClass),_&&(RN(this.renderer,this.element,this.dragOverClass),this.drop.observers.length>0&&this.zone.run(()=>{this.drop.next(s)}))}})})}ngOnDestroy(){this.currentDragSubscription&&this.currentDragSubscription.unsubscribe()}}return n.\u0275fac=function(e){return new(e||n)(a.Y36(a.SBq),a.Y36(IW),a.Y36(a.R0b),a.Y36(a.Qsj),a.Y36(MW,8))},n.\u0275dir=a.lG2({type:n,selectors:[["","mwlDroppable",""]],inputs:{dragOverClass:"dragOverClass",dragActiveClass:"dragActiveClass",validateDrop:"validateDrop"},outputs:{dragEnter:"dragEnter",dragLeave:"dragLeave",dragOver:"dragOver",drop:"drop"}}),n})(),FN=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=a.oAB({type:n}),n.\u0275inj=a.cJS({}),n})();const A_=!(typeof window>"u")&&("ontouchstart"in window||navigator.maxTouchPoints>0||navigator.msMaxTouchPoints>0);function OW(n,t,e,i){const r=t.querySelectorAll(n);if(r.length){const s=e.querySelectorAll(n);for(let c=0;c<r.length;c++)i(r[c],s[c])}}let Aoe=0;function NW(n,t){"file"!==t.type&&(t.value=n.value),"radio"===t.type&&t.name&&(t.name=`mat-clone-${t.name}-${Aoe++}`)}function PW(n,t){const e=t.getContext("2d");if(e)try{e.drawImage(n,0,0)}catch{}}function RW(n,t,e,i){const r={top:n.top,bottom:n.bottom,left:n.left,right:n.right};return t.top&&(r.top+=i),t.bottom&&(r.bottom+=i),t.left&&(r.left+=e),t.right&&(r.right+=e),r.height=r.bottom-r.top,r.width=r.right-r.left,r}const FW=Object.freeze({topLeft:"nw-resize",topRight:"ne-resize",bottomLeft:"sw-resize",bottomRight:"se-resize",leftOrRight:"col-resize",topOrBottom:"row-resize"});function LW(n,t){return n.left&&n.top?t.topLeft:n.right&&n.top?t.topRight:n.left&&n.bottom?t.bottomLeft:n.right&&n.bottom?t.bottomRight:n.left||n.right?t.leftOrRight:n.top||n.bottom?t.topOrBottom:""}function LN({edges:n,initialRectangle:t,newRectangle:e}){const i={};return Object.keys(n).forEach(r=>{i[r]=(e[r]||0)-(t[r]||0)}),i}const BW="resize-active";let VW=(()=>{class n{constructor(e,i,r,s){this.platformId=e,this.renderer=i,this.elm=r,this.zone=s,this.enableGhostResize=!1,this.resizeSnapGrid={},this.resizeCursors=FW,this.ghostElementPositioning="fixed",this.allowNegativeResizes=!1,this.mouseMoveThrottleMS=50,this.resizeStart=new a.vpe,this.resizing=new a.vpe,this.resizeEnd=new a.vpe,this.mouseup=new Pn.x,this.mousedown=new Pn.x,this.mousemove=new Pn.x,this.destroy$=new Pn.x,this.pointerEventListeners=bx.getInstance(i,s)}ngOnInit(){const e=(0,ys.T)(this.pointerEventListeners.pointerDown,this.mousedown),i=(0,ys.T)(this.pointerEventListeners.pointerMove,this.mousemove).pipe((0,xo.b)(({event:C})=>{s&&C.cancelable&&C.preventDefault()}),(0,ss.B)()),r=(0,ys.T)(this.pointerEventListeners.pointerUp,this.mouseup);let s;const c=()=>{s&&s.clonedNode&&(this.elm.nativeElement.parentElement.removeChild(s.clonedNode),this.renderer.setStyle(this.elm.nativeElement,"visibility","inherit"))},p=()=>({...FW,...this.resizeCursors});e.pipe((0,io.z)(C=>{function M(K){return{clientX:K.clientX-C.clientX,clientY:K.clientY-C.clientY}}const V=()=>{const K={x:1,y:1};return s&&(this.resizeSnapGrid.left&&s.edges.left?K.x=+this.resizeSnapGrid.left:this.resizeSnapGrid.right&&s.edges.right&&(K.x=+this.resizeSnapGrid.right),this.resizeSnapGrid.top&&s.edges.top?K.y=+this.resizeSnapGrid.top:this.resizeSnapGrid.bottom&&s.edges.bottom&&(K.y=+this.resizeSnapGrid.bottom)),K};function W(K,oe){return{x:Math.ceil(K.clientX/oe.x),y:Math.ceil(K.clientY/oe.y)}}return(0,ys.T)(i.pipe(wi(1)).pipe((0,Bt.U)(K=>[,K])),i.pipe(Cv())).pipe((0,Bt.U)(([K,oe])=>[K&&M(K),M(oe)])).pipe(Kn(([K,oe])=>{if(!K)return!0;const ae=V(),fe=W(K,ae),Pe=W(oe,ae);return fe.x!==Pe.x||fe.y!==Pe.y})).pipe((0,Bt.U)(([,K])=>{const oe=V();return{clientX:Math.round(K.clientX/oe.x)*oe.x,clientY:Math.round(K.clientY/oe.y)*oe.y}})).pipe(dr((0,ys.T)(r,e)))})).pipe(Kn(()=>!!s)).pipe((0,Bt.U)(({clientX:C,clientY:M})=>RW(s.startingRect,s.edges,C,M))).pipe(Kn(C=>this.allowNegativeResizes||!!(C.height&&C.width&&C.height>0&&C.width>0))).pipe(Kn(C=>!this.validateResize||this.validateResize({rectangle:C,edges:LN({edges:s.edges,initialRectangle:s.startingRect,newRectangle:C})})),dr(this.destroy$)).subscribe(C=>{s&&s.clonedNode&&(this.renderer.setStyle(s.clonedNode,"height",`${C.height}px`),this.renderer.setStyle(s.clonedNode,"width",`${C.width}px`),this.renderer.setStyle(s.clonedNode,"top",`${C.top}px`),this.renderer.setStyle(s.clonedNode,"left",`${C.left}px`)),this.resizing.observers.length>0&&this.zone.run(()=>{this.resizing.emit({edges:LN({edges:s.edges,initialRectangle:s.startingRect,newRectangle:C}),rectangle:C})}),s.currentRect=C}),e.pipe((0,Bt.U)(({edges:C})=>C||{}),Kn(C=>Object.keys(C).length>0),dr(this.destroy$)).subscribe(C=>{s&&c();const M=function Ioe(n,t){let e=0,i=0;const r=n.nativeElement.style,c=["transform","-ms-transform","-moz-transform","-o-transform"].map(p=>r[p]).find(p=>!!p);if(c&&c.includes("translate")&&(e=c.replace(/.*translate3?d?\((-?[0-9]*)px, (-?[0-9]*)px.*/,"$1"),i=c.replace(/.*translate3?d?\((-?[0-9]*)px, (-?[0-9]*)px.*/,"$2")),"absolute"===t)return{height:n.nativeElement.offsetHeight,width:n.nativeElement.offsetWidth,top:n.nativeElement.offsetTop-i,bottom:n.nativeElement.offsetHeight+n.nativeElement.offsetTop-i,left:n.nativeElement.offsetLeft-e,right:n.nativeElement.offsetWidth+n.nativeElement.offsetLeft-e};{const p=n.nativeElement.getBoundingClientRect();return{height:p.height,width:p.width,top:p.top-i,bottom:p.bottom-i,left:p.left-e,right:p.right-e,scrollTop:n.nativeElement.scrollTop,scrollLeft:n.nativeElement.scrollLeft}}}(this.elm,this.ghostElementPositioning);s={edges:C,startingRect:M,currentRect:M};const V=p(),W=LW(s.edges,V);this.renderer.setStyle(document.body,"cursor",W),this.setElementClass(this.elm,BW,!0),this.enableGhostResize&&(s.clonedNode=function Soe(n){const t=n.cloneNode(!0),e=t.querySelectorAll("[id]"),i=n.nodeName.toLowerCase();return t.removeAttribute("id"),e.forEach(r=>{r.removeAttribute("id")}),"canvas"===i?PW(n,t):("input"===i||"select"===i||"textarea"===i)&&NW(n,t),OW("canvas",n,t,PW),OW("input, textarea, select",n,t,NW),t}(this.elm.nativeElement),this.elm.nativeElement.parentElement.appendChild(s.clonedNode),this.renderer.setStyle(this.elm.nativeElement,"visibility","hidden"),this.renderer.setStyle(s.clonedNode,"position",this.ghostElementPositioning),this.renderer.setStyle(s.clonedNode,"left",`${s.startingRect.left}px`),this.renderer.setStyle(s.clonedNode,"top",`${s.startingRect.top}px`),this.renderer.setStyle(s.clonedNode,"height",`${s.startingRect.height}px`),this.renderer.setStyle(s.clonedNode,"width",`${s.startingRect.width}px`),this.renderer.setStyle(s.clonedNode,"cursor",LW(s.edges,V)),this.renderer.addClass(s.clonedNode,"resize-ghost-element"),s.clonedNode.scrollTop=s.startingRect.scrollTop,s.clonedNode.scrollLeft=s.startingRect.scrollLeft),this.resizeStart.observers.length>0&&this.zone.run(()=>{this.resizeStart.emit({edges:LN({edges:C,initialRectangle:M,newRectangle:M}),rectangle:RW(M,{},0,0)})})}),r.pipe(dr(this.destroy$)).subscribe(()=>{s&&(this.renderer.removeClass(this.elm.nativeElement,BW),this.renderer.setStyle(document.body,"cursor",""),this.renderer.setStyle(this.elm.nativeElement,"cursor",""),this.resizeEnd.observers.length>0&&this.zone.run(()=>{this.resizeEnd.emit({edges:LN({edges:s.edges,initialRectangle:s.startingRect,newRectangle:s.currentRect}),rectangle:s.currentRect})}),c(),s=null)})}ngOnDestroy(){wh(this.platformId)&&this.renderer.setStyle(document.body,"cursor",""),this.mousedown.complete(),this.mouseup.complete(),this.mousemove.complete(),this.destroy$.next()}setElementClass(e,i,r){r?this.renderer.addClass(e.nativeElement,i):this.renderer.removeClass(e.nativeElement,i)}}return n.\u0275fac=function(e){return new(e||n)(a.Y36(a.Lbi),a.Y36(a.Qsj),a.Y36(a.SBq),a.Y36(a.R0b))},n.\u0275dir=a.lG2({type:n,selectors:[["","mwlResizable",""]],inputs:{validateResize:"validateResize",enableGhostResize:"enableGhostResize",resizeSnapGrid:"resizeSnapGrid",resizeCursors:"resizeCursors",ghostElementPositioning:"ghostElementPositioning",allowNegativeResizes:"allowNegativeResizes",mouseMoveThrottleMS:"mouseMoveThrottleMS"},outputs:{resizeStart:"resizeStart",resizing:"resizing",resizeEnd:"resizeEnd"},exportAs:["mwlResizable"]}),n})();class bx{constructor(t,e){this.pointerDown=new ar.y(i=>{let r,s;return e.runOutsideAngular(()=>{r=t.listen("document","mousedown",c=>{i.next({clientX:c.clientX,clientY:c.clientY,event:c})}),A_&&(s=t.listen("document","touchstart",c=>{i.next({clientX:c.touches[0].clientX,clientY:c.touches[0].clientY,event:c})}))}),()=>{r(),A_&&s()}}).pipe((0,ss.B)()),this.pointerMove=new ar.y(i=>{let r,s;return e.runOutsideAngular(()=>{r=t.listen("document","mousemove",c=>{i.next({clientX:c.clientX,clientY:c.clientY,event:c})}),A_&&(s=t.listen("document","touchmove",c=>{i.next({clientX:c.targetTouches[0].clientX,clientY:c.targetTouches[0].clientY,event:c})}))}),()=>{r(),A_&&s()}}).pipe((0,ss.B)()),this.pointerUp=new ar.y(i=>{let r,s,c;return e.runOutsideAngular(()=>{r=t.listen("document","mouseup",p=>{i.next({clientX:p.clientX,clientY:p.clientY,event:p})}),A_&&(s=t.listen("document","touchend",p=>{i.next({clientX:p.changedTouches[0].clientX,clientY:p.changedTouches[0].clientY,event:p})}),c=t.listen("document","touchcancel",p=>{i.next({clientX:p.changedTouches[0].clientX,clientY:p.changedTouches[0].clientY,event:p})}))}),()=>{r(),A_&&(s(),c())}}).pipe((0,ss.B)())}static getInstance(t,e){return bx.instance||(bx.instance=new bx(t,e)),bx.instance}}let Ooe=(()=>{class n{constructor(e,i,r,s){this.renderer=e,this.element=i,this.zone=r,this.resizableDirective=s,this.resizeEdges={},this.eventListeners={},this.destroy$=new Pn.x}ngOnInit(){this.zone.runOutsideAngular(()=>{this.listenOnTheHost("mousedown").subscribe(e=>{this.onMousedown(e,e.clientX,e.clientY)}),this.listenOnTheHost("mouseup").subscribe(e=>{this.onMouseup(e.clientX,e.clientY)}),A_&&(this.listenOnTheHost("touchstart").subscribe(e=>{this.onMousedown(e,e.touches[0].clientX,e.touches[0].clientY)}),(0,ys.T)(this.listenOnTheHost("touchend"),this.listenOnTheHost("touchcancel")).subscribe(e=>{this.onMouseup(e.changedTouches[0].clientX,e.changedTouches[0].clientY)}))})}ngOnDestroy(){this.destroy$.next(),this.unsubscribeEventListeners()}onMousedown(e,i,r){e.cancelable&&e.preventDefault(),this.eventListeners.touchmove||(this.eventListeners.touchmove=this.renderer.listen(this.element.nativeElement,"touchmove",s=>{this.onMousemove(s,s.targetTouches[0].clientX,s.targetTouches[0].clientY)})),this.eventListeners.mousemove||(this.eventListeners.mousemove=this.renderer.listen(this.element.nativeElement,"mousemove",s=>{this.onMousemove(s,s.clientX,s.clientY)})),this.resizable.mousedown.next({clientX:i,clientY:r,edges:this.resizeEdges})}onMouseup(e,i){this.unsubscribeEventListeners(),this.resizable.mouseup.next({clientX:e,clientY:i,edges:this.resizeEdges})}get resizable(){return this.resizableDirective||this.resizableContainer}onMousemove(e,i,r){this.resizable.mousemove.next({clientX:i,clientY:r,edges:this.resizeEdges,event:e})}unsubscribeEventListeners(){Object.keys(this.eventListeners).forEach(e=>{this.eventListeners[e](),delete this.eventListeners[e]})}listenOnTheHost(e){return ro(this.element.nativeElement,e).pipe(dr(this.destroy$))}}return n.\u0275fac=function(e){return new(e||n)(a.Y36(a.Qsj),a.Y36(a.SBq),a.Y36(a.R0b),a.Y36(VW,8))},n.\u0275dir=a.lG2({type:n,selectors:[["","mwlResizeHandle",""]],inputs:{resizeEdges:"resizeEdges",resizableContainer:"resizableContainer"}}),n})(),HW=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=a.oAB({type:n}),n.\u0275inj=a.cJS({}),n})();const Noe=function(n){return{action:n}};function Poe(n,t){if(1&n){const e=a.EpF();a.TgZ(0,"a",5),a.NdJ("mwlClick",function(r){const c=a.CHM(e).$implicit,p=a.oxw(2).event;return a.KtG(c.onClick({event:p,sourceEvent:r}))})("mwlKeydownEnter",function(r){const c=a.CHM(e).$implicit,p=a.oxw(2).event;return a.KtG(c.onClick({event:p,sourceEvent:r}))}),a.ALo(1,"calendarA11y"),a.qZA()}if(2&n){const e=t.$implicit;a.Q6J("ngClass",e.cssClass)("innerHtml",e.label,a.oJD),a.uIk("aria-label",a.xi3(1,3,a.VKq(6,Noe,e),"actionButtonLabel"))}}function Roe(n,t){if(1&n&&(a.TgZ(0,"span",3),a.YNc(1,Poe,2,8,"a",4),a.qZA()),2&n){const e=a.oxw(),i=e.event,r=e.trackByActionId;a.xp6(1),a.Q6J("ngForOf",i.actions)("ngForTrackBy",r)}}function Foe(n,t){1&n&&a.YNc(0,Roe,2,2,"span",2),2&n&&a.Q6J("ngIf",t.event.actions)}function Loe(n,t){}const Boe=function(n,t){return{event:n,trackByActionId:t}},wx=function(){return{}};function Voe(n,t){if(1&n&&(a._UZ(0,"span",2),a.ALo(1,"calendarEventTitle"),a.ALo(2,"calendarA11y")),2&n){const e=t.event;a.Q6J("innerHTML",a.Dn7(1,2,e.title,t.view,e),a.oJD),a.uIk("aria-hidden",a.xi3(2,6,a.DdM(9,wx),"hideEventTitle"))}}function Hoe(n,t){}const Uoe=function(n,t){return{event:n,view:t}};function zoe(n,t){if(1&n&&(a.TgZ(0,"div",2),a._UZ(1,"div",3)(2,"div",4),a.qZA()),2&n){const e=t.contents;a.Q6J("ngClass","cal-tooltip-"+t.placement),a.xp6(2),a.Q6J("innerHtml",e,a.oJD)}}function joe(n,t){}const Goe=function(n,t,e){return{contents:n,placement:t,event:e}};function Woe(n,t){if(1&n&&(a.TgZ(0,"span",7),a._uU(1),a.qZA()),2&n){const e=a.oxw().day;a.xp6(1),a.Oqu(e.badgeTotal)}}const lV=function(n){return{backgroundColor:n}},$oe=function(n,t){return{event:n,draggedFrom:t}},aS=function(n,t){return{x:n,y:t}},BN=function(){return{delay:300,delta:30}};function Yoe(n,t){if(1&n){const e=a.EpF();a.TgZ(0,"div",10),a.NdJ("mouseenter",function(){const s=a.CHM(e).$implicit,c=a.oxw(2).highlightDay;return a.KtG(c.emit({event:s}))})("mouseleave",function(){const s=a.CHM(e).$implicit,c=a.oxw(2).unhighlightDay;return a.KtG(c.emit({event:s}))})("mwlClick",function(r){const c=a.CHM(e).$implicit,p=a.oxw(2).eventClicked;return a.KtG(p.emit({event:c,sourceEvent:r}))}),a.ALo(1,"calendarEventTitle"),a.ALo(2,"calendarA11y"),a.qZA()}if(2&n){const e=t.$implicit,i=a.oxw(2),r=i.tooltipPlacement,s=i.tooltipTemplate,c=i.tooltipAppendToBody,p=i.tooltipDelay,_=i.day,C=i.validateDrag;a.ekj("cal-draggable",e.draggable),a.Q6J("ngStyle",a.VKq(22,lV,null==e.color?null:e.color.primary))("ngClass",null==e?null:e.cssClass)("mwlCalendarTooltip",a.Dn7(1,15,e.title,"monthTooltip",e))("tooltipPlacement",r)("tooltipEvent",e)("tooltipTemplate",s)("tooltipAppendToBody",c)("tooltipDelay",p)("dropData",a.WLB(24,$oe,e,_))("dragAxis",a.WLB(27,aS,e.draggable,e.draggable))("validateDrag",C)("touchStartLongPress",a.DdM(30,BN)),a.uIk("aria-hidden",a.xi3(2,19,a.DdM(31,wx),"hideMonthCellEvents"))}}function qoe(n,t){if(1&n&&(a.TgZ(0,"div",8),a.YNc(1,Yoe,3,32,"div",9),a.qZA()),2&n){const e=a.oxw(),i=e.day,r=e.trackByEventId;a.xp6(1),a.Q6J("ngForOf",i.events)("ngForTrackBy",r)}}const Zoe=function(n,t){return{day:n,locale:t}};function Xoe(n,t){if(1&n&&(a.TgZ(0,"div",2),a.ALo(1,"calendarA11y"),a.TgZ(2,"span",3),a.YNc(3,Woe,2,1,"span",4),a.TgZ(4,"span",5),a._uU(5),a.ALo(6,"calendarDate"),a.qZA()()(),a.YNc(7,qoe,2,2,"div",6)),2&n){const e=t.day,i=t.locale;a.uIk("aria-label",a.xi3(1,4,a.WLB(11,Zoe,e,i),"monthCell")),a.xp6(3),a.Q6J("ngIf",e.badgeTotal>0),a.xp6(2),a.Oqu(a.Dn7(6,7,e.date,"monthViewDayNumber",i)),a.xp6(2),a.Q6J("ngIf",e.events.length>0)}}function Koe(n,t){}const Qoe=function(n,t,e,i,r,s,c,p,_,C,M,V){return{day:n,openDay:t,locale:e,tooltipPlacement:i,highlightDay:r,unhighlightDay:s,eventClicked:c,tooltipTemplate:p,tooltipAppendToBody:_,tooltipDelay:C,trackByEventId:M,validateDrag:V}},Joe=function(n){return{event:n}},UW=function(n,t){return{event:n,locale:t}};function eae(n,t){if(1&n){const e=a.EpF();a.TgZ(0,"div",7),a._UZ(1,"span",8),a._uU(2," "),a.TgZ(3,"mwl-calendar-event-title",9),a.NdJ("mwlClick",function(r){const c=a.CHM(e).$implicit,p=a.oxw(2).eventClicked;return a.KtG(p.emit({event:c,sourceEvent:r}))})("mwlKeydownEnter",function(r){const c=a.CHM(e).$implicit,p=a.oxw(2).eventClicked;return a.KtG(p.emit({event:c,sourceEvent:r}))}),a.ALo(4,"calendarA11y"),a.qZA(),a._uU(5," "),a._UZ(6,"mwl-calendar-event-actions",10),a.qZA()}if(2&n){const e=t.$implicit,i=a.oxw(2).validateDrag,r=a.oxw();a.ekj("cal-draggable",e.draggable),a.Q6J("ngClass",null==e?null:e.cssClass)("dropData",a.VKq(16,Joe,e))("dragAxis",a.WLB(18,aS,e.draggable,e.draggable))("validateDrag",i)("touchStartLongPress",a.DdM(21,BN)),a.xp6(1),a.Q6J("ngStyle",a.VKq(22,lV,null==e.color?null:e.color.primary)),a.xp6(2),a.Q6J("event",e)("customTemplate",r.eventTitleTemplate),a.uIk("aria-label",a.xi3(4,13,a.WLB(24,UW,e,r.locale),"eventDescription")),a.xp6(3),a.Q6J("event",e)("customTemplate",r.eventActionsTemplate)}}const zW=function(n,t){return{date:n,locale:t}};function tae(n,t){if(1&n&&(a.TgZ(0,"div",3),a._UZ(1,"span",4),a.ALo(2,"calendarA11y"),a._UZ(3,"span",5),a.ALo(4,"calendarA11y"),a.YNc(5,eae,7,27,"div",6),a.qZA()),2&n){const e=a.oxw(),i=e.events,r=e.trackByEventId,s=a.oxw();a.Q6J("@collapse",void 0),a.xp6(1),a.uIk("aria-label",a.xi3(2,5,a.WLB(11,zW,s.date,s.locale),"openDayEventsAlert")),a.xp6(2),a.uIk("aria-label",a.xi3(4,8,a.WLB(14,zW,s.date,s.locale),"openDayEventsLandmark")),a.xp6(2),a.Q6J("ngForOf",i)("ngForTrackBy",r)}}function nae(n,t){1&n&&a.YNc(0,tae,6,17,"div",2),2&n&&a.Q6J("ngIf",t.isOpen)}function iae(n,t){}const rae=function(n,t,e,i,r){return{events:n,eventClicked:t,isOpen:e,trackByEventId:i,validateDrag:r}};function sae(n,t){if(1&n){const e=a.EpF();a.TgZ(0,"div",4),a.NdJ("click",function(r){const c=a.CHM(e).$implicit,p=a.oxw(2);return a.KtG(p.columnHeaderClicked.emit({isoDayNumber:c.day,sourceEvent:r}))}),a._uU(1),a.ALo(2,"calendarDate"),a.qZA()}if(2&n){const e=t.$implicit,i=a.oxw().locale;a.ekj("cal-past",e.isPast)("cal-today",e.isToday)("cal-future",e.isFuture)("cal-weekend",e.isWeekend),a.Q6J("ngClass",e.cssClass),a.xp6(1),a.hij(" ",a.Dn7(2,10,e.date,"monthViewColumnHeader",i)," ")}}function oae(n,t){if(1&n&&(a.TgZ(0,"div",2),a.YNc(1,sae,3,14,"div",3),a.qZA()),2&n){const e=t.days,i=t.trackByWeekDayHeaderDate;a.xp6(1),a.Q6J("ngForOf",e)("ngForTrackBy",i)}}function aae(n,t){}const lae=function(n,t,e){return{days:n,locale:t,trackByWeekDayHeaderDate:e}};function cae(n,t){if(1&n){const e=a.EpF();a.TgZ(0,"mwl-calendar-month-cell",7),a.NdJ("mwlClick",function(r){const c=a.CHM(e).$implicit,p=a.oxw(2);return a.KtG(p.dayClicked.emit({day:c,sourceEvent:r}))})("mwlKeydownEnter",function(r){const c=a.CHM(e).$implicit,p=a.oxw(2);return a.KtG(p.dayClicked.emit({day:c,sourceEvent:r}))})("highlightDay",function(r){a.CHM(e);const s=a.oxw(2);return a.KtG(s.toggleDayHighlight(r.event,!0))})("unhighlightDay",function(r){a.CHM(e);const s=a.oxw(2);return a.KtG(s.toggleDayHighlight(r.event,!1))})("drop",function(r){const c=a.CHM(e).$implicit,p=a.oxw(2);return a.KtG(p.eventDropped(c,r.dropData.event,r.dropData.draggedFrom))})("eventClicked",function(r){a.CHM(e);const s=a.oxw(2);return a.KtG(s.eventClicked.emit({event:r.event,sourceEvent:r.sourceEvent}))}),a.ALo(1,"calendarA11y"),a.qZA()}if(2&n){const e=t.$implicit,i=a.oxw(2);a.Q6J("ngClass",null==e?null:e.cssClass)("day",e)("openDay",i.openDay)("locale",i.locale)("tooltipPlacement",i.tooltipPlacement)("tooltipAppendToBody",i.tooltipAppendToBody)("tooltipTemplate",i.tooltipTemplate)("tooltipDelay",i.tooltipDelay)("customTemplate",i.cellTemplate)("ngStyle",a.VKq(15,lV,e.backgroundColor))("clickListenerDisabled",0===i.dayClicked.observers.length),a.uIk("tabindex",a.xi3(1,12,a.DdM(17,wx),"monthCellTabIndex"))}}function uae(n,t){if(1&n){const e=a.EpF();a.TgZ(0,"div")(1,"div",4),a.YNc(2,cae,2,18,"mwl-calendar-month-cell",5),a.ALo(3,"slice"),a.qZA(),a.TgZ(4,"mwl-calendar-open-day-events",6),a.NdJ("eventClicked",function(r){a.CHM(e);const s=a.oxw();return a.KtG(s.eventClicked.emit({event:r.event,sourceEvent:r.sourceEvent}))})("drop",function(r){a.CHM(e);const s=a.oxw();return a.KtG(s.eventDropped(s.openDay,r.dropData.event,r.dropData.draggedFrom))}),a.qZA()()}if(2&n){const e=t.$implicit,i=a.oxw();a.xp6(2),a.Q6J("ngForOf",a.Dn7(3,9,i.view.days,e,e+i.view.totalDaysVisibleInWeek))("ngForTrackBy",i.trackByDate),a.xp6(2),a.Q6J("locale",i.locale)("isOpen",i.openRowIndex===e)("events",null==i.openDay?null:i.openDay.events)("date",null==i.openDay?null:i.openDay.date)("customTemplate",i.openDayEventsTemplate)("eventTitleTemplate",i.eventTitleTemplate)("eventActionsTemplate",i.eventActionsTemplate)}}function dae(n,t){if(1&n){const e=a.EpF();a.TgZ(0,"div",4),a.NdJ("mwlClick",function(r){const c=a.CHM(e).$implicit,p=a.oxw().dayHeaderClicked;return a.KtG(p.emit({day:c,sourceEvent:r}))})("drop",function(r){const c=a.CHM(e).$implicit,p=a.oxw().eventDropped;return a.KtG(p.emit({event:r.dropData.event,newStart:c.date}))})("dragEnter",function(){const s=a.CHM(e).$implicit,c=a.oxw().dragEnter;return a.KtG(c.emit({date:s.date}))}),a.TgZ(1,"b"),a._uU(2),a.ALo(3,"calendarDate"),a.qZA(),a._UZ(4,"br"),a.TgZ(5,"span"),a._uU(6),a.ALo(7,"calendarDate"),a.qZA()()}if(2&n){const e=t.$implicit,i=a.oxw().locale;a.ekj("cal-past",e.isPast)("cal-today",e.isToday)("cal-future",e.isFuture)("cal-weekend",e.isWeekend),a.Q6J("ngClass",e.cssClass),a.xp6(2),a.Oqu(a.Dn7(3,11,e.date,"weekViewColumnHeader",i)),a.xp6(4),a.Oqu(a.Dn7(7,15,e.date,"weekViewColumnSubHeader",i))}}function hae(n,t){if(1&n&&(a.TgZ(0,"div",2),a.YNc(1,dae,8,19,"div",3),a.qZA()),2&n){const e=t.days,i=t.trackByWeekDayHeaderDate;a.xp6(1),a.Q6J("ngForOf",e)("ngForTrackBy",i)}}function fae(n,t){}const pae=function(n,t,e,i,r,s){return{days:n,locale:t,dayHeaderClicked:e,eventDropped:i,dragEnter:r,trackByWeekDayHeaderDate:s}},gae=function(n,t,e){return{color:n,backgroundColor:t,borderColor:e}};function mae(n,t){if(1&n){const e=a.EpF();a.TgZ(0,"div",2),a.NdJ("mwlClick",function(r){const c=a.CHM(e).eventClicked;return a.KtG(c.emit({sourceEvent:r}))})("mwlKeydownEnter",function(r){const c=a.CHM(e).eventClicked;return a.KtG(c.emit({sourceEvent:r}))}),a.ALo(1,"calendarEventTitle"),a.ALo(2,"calendarA11y"),a._UZ(3,"mwl-calendar-event-actions",3),a._uU(4," "),a._UZ(5,"mwl-calendar-event-title",4),a.qZA()}if(2&n){const e=t.weekEvent,i=t.tooltipPlacement,r=t.tooltipTemplate,s=t.tooltipAppendToBody,c=t.tooltipDisabled,p=t.tooltipDelay,_=t.daysInWeek,C=a.oxw();a.Q6J("ngStyle",a.kEZ(20,gae,null==e.event.color?null:e.event.color.secondaryText,null==e.event.color?null:e.event.color.secondary,null==e.event.color?null:e.event.color.primary))("mwlCalendarTooltip",c?"":a.Dn7(1,13,e.event.title,1===_?"dayTooltip":"weekTooltip",e.tempEvent||e.event))("tooltipPlacement",i)("tooltipEvent",e.tempEvent||e.event)("tooltipTemplate",r)("tooltipAppendToBody",s)("tooltipDelay",p),a.uIk("aria-label",a.xi3(2,17,a.WLB(24,UW,e.tempEvent||e.event,C.locale),"eventDescription")),a.xp6(3),a.Q6J("event",e.tempEvent||e.event)("customTemplate",C.eventActionsTemplate),a.xp6(2),a.Q6J("event",e.tempEvent||e.event)("customTemplate",C.eventTitleTemplate)("view",1===_?"day":"week")}}function vae(n,t){}const yae=function(n,t,e,i,r,s,c,p,_){return{weekEvent:n,tooltipPlacement:t,eventClicked:e,tooltipTemplate:i,tooltipAppendToBody:r,tooltipDisabled:s,tooltipDelay:c,column:p,daysInWeek:_}};function _ae(n,t){if(1&n&&(a.TgZ(0,"div",4),a._uU(1),a.ALo(2,"calendarDate"),a.qZA()),2&n){const e=a.oxw(),i=e.segment,r=e.daysInWeek,s=e.locale;a.xp6(1),a.hij(" ",a.Dn7(2,1,i.displayDate,1===r?"dayViewHour":"weekViewHour",s)," ")}}function bae(n,t){if(1&n&&(a.TgZ(0,"div",2),a.ALo(1,"calendarA11y"),a.YNc(2,_ae,3,5,"div",3),a.qZA()),2&n){const e=t.segment,r=t.isTimeLabel,s=t.daysInWeek;a.Udp("height",t.segmentHeight,"px"),a.ekj("cal-hour-start",e.isStart)("cal-after-hour-start",!e.isStart),a.Q6J("ngClass",e.cssClass),a.uIk("aria-hidden",a.xi3(1,9,a.DdM(12,wx),1===s?"hideDayHourSegment":"hideWeekHourSegment")),a.xp6(2),a.Q6J("ngIf",r)}}function wae(n,t){}const xae=function(n,t,e,i,r){return{segment:n,locale:t,segmentHeight:e,isTimeLabel:i,daysInWeek:r}};function Cae(n,t){if(1&n&&a._UZ(0,"div",3),2&n){const e=a.oxw().topPx;a.Udp("top",e,"px")}}function Eae(n,t){1&n&&a.YNc(0,Cae,1,2,"div",2),2&n&&a.Q6J("ngIf",t.isVisible)}function Dae(n,t){}const Tae=function(n,t,e,i,r,s,c){return{columnDate:n,dayStartHour:t,dayStartMinute:e,dayEndHour:i,dayEndMinute:r,isVisible:s,topPx:c}};function Sae(n,t){if(1&n){const e=a.EpF();a.TgZ(0,"div",13),a.NdJ("drop",function(r){const c=a.CHM(e).$implicit,p=a.oxw(2);return a.KtG(p.eventDropped(r,c.date,!0))})("dragEnter",function(){const s=a.CHM(e).$implicit,c=a.oxw(2);return a.KtG(c.dateDragEnter(s.date))}),a.qZA()}}const Aae=function(){return{left:!0}};function Iae(n,t){1&n&&a._UZ(0,"div",22),2&n&&a.Q6J("resizeEdges",a.DdM(1,Aae))}const Mae=function(){return{right:!0}};function kae(n,t){1&n&&a._UZ(0,"div",23),2&n&&a.Q6J("resizeEdges",a.DdM(1,Mae))}const Oae=function(n,t){return{left:n,right:t}},jW=function(n,t){return{event:n,calendarId:t}},Nae=function(n){return{x:n}};function Pae(n,t){if(1&n){const e=a.EpF();a.TgZ(0,"div",17,18),a.NdJ("resizeStart",function(r){const c=a.CHM(e).$implicit;a.oxw();const p=a.MAs(1),_=a.oxw(2);return a.KtG(_.allDayEventResizeStarted(p,c,r))})("resizing",function(r){const c=a.CHM(e).$implicit,p=a.oxw(3);return a.KtG(p.allDayEventResizing(c,r,p.dayColumnWidth))})("resizeEnd",function(){const s=a.CHM(e).$implicit,c=a.oxw(3);return a.KtG(c.allDayEventResizeEnded(s))})("dragStart",function(){const s=a.CHM(e).$implicit,c=a.MAs(1);a.oxw();const p=a.MAs(1),_=a.oxw(2);return a.KtG(_.dragStarted(p,c,s,!1))})("dragging",function(){a.CHM(e);const r=a.oxw(3);return a.KtG(r.allDayEventDragMove())})("dragEnd",function(r){const c=a.CHM(e).$implicit,p=a.oxw(3);return a.KtG(p.dragEnded(c,r,p.dayColumnWidth))}),a.YNc(2,Iae,1,2,"div",19),a.TgZ(3,"mwl-calendar-week-view-event",20),a.NdJ("eventClicked",function(r){const c=a.CHM(e).$implicit,p=a.oxw(3);return a.KtG(p.eventClicked.emit({event:c.event,sourceEvent:r.sourceEvent}))}),a.qZA(),a.YNc(4,kae,1,2,"div",21),a.qZA()}if(2&n){const e=t.$implicit,i=a.oxw(3);a.Udp("width",100/i.days.length*e.span,"%")("margin-left",i.rtl?null:100/i.days.length*e.offset,"%")("margin-right",i.rtl?100/i.days.length*e.offset:null,"%"),a.ekj("cal-draggable",e.event.draggable&&0===i.allDayEventResizes.size)("cal-starts-within-week",!e.startsBeforeWeek)("cal-ends-within-week",!e.endsAfterWeek),a.Q6J("ngClass",null==e.event?null:e.event.cssClass)("resizeCursors",i.resizeCursors)("resizeSnapGrid",a.WLB(33,Oae,i.dayColumnWidth,i.dayColumnWidth))("validateResize",i.validateResize)("dropData",a.WLB(36,jW,e.event,i.calendarId))("dragAxis",a.WLB(39,aS,e.event.draggable&&0===i.allDayEventResizes.size,!i.snapDraggedEvents&&e.event.draggable&&0===i.allDayEventResizes.size))("dragSnapGrid",i.snapDraggedEvents?a.VKq(42,Nae,i.dayColumnWidth):a.DdM(44,wx))("validateDrag",i.validateDrag)("touchStartLongPress",a.DdM(45,BN)),a.xp6(2),a.Q6J("ngIf",(null==e.event||null==e.event.resizable?null:e.event.resizable.beforeStart)&&!e.startsBeforeWeek),a.xp6(1),a.Q6J("locale",i.locale)("weekEvent",e)("tooltipPlacement",i.tooltipPlacement)("tooltipTemplate",i.tooltipTemplate)("tooltipAppendToBody",i.tooltipAppendToBody)("tooltipDelay",i.tooltipDelay)("customTemplate",i.eventTemplate)("eventTitleTemplate",i.eventTitleTemplate)("eventActionsTemplate",i.eventActionsTemplate)("daysInWeek",i.daysInWeek),a.xp6(1),a.Q6J("ngIf",(null==e.event||null==e.event.resizable?null:e.event.resizable.afterEnd)&&!e.endsAfterWeek)}}function Rae(n,t){if(1&n&&(a.TgZ(0,"div",14,15),a.YNc(2,Pae,5,46,"div",16),a.qZA()),2&n){const e=t.$implicit,i=a.oxw(2);a.xp6(2),a.Q6J("ngForOf",e.row)("ngForTrackBy",i.trackByWeekAllDayEvent)}}function Fae(n,t){if(1&n){const e=a.EpF();a.TgZ(0,"div",8,9),a.NdJ("dragEnter",function(){a.CHM(e);const r=a.oxw();return a.KtG(r.dragEnter("allDay"))})("dragLeave",function(){a.CHM(e);const r=a.oxw();return a.KtG(r.dragLeave("allDay"))}),a.TgZ(2,"div",5),a._UZ(3,"div",10),a.YNc(4,Sae,1,0,"div",11),a.qZA(),a.YNc(5,Rae,3,2,"div",12),a.qZA()}if(2&n){const e=a.oxw();a.xp6(3),a.Q6J("ngTemplateOutlet",e.allDayEventsLabelTemplate),a.xp6(1),a.Q6J("ngForOf",e.days)("ngForTrackBy",e.trackByWeekDayHeaderDate),a.xp6(1),a.Q6J("ngForOf",e.view.allDayEventRows)("ngForTrackBy",e.trackById)}}function Lae(n,t){if(1&n&&a._UZ(0,"mwl-calendar-week-view-hour-segment",28),2&n){const e=t.$implicit,i=a.oxw(3);a.Udp("height",i.hourSegmentHeight,"px"),a.Q6J("segment",e)("segmentHeight",i.hourSegmentHeight)("locale",i.locale)("customTemplate",i.hourSegmentTemplate)("isTimeLabel",!0)("daysInWeek",i.daysInWeek)}}function Bae(n,t){if(1&n&&(a.TgZ(0,"div",26),a.YNc(1,Lae,1,8,"mwl-calendar-week-view-hour-segment",27),a.qZA()),2&n){const e=t.$implicit,i=t.odd,r=a.oxw(2);a.ekj("cal-hour-odd",i),a.xp6(1),a.Q6J("ngForOf",e.segments)("ngForTrackBy",r.trackByHourSegment)}}function Vae(n,t){if(1&n&&(a.TgZ(0,"div",24),a.YNc(1,Bae,2,4,"div",25),a.qZA()),2&n){const e=a.oxw();a.xp6(1),a.Q6J("ngForOf",e.view.hourColumns[0].hours)("ngForTrackBy",e.trackByHour)}}const Hae=function(){return{left:!0,top:!0}};function Uae(n,t){1&n&&a._UZ(0,"div",22),2&n&&a.Q6J("resizeEdges",a.DdM(1,Hae))}function zae(n,t){}function jae(n,t){if(1&n){const e=a.EpF();a.TgZ(0,"mwl-calendar-week-view-event",36),a.NdJ("eventClicked",function(r){a.CHM(e);const s=a.oxw().$implicit,c=a.oxw(2);return a.KtG(c.eventClicked.emit({event:s.event,sourceEvent:r.sourceEvent}))}),a.qZA()}if(2&n){const e=a.oxw().$implicit,i=a.oxw().$implicit,r=a.oxw();a.Q6J("locale",r.locale)("weekEvent",e)("tooltipPlacement",r.tooltipPlacement)("tooltipTemplate",r.tooltipTemplate)("tooltipAppendToBody",r.tooltipAppendToBody)("tooltipDisabled",r.dragActive||r.timeEventResizes.size>0)("tooltipDelay",r.tooltipDelay)("customTemplate",r.eventTemplate)("eventTitleTemplate",r.eventTitleTemplate)("eventActionsTemplate",r.eventActionsTemplate)("column",i)("daysInWeek",r.daysInWeek)}}const Gae=function(){return{right:!0,bottom:!0}};function Wae(n,t){1&n&&a._UZ(0,"div",23),2&n&&a.Q6J("resizeEdges",a.DdM(1,Gae))}const $ae=function(n,t,e,i){return{left:n,right:t,top:e,bottom:i}};function Yae(n,t){if(1&n){const e=a.EpF();a.TgZ(0,"div",33,18),a.NdJ("resizeStart",function(r){const c=a.CHM(e).$implicit,p=a.oxw(2),_=a.MAs(6);return a.KtG(p.timeEventResizeStarted(_,c,r))})("resizing",function(r){const c=a.CHM(e).$implicit,p=a.oxw(2);return a.KtG(p.timeEventResizing(c,r))})("resizeEnd",function(){const s=a.CHM(e).$implicit,c=a.oxw(2);return a.KtG(c.timeEventResizeEnded(s))})("dragStart",function(){const s=a.CHM(e).$implicit,c=a.MAs(1),p=a.oxw(2),_=a.MAs(6);return a.KtG(p.dragStarted(_,c,s,!0))})("dragging",function(r){const c=a.CHM(e).$implicit,p=a.oxw(2);return a.KtG(p.dragMove(c,r))})("dragEnd",function(r){const c=a.CHM(e).$implicit,p=a.oxw(2);return a.KtG(p.dragEnded(c,r,p.dayColumnWidth,!0))}),a.YNc(2,Uae,1,2,"div",19),a.YNc(3,zae,0,0,"ng-template",34),a.YNc(4,jae,1,12,"ng-template",null,35,a.W1O),a.YNc(6,Wae,1,2,"div",21),a.qZA()}if(2&n){const e=t.$implicit,i=a.MAs(5),r=a.oxw(2);a.Udp("top",e.top,"px")("height",e.height,"px")("left",e.left,"%")("width",e.width,"%"),a.ekj("cal-draggable",e.event.draggable&&0===r.timeEventResizes.size)("cal-starts-within-day",!e.startsBeforeDay)("cal-ends-within-day",!e.endsAfterDay),a.Q6J("ngClass",e.event.cssClass)("hidden",0===e.height&&0===e.width)("resizeCursors",r.resizeCursors)("resizeSnapGrid",a.l5B(30,$ae,r.dayColumnWidth,r.dayColumnWidth,r.eventSnapSize||r.hourSegmentHeight,r.eventSnapSize||r.hourSegmentHeight))("validateResize",r.validateResize)("allowNegativeResizes",!0)("dropData",a.WLB(35,jW,e.event,r.calendarId))("dragAxis",a.WLB(38,aS,e.event.draggable&&0===r.timeEventResizes.size,e.event.draggable&&0===r.timeEventResizes.size))("dragSnapGrid",r.snapDraggedEvents?a.WLB(41,aS,r.dayColumnWidth,r.eventSnapSize||r.hourSegmentHeight):a.DdM(44,wx))("touchStartLongPress",a.DdM(45,BN))("ghostDragEnabled",!r.snapDraggedEvents)("ghostElementTemplate",i)("validateDrag",r.validateDrag),a.xp6(2),a.Q6J("ngIf",(null==e.event||null==e.event.resizable?null:e.event.resizable.beforeStart)&&!e.startsBeforeDay),a.xp6(1),a.Q6J("ngTemplateOutlet",i),a.xp6(3),a.Q6J("ngIf",(null==e.event||null==e.event.resizable?null:e.event.resizable.afterEnd)&&!e.endsAfterDay)}}function qae(n,t){if(1&n){const e=a.EpF();a.TgZ(0,"mwl-calendar-week-view-hour-segment",38),a.NdJ("mwlClick",function(r){const c=a.CHM(e).$implicit,p=a.oxw(3);return a.KtG(p.hourSegmentClicked.emit({date:c.date,sourceEvent:r}))})("drop",function(r){const c=a.CHM(e).$implicit,p=a.oxw(3);return a.KtG(p.eventDropped(r,c.date,!1))})("dragEnter",function(){const s=a.CHM(e).$implicit,c=a.oxw(3);return a.KtG(c.dateDragEnter(s.date))}),a.qZA()}if(2&n){const e=t.$implicit,i=a.oxw(3);a.Udp("height",i.hourSegmentHeight,"px"),a.Q6J("segment",e)("segmentHeight",i.hourSegmentHeight)("locale",i.locale)("customTemplate",i.hourSegmentTemplate)("daysInWeek",i.daysInWeek)("clickListenerDisabled",0===i.hourSegmentClicked.observers.length)("dragOverClass",i.dragActive&&i.snapDraggedEvents?null:"cal-drag-over")("isTimeLabel",1===i.daysInWeek)}}function Zae(n,t){if(1&n&&(a.TgZ(0,"div",26),a.YNc(1,qae,1,10,"mwl-calendar-week-view-hour-segment",37),a.qZA()),2&n){const e=t.$implicit,i=t.odd,r=a.oxw(2);a.ekj("cal-hour-odd",i),a.xp6(1),a.Q6J("ngForOf",e.segments)("ngForTrackBy",r.trackByHourSegment)}}function Xae(n,t){if(1&n&&(a.TgZ(0,"div",29),a._UZ(1,"mwl-calendar-week-view-current-time-marker",30),a.TgZ(2,"div",31),a.YNc(3,Yae,7,46,"div",32),a.qZA(),a.YNc(4,Zae,2,4,"div",25),a.qZA()),2&n){const e=t.$implicit,i=a.oxw();a.xp6(1),a.Q6J("columnDate",e.date)("dayStartHour",i.dayStartHour)("dayStartMinute",i.dayStartMinute)("dayEndHour",i.dayEndHour)("dayEndMinute",i.dayEndMinute)("hourSegments",i.hourSegments)("hourDuration",i.hourDuration)("hourSegmentHeight",i.hourSegmentHeight)("customTemplate",i.currentTimeMarkerTemplate),a.xp6(2),a.Q6J("ngForOf",e.events)("ngForTrackBy",i.trackByWeekTimeEvent),a.xp6(1),a.Q6J("ngForOf",e.hours)("ngForTrackBy",i.trackByHour)}}let I_=(()=>{class n{constructor(e,i,r){this.renderer=e,this.elm=i,this.document=r,this.clickListenerDisabled=!1,this.click=new a.vpe,this.destroy$=new Pn.x}ngOnInit(){this.clickListenerDisabled||this.listen().pipe(dr(this.destroy$)).subscribe(e=>{e.stopPropagation(),this.click.emit(e)})}ngOnDestroy(){this.destroy$.next()}listen(){return new ar.y(e=>this.renderer.listen(this.elm.nativeElement,"click",i=>{e.next(i)}))}}return n.\u0275fac=function(e){return new(e||n)(a.Y36(a.Qsj),a.Y36(a.SBq),a.Y36(Ye))},n.\u0275dir=a.lG2({type:n,selectors:[["","mwlClick",""]],inputs:{clickListenerDisabled:"clickListenerDisabled"},outputs:{click:"mwlClick"}}),n})(),VN=(()=>{class n{constructor(e,i,r){this.host=e,this.ngZone=i,this.renderer=r,this.keydown=new a.vpe,this.keydownListener=null}ngOnInit(){this.ngZone.runOutsideAngular(()=>{this.keydownListener=this.renderer.listen(this.host.nativeElement,"keydown",e=>{(13===e.keyCode||13===e.which||"Enter"===e.key)&&(e.preventDefault(),e.stopPropagation(),this.ngZone.run(()=>{this.keydown.emit(e)}))})})}ngOnDestroy(){null!==this.keydownListener&&(this.keydownListener(),this.keydownListener=null)}}return n.\u0275fac=function(e){return new(e||n)(a.Y36(a.SBq),a.Y36(a.R0b),a.Y36(a.Qsj))},n.\u0275dir=a.lG2({type:n,selectors:[["","mwlKeydownEnter",""]],outputs:{keydown:"mwlKeydownEnter"}}),n})(),HN=(()=>{class n{constructor(e){this.i18nPlural=e}monthCell({day:e,locale:i}){return e.badgeTotal>0?`\n        ${In(e.date,"EEEE MMMM d",i)},\n        ${this.i18nPlural.transform(e.badgeTotal,{"=0":"No events","=1":"One event",other:"# events"})},\n         click to expand\n      `:`${In(e.date,"EEEE MMMM d",i)}`}openDayEventsLandmark({date:e,locale:i}){return`\n      Beginning of expanded view for ${In(e,"EEEE MMMM dd",i)}\n    `}openDayEventsAlert({date:e,locale:i}){return`${In(e,"EEEE MMMM dd",i)} expanded`}eventDescription({event:e,locale:i}){if(!0===e.allDay)return this.allDayEventDescription({event:e,locale:i});const r=`\n      ${In(e.start,"EEEE MMMM dd",i)},\n      ${e.title}, from ${In(e.start,"hh:mm a",i)}\n    `;return e.end?r+` to ${In(e.end,"hh:mm a",i)}`:r}allDayEventDescription({event:e,locale:i}){const r=`\n      ${e.title}, event spans multiple days:\n      start time ${In(e.start,"MMMM dd hh:mm a",i)}\n    `;return e.end?r+`, stop time ${In(e.end,"MMMM d hh:mm a",i)}`:r+", no stop time"}actionButtonLabel({action:e}){return e.a11yLabel}monthCellTabIndex(){return 0}hideMonthCellEvents(){return!0}hideEventTitle(){return!0}hideWeekHourSegment(){return!0}hideDayHourSegment(){return!0}}return n.\u0275fac=function(e){return new(e||n)(a.LFG(Ha))},n.\u0275prov=a.Yz7({token:n,factory:n.\u0275fac}),n})(),M_=(()=>{class n{constructor(e,i){this.calendarA11y=e,this.locale=i}transform(e,i){if(e.locale=e.locale||this.locale,typeof this.calendarA11y[i]>"u"){const r=Object.getOwnPropertyNames(Object.getPrototypeOf(HN.prototype)).filter(s=>"constructor"!==s);throw new Error(`${i} is not a valid a11y method. Can only be one of ${r.join(", ")}`)}return this.calendarA11y[i](e)}}return n.\u0275fac=function(e){return new(e||n)(a.Y36(HN,16),a.Y36(a.soG,16))},n.\u0275pipe=a.Yjl({name:"calendarA11y",type:n,pure:!0}),n})(),GW=(()=>{class n{constructor(){this.trackByActionId=(e,i)=>i.id?i.id:i}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275cmp=a.Xpm({type:n,selectors:[["mwl-calendar-event-actions"]],inputs:{event:"event",customTemplate:"customTemplate"},decls:3,vars:5,consts:[["defaultTemplate",""],[3,"ngTemplateOutlet","ngTemplateOutletContext"],["class","cal-event-actions",4,"ngIf"],[1,"cal-event-actions"],["class","cal-event-action","href","javascript:;","tabindex","0","role","button",3,"ngClass","innerHtml","mwlClick","mwlKeydownEnter",4,"ngFor","ngForOf","ngForTrackBy"],["href","javascript:;","tabindex","0","role","button",1,"cal-event-action",3,"ngClass","innerHtml","mwlClick","mwlKeydownEnter"]],template:function(e,i){if(1&e&&(a.YNc(0,Foe,1,1,"ng-template",null,0,a.W1O),a.YNc(2,Loe,0,0,"ng-template",1)),2&e){const r=a.MAs(1);a.xp6(2),a.Q6J("ngTemplateOutlet",i.customTemplate||r)("ngTemplateOutletContext",a.WLB(2,Boe,i.event,i.trackByActionId))}},dependencies:[I,U,Q,$e,I_,VN,M_],encapsulation:2}),n})();class cV{month(t,e){return t.title}monthTooltip(t,e){return t.title}week(t,e){return t.title}weekTooltip(t,e){return t.title}day(t,e){return t.title}dayTooltip(t,e){return t.title}}let uV=(()=>{class n{constructor(e){this.calendarEventTitle=e}transform(e,i,r){return this.calendarEventTitle[i](r,e)}}return n.\u0275fac=function(e){return new(e||n)(a.Y36(cV,16))},n.\u0275pipe=a.Yjl({name:"calendarEventTitle",type:n,pure:!0}),n})(),WW=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275cmp=a.Xpm({type:n,selectors:[["mwl-calendar-event-title"]],inputs:{event:"event",customTemplate:"customTemplate",view:"view"},decls:3,vars:5,consts:[["defaultTemplate",""],[3,"ngTemplateOutlet","ngTemplateOutletContext"],[1,"cal-event-title",3,"innerHTML"]],template:function(e,i){if(1&e&&(a.YNc(0,Voe,3,10,"ng-template",null,0,a.W1O),a.YNc(2,Hoe,0,0,"ng-template",1)),2&e){const r=a.MAs(1);a.xp6(2),a.Q6J("ngTemplateOutlet",i.customTemplate||r)("ngTemplateOutletContext",a.WLB(2,Uoe,i.event,i.view))}},dependencies:[$e,uV,M_],encapsulation:2}),n})(),Kae=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275cmp=a.Xpm({type:n,selectors:[["mwl-calendar-tooltip-window"]],inputs:{contents:"contents",placement:"placement",event:"event",customTemplate:"customTemplate"},decls:3,vars:6,consts:[["defaultTemplate",""],[3,"ngTemplateOutlet","ngTemplateOutletContext"],[1,"cal-tooltip",3,"ngClass"],[1,"cal-tooltip-arrow"],[1,"cal-tooltip-inner",3,"innerHtml"]],template:function(e,i){if(1&e&&(a.YNc(0,zoe,3,2,"ng-template",null,0,a.W1O),a.YNc(2,joe,0,0,"ng-template",1)),2&e){const r=a.MAs(1);a.xp6(2),a.Q6J("ngTemplateOutlet",i.customTemplate||r)("ngTemplateOutletContext",a.kEZ(2,Goe,i.contents,i.placement,i.event))}},dependencies:[I,$e],encapsulation:2}),n})(),$W=(()=>{class n{constructor(e,i,r,s,c,p){this.elementRef=e,this.injector=i,this.renderer=r,this.viewContainerRef=c,this.document=p,this.placement="auto",this.delay=null,this.cancelTooltipDelay$=new Pn.x,this.tooltipFactory=s.resolveComponentFactory(Kae)}ngOnChanges(e){this.tooltipRef&&(e.contents||e.customTemplate||e.event)&&(this.tooltipRef.instance.contents=this.contents,this.tooltipRef.instance.customTemplate=this.customTemplate,this.tooltipRef.instance.event=this.event,this.tooltipRef.changeDetectorRef.markForCheck(),this.contents||this.hide())}ngOnDestroy(){this.hide()}onMouseOver(){(null===this.delay?(0,hn.of)("now"):UO(this.delay)).pipe(dr(this.cancelTooltipDelay$)).subscribe(()=>{this.show()})}onMouseOut(){this.hide()}show(){!this.tooltipRef&&this.contents&&(this.tooltipRef=this.viewContainerRef.createComponent(this.tooltipFactory,0,this.injector,[]),this.tooltipRef.instance.contents=this.contents,this.tooltipRef.instance.customTemplate=this.customTemplate,this.tooltipRef.instance.event=this.event,this.appendToBody&&this.document.body.appendChild(this.tooltipRef.location.nativeElement),requestAnimationFrame(()=>{this.positionTooltip()}))}hide(){this.tooltipRef&&(this.viewContainerRef.remove(this.viewContainerRef.indexOf(this.tooltipRef.hostView)),this.tooltipRef=null),this.cancelTooltipDelay$.next()}positionTooltip(e=[]){this.tooltipRef&&(this.tooltipRef.changeDetectorRef.detectChanges(),this.tooltipRef.instance.placement=function Jse(n,t,e,i,r){var s=Array.isArray(e)?e:e.split(Qse),c=["top","bottom","left","right","top-left","top-right","bottom-left","bottom-right","left-top","left-bottom","right-top","right-bottom"],p=t.classList,_=function(fe){var Pe=fe.split("-"),Be=Pe[0],Re=Pe[1],ze=[];return r&&(ze.push(r+"-"+Be),Re&&ze.push(r+"-"+Be+"-"+Re),ze.forEach(function(ut){p.add(ut)})),ze};r&&c.forEach(function(fe){p.remove(r+"-"+fe)});var C=s.findIndex(function(fe){return"auto"===fe});C>=0&&c.forEach(function(fe){null==s.find(function(Pe){return-1!==Pe.search("^"+fe)})&&s.splice(C++,1,fe)});var M=t.style;M.position="absolute",M.top="0",M.left="0",M["will-change"]="transform";for(var V,W=!1,K=0,oe=s;K<oe.length;K++){var ae=_(V=oe[K]);if(xW.positionElements(n,t,V,i)){W=!0;break}r&&ae.forEach(function(fe){p.remove(fe)})}return W||(_(V=s[0]),xW.positionElements(n,t,V,i)),V}(this.elementRef.nativeElement,this.tooltipRef.location.nativeElement.children[0],this.placement,this.appendToBody),-1===e.indexOf(this.tooltipRef.instance.placement)&&this.positionTooltip([...e,this.tooltipRef.instance.placement]))}}return n.\u0275fac=function(e){return new(e||n)(a.Y36(a.SBq),a.Y36(a.zs3),a.Y36(a.Qsj),a.Y36(a._Vd),a.Y36(a.s_b),a.Y36(Ye))},n.\u0275dir=a.lG2({type:n,selectors:[["","mwlCalendarTooltip",""]],hostBindings:function(e,i){1&e&&a.NdJ("mouseenter",function(){return i.onMouseOver()})("mouseleave",function(){return i.onMouseOut()})},inputs:{contents:["mwlCalendarTooltip","contents"],placement:["tooltipPlacement","placement"],customTemplate:["tooltipTemplate","customTemplate"],event:["tooltipEvent","event"],appendToBody:["tooltipAppendToBody","appendToBody"],delay:["tooltipDelay","delay"]},features:[a.TTD]}),n})();var sp=function(n){return n.Month="month",n.Week="week",n.Day="day",n}(sp||{});const YW=n=>function hoe(n,t){var e=!0;function i(r,s){t(r,s),e=!1}return Array.isArray(n)?(n.forEach(function(r){r.start?r.start instanceof Date||i(yx.StartPropertyNotDate,r):i(yx.StartPropertyMissing,r),r.end&&(r.end instanceof Date||i(yx.EndPropertyNotDate,r),r.start>r.end&&i(yx.EndsBeforeStart,r))}),e):(t(yx.NotArray,n),!1)}(n,(...e)=>console.warn("angular-calendar",...e));function qW(n,t){return Math.floor(n.left)<=Math.ceil(t.left)&&Math.floor(t.left)<=Math.ceil(n.right)&&Math.floor(n.left)<=Math.ceil(t.right)&&Math.floor(t.right)<=Math.ceil(n.right)}function ZW(n,t){return Math.round(n/t)*t}const XW=(n,t)=>t.id?t.id:t,dV=(n,t)=>t.date.toISOString(),ele=(n,t)=>t.date.toISOString(),tle=(n,t)=>t.segments[0].date.toISOString(),nle=(n,t)=>t.event.id?t.event.id:t.event,ile=(n,t)=>t.event.id?t.event.id:t.event;function hV(n,t,e,i,r){const s=ZW(n,i||e),c=function sle(n,t,e){return(e||60)/(n*t)}(t,e,r);return s*c}function KW(n,t,e){return t.end?t.end:n.addMinutes(t.start,e)}function Wu(n,t,e,i){let r=0,s=0;const c=e<0?n.subDays:n.addDays;let p=t;for(;s<=Math.abs(e);){p=c(t,r);const _=n.getDay(p);-1===i.indexOf(_)&&s++,r++}return p}function fV(n,t,e,i=[],r){let s=r?n.startOfDay(t):n.startOfWeek(t,{weekStartsOn:e});const c=n.endOfWeek(t,{weekStartsOn:e});for(;i.indexOf(n.getDay(s))>-1&&s<c;)s=n.addDays(s,1);if(r)return{viewStart:s,viewEnd:n.endOfDay(Wu(n,s,r-1,i))};{let p=c;for(;i.indexOf(n.getDay(p))>-1&&p>s;)p=n.subDays(p,1);return{viewStart:s,viewEnd:p}}}function pV({x:n,y:t}){return Math.abs(n)>1||Math.abs(t)>1}class op{}let lle=(()=>{class n{constructor(e){this.dateAdapter=e,this.excludeDays=[],this.viewDateChange=new a.vpe}onClick(){const e={day:this.dateAdapter.subDays,week:this.dateAdapter.subWeeks,month:this.dateAdapter.subMonths}[this.view];this.viewDateChange.emit(this.view===sp.Day?Wu(this.dateAdapter,this.viewDate,-1,this.excludeDays):this.view===sp.Week&&this.daysInWeek?Wu(this.dateAdapter,this.viewDate,-this.daysInWeek,this.excludeDays):e(this.viewDate,1))}}return n.\u0275fac=function(e){return new(e||n)(a.Y36(op))},n.\u0275dir=a.lG2({type:n,selectors:[["","mwlCalendarPreviousView",""]],hostBindings:function(e,i){1&e&&a.NdJ("click",function(){return i.onClick()})},inputs:{view:"view",viewDate:"viewDate",excludeDays:"excludeDays",daysInWeek:"daysInWeek"},outputs:{viewDateChange:"viewDateChange"}}),n})(),cle=(()=>{class n{constructor(e){this.dateAdapter=e,this.excludeDays=[],this.viewDateChange=new a.vpe}onClick(){const e={day:this.dateAdapter.addDays,week:this.dateAdapter.addWeeks,month:this.dateAdapter.addMonths}[this.view];this.viewDateChange.emit(this.view===sp.Day?Wu(this.dateAdapter,this.viewDate,1,this.excludeDays):this.view===sp.Week&&this.daysInWeek?Wu(this.dateAdapter,this.viewDate,this.daysInWeek,this.excludeDays):e(this.viewDate,1))}}return n.\u0275fac=function(e){return new(e||n)(a.Y36(op))},n.\u0275dir=a.lG2({type:n,selectors:[["","mwlCalendarNextView",""]],hostBindings:function(e,i){1&e&&a.NdJ("click",function(){return i.onClick()})},inputs:{view:"view",viewDate:"viewDate",excludeDays:"excludeDays",daysInWeek:"daysInWeek"},outputs:{viewDateChange:"viewDateChange"}}),n})(),ule=(()=>{class n{constructor(e){this.dateAdapter=e,this.viewDateChange=new a.vpe}onClick(){this.viewDateChange.emit(this.dateAdapter.startOfDay(new Date))}}return n.\u0275fac=function(e){return new(e||n)(a.Y36(op))},n.\u0275dir=a.lG2({type:n,selectors:[["","mwlCalendarToday",""]],hostBindings:function(e,i){1&e&&a.NdJ("click",function(){return i.onClick()})},inputs:{viewDate:"viewDate"},outputs:{viewDateChange:"viewDateChange"}}),n})(),dle=(()=>{class n{constructor(e){this.dateAdapter=e}monthViewColumnHeader({date:e,locale:i}){return In(e,"EEEE",i)}monthViewDayNumber({date:e,locale:i}){return In(e,"d",i)}monthViewTitle({date:e,locale:i}){return In(e,"LLLL y",i)}weekViewColumnHeader({date:e,locale:i}){return In(e,"EEEE",i)}weekViewColumnSubHeader({date:e,locale:i}){return In(e,"MMM d",i)}weekViewTitle({date:e,locale:i,weekStartsOn:r,excludeDays:s,daysInWeek:c}){const{viewStart:p,viewEnd:_}=fV(this.dateAdapter,e,r,s,c),C=(M,V)=>In(M,"MMM d"+(V?", yyyy":""),i);return`${C(p,p.getUTCFullYear()!==_.getUTCFullYear())} - ${C(_,!0)}`}weekViewHour({date:e,locale:i}){return In(e,"h a",i)}dayViewHour({date:e,locale:i}){return In(e,"h a",i)}dayViewTitle({date:e,locale:i}){return In(e,"EEEE, MMMM d, y",i)}}return n.\u0275fac=function(e){return new(e||n)(a.LFG(op))},n.\u0275prov=a.Yz7({token:n,factory:n.\u0275fac}),n})(),UN=(()=>{class n extends dle{}return n.\u0275fac=function(){let t;return function(i){return(t||(t=a.n5z(n)))(i||n)}}(),n.\u0275prov=a.Yz7({token:n,factory:n.\u0275fac}),n})(),lS=(()=>{class n{constructor(e,i){this.dateFormatter=e,this.locale=i}transform(e,i,r=this.locale,s=0,c=[],p){if(typeof this.dateFormatter[i]>"u"){const _=Object.getOwnPropertyNames(Object.getPrototypeOf(UN.prototype)).filter(C=>"constructor"!==C);throw new Error(`${i} is not a valid date formatter. Can only be one of ${_.join(", ")}`)}return this.dateFormatter[i]({date:e,locale:r,weekStartsOn:s,excludeDays:c,daysInWeek:p})}}return n.\u0275fac=function(e){return new(e||n)(a.Y36(UN,16),a.Y36(a.soG,16))},n.\u0275pipe=a.Yjl({name:"calendarDate",type:n,pure:!0}),n})(),zN=(()=>{class n{constructor(e){this.dateAdapter=e}getMonthView(e){return function coe(n,t){var e=t.events,i=void 0===e?[]:e,r=t.viewDate,s=t.weekStartsOn,c=t.excluded,p=void 0===c?[]:c,_=t.viewStart,C=void 0===_?n.startOfMonth(r):_,M=t.viewEnd,V=void 0===M?n.endOfMonth(r):M,W=t.weekendDays;i||(i=[]);for(var Jt,oe=n.endOfWeek,ae=n.differenceInDays,fe=n.startOfDay,Pe=n.addHours,Be=n.endOfDay,Re=n.isSameMonth,ze=n.getDay,ut=(0,n.startOfWeek)(C,{weekStartsOn:s}),bt=oe(V,{weekStartsOn:s}),jt=rS(n,{events:i,periodStart:ut,periodEnd:bt}),Vt=[],ln=function(Cn){var En;if(Jt?(En=fe(Pe(Jt,24)),Jt.getTime()===En.getTime()&&(En=fe(Pe(Jt,25))),Jt=En):En=Jt=ut,!p.some(function(Zr){return ze(En)===Zr})){var qi=EW(n,{date:En,weekendDays:W}),hr=rS(n,{events:jt,periodStart:fe(En),periodEnd:Be(En)});qi.inMonth=Re(En,r),qi.events=hr,qi.badgeTotal=hr.length,Vt.push(qi)}},zt=0;zt<ae(bt,ut)+1;zt++)ln();var Ht=[],Rn=ZB-p.length;if(Rn<ZB)for(zt=0;zt<Vt.length;zt+=Rn){var mi=Vt.slice(zt,zt+Rn);mi.some(function(En){return C<=En.date&&En.date<V})&&(Ht=YB(YB([],Ht,!0),mi,!0))}else Ht=Vt;var Xt=Math.floor(Ht.length/Rn),un=[];for(zt=0;zt<Xt;zt++)un.push(zt*Rn);return{rowOffsets:un,totalDaysVisibleInWeek:Rn,days:Ht,period:{start:Ht[0].date,end:Be(Ht[Ht.length-1].date),events:jt}}}(this.dateAdapter,e)}getWeekViewHeader(e){return KB(this.dateAdapter,e)}getWeekView(e){return function loe(n,t){var e=t.events,i=void 0===e?[]:e,r=t.viewDate,s=t.weekStartsOn,c=t.excluded,p=void 0===c?[]:c,_=t.precision,C=void 0===_?"days":_,M=t.absolutePositionedEvents,V=void 0!==M&&M,W=t.hourSegments,K=t.hourDuration,oe=t.dayStart,ae=t.dayEnd,fe=t.weekendDays,Pe=t.segmentHeight,Be=t.minimumEventHeight,Re=t.viewStart,ze=void 0===Re?n.startOfWeek(r,{weekStartsOn:s}):Re,ut=t.viewEnd,bt=void 0===ut?n.endOfWeek(r,{weekStartsOn:s}):ut;i||(i=[]);var Vt=n.endOfDay,Jt=rS(n,{events:i,periodStart:ze=(0,n.startOfDay)(ze),periodEnd:bt=Vt(bt)}),ln=KB(n,{viewDate:r,weekStartsOn:s,excluded:p,weekendDays:fe,viewStart:ze,viewEnd:bt});return{allDayEventRows:ooe(n,{events:Jt,excluded:p,precision:C,absolutePositionedEvents:V,viewStart:ze,viewEnd:bt}),period:{events:Jt,start:ln[0].date,end:Vt(ln[ln.length-1].date)},hourColumns:aoe(n,{events:i,viewDate:r,hourSegments:W,hourDuration:K,dayStart:oe,dayEnd:ae,weekStartsOn:s,excluded:p,weekendDays:fe,segmentHeight:Pe,viewStart:ze,viewEnd:bt,minimumEventHeight:Be})}}(this.dateAdapter,e)}}return n.\u0275fac=function(e){return new(e||n)(a.LFG(op))},n.\u0275prov=a.Yz7({token:n,factory:n.\u0275fac}),n})();new a.OlP("Moment");var km=function(n){return n.Drag="drag",n.Drop="drop",n.Resize="resize",n}(km||{});let cS=(()=>{class n{static forRoot(e,i={}){return{ngModule:n,providers:[e,i.eventTitleFormatter||cV,i.dateFormatter||UN,i.utils||zN,i.a11y||HN]}}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=a.oAB({type:n}),n.\u0275inj=a.cJS({providers:[Ha],imports:[Fi]}),n})(),hle=(()=>{class n{constructor(){this.highlightDay=new a.vpe,this.unhighlightDay=new a.vpe,this.eventClicked=new a.vpe,this.trackByEventId=XW,this.validateDrag=pV}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275cmp=a.Xpm({type:n,selectors:[["mwl-calendar-month-cell"]],hostAttrs:[1,"cal-cell","cal-day-cell"],hostVars:18,hostBindings:function(e,i){2&e&&a.ekj("cal-past",i.day.isPast)("cal-today",i.day.isToday)("cal-future",i.day.isFuture)("cal-weekend",i.day.isWeekend)("cal-in-month",i.day.inMonth)("cal-out-month",!i.day.inMonth)("cal-has-events",i.day.events.length>0)("cal-open",i.day===i.openDay)("cal-event-highlight",!!i.day.backgroundColor)},inputs:{day:"day",openDay:"openDay",locale:"locale",tooltipPlacement:"tooltipPlacement",tooltipAppendToBody:"tooltipAppendToBody",customTemplate:"customTemplate",tooltipTemplate:"tooltipTemplate",tooltipDelay:"tooltipDelay"},outputs:{highlightDay:"highlightDay",unhighlightDay:"unhighlightDay",eventClicked:"eventClicked"},decls:3,vars:15,consts:[["defaultTemplate",""],[3,"ngTemplateOutlet","ngTemplateOutletContext"],[1,"cal-cell-top"],["aria-hidden","true"],["class","cal-day-badge",4,"ngIf"],[1,"cal-day-number"],["class","cal-events",4,"ngIf"],[1,"cal-day-badge"],[1,"cal-events"],["class","cal-event","mwlDraggable","","dragActiveClass","cal-drag-active",3,"ngStyle","ngClass","mwlCalendarTooltip","tooltipPlacement","tooltipEvent","tooltipTemplate","tooltipAppendToBody","tooltipDelay","cal-draggable","dropData","dragAxis","validateDrag","touchStartLongPress","mouseenter","mouseleave","mwlClick",4,"ngFor","ngForOf","ngForTrackBy"],["mwlDraggable","","dragActiveClass","cal-drag-active",1,"cal-event",3,"ngStyle","ngClass","mwlCalendarTooltip","tooltipPlacement","tooltipEvent","tooltipTemplate","tooltipAppendToBody","tooltipDelay","dropData","dragAxis","validateDrag","touchStartLongPress","mouseenter","mouseleave","mwlClick"]],template:function(e,i){if(1&e&&(a.YNc(0,Xoe,8,14,"ng-template",null,0,a.W1O),a.YNc(2,Koe,0,0,"ng-template",1)),2&e){const r=a.MAs(1);a.xp6(2),a.Q6J("ngTemplateOutlet",i.customTemplate||r)("ngTemplateOutletContext",a.rFY(2,Qoe,[i.day,i.openDay,i.locale,i.tooltipPlacement,i.highlightDay,i.unhighlightDay,i.eventClicked,i.tooltipTemplate,i.tooltipAppendToBody,i.tooltipDelay,i.trackByEventId,i.validateDrag]))}},dependencies:[I,U,Q,$e,De,oV,$W,I_,lS,uV,M_],encapsulation:2}),n})();const fle=_4("collapse",[mT("void",r_({height:0,overflow:"hidden","padding-top":0,"padding-bottom":0})),mT("*",r_({height:"*",overflow:"hidden","padding-top":"*","padding-bottom":"*"})),xO("* => void",wO("150ms ease-out")),xO("void => *",wO("150ms ease-in"))]);let ple=(()=>{class n{constructor(){this.isOpen=!1,this.eventClicked=new a.vpe,this.trackByEventId=XW,this.validateDrag=pV}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275cmp=a.Xpm({type:n,selectors:[["mwl-calendar-open-day-events"]],inputs:{locale:"locale",isOpen:"isOpen",events:"events",customTemplate:"customTemplate",eventTitleTemplate:"eventTitleTemplate",eventActionsTemplate:"eventActionsTemplate",date:"date"},outputs:{eventClicked:"eventClicked"},decls:3,vars:8,consts:[["defaultTemplate",""],[3,"ngTemplateOutlet","ngTemplateOutletContext"],["class","cal-open-day-events","role","application",4,"ngIf"],["role","application",1,"cal-open-day-events"],["tabindex","-1","role","alert"],["tabindex","0","role","landmark"],["mwlDraggable","","dragActiveClass","cal-drag-active",3,"ngClass","cal-draggable","dropData","dragAxis","validateDrag","touchStartLongPress",4,"ngFor","ngForOf","ngForTrackBy"],["mwlDraggable","","dragActiveClass","cal-drag-active",3,"ngClass","dropData","dragAxis","validateDrag","touchStartLongPress"],[1,"cal-event",3,"ngStyle"],["view","month","tabindex","0",3,"event","customTemplate","mwlClick","mwlKeydownEnter"],[3,"event","customTemplate"]],template:function(e,i){if(1&e&&(a.YNc(0,nae,1,1,"ng-template",null,0,a.W1O),a.YNc(2,iae,0,0,"ng-template",1)),2&e){const r=a.MAs(1);a.xp6(2),a.Q6J("ngTemplateOutlet",i.customTemplate||r)("ngTemplateOutletContext",a.qbA(2,rae,i.events,i.eventClicked,i.isOpen,i.trackByEventId,i.validateDrag))}},dependencies:[I,U,Q,$e,De,oV,GW,WW,I_,VN,M_],encapsulation:2,data:{animation:[fle]}}),n})(),gle=(()=>{class n{constructor(){this.columnHeaderClicked=new a.vpe,this.trackByWeekDayHeaderDate=dV}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275cmp=a.Xpm({type:n,selectors:[["mwl-calendar-month-view-header"]],inputs:{days:"days",locale:"locale",customTemplate:"customTemplate"},outputs:{columnHeaderClicked:"columnHeaderClicked"},decls:3,vars:6,consts:[["defaultTemplate",""],[3,"ngTemplateOutlet","ngTemplateOutletContext"],["role","row",1,"cal-cell-row","cal-header"],["class","cal-cell","tabindex","0","role","columnheader",3,"cal-past","cal-today","cal-future","cal-weekend","ngClass","click",4,"ngFor","ngForOf","ngForTrackBy"],["tabindex","0","role","columnheader",1,"cal-cell",3,"ngClass","click"]],template:function(e,i){if(1&e&&(a.YNc(0,oae,2,2,"ng-template",null,0,a.W1O),a.YNc(2,aae,0,0,"ng-template",1)),2&e){const r=a.MAs(1);a.xp6(2),a.Q6J("ngTemplateOutlet",i.customTemplate||r)("ngTemplateOutletContext",a.kEZ(2,lae,i.days,i.locale,i.trackByWeekDayHeaderDate))}},dependencies:[I,U,$e,lS],encapsulation:2}),n})(),mle=(()=>{class n{constructor(e,i,r,s){this.cdr=e,this.utils=i,this.dateAdapter=s,this.events=[],this.excludeDays=[],this.activeDayIsOpen=!1,this.tooltipPlacement="auto",this.tooltipAppendToBody=!0,this.tooltipDelay=null,this.beforeViewRender=new a.vpe,this.dayClicked=new a.vpe,this.eventClicked=new a.vpe,this.columnHeaderClicked=new a.vpe,this.eventTimesChanged=new a.vpe,this.trackByRowOffset=(c,p)=>this.view.days.slice(p,this.view.totalDaysVisibleInWeek).map(_=>_.date.toISOString()).join("-"),this.trackByDate=(c,p)=>p.date.toISOString(),this.locale=r}ngOnInit(){this.refresh&&(this.refreshSubscription=this.refresh.subscribe(()=>{this.refreshAll(),this.cdr.markForCheck()}))}ngOnChanges(e){const i=e.viewDate||e.excludeDays||e.weekendDays,r=e.viewDate||e.events||e.excludeDays||e.weekendDays;i&&this.refreshHeader(),e.events&&YW(this.events),r&&this.refreshBody(),(i||r)&&this.emitBeforeViewRender(),(e.activeDayIsOpen||e.viewDate||e.events||e.excludeDays||e.activeDay)&&this.checkActiveDayIsOpen()}ngOnDestroy(){this.refreshSubscription&&this.refreshSubscription.unsubscribe()}toggleDayHighlight(e,i){this.view.days.forEach(r=>{i&&r.events.indexOf(e)>-1?r.backgroundColor=e.color&&e.color.secondary||"#D1E8FF":delete r.backgroundColor})}eventDropped(e,i,r){if(e!==r){const s=this.dateAdapter.getYear(e.date),c=this.dateAdapter.getMonth(e.date),p=this.dateAdapter.getDate(e.date),_=this.dateAdapter.setDate(this.dateAdapter.setMonth(this.dateAdapter.setYear(i.start,s),c),p);let C;if(i.end){const M=this.dateAdapter.differenceInSeconds(_,i.start);C=this.dateAdapter.addSeconds(i.end,M)}this.eventTimesChanged.emit({event:i,newStart:_,newEnd:C,day:e,type:km.Drop})}}refreshHeader(){this.columnHeaders=this.utils.getWeekViewHeader({viewDate:this.viewDate,weekStartsOn:this.weekStartsOn,excluded:this.excludeDays,weekendDays:this.weekendDays})}refreshBody(){this.view=this.utils.getMonthView({events:this.events,viewDate:this.viewDate,weekStartsOn:this.weekStartsOn,excluded:this.excludeDays,weekendDays:this.weekendDays})}checkActiveDayIsOpen(){if(!0===this.activeDayIsOpen){const e=this.activeDay||this.viewDate;this.openDay=this.view.days.find(r=>this.dateAdapter.isSameDay(r.date,e));const i=this.view.days.indexOf(this.openDay);this.openRowIndex=Math.floor(i/this.view.totalDaysVisibleInWeek)*this.view.totalDaysVisibleInWeek}else this.openRowIndex=null,this.openDay=null}refreshAll(){this.refreshHeader(),this.refreshBody(),this.emitBeforeViewRender(),this.checkActiveDayIsOpen()}emitBeforeViewRender(){this.columnHeaders&&this.view&&this.beforeViewRender.emit({header:this.columnHeaders,body:this.view.days,period:this.view.period})}}return n.\u0275fac=function(e){return new(e||n)(a.Y36(a.sBO),a.Y36(zN),a.Y36(a.soG),a.Y36(op))},n.\u0275cmp=a.Xpm({type:n,selectors:[["mwl-calendar-month-view"]],inputs:{viewDate:"viewDate",events:"events",excludeDays:"excludeDays",activeDayIsOpen:"activeDayIsOpen",activeDay:"activeDay",refresh:"refresh",locale:"locale",tooltipPlacement:"tooltipPlacement",tooltipTemplate:"tooltipTemplate",tooltipAppendToBody:"tooltipAppendToBody",tooltipDelay:"tooltipDelay",weekStartsOn:"weekStartsOn",headerTemplate:"headerTemplate",cellTemplate:"cellTemplate",openDayEventsTemplate:"openDayEventsTemplate",eventTitleTemplate:"eventTitleTemplate",eventActionsTemplate:"eventActionsTemplate",weekendDays:"weekendDays"},outputs:{beforeViewRender:"beforeViewRender",dayClicked:"dayClicked",eventClicked:"eventClicked",columnHeaderClicked:"columnHeaderClicked",eventTimesChanged:"eventTimesChanged"},features:[a.TTD],decls:4,vars:5,consts:[["role","grid",1,"cal-month-view"],[3,"days","locale","customTemplate","columnHeaderClicked"],[1,"cal-days"],[4,"ngFor","ngForOf","ngForTrackBy"],["role","row",1,"cal-cell-row"],["role","gridcell","mwlDroppable","","dragOverClass","cal-drag-over",3,"ngClass","day","openDay","locale","tooltipPlacement","tooltipAppendToBody","tooltipTemplate","tooltipDelay","customTemplate","ngStyle","clickListenerDisabled","mwlClick","mwlKeydownEnter","highlightDay","unhighlightDay","drop","eventClicked",4,"ngFor","ngForOf","ngForTrackBy"],["mwlDroppable","","dragOverClass","cal-drag-over",3,"locale","isOpen","events","date","customTemplate","eventTitleTemplate","eventActionsTemplate","eventClicked","drop"],["role","gridcell","mwlDroppable","","dragOverClass","cal-drag-over",3,"ngClass","day","openDay","locale","tooltipPlacement","tooltipAppendToBody","tooltipTemplate","tooltipDelay","customTemplate","ngStyle","clickListenerDisabled","mwlClick","mwlKeydownEnter","highlightDay","unhighlightDay","drop","eventClicked"]],template:function(e,i){1&e&&(a.TgZ(0,"div",0)(1,"mwl-calendar-month-view-header",1),a.NdJ("columnHeaderClicked",function(s){return i.columnHeaderClicked.emit(s)}),a.qZA(),a.TgZ(2,"div",2),a.YNc(3,uae,5,13,"div",3),a.qZA()()),2&e&&(a.xp6(1),a.Q6J("days",i.columnHeaders)("locale",i.locale)("customTemplate",i.headerTemplate),a.xp6(2),a.Q6J("ngForOf",i.view.rowOffsets)("ngForTrackBy",i.trackByRowOffset))},dependencies:[I,U,De,aV,I_,VN,hle,ple,gle,zr,M_],encapsulation:2}),n})(),QW=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=a.oAB({type:n}),n.\u0275inj=a.cJS({imports:[Fi,FN,cS,FN]}),n})();class vle{constructor(t,e){this.dragContainerElement=t,this.startPosition=e.getBoundingClientRect()}validateDrag({x:t,y:e,snapDraggedEvents:i,dragAlreadyMoved:r,transform:s}){const c=pV({x:t,y:e})||r;if(i){const p=Object.assign({},this.startPosition,{left:this.startPosition.left+s.x,right:this.startPosition.right+s.x,top:this.startPosition.top+s.y,bottom:this.startPosition.bottom+s.y});if(c){const _=this.dragContainerElement.getBoundingClientRect(),C=_.top<p.top&&p.top<_.bottom,M=_.top<p.bottom&&p.bottom<_.bottom;return qW(_,p)&&(C||M)}return!1}return c}}class yle{constructor(t,e,i){this.resizeContainerElement=t,this.minWidth=e,this.rtl=i}validateResize({rectangle:t,edges:e}){return this.rtl&&(typeof e.left<"u"?(t.left-=e.left,t.right+=e.left):typeof e.right<"u"&&(t.left+=e.right,t.right-=e.right),t.width=t.right-t.left),!(this.minWidth&&Math.ceil(t.width)<Math.ceil(this.minWidth))&&function Jae(n,t){return qW(n,t)&&function Qae(n,t){return Math.floor(n.top)<=Math.ceil(t.top)&&Math.floor(t.top)<=Math.ceil(n.bottom)&&Math.floor(n.top)<=Math.ceil(t.bottom)&&Math.floor(t.bottom)<=Math.ceil(n.bottom)}(n,t)}(this.resizeContainerElement.getBoundingClientRect(),t)}}let _le=(()=>{class n{constructor(){this.dayHeaderClicked=new a.vpe,this.eventDropped=new a.vpe,this.dragEnter=new a.vpe,this.trackByWeekDayHeaderDate=dV}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275cmp=a.Xpm({type:n,selectors:[["mwl-calendar-week-view-header"]],inputs:{days:"days",locale:"locale",customTemplate:"customTemplate"},outputs:{dayHeaderClicked:"dayHeaderClicked",eventDropped:"eventDropped",dragEnter:"dragEnter"},decls:3,vars:9,consts:[["defaultTemplate",""],[3,"ngTemplateOutlet","ngTemplateOutletContext"],["role","row",1,"cal-day-headers"],["class","cal-header","mwlDroppable","","dragOverClass","cal-drag-over","tabindex","0","role","columnheader",3,"cal-past","cal-today","cal-future","cal-weekend","ngClass","mwlClick","drop","dragEnter",4,"ngFor","ngForOf","ngForTrackBy"],["mwlDroppable","","dragOverClass","cal-drag-over","tabindex","0","role","columnheader",1,"cal-header",3,"ngClass","mwlClick","drop","dragEnter"]],template:function(e,i){if(1&e&&(a.YNc(0,hae,2,2,"ng-template",null,0,a.W1O),a.YNc(2,fae,0,0,"ng-template",1)),2&e){const r=a.MAs(1);a.xp6(2),a.Q6J("ngTemplateOutlet",i.customTemplate||r)("ngTemplateOutletContext",a.HTZ(2,pae,i.days,i.locale,i.dayHeaderClicked,i.eventDropped,i.dragEnter,i.trackByWeekDayHeaderDate))}},dependencies:[I,U,$e,aV,I_,lS],encapsulation:2}),n})(),ble=(()=>{class n{constructor(){this.eventClicked=new a.vpe}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275cmp=a.Xpm({type:n,selectors:[["mwl-calendar-week-view-event"]],inputs:{locale:"locale",weekEvent:"weekEvent",tooltipPlacement:"tooltipPlacement",tooltipAppendToBody:"tooltipAppendToBody",tooltipDisabled:"tooltipDisabled",tooltipDelay:"tooltipDelay",customTemplate:"customTemplate",eventTitleTemplate:"eventTitleTemplate",eventActionsTemplate:"eventActionsTemplate",tooltipTemplate:"tooltipTemplate",column:"column",daysInWeek:"daysInWeek"},outputs:{eventClicked:"eventClicked"},decls:3,vars:12,consts:[["defaultTemplate",""],[3,"ngTemplateOutlet","ngTemplateOutletContext"],["tabindex","0","role","application",1,"cal-event",3,"ngStyle","mwlCalendarTooltip","tooltipPlacement","tooltipEvent","tooltipTemplate","tooltipAppendToBody","tooltipDelay","mwlClick","mwlKeydownEnter"],[3,"event","customTemplate"],[3,"event","customTemplate","view"]],template:function(e,i){if(1&e&&(a.YNc(0,mae,6,27,"ng-template",null,0,a.W1O),a.YNc(2,vae,0,0,"ng-template",1)),2&e){const r=a.MAs(1);a.xp6(2),a.Q6J("ngTemplateOutlet",i.customTemplate||r)("ngTemplateOutletContext",a.rFY(2,yae,[i.weekEvent,i.tooltipPlacement,i.eventClicked,i.tooltipTemplate,i.tooltipAppendToBody,i.tooltipDisabled,i.tooltipDelay,i.column,i.daysInWeek]))}},dependencies:[$e,De,GW,WW,$W,I_,VN,uV,M_],encapsulation:2}),n})(),wle=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275cmp=a.Xpm({type:n,selectors:[["mwl-calendar-week-view-hour-segment"]],inputs:{segment:"segment",segmentHeight:"segmentHeight",locale:"locale",isTimeLabel:"isTimeLabel",daysInWeek:"daysInWeek",customTemplate:"customTemplate"},decls:3,vars:8,consts:[["defaultTemplate",""],[3,"ngTemplateOutlet","ngTemplateOutletContext"],[1,"cal-hour-segment",3,"ngClass"],["class","cal-time",4,"ngIf"],[1,"cal-time"]],template:function(e,i){if(1&e&&(a.YNc(0,bae,3,13,"ng-template",null,0,a.W1O),a.YNc(2,wae,0,0,"ng-template",1)),2&e){const r=a.MAs(1);a.xp6(2),a.Q6J("ngTemplateOutlet",i.customTemplate||r)("ngTemplateOutletContext",a.qbA(2,xae,i.segment,i.locale,i.segmentHeight,i.isTimeLabel,i.daysInWeek))}},dependencies:[I,Q,$e,lS,M_],encapsulation:2}),n})(),xle=(()=>{class n{constructor(e,i){this.dateAdapter=e,this.zone=i,this.columnDate$=new Yl.X(void 0),this.marker$=this.zone.onStable.pipe((0,Bi.w)(()=>function Xse(n=0,t=_s.z){return n<0&&(n=0),UO(n,n,t)}(6e4)),Ml(0),Qc(this.columnDate$),(0,Bt.U)(r=>{const s=this.dateAdapter.setMinutes(this.dateAdapter.setHours(r,this.dayStartHour),this.dayStartMinute),c=this.dateAdapter.setMinutes(this.dateAdapter.setHours(r,this.dayEndHour),this.dayEndMinute),p=this.hourSegments*this.hourSegmentHeight/(this.hourDuration||60),_=new Date;return{isVisible:this.dateAdapter.isSameDay(r,_)&&_>=s&&_<=c,top:this.dateAdapter.differenceInMinutes(_,s)*p}}))}ngOnChanges(e){e.columnDate&&this.columnDate$.next(e.columnDate.currentValue)}}return n.\u0275fac=function(e){return new(e||n)(a.Y36(op),a.Y36(a.R0b))},n.\u0275cmp=a.Xpm({type:n,selectors:[["mwl-calendar-week-view-current-time-marker"]],inputs:{columnDate:"columnDate",dayStartHour:"dayStartHour",dayStartMinute:"dayStartMinute",dayEndHour:"dayEndHour",dayEndMinute:"dayEndMinute",hourSegments:"hourSegments",hourDuration:"hourDuration",hourSegmentHeight:"hourSegmentHeight",customTemplate:"customTemplate"},features:[a.TTD],decls:5,vars:14,consts:[["defaultTemplate",""],[3,"ngTemplateOutlet","ngTemplateOutletContext"],["class","cal-current-time-marker",3,"top",4,"ngIf"],[1,"cal-current-time-marker"]],template:function(e,i){if(1&e&&(a.YNc(0,Eae,1,1,"ng-template",null,0,a.W1O),a.YNc(2,Dae,0,0,"ng-template",1),a.ALo(3,"async"),a.ALo(4,"async")),2&e){const r=a.MAs(1);let s;a.xp6(2),a.Q6J("ngTemplateOutlet",i.customTemplate||r)("ngTemplateOutletContext",a.Hh0(6,Tae,i.columnDate,i.dayStartHour,i.dayStartMinute,i.dayEndHour,i.dayEndMinute,null==(s=a.lcZ(3,2,i.marker$))?null:s.isVisible,null==(s=a.lcZ(4,4,i.marker$))?null:s.top))}},dependencies:[Q,$e,Zn],encapsulation:2}),n})(),JW=(()=>{class n{constructor(e,i,r,s,c){this.cdr=e,this.utils=i,this.dateAdapter=s,this.element=c,this.events=[],this.excludeDays=[],this.tooltipPlacement="auto",this.tooltipAppendToBody=!0,this.tooltipDelay=null,this.precision="days",this.snapDraggedEvents=!0,this.hourSegments=2,this.hourSegmentHeight=30,this.minimumEventHeight=30,this.dayStartHour=0,this.dayStartMinute=0,this.dayEndHour=23,this.dayEndMinute=59,this.dayHeaderClicked=new a.vpe,this.eventClicked=new a.vpe,this.eventTimesChanged=new a.vpe,this.beforeViewRender=new a.vpe,this.hourSegmentClicked=new a.vpe,this.allDayEventResizes=new Map,this.timeEventResizes=new Map,this.eventDragEnterByType={allDay:0,time:0},this.dragActive=!1,this.dragAlreadyMoved=!1,this.calendarId=Symbol("angular calendar week view id"),this.rtl=!1,this.trackByWeekDayHeaderDate=dV,this.trackByHourSegment=ele,this.trackByHour=tle,this.trackByWeekAllDayEvent=nle,this.trackByWeekTimeEvent=ile,this.trackByHourColumn=(p,_)=>_.hours[0]?_.hours[0].segments[0].date.toISOString():_,this.trackById=(p,_)=>_.id,this.locale=r}ngOnInit(){this.refresh&&(this.refreshSubscription=this.refresh.subscribe(()=>{this.refreshAll(),this.cdr.markForCheck()}))}ngOnChanges(e){const i=e.viewDate||e.excludeDays||e.weekendDays||e.daysInWeek||e.weekStartsOn,r=e.viewDate||e.dayStartHour||e.dayStartMinute||e.dayEndHour||e.dayEndMinute||e.hourSegments||e.hourDuration||e.weekStartsOn||e.weekendDays||e.excludeDays||e.hourSegmentHeight||e.events||e.daysInWeek||e.minimumEventHeight;i&&this.refreshHeader(),e.events&&YW(this.events),r&&this.refreshBody(),(i||r)&&this.emitBeforeViewRender()}ngOnDestroy(){this.refreshSubscription&&this.refreshSubscription.unsubscribe()}ngAfterViewInit(){this.rtl=typeof window<"u"&&"rtl"===getComputedStyle(this.element.nativeElement).direction,this.cdr.detectChanges()}timeEventResizeStarted(e,i,r){this.timeEventResizes.set(i.event,r),this.resizeStarted(e,i)}timeEventResizing(e,i){this.timeEventResizes.set(e.event,i);const r=new Map,s=[...this.events];this.timeEventResizes.forEach((c,p)=>{const _=this.getTimeEventResizedDates(p,c),C={...p,..._};r.set(C,p);const M=s.indexOf(p);s[M]=C}),this.restoreOriginalEvents(s,r,!0)}timeEventResizeEnded(e){this.view=this.getWeekView(this.events);const i=this.timeEventResizes.get(e.event);if(i){this.timeEventResizes.delete(e.event);const r=this.getTimeEventResizedDates(e.event,i);this.eventTimesChanged.emit({newStart:r.start,newEnd:r.end,event:e.event,type:km.Resize})}}allDayEventResizeStarted(e,i,r){this.allDayEventResizes.set(i,{originalOffset:i.offset,originalSpan:i.span,edge:typeof r.edges.left<"u"?"left":"right"}),this.resizeStarted(e,i,this.getDayColumnWidth(e))}allDayEventResizing(e,i,r){const s=this.allDayEventResizes.get(e),c=this.rtl?-1:1;if(typeof i.edges.left<"u"){const p=Math.round(+i.edges.left/r)*c;e.offset=s.originalOffset+p,e.span=s.originalSpan-p}else if(typeof i.edges.right<"u"){const p=Math.round(+i.edges.right/r)*c;e.span=s.originalSpan+p}}allDayEventResizeEnded(e){const i=this.allDayEventResizes.get(e);if(i){const r="left"===i.edge;let s;s=r?e.offset-i.originalOffset:e.span-i.originalSpan,e.offset=i.originalOffset,e.span=i.originalSpan;const c=this.getAllDayEventResizedDates(e.event,s,r);this.eventTimesChanged.emit({newStart:c.start,newEnd:c.end,event:e.event,type:km.Resize}),this.allDayEventResizes.delete(e)}}getDayColumnWidth(e){return Math.floor(e.offsetWidth/this.days.length)}dateDragEnter(e){this.lastDragEnterDate=e}eventDropped(e,i,r){(function ale(n,t,e,i){return n.dropData&&n.dropData.event&&(n.dropData.calendarId!==i||n.dropData.event.allDay&&!e||!n.dropData.event.allDay&&e)})(e,0,r,this.calendarId)&&this.lastDragEnterDate.getTime()===i.getTime()&&(!this.snapDraggedEvents||e.dropData.event!==this.lastDraggedEvent)&&this.eventTimesChanged.emit({type:km.Drop,event:e.dropData.event,newStart:i,allDay:r}),this.lastDraggedEvent=null}dragEnter(e){this.eventDragEnterByType[e]++}dragLeave(e){this.eventDragEnterByType[e]--}dragStarted(e,i,r,s){this.dayColumnWidth=this.getDayColumnWidth(e);const c=new vle(e,i);this.validateDrag=({x:p,y:_,transform:C})=>{const M=0===this.allDayEventResizes.size&&0===this.timeEventResizes.size&&c.validateDrag({x:p,y:_,snapDraggedEvents:this.snapDraggedEvents,dragAlreadyMoved:this.dragAlreadyMoved,transform:C});if(M&&this.validateEventTimesChanged){const V=this.getDragMovedEventTimes(r,{x:p,y:_},this.dayColumnWidth,s);return this.validateEventTimesChanged({type:km.Drag,event:r.event,newStart:V.start,newEnd:V.end})}return M},this.dragActive=!0,this.dragAlreadyMoved=!1,this.lastDraggedEvent=null,this.eventDragEnterByType={allDay:0,time:0},!this.snapDraggedEvents&&s&&this.view.hourColumns.forEach(p=>{const _=p.events.find(C=>C.event===r.event&&C!==r);_&&(_.width=0,_.height=0)}),this.cdr.markForCheck()}dragMove(e,i){const r=this.getDragMovedEventTimes(e,i,this.dayColumnWidth,!0),s=e.event,c={...s,...r},p=this.events.map(_=>_===s?c:_);this.restoreOriginalEvents(p,new Map([[c,s]]),this.snapDraggedEvents),this.dragAlreadyMoved=!0}allDayEventDragMove(){this.dragAlreadyMoved=!0}dragEnded(e,i,r,s=!1){this.view=this.getWeekView(this.events),this.dragActive=!1,this.validateDrag=null;const{start:c,end:p}=this.getDragMovedEventTimes(e,i,r,s);(this.snapDraggedEvents||this.eventDragEnterByType[s?"time":"allDay"]>0)&&function ole(n,t,e){const i=t||n;return e.start<=n&&n<=e.end||e.start<=i&&i<=e.end}(c,p,this.view.period)&&(this.lastDraggedEvent=e.event,this.eventTimesChanged.emit({newStart:c,newEnd:p,event:e.event,type:km.Drag,allDay:!s}))}refreshHeader(){this.days=this.utils.getWeekViewHeader({viewDate:this.viewDate,weekStartsOn:this.weekStartsOn,excluded:this.excludeDays,weekendDays:this.weekendDays,...fV(this.dateAdapter,this.viewDate,this.weekStartsOn,this.excludeDays,this.daysInWeek)})}refreshBody(){this.view=this.getWeekView(this.events)}refreshAll(){this.refreshHeader(),this.refreshBody(),this.emitBeforeViewRender()}emitBeforeViewRender(){this.days&&this.view&&this.beforeViewRender.emit({header:this.days,...this.view})}getWeekView(e){return this.utils.getWeekView({events:e,viewDate:this.viewDate,weekStartsOn:this.weekStartsOn,excluded:this.excludeDays,precision:this.precision,absolutePositionedEvents:!0,hourSegments:this.hourSegments,hourDuration:this.hourDuration,dayStart:{hour:this.dayStartHour,minute:this.dayStartMinute},dayEnd:{hour:this.dayEndHour,minute:this.dayEndMinute},segmentHeight:this.hourSegmentHeight,weekendDays:this.weekendDays,minimumEventHeight:this.minimumEventHeight,...fV(this.dateAdapter,this.viewDate,this.weekStartsOn,this.excludeDays,this.daysInWeek)})}getDragMovedEventTimes(e,i,r,s){const c=ZW(i.x,r)/r*(this.rtl?-1:1),p=s?hV(i.y,this.hourSegments,this.hourSegmentHeight,this.eventSnapSize,this.hourDuration):0,_=this.dateAdapter.addMinutes(Wu(this.dateAdapter,e.event.start,c,this.excludeDays),p);let C;return e.event.end&&(C=this.dateAdapter.addMinutes(Wu(this.dateAdapter,e.event.end,c,this.excludeDays),p)),{start:_,end:C}}restoreOriginalEvents(e,i,r=!0){const s=this.view;r&&(this.view=this.getWeekView(e));const c=e.filter(p=>i.has(p));this.view.hourColumns.forEach((p,_)=>{s.hourColumns[_].hours.forEach((C,M)=>{C.segments.forEach((V,W)=>{p.hours[M].segments[W].cssClass=V.cssClass})}),c.forEach(C=>{const M=i.get(C),V=p.events.find(W=>W.event===(r?C:M));V?(V.event=M,V.tempEvent=C,r||(V.height=0,V.width=0)):p.events.push({event:M,left:0,top:0,height:0,width:0,startsBeforeDay:!1,endsAfterDay:!1,tempEvent:C})})}),i.clear()}getTimeEventResizedDates(e,i){const r={start:e.start,end:KW(this.dateAdapter,e,this.minimumEventHeight)},{end:s,...c}=e,p={start:this.dateAdapter.addMinutes(r.end,-1*this.minimumEventHeight),end:KW(this.dateAdapter,c,this.minimumEventHeight)},_=this.rtl?-1:1;if(typeof i.edges.left<"u"){const C=Math.round(+i.edges.left/this.dayColumnWidth)*_,M=Wu(this.dateAdapter,r.start,C,this.excludeDays);r.start=M<p.start?M:p.start}else if(typeof i.edges.right<"u"){const C=Math.round(+i.edges.right/this.dayColumnWidth)*_,M=Wu(this.dateAdapter,r.end,C,this.excludeDays);r.end=M>p.end?M:p.end}if(typeof i.edges.top<"u"){const C=hV(i.edges.top,this.hourSegments,this.hourSegmentHeight,this.eventSnapSize,this.hourDuration),M=this.dateAdapter.addMinutes(r.start,C);r.start=M<p.start?M:p.start}else if(typeof i.edges.bottom<"u"){const C=hV(i.edges.bottom,this.hourSegments,this.hourSegmentHeight,this.eventSnapSize,this.hourDuration),M=this.dateAdapter.addMinutes(r.end,C);r.end=M>p.end?M:p.end}return r}resizeStarted(e,i,r){this.dayColumnWidth=this.getDayColumnWidth(e);const s=new yle(e,r,this.rtl);this.validateResize=({rectangle:c,edges:p})=>{const _=s.validateResize({rectangle:{...c},edges:p});if(_&&this.validateEventTimesChanged){let C;if(r){const M=this.rtl?-1:1;if(typeof p.left<"u"){const V=Math.round(+p.left/r)*M;C=this.getAllDayEventResizedDates(i.event,V,!this.rtl)}else{const V=Math.round(+p.right/r)*M;C=this.getAllDayEventResizedDates(i.event,V,this.rtl)}}else C=this.getTimeEventResizedDates(i.event,{rectangle:c,edges:p});return this.validateEventTimesChanged({type:km.Resize,event:i.event,newStart:C.start,newEnd:C.end})}return _},this.cdr.markForCheck()}getAllDayEventResizedDates(e,i,r){let s=e.start,c=e.end||e.start;return r?s=Wu(this.dateAdapter,s,i,this.excludeDays):c=Wu(this.dateAdapter,c,i,this.excludeDays),{start:s,end:c}}}return n.\u0275fac=function(e){return new(e||n)(a.Y36(a.sBO),a.Y36(zN),a.Y36(a.soG),a.Y36(op),a.Y36(a.SBq))},n.\u0275cmp=a.Xpm({type:n,selectors:[["mwl-calendar-week-view"]],inputs:{viewDate:"viewDate",events:"events",excludeDays:"excludeDays",refresh:"refresh",locale:"locale",tooltipPlacement:"tooltipPlacement",tooltipTemplate:"tooltipTemplate",tooltipAppendToBody:"tooltipAppendToBody",tooltipDelay:"tooltipDelay",weekStartsOn:"weekStartsOn",headerTemplate:"headerTemplate",eventTemplate:"eventTemplate",eventTitleTemplate:"eventTitleTemplate",eventActionsTemplate:"eventActionsTemplate",precision:"precision",weekendDays:"weekendDays",snapDraggedEvents:"snapDraggedEvents",hourSegments:"hourSegments",hourDuration:"hourDuration",hourSegmentHeight:"hourSegmentHeight",minimumEventHeight:"minimumEventHeight",dayStartHour:"dayStartHour",dayStartMinute:"dayStartMinute",dayEndHour:"dayEndHour",dayEndMinute:"dayEndMinute",hourSegmentTemplate:"hourSegmentTemplate",eventSnapSize:"eventSnapSize",allDayEventsLabelTemplate:"allDayEventsLabelTemplate",daysInWeek:"daysInWeek",currentTimeMarkerTemplate:"currentTimeMarkerTemplate",validateEventTimesChanged:"validateEventTimesChanged",resizeCursors:"resizeCursors"},outputs:{dayHeaderClicked:"dayHeaderClicked",eventClicked:"eventClicked",eventTimesChanged:"eventTimesChanged",beforeViewRender:"beforeViewRender",hourSegmentClicked:"hourSegmentClicked"},features:[a.TTD],decls:8,vars:9,consts:[["role","grid",1,"cal-week-view"],[3,"days","locale","customTemplate","dayHeaderClicked","eventDropped","dragEnter"],["class","cal-all-day-events","mwlDroppable","",3,"dragEnter","dragLeave",4,"ngIf"],["mwlDroppable","",1,"cal-time-events",3,"dragEnter","dragLeave"],["class","cal-time-label-column",4,"ngIf"],[1,"cal-day-columns"],["dayColumns",""],["class","cal-day-column",4,"ngFor","ngForOf","ngForTrackBy"],["mwlDroppable","",1,"cal-all-day-events",3,"dragEnter","dragLeave"],["allDayEventsContainer",""],[1,"cal-time-label-column",3,"ngTemplateOutlet"],["class","cal-day-column","mwlDroppable","","dragOverClass","cal-drag-over",3,"drop","dragEnter",4,"ngFor","ngForOf","ngForTrackBy"],["class","cal-events-row",4,"ngFor","ngForOf","ngForTrackBy"],["mwlDroppable","","dragOverClass","cal-drag-over",1,"cal-day-column",3,"drop","dragEnter"],[1,"cal-events-row"],["eventRowContainer",""],["class","cal-event-container","mwlResizable","","mwlDraggable","","dragActiveClass","cal-drag-active",3,"cal-draggable","cal-starts-within-week","cal-ends-within-week","ngClass","width","marginLeft","marginRight","resizeCursors","resizeSnapGrid","validateResize","dropData","dragAxis","dragSnapGrid","validateDrag","touchStartLongPress","resizeStart","resizing","resizeEnd","dragStart","dragging","dragEnd",4,"ngFor","ngForOf","ngForTrackBy"],["mwlResizable","","mwlDraggable","","dragActiveClass","cal-drag-active",1,"cal-event-container",3,"ngClass","resizeCursors","resizeSnapGrid","validateResize","dropData","dragAxis","dragSnapGrid","validateDrag","touchStartLongPress","resizeStart","resizing","resizeEnd","dragStart","dragging","dragEnd"],["event",""],["class","cal-resize-handle cal-resize-handle-before-start","mwlResizeHandle","",3,"resizeEdges",4,"ngIf"],[3,"locale","weekEvent","tooltipPlacement","tooltipTemplate","tooltipAppendToBody","tooltipDelay","customTemplate","eventTitleTemplate","eventActionsTemplate","daysInWeek","eventClicked"],["class","cal-resize-handle cal-resize-handle-after-end","mwlResizeHandle","",3,"resizeEdges",4,"ngIf"],["mwlResizeHandle","",1,"cal-resize-handle","cal-resize-handle-before-start",3,"resizeEdges"],["mwlResizeHandle","",1,"cal-resize-handle","cal-resize-handle-after-end",3,"resizeEdges"],[1,"cal-time-label-column"],["class","cal-hour",3,"cal-hour-odd",4,"ngFor","ngForOf","ngForTrackBy"],[1,"cal-hour"],[3,"height","segment","segmentHeight","locale","customTemplate","isTimeLabel","daysInWeek",4,"ngFor","ngForOf","ngForTrackBy"],[3,"segment","segmentHeight","locale","customTemplate","isTimeLabel","daysInWeek"],[1,"cal-day-column"],[3,"columnDate","dayStartHour","dayStartMinute","dayEndHour","dayEndMinute","hourSegments","hourDuration","hourSegmentHeight","customTemplate"],[1,"cal-events-container"],["class","cal-event-container","mwlResizable","","mwlDraggable","","dragActiveClass","cal-drag-active",3,"cal-draggable","cal-starts-within-day","cal-ends-within-day","ngClass","hidden","top","height","left","width","resizeCursors","resizeSnapGrid","validateResize","allowNegativeResizes","dropData","dragAxis","dragSnapGrid","touchStartLongPress","ghostDragEnabled","ghostElementTemplate","validateDrag","resizeStart","resizing","resizeEnd","dragStart","dragging","dragEnd",4,"ngFor","ngForOf","ngForTrackBy"],["mwlResizable","","mwlDraggable","","dragActiveClass","cal-drag-active",1,"cal-event-container",3,"ngClass","hidden","resizeCursors","resizeSnapGrid","validateResize","allowNegativeResizes","dropData","dragAxis","dragSnapGrid","touchStartLongPress","ghostDragEnabled","ghostElementTemplate","validateDrag","resizeStart","resizing","resizeEnd","dragStart","dragging","dragEnd"],[3,"ngTemplateOutlet"],["weekEventTemplate",""],[3,"locale","weekEvent","tooltipPlacement","tooltipTemplate","tooltipAppendToBody","tooltipDisabled","tooltipDelay","customTemplate","eventTitleTemplate","eventActionsTemplate","column","daysInWeek","eventClicked"],["mwlDroppable","","dragActiveClass","cal-drag-active",3,"height","segment","segmentHeight","locale","customTemplate","daysInWeek","clickListenerDisabled","dragOverClass","isTimeLabel","mwlClick","drop","dragEnter",4,"ngFor","ngForOf","ngForTrackBy"],["mwlDroppable","","dragActiveClass","cal-drag-active",3,"segment","segmentHeight","locale","customTemplate","daysInWeek","clickListenerDisabled","dragOverClass","isTimeLabel","mwlClick","drop","dragEnter"]],template:function(e,i){1&e&&(a.TgZ(0,"div",0)(1,"mwl-calendar-week-view-header",1),a.NdJ("dayHeaderClicked",function(s){return i.dayHeaderClicked.emit(s)})("eventDropped",function(s){return i.eventDropped({dropData:s},s.newStart,!0)})("dragEnter",function(s){return i.dateDragEnter(s.date)}),a.qZA(),a.YNc(2,Fae,6,5,"div",2),a.TgZ(3,"div",3),a.NdJ("dragEnter",function(){return i.dragEnter("time")})("dragLeave",function(){return i.dragLeave("time")}),a.YNc(4,Vae,2,2,"div",4),a.TgZ(5,"div",5,6),a.YNc(7,Xae,5,13,"div",7),a.qZA()()()),2&e&&(a.xp6(1),a.Q6J("days",i.days)("locale",i.locale)("customTemplate",i.headerTemplate),a.xp6(1),a.Q6J("ngIf",i.view.allDayEventRows.length>0),a.xp6(2),a.Q6J("ngIf",i.view.hourColumns.length>0&&1!==i.daysInWeek),a.xp6(1),a.ekj("cal-resize-active",i.timeEventResizes.size>0),a.xp6(2),a.Q6J("ngForOf",i.view.hourColumns)("ngForTrackBy",i.trackByHourColumn))},dependencies:[I,U,Q,$e,VW,Ooe,oV,aV,I_,_le,ble,wle,xle],encapsulation:2}),n})(),gV=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=a.oAB({type:n}),n.\u0275inj=a.cJS({imports:[Fi,HW,FN,cS,HW,FN]}),n})(),Cle=(()=>{class n{constructor(){this.events=[],this.hourSegments=2,this.hourSegmentHeight=30,this.minimumEventHeight=30,this.dayStartHour=0,this.dayStartMinute=0,this.dayEndHour=23,this.dayEndMinute=59,this.tooltipPlacement="auto",this.tooltipAppendToBody=!0,this.tooltipDelay=null,this.snapDraggedEvents=!0,this.eventClicked=new a.vpe,this.hourSegmentClicked=new a.vpe,this.eventTimesChanged=new a.vpe,this.beforeViewRender=new a.vpe}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275cmp=a.Xpm({type:n,selectors:[["mwl-calendar-day-view"]],inputs:{viewDate:"viewDate",events:"events",hourSegments:"hourSegments",hourSegmentHeight:"hourSegmentHeight",hourDuration:"hourDuration",minimumEventHeight:"minimumEventHeight",dayStartHour:"dayStartHour",dayStartMinute:"dayStartMinute",dayEndHour:"dayEndHour",dayEndMinute:"dayEndMinute",refresh:"refresh",locale:"locale",eventSnapSize:"eventSnapSize",tooltipPlacement:"tooltipPlacement",tooltipTemplate:"tooltipTemplate",tooltipAppendToBody:"tooltipAppendToBody",tooltipDelay:"tooltipDelay",hourSegmentTemplate:"hourSegmentTemplate",eventTemplate:"eventTemplate",eventTitleTemplate:"eventTitleTemplate",eventActionsTemplate:"eventActionsTemplate",snapDraggedEvents:"snapDraggedEvents",allDayEventsLabelTemplate:"allDayEventsLabelTemplate",currentTimeMarkerTemplate:"currentTimeMarkerTemplate",validateEventTimesChanged:"validateEventTimesChanged",resizeCursors:"resizeCursors"},outputs:{eventClicked:"eventClicked",hourSegmentClicked:"hourSegmentClicked",eventTimesChanged:"eventTimesChanged",beforeViewRender:"beforeViewRender"},decls:1,vars:27,consts:[[1,"cal-day-view",3,"daysInWeek","viewDate","events","hourSegments","hourDuration","hourSegmentHeight","minimumEventHeight","dayStartHour","dayStartMinute","dayEndHour","dayEndMinute","refresh","locale","eventSnapSize","tooltipPlacement","tooltipTemplate","tooltipAppendToBody","tooltipDelay","resizeCursors","hourSegmentTemplate","eventTemplate","eventTitleTemplate","eventActionsTemplate","snapDraggedEvents","allDayEventsLabelTemplate","currentTimeMarkerTemplate","validateEventTimesChanged","eventClicked","hourSegmentClicked","eventTimesChanged","beforeViewRender"]],template:function(e,i){1&e&&(a.TgZ(0,"mwl-calendar-week-view",0),a.NdJ("eventClicked",function(s){return i.eventClicked.emit(s)})("hourSegmentClicked",function(s){return i.hourSegmentClicked.emit(s)})("eventTimesChanged",function(s){return i.eventTimesChanged.emit(s)})("beforeViewRender",function(s){return i.beforeViewRender.emit(s)}),a.qZA()),2&e&&a.Q6J("daysInWeek",1)("viewDate",i.viewDate)("events",i.events)("hourSegments",i.hourSegments)("hourDuration",i.hourDuration)("hourSegmentHeight",i.hourSegmentHeight)("minimumEventHeight",i.minimumEventHeight)("dayStartHour",i.dayStartHour)("dayStartMinute",i.dayStartMinute)("dayEndHour",i.dayEndHour)("dayEndMinute",i.dayEndMinute)("refresh",i.refresh)("locale",i.locale)("eventSnapSize",i.eventSnapSize)("tooltipPlacement",i.tooltipPlacement)("tooltipTemplate",i.tooltipTemplate)("tooltipAppendToBody",i.tooltipAppendToBody)("tooltipDelay",i.tooltipDelay)("resizeCursors",i.resizeCursors)("hourSegmentTemplate",i.hourSegmentTemplate)("eventTemplate",i.eventTemplate)("eventTitleTemplate",i.eventTitleTemplate)("eventActionsTemplate",i.eventActionsTemplate)("snapDraggedEvents",i.snapDraggedEvents)("allDayEventsLabelTemplate",i.allDayEventsLabelTemplate)("currentTimeMarkerTemplate",i.currentTimeMarkerTemplate)("validateEventTimesChanged",i.validateEventTimesChanged)},dependencies:[JW],encapsulation:2}),n})(),e5=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=a.oAB({type:n}),n.\u0275inj=a.cJS({imports:[Fi,cS,gV]}),n})(),Ele=(()=>{class n{static forRoot(e,i={}){return{ngModule:n,providers:[e,i.eventTitleFormatter||cV,i.dateFormatter||UN,i.utils||zN,i.a11y||HN]}}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=a.oAB({type:n}),n.\u0275inj=a.cJS({imports:[cS,QW,gV,e5,cS,QW,gV,e5]}),n})();const k_=void 0,t5=["en",[["a","p"],["AM","PM"],k_],[["AM","PM"],k_,k_],[["S","M","T","W","T","F","S"],["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],["Su","Mo","Tu","We","Th","Fr","Sa"]],k_,[["J","F","M","A","M","J","J","A","S","O","N","D"],["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],["January","February","March","April","May","June","July","August","September","October","November","December"]],k_,[["B","A"],["BC","AD"],["Before Christ","Anno Domini"]],0,[6,0],["M/d/yy","MMM d, y","MMMM d, y","EEEE, MMMM d, y"],["h:mm a","h:mm:ss a","h:mm:ss a z","h:mm:ss a zzzz"],["{1}, {0}",k_,"{1} 'at' {0}",k_],[".",",",";","%","+","-","E","\xd7","\u2030","\u221e","NaN",":"],["#,##0.###","#,##0%","\xa4#,##0.00","#E0"],"USD","$","US Dollar",{},"ltr",function Dle(n){const e=Math.floor(Math.abs(n)),i=n.toString().replace(/^[^.]*\.?/,"").length;return 1===e&&0===i?1:5}],Tle={red:{primary:"#ad2121",secondary:"#FAE3E3"},blue:{primary:"#1e90ff",secondary:"#D1E8FF"},yellow:{primary:"#e3bc08",secondary:"#FDF1BA"},black:{primary:"#000000",secondary:"#000000"},green:{primary:"#2D6F28",secondary:"#2D6F28"}};let n5=(()=>{class n{constructor(e,i){this.storageService=e,this.apiservice=i,this.uid="",this.eventListSubject=new Pn.x,this.eventList=[],this.EventList=this.eventListSubject.asObservable();var r=e.SessionGetStorage("uid");this.apiservice.getAppointments(r).then(s=>{s.forEach(c=>{var p;p=this.parseDateFromString(c.start_date)<new Date?"black":"green",this.addEvent({start:this.parseDateFromString(c.start_date),end:this.parseDateFromString(c.end_date),title:"Bobby",color:{...Tle[p]}})})})}parseDateFromString(e){const r=e.match(/^(\d{2})(\d{2})(\d{4})_(\d{2}):(\d{2})$/);if(r){const s=parseInt(r[1]),c=parseInt(r[2])-1,p=parseInt(r[3]),_=parseInt(r[4]),C=parseInt(r[5]),M=new Date(p,c,s,_,C);if(!isNaN(M.getTime()))return M}return null}addEvent(e){this.eventList.push(e),this.eventListSubject.next(this.eventList)}static#e=this.\u0275fac=function(i){return new(i||n)(a.LFG(D_),a.LFG(T_))};static#t=this.\u0275prov=a.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})();const Sle=["modalContent"];function Ale(n,t){if(1&n){const e=a.EpF();a.TgZ(0,"mwl-calendar-month-view",10),a.NdJ("dayClicked",function(r){a.CHM(e);const s=a.oxw();return a.KtG(s.dayClicked(r.day))}),a.qZA()}if(2&n){const e=a.oxw();a.Q6J("locale",e.locale)("viewDate",e.viewDate)("events",e.events)("refresh",e.refresh)("activeDayIsOpen",e.activeDayIsOpen)}}function Ile(n,t){if(1&n&&a._UZ(0,"mwl-calendar-week-view",11),2&n){const e=a.oxw();a.Q6J("locale",e.locale)("viewDate",e.viewDate)("events",e.events)("refresh",e.refresh)}}function Mle(n,t){if(1&n&&a._UZ(0,"mwl-calendar-day-view",11),2&n){const e=a.oxw();a.Q6J("locale",e.locale)("viewDate",e.viewDate)("events",e.events)("refresh",e.refresh)}}v(t5);let i5=(()=>{class n{constructor(e,i,r,s){this.modal=e,this.storageService=i,this.apiService=r,this.appointmentService=s,this.locale="en",this.view=sp.Month,this.CalendarView=sp,this.viewDate=new Date,this.refresh=new Pn.x,this.events=[],this.activeDayIsOpen=!0,console.log("visual")}ngOnInit(){this.events=this.appointmentService.eventList,this.appointmentService.EventList.subscribe(e=>{this.events=e})}dayClicked({date:e,events:i}){bW(e,this.viewDate)&&(this.activeDayIsOpen=!(wW(this.viewDate,e)&&!0===this.activeDayIsOpen||0===i.length),this.viewDate=e)}setView(e){this.view=e}closeOpenMonthViewDay(){this.activeDayIsOpen=!1}static#e=this.\u0275fac=function(i){return new(i||n)(a.Y36(hB),a.Y36(D_),a.Y36(T_),a.Y36(n5))};static#t=this.\u0275cmp=a.Xpm({type:n,selectors:[["app-visual-appointments"]],viewQuery:function(i,r){if(1&i&&a.Gf(Sle,7),2&i){let s;a.iGM(s=a.CRH())&&(r.modalContent=s.first)}},decls:27,vars:20,consts:[[1,"row","text-center"],[1,"col-md-4"],[1,"btn-group"],["mwlCalendarPreviousView","",1,"btn","btn-dark",3,"view","viewDate","viewDateChange"],["mwlCalendarToday","",1,"btn","btn-outline-secondary",3,"viewDate","viewDateChange"],["mwlCalendarNextView","",1,"btn","btn-dark",3,"view","viewDate","viewDateChange"],[1,"btn","btn-dark",3,"click"],[3,"ngSwitch"],[3,"locale","viewDate","events","refresh","activeDayIsOpen","dayClicked",4,"ngSwitchCase"],[3,"locale","viewDate","events","refresh",4,"ngSwitchCase"],[3,"locale","viewDate","events","refresh","activeDayIsOpen","dayClicked"],[3,"locale","viewDate","events","refresh"]],template:function(i,r){1&i&&(a._UZ(0,"br"),a.TgZ(1,"div",0)(2,"div",1)(3,"div",2)(4,"div",3),a.NdJ("viewDateChange",function(c){return r.viewDate=c})("viewDateChange",function(){return r.closeOpenMonthViewDay()}),a._uU(5," Previous "),a.qZA(),a.TgZ(6,"div",4),a.NdJ("viewDateChange",function(c){return r.viewDate=c}),a._uU(7," Today "),a.qZA(),a.TgZ(8,"div",5),a.NdJ("viewDateChange",function(c){return r.viewDate=c})("viewDateChange",function(){return r.closeOpenMonthViewDay()}),a._uU(9," Next "),a.qZA()()(),a.TgZ(10,"div",1)(11,"h3"),a._uU(12),a.ALo(13,"calendarDate"),a.qZA()(),a.TgZ(14,"div",1)(15,"div",2)(16,"div",6),a.NdJ("click",function(){return r.setView(r.CalendarView.Month)}),a._uU(17," Month "),a.qZA(),a.TgZ(18,"div",6),a.NdJ("click",function(){return r.setView(r.CalendarView.Week)}),a._uU(19," Week "),a.qZA(),a.TgZ(20,"div",6),a.NdJ("click",function(){return r.setView(r.CalendarView.Day)}),a._uU(21," Day "),a.qZA()()()(),a._UZ(22,"br"),a.TgZ(23,"div",7),a.YNc(24,Ale,1,5,"mwl-calendar-month-view",8),a.YNc(25,Ile,1,4,"mwl-calendar-week-view",9),a.YNc(26,Mle,1,4,"mwl-calendar-day-view",9),a.qZA()),2&i&&(a.xp6(4),a.Q6J("view",r.view)("viewDate",r.viewDate),a.xp6(2),a.Q6J("viewDate",r.viewDate),a.xp6(2),a.Q6J("view",r.view)("viewDate",r.viewDate),a.xp6(4),a.Oqu(a.Dn7(13,16,r.viewDate,r.view+"ViewTitle","en")),a.xp6(4),a.ekj("active",r.view===r.CalendarView.Month),a.xp6(2),a.ekj("active",r.view===r.CalendarView.Week),a.xp6(2),a.ekj("active",r.view===r.CalendarView.Day),a.xp6(3),a.Q6J("ngSwitch",r.view),a.xp6(1),a.Q6J("ngSwitchCase",r.CalendarView.Month),a.xp6(1),a.Q6J("ngSwitchCase",r.CalendarView.Week),a.xp6(1),a.Q6J("ngSwitchCase",r.CalendarView.Day))},dependencies:[R,$,lle,cle,ule,mle,JW,Cle,lS]})}return n})(),kle=(()=>{class n{redirectClientPage(e){}static#e=this.\u0275fac=function(i){return new(i||n)};static#t=this.\u0275cmp=a.Xpm({type:n,selectors:[["app-dashboard"]],decls:64,vars:0,consts:[[2,"margin-top","100px"],[2,"margin-right","-20px"],[1,"whiteButton",3,"click"],[2,"column-count","2"],["src","/assets/img/dogImage1.jpg",2,"width","200px"],[2,"text-align","left"],[2,"font-weight","bold"],[2,"margin-right","-20px","margin-top","20px"]],template:function(i,r){1&i&&(a.TgZ(0,"h1"),a._uU(1," Welcome Ramon Rosales\n"),a.qZA(),a.TgZ(2,"h2"),a._uU(3,"Great to have you here!"),a.qZA(),a.TgZ(4,"div"),a._UZ(5,"app-visual-appointments"),a.qZA(),a.TgZ(6,"h2",0),a._uU(7," Today's visits\n"),a.qZA(),a.TgZ(8,"table",1)(9,"tr")(10,"th")(11,"button",2),a.NdJ("click",function(){return r.redirectClientPage("1234")}),a.TgZ(12,"div",3)(13,"div"),a._UZ(14,"img",4),a.qZA(),a.TgZ(15,"div",5)(16,"p",6),a._uU(17,"Dobby"),a.qZA(),a.TgZ(18,"ul")(19,"li"),a._uU(20,"Matter: Dobby has a strange growth"),a.qZA(),a.TgZ(21,"li"),a._uU(22,"Observations: Artritis"),a.qZA()()()()()(),a.TgZ(23,"th")(24,"button",2),a.NdJ("click",function(){return r.redirectClientPage("1234")}),a.TgZ(25,"div",3)(26,"div"),a._UZ(27,"img",4),a.qZA(),a.TgZ(28,"div",5)(29,"p",6),a._uU(30,"Dobby"),a.qZA(),a.TgZ(31,"ul")(32,"li"),a._uU(33,"Matter: Dobby has a strange growth"),a.qZA(),a.TgZ(34,"li"),a._uU(35,"Observations: Artritis"),a.qZA()()()()()()()(),a.TgZ(36,"table",7)(37,"tr")(38,"th")(39,"button",2),a.NdJ("click",function(){return r.redirectClientPage("1234")}),a.TgZ(40,"div",3)(41,"div"),a._UZ(42,"img",4),a.qZA(),a.TgZ(43,"div",5)(44,"p",6),a._uU(45,"Dobby"),a.qZA(),a.TgZ(46,"ul")(47,"li"),a._uU(48,"Matter: Dobby has a strange growth"),a.qZA(),a.TgZ(49,"li"),a._uU(50,"Observations: Artritis"),a.qZA()()()()()(),a.TgZ(51,"th")(52,"button",2),a.NdJ("click",function(){return r.redirectClientPage("1234")}),a.TgZ(53,"div",3)(54,"div"),a._UZ(55,"img",4),a.qZA(),a.TgZ(56,"div",5)(57,"p",6),a._uU(58,"Dobby"),a.qZA(),a.TgZ(59,"ul")(60,"li"),a._uU(61,"Matter: Dobby has a strange growth"),a.qZA(),a.TgZ(62,"li"),a._uU(63,"Observations: Artritis"),a.qZA()()()()()()()())},dependencies:[i5],styles:[".whiteButton[_ngcontent-%COMP%]{border-color:transparent;background-color:#fff;padding:20px;border-radius:20px;width:480px;margin-right:50px;box-shadow:#959da533 0 8px 24px}.whiteButton[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{border-radius:20px}"]})}return n})();const Ole=["modalContent"];function Nle(n,t){if(1&n){const e=a.EpF();a.TgZ(0,"tr")(1,"td")(2,"input",6),a.NdJ("ngModelChange",function(r){const c=a.CHM(e).$implicit;return a.KtG(c.title=r)})("keyup",function(){a.CHM(e);const r=a.oxw();return a.KtG(r.refresh.next())}),a.qZA()(),a.TgZ(3,"td")(4,"input",7),a.NdJ("ngModelChange",function(r){const c=a.CHM(e).$implicit;return a.KtG(c.start=r)})("ngModelChange",function(){a.CHM(e);const r=a.oxw();return a.KtG(r.refresh.next())}),a.qZA()(),a.TgZ(5,"td")(6,"input",8),a.NdJ("ngModelChange",function(r){const c=a.CHM(e).$implicit;return a.KtG(c.end=r)})("ngModelChange",function(){a.CHM(e);const r=a.oxw();return a.KtG(r.refresh.next())}),a.qZA()(),a.TgZ(7,"td")(8,"input",6),a.NdJ("ngModelChange",function(r){const c=a.CHM(e).$implicit;return a.KtG(c.title=r)})("keyup",function(){a.CHM(e);const r=a.oxw();return a.KtG(r.refresh.next())}),a.qZA()(),a.TgZ(9,"td")(10,"button",9),a._uU(11," Delete "),a.qZA()()()}if(2&n){const e=t.$implicit,i=a.oxw();a.xp6(2),a.Q6J("ngModel",e.title),a.xp6(2),a.Q6J("locale",i.locale)("ngModel",e.start)("altInput",!0)("convertModelValue",!0)("enableTime",!0),a.xp6(2),a.Q6J("ngModel",e.end)("altInput",!0)("convertModelValue",!0)("enableTime",!0),a.xp6(2),a.Q6J("ngModel",e.title)}}v(t5);let Ple=(()=>{class n{constructor(e,i,r,s){this.modal=e,this.storageService=i,this.apiService=r,this.appointmentService=s,this.locale="en",this.view=sp.Month,this.CalendarView=sp,this.viewDate=new Date,this.refresh=new Pn.x,this.events=[],this.activeDayIsOpen=!0,console.log("controller"),this.appointmentService.EventList.subscribe(c=>{this.events=c,console.log(c)})}ngOnInit(){this.events=this.appointmentService.eventList,this.appointmentService.EventList.subscribe(e=>{this.events=e})}static#e=this.\u0275fac=function(i){return new(i||n)(a.Y36(hB),a.Y36(D_),a.Y36(T_),a.Y36(n5))};static#t=this.\u0275cmp=a.Xpm({type:n,selectors:[["app-controller-appointments"]],viewQuery:function(i,r){if(1&i&&a.Gf(Ole,7),2&i){let s;a.iGM(s=a.CRH())&&(r.modalContent=s.first)}},decls:22,vars:1,consts:[[1,"button-84-normal","float-end"],[1,"button-84-success","float-end",2,"margin-right","10px"],[1,"clearfix"],[1,"table-responsive"],[1,"table","table-bordered"],[4,"ngFor","ngForOf"],["type","text",1,"form-control",3,"ngModel","ngModelChange","keyup"],["type","text","mwlFlatpickr","","dateFormat","Y-m-dTH:i","altFormat","F j, Y H:i","placeholder","Not set",1,"form-control",3,"locale","ngModel","altInput","convertModelValue","enableTime","ngModelChange"],["type","text","mwlFlatpickr","","dateFormat","Y-m-dTH:i","altFormat","F j, Y H:i","placeholder","Not set",1,"form-control",3,"ngModel","altInput","convertModelValue","enableTime","ngModelChange"],[1,"button-84-failure"]],template:function(i,r){1&i&&(a.TgZ(0,"h3")(1,"strong"),a._uU(2,"Edit Appointments"),a.qZA(),a.TgZ(3,"button",0),a._uU(4," Add new "),a.qZA(),a.TgZ(5,"button",1),a._uU(6," Save "),a.qZA(),a._UZ(7,"div",2),a.qZA(),a.TgZ(8,"div",3)(9,"table",4)(10,"thead")(11,"tr")(12,"th"),a._uU(13,"Name"),a.qZA(),a.TgZ(14,"th"),a._uU(15,"Begins"),a.qZA(),a.TgZ(16,"th"),a._uU(17,"Ends"),a.qZA(),a.TgZ(18,"th"),a._uU(19,"Pet"),a.qZA()()(),a.TgZ(20,"tbody"),a.YNc(21,Nle,12,11,"tr",5),a.qZA()()()),2&i&&(a.xp6(21),a.Q6J("ngForOf",r.events))},dependencies:[U,lj,lT,jF,JF],styles:[".button-84-normal[_ngcontent-%COMP%]{align-items:center;background-color:initial;background-image:linear-gradient(rgb(0,0,0),rgba(0,0,0,.664));border-radius:8px;border-width:0;box-sizing:border-box;color:#fff;cursor:pointer;display:inline-flex;flex-direction:column;font-family:ITCAvantGardeStd-Bk,Arial,sans-serif;font-size:18px;height:40px;justify-content:center;line-height:1;margin:0;outline:none;overflow:hidden;padding:0 32px;text-align:center;text-decoration:none;transform:translateZ(0);transition:all .15s;vertical-align:baseline;white-space:nowrap;user-select:none;-webkit-user-select:none;touch-action:manipulation}.button-84-normal[_ngcontent-%COMP%]:hover{box-shadow:#000 0 2px 8px;opacity:.85}.button-84-normal[_ngcontent-%COMP%]:active{outline:0}.button-84-normal[_ngcontent-%COMP%]:focus{box-shadow:#000 0 0 0 3px}.button-84-success[_ngcontent-%COMP%]{align-items:center;background-color:initial;background-image:linear-gradient(rgb(22,102,22),rgba(20,85,11,.664));border-radius:8px;border-width:0;box-sizing:border-box;color:#fff;cursor:pointer;display:inline-flex;flex-direction:column;font-family:ITCAvantGardeStd-Bk,Arial,sans-serif;font-size:18px;height:40px;justify-content:center;line-height:1;margin:0;outline:none;overflow:hidden;padding:0 32px;text-align:center;text-decoration:none;transform:translateZ(0);transition:all .15s;vertical-align:baseline;white-space:nowrap;user-select:none;-webkit-user-select:none;touch-action:manipulation}.button-84-success[_ngcontent-%COMP%]:hover{box-shadow:#0d3b0d 0 2px 8px;opacity:.85}.button-84-success[_ngcontent-%COMP%]:active{outline:0}.button-84-success[_ngcontent-%COMP%]:focus{box-shadow:#166616 0 0 0 3px}.button-84-failure[_ngcontent-%COMP%]{align-items:center;background-color:initial;background-image:linear-gradient(rgb(177,35,35),rgb(151,14,14));border-radius:8px;border-width:0;box-sizing:border-box;color:#fff;cursor:pointer;display:inline-flex;flex-direction:column;font-family:ITCAvantGardeStd-Bk,Arial,sans-serif;font-size:18px;height:40px;justify-content:center;line-height:1;margin:0;outline:none;overflow:hidden;padding:0 32px;text-align:center;text-decoration:none;transform:translateZ(0);transition:all .15s;vertical-align:baseline;white-space:nowrap;user-select:none;-webkit-user-select:none;touch-action:manipulation}.button-84-failure[_ngcontent-%COMP%]:hover{box-shadow:#b12323 0 2px 8px;opacity:.85}.button-84-failure[_ngcontent-%COMP%]:active{outline:0}.button-84-failure[_ngcontent-%COMP%]:focus{box-shadow:#b12323 0 0 0 3px}@media (max-width: 420px){.button-84[_ngcontent-%COMP%]{height:48px}}"]})}return n})(),Rle=(()=>{class n{static#e=this.\u0275fac=function(i){return new(i||n)};static#t=this.\u0275cmp=a.Xpm({type:n,selectors:[["app-appointments"]],decls:2,vars:0,template:function(i,r){1&i&&a._UZ(0,"app-visual-appointments")(1,"app-controller-appointments")},dependencies:[Ple,i5]})}return n})();function Fle(n,t){1&n&&(a.TgZ(0,"div",5),a._UZ(1,"mat-spinner"),a.qZA())}function Lle(n,t){if(1&n){const e=a.EpF();a.TgZ(0,"th")(1,"button",6),a.NdJ("click",function(){const s=a.CHM(e).$implicit,c=a.oxw();return a.KtG(c.redirectClientPage(s.id))}),a.TgZ(2,"div",7)(3,"div"),a._UZ(4,"img",8),a.qZA(),a.TgZ(5,"div",9)(6,"p",10),a._uU(7),a.qZA(),a.TgZ(8,"ul")(9,"li"),a._uU(10),a.qZA(),a.TgZ(11,"li"),a._uU(12),a.qZA()()()()()()}if(2&n){const e=t.$implicit;a.xp6(1),a.s9C("id",e.id),a.xp6(6),a.AsE("",e.name," ",e.surnames,""),a.xp6(3),a.hij("Email: ",e.email,""),a.xp6(2),a.hij("Phone: ",e.phone,"")}}let Ble=(()=>{class n{constructor(e,i,r){this.router=e,this.apiService=i,this.storageService=r,this.showData(),this.clientsArray=[],this.contentIsLoad=!0}showData(){var e=this.storageService.SessionGetStorage("uid");this.apiService.getClients(e).then(i=>{this.clientsArray=i,this.contentIsLoad=!1})}onKeyDown(e){"Enter"===e.key&&e.target instanceof HTMLInputElement&&(alert("Searching client..."),this.router.navigate(["clients/client"],{queryParams:{uid:""}}))}redirectClientPage(e){this.router.navigate(["clients/client"],{queryParams:{uid:e}})}static#e=this.\u0275fac=function(i){return new(i||n)(a.Y36(va),a.Y36(T_),a.Y36(D_))};static#t=this.\u0275cmp=a.Xpm({type:n,selectors:[["app-clients-page"]],decls:18,vars:2,consts:[[1,"module"],["id","searchClient","type","text","placeholder","John Doe",1,"searchBar",3,"keydown"],["style","padding-left: 460px;",4,"ngIf"],[2,"margin-right","-20px"],[4,"ngFor","ngForOf"],[2,"padding-left","460px"],[1,"whiteButton",3,"id","click"],[2,"column-count","2"],["src","/assets/img/userProfileImage.jpg",2,"width","200px"],[2,"text-align","left"],[2,"font-weight","bold"]],template:function(i,r){1&i&&(a.TgZ(0,"div")(1,"h1"),a._uU(2,"Clients"),a.qZA()(),a.TgZ(3,"div",0)(4,"h2"),a._uU(5,"Search clients"),a.qZA(),a.TgZ(6,"input",1),a.NdJ("keydown",function(c){return r.onKeyDown(c)}),a.qZA()(),a.TgZ(7,"div",0)(8,"h2"),a._uU(9,"Recent clients"),a.qZA(),a.YNc(10,Fle,2,0,"div",2),a.TgZ(11,"table",3)(12,"tr"),a.YNc(13,Lle,13,5,"th",4),a.qZA()(),a._UZ(14,"br")(15,"br")(16,"br")(17,"br"),a.qZA()),2&i&&(a.xp6(10),a.Q6J("ngIf",r.contentIsLoad),a.xp6(3),a.Q6J("ngForOf",r.clientsArray))},dependencies:[U,Q,Die],styles:[".mat-ripple[_ngcontent-%COMP%]{overflow:hidden;position:relative}.mat-ripple[_ngcontent-%COMP%]:not(:empty){transform:translateZ(0)}.mat-ripple.mat-ripple-unbounded[_ngcontent-%COMP%]{overflow:visible}.mat-ripple-element[_ngcontent-%COMP%]{position:absolute;border-radius:50%;pointer-events:none;transition:opacity,transform 0ms cubic-bezier(0,0,.2,1);transform:scale3d(0,0,0)}.cdk-high-contrast-active[_ngcontent-%COMP%]   .mat-ripple-element[_ngcontent-%COMP%]{display:none}.cdk-visually-hidden[_ngcontent-%COMP%]{border:0;clip:rect(0 0 0 0);height:1px;margin:-1px;overflow:hidden;padding:0;position:absolute;width:1px;white-space:nowrap;outline:0;-webkit-appearance:none;-moz-appearance:none;left:0}[dir=rtl][_ngcontent-%COMP%]   .cdk-visually-hidden[_ngcontent-%COMP%]{left:auto;right:0}.cdk-overlay-container[_ngcontent-%COMP%], .cdk-global-overlay-wrapper[_ngcontent-%COMP%]{pointer-events:none;top:0;left:0;height:100%;width:100%}.cdk-overlay-container[_ngcontent-%COMP%]{position:fixed;z-index:1000}.cdk-overlay-container[_ngcontent-%COMP%]:empty{display:none}.cdk-global-overlay-wrapper[_ngcontent-%COMP%]{display:flex;position:absolute;z-index:1000}.cdk-overlay-pane[_ngcontent-%COMP%]{position:absolute;pointer-events:auto;box-sizing:border-box;z-index:1000;display:flex;max-width:100%;max-height:100%}.cdk-overlay-backdrop[_ngcontent-%COMP%]{position:absolute;inset:0;z-index:1000;pointer-events:auto;-webkit-tap-highlight-color:rgba(0,0,0,0);transition:opacity .4s cubic-bezier(.25,.8,.25,1);opacity:0}.cdk-overlay-backdrop.cdk-overlay-backdrop-showing[_ngcontent-%COMP%]{opacity:1}.cdk-high-contrast-active[_ngcontent-%COMP%]   .cdk-overlay-backdrop.cdk-overlay-backdrop-showing[_ngcontent-%COMP%]{opacity:.6}.cdk-overlay-dark-backdrop[_ngcontent-%COMP%]{background:rgba(0,0,0,.32)}.cdk-overlay-transparent-backdrop[_ngcontent-%COMP%]{transition:visibility 1ms linear,opacity 1ms linear;visibility:hidden;opacity:1}.cdk-overlay-transparent-backdrop.cdk-overlay-backdrop-showing[_ngcontent-%COMP%]{opacity:0;visibility:visible}.cdk-overlay-backdrop-noop-animation[_ngcontent-%COMP%]{transition:none}.cdk-overlay-connected-position-bounding-box[_ngcontent-%COMP%]{position:absolute;z-index:1000;display:flex;flex-direction:column;min-width:1px;min-height:1px}.cdk-global-scrollblock[_ngcontent-%COMP%]{position:fixed;width:100%;overflow-y:scroll}textarea.cdk-textarea-autosize[_ngcontent-%COMP%]{resize:none}textarea.cdk-textarea-autosize-measuring[_ngcontent-%COMP%]{padding:2px 0!important;box-sizing:content-box!important;height:auto!important;overflow:hidden!important}textarea.cdk-textarea-autosize-measuring-firefox[_ngcontent-%COMP%]{padding:2px 0!important;box-sizing:content-box!important;height:0!important}@keyframes _ngcontent-%COMP%_cdk-text-field-autofill-start{}@keyframes _ngcontent-%COMP%_cdk-text-field-autofill-end{}.cdk-text-field-autofill-monitored[_ngcontent-%COMP%]:-webkit-autofill{animation:_ngcontent-%COMP%_cdk-text-field-autofill-start 0s 1ms}.cdk-text-field-autofill-monitored[_ngcontent-%COMP%]:not(:-webkit-autofill){animation:_ngcontent-%COMP%_cdk-text-field-autofill-end 0s 1ms}.mat-focus-indicator[_ngcontent-%COMP%]{position:relative}.mat-focus-indicator[_ngcontent-%COMP%]:before{inset:0;position:absolute;box-sizing:border-box;pointer-events:none;display:var(--mat-focus-indicator-display, none);border:var(--mat-focus-indicator-border-width, 3px) var(--mat-focus-indicator-border-style, solid) var(--mat-focus-indicator-border-color, transparent);border-radius:var(--mat-focus-indicator-border-radius, 4px)}.mat-focus-indicator[_ngcontent-%COMP%]:focus:before{content:\"\"}.cdk-high-contrast-active[_ngcontent-%COMP%]{--mat-focus-indicator-display: block}.mat-mdc-focus-indicator[_ngcontent-%COMP%]{position:relative}.mat-mdc-focus-indicator[_ngcontent-%COMP%]:before{inset:0;position:absolute;box-sizing:border-box;pointer-events:none;display:var(--mat-mdc-focus-indicator-display, none);border:var(--mat-mdc-focus-indicator-border-width, 3px) var(--mat-mdc-focus-indicator-border-style, solid) var(--mat-mdc-focus-indicator-border-color, transparent);border-radius:var(--mat-mdc-focus-indicator-border-radius, 4px)}.mat-mdc-focus-indicator[_ngcontent-%COMP%]:focus:before{content:\"\"}.cdk-high-contrast-active[_ngcontent-%COMP%]{--mat-mdc-focus-indicator-display: block}.mat-ripple-element[_ngcontent-%COMP%]{background-color:#0000001a}html[_ngcontent-%COMP%]{--mat-option-selected-state-label-text-color:#3f51b5;--mat-option-label-text-color:rgba(0, 0, 0, .87);--mat-option-hover-state-layer-color:rgba(0, 0, 0, .04);--mat-option-focus-state-layer-color:rgba(0, 0, 0, .04);--mat-option-selected-state-layer-color:rgba(0, 0, 0, .04)}.mat-accent[_ngcontent-%COMP%]{--mat-option-selected-state-label-text-color:#ff4081}.mat-warn[_ngcontent-%COMP%]{--mat-option-selected-state-label-text-color:#f44336}html[_ngcontent-%COMP%]{--mat-optgroup-label-text-color:rgba(0, 0, 0, .87)}.mat-pseudo-checkbox-full[_ngcontent-%COMP%]{color:#0000008a}.mat-pseudo-checkbox-full.mat-pseudo-checkbox-disabled[_ngcontent-%COMP%]{color:#b0b0b0}.mat-primary[_ngcontent-%COMP%]   .mat-pseudo-checkbox-checked.mat-pseudo-checkbox-minimal[_ngcontent-%COMP%]:after, .mat-primary[_ngcontent-%COMP%]   .mat-pseudo-checkbox-indeterminate.mat-pseudo-checkbox-minimal[_ngcontent-%COMP%]:after{color:#3f51b5}.mat-primary[_ngcontent-%COMP%]   .mat-pseudo-checkbox-checked.mat-pseudo-checkbox-full[_ngcontent-%COMP%], .mat-primary[_ngcontent-%COMP%]   .mat-pseudo-checkbox-indeterminate.mat-pseudo-checkbox-full[_ngcontent-%COMP%]{background:#3f51b5}.mat-primary[_ngcontent-%COMP%]   .mat-pseudo-checkbox-checked.mat-pseudo-checkbox-full[_ngcontent-%COMP%]:after, .mat-primary[_ngcontent-%COMP%]   .mat-pseudo-checkbox-indeterminate.mat-pseudo-checkbox-full[_ngcontent-%COMP%]:after{color:#fafafa}.mat-pseudo-checkbox-checked.mat-pseudo-checkbox-minimal[_ngcontent-%COMP%]:after, .mat-pseudo-checkbox-indeterminate.mat-pseudo-checkbox-minimal[_ngcontent-%COMP%]:after{color:#ff4081}.mat-pseudo-checkbox-checked.mat-pseudo-checkbox-full[_ngcontent-%COMP%], .mat-pseudo-checkbox-indeterminate.mat-pseudo-checkbox-full[_ngcontent-%COMP%]{background:#ff4081}.mat-pseudo-checkbox-checked.mat-pseudo-checkbox-full[_ngcontent-%COMP%]:after, .mat-pseudo-checkbox-indeterminate.mat-pseudo-checkbox-full[_ngcontent-%COMP%]:after{color:#fafafa}.mat-accent[_ngcontent-%COMP%]   .mat-pseudo-checkbox-checked.mat-pseudo-checkbox-minimal[_ngcontent-%COMP%]:after, .mat-accent[_ngcontent-%COMP%]   .mat-pseudo-checkbox-indeterminate.mat-pseudo-checkbox-minimal[_ngcontent-%COMP%]:after{color:#ff4081}.mat-accent[_ngcontent-%COMP%]   .mat-pseudo-checkbox-checked.mat-pseudo-checkbox-full[_ngcontent-%COMP%], .mat-accent[_ngcontent-%COMP%]   .mat-pseudo-checkbox-indeterminate.mat-pseudo-checkbox-full[_ngcontent-%COMP%]{background:#ff4081}.mat-accent[_ngcontent-%COMP%]   .mat-pseudo-checkbox-checked.mat-pseudo-checkbox-full[_ngcontent-%COMP%]:after, .mat-accent[_ngcontent-%COMP%]   .mat-pseudo-checkbox-indeterminate.mat-pseudo-checkbox-full[_ngcontent-%COMP%]:after{color:#fafafa}.mat-warn[_ngcontent-%COMP%]   .mat-pseudo-checkbox-checked.mat-pseudo-checkbox-minimal[_ngcontent-%COMP%]:after, .mat-warn[_ngcontent-%COMP%]   .mat-pseudo-checkbox-indeterminate.mat-pseudo-checkbox-minimal[_ngcontent-%COMP%]:after{color:#f44336}.mat-warn[_ngcontent-%COMP%]   .mat-pseudo-checkbox-checked.mat-pseudo-checkbox-full[_ngcontent-%COMP%], .mat-warn[_ngcontent-%COMP%]   .mat-pseudo-checkbox-indeterminate.mat-pseudo-checkbox-full[_ngcontent-%COMP%]{background:#f44336}.mat-warn[_ngcontent-%COMP%]   .mat-pseudo-checkbox-checked.mat-pseudo-checkbox-full[_ngcontent-%COMP%]:after, .mat-warn[_ngcontent-%COMP%]   .mat-pseudo-checkbox-indeterminate.mat-pseudo-checkbox-full[_ngcontent-%COMP%]:after{color:#fafafa}.mat-pseudo-checkbox-disabled.mat-pseudo-checkbox-checked.mat-pseudo-checkbox-minimal[_ngcontent-%COMP%]:after, .mat-pseudo-checkbox-disabled.mat-pseudo-checkbox-indeterminate.mat-pseudo-checkbox-minimal[_ngcontent-%COMP%]:after{color:#b0b0b0}.mat-pseudo-checkbox-disabled.mat-pseudo-checkbox-checked.mat-pseudo-checkbox-full[_ngcontent-%COMP%], .mat-pseudo-checkbox-disabled.mat-pseudo-checkbox-indeterminate.mat-pseudo-checkbox-full[_ngcontent-%COMP%]{background:#b0b0b0}.mat-app-background[_ngcontent-%COMP%]{background-color:#fafafa;color:#000000de}.mat-elevation-z0[_ngcontent-%COMP%], .mat-mdc-elevation-specific.mat-elevation-z0[_ngcontent-%COMP%]{box-shadow:0 0 #0003,0 0 #00000024,0 0 #0000001f}.mat-elevation-z1[_ngcontent-%COMP%], .mat-mdc-elevation-specific.mat-elevation-z1[_ngcontent-%COMP%]{box-shadow:0 2px 1px -1px #0003,0 1px 1px #00000024,0 1px 3px #0000001f}.mat-elevation-z2[_ngcontent-%COMP%], .mat-mdc-elevation-specific.mat-elevation-z2[_ngcontent-%COMP%]{box-shadow:0 3px 1px -2px #0003,0 2px 2px #00000024,0 1px 5px #0000001f}.mat-elevation-z3[_ngcontent-%COMP%], .mat-mdc-elevation-specific.mat-elevation-z3[_ngcontent-%COMP%]{box-shadow:0 3px 3px -2px #0003,0 3px 4px #00000024,0 1px 8px #0000001f}.mat-elevation-z4[_ngcontent-%COMP%], .mat-mdc-elevation-specific.mat-elevation-z4[_ngcontent-%COMP%]{box-shadow:0 2px 4px -1px #0003,0 4px 5px #00000024,0 1px 10px #0000001f}.mat-elevation-z5[_ngcontent-%COMP%], .mat-mdc-elevation-specific.mat-elevation-z5[_ngcontent-%COMP%]{box-shadow:0 3px 5px -1px #0003,0 5px 8px #00000024,0 1px 14px #0000001f}.mat-elevation-z6[_ngcontent-%COMP%], .mat-mdc-elevation-specific.mat-elevation-z6[_ngcontent-%COMP%]{box-shadow:0 3px 5px -1px #0003,0 6px 10px #00000024,0 1px 18px #0000001f}.mat-elevation-z7[_ngcontent-%COMP%], .mat-mdc-elevation-specific.mat-elevation-z7[_ngcontent-%COMP%]{box-shadow:0 4px 5px -2px #0003,0 7px 10px 1px #00000024,0 2px 16px 1px #0000001f}.mat-elevation-z8[_ngcontent-%COMP%], .mat-mdc-elevation-specific.mat-elevation-z8[_ngcontent-%COMP%]{box-shadow:0 5px 5px -3px #0003,0 8px 10px 1px #00000024,0 3px 14px 2px #0000001f}.mat-elevation-z9[_ngcontent-%COMP%], .mat-mdc-elevation-specific.mat-elevation-z9[_ngcontent-%COMP%]{box-shadow:0 5px 6px -3px #0003,0 9px 12px 1px #00000024,0 3px 16px 2px #0000001f}.mat-elevation-z10[_ngcontent-%COMP%], .mat-mdc-elevation-specific.mat-elevation-z10[_ngcontent-%COMP%]{box-shadow:0 6px 6px -3px #0003,0 10px 14px 1px #00000024,0 4px 18px 3px #0000001f}.mat-elevation-z11[_ngcontent-%COMP%], .mat-mdc-elevation-specific.mat-elevation-z11[_ngcontent-%COMP%]{box-shadow:0 6px 7px -4px #0003,0 11px 15px 1px #00000024,0 4px 20px 3px #0000001f}.mat-elevation-z12[_ngcontent-%COMP%], .mat-mdc-elevation-specific.mat-elevation-z12[_ngcontent-%COMP%]{box-shadow:0 7px 8px -4px #0003,0 12px 17px 2px #00000024,0 5px 22px 4px #0000001f}.mat-elevation-z13[_ngcontent-%COMP%], .mat-mdc-elevation-specific.mat-elevation-z13[_ngcontent-%COMP%]{box-shadow:0 7px 8px -4px #0003,0 13px 19px 2px #00000024,0 5px 24px 4px #0000001f}.mat-elevation-z14[_ngcontent-%COMP%], .mat-mdc-elevation-specific.mat-elevation-z14[_ngcontent-%COMP%]{box-shadow:0 7px 9px -4px #0003,0 14px 21px 2px #00000024,0 5px 26px 4px #0000001f}.mat-elevation-z15[_ngcontent-%COMP%], .mat-mdc-elevation-specific.mat-elevation-z15[_ngcontent-%COMP%]{box-shadow:0 8px 9px -5px #0003,0 15px 22px 2px #00000024,0 6px 28px 5px #0000001f}.mat-elevation-z16[_ngcontent-%COMP%], .mat-mdc-elevation-specific.mat-elevation-z16[_ngcontent-%COMP%]{box-shadow:0 8px 10px -5px #0003,0 16px 24px 2px #00000024,0 6px 30px 5px #0000001f}.mat-elevation-z17[_ngcontent-%COMP%], .mat-mdc-elevation-specific.mat-elevation-z17[_ngcontent-%COMP%]{box-shadow:0 8px 11px -5px #0003,0 17px 26px 2px #00000024,0 6px 32px 5px #0000001f}.mat-elevation-z18[_ngcontent-%COMP%], .mat-mdc-elevation-specific.mat-elevation-z18[_ngcontent-%COMP%]{box-shadow:0 9px 11px -5px #0003,0 18px 28px 2px #00000024,0 7px 34px 6px #0000001f}.mat-elevation-z19[_ngcontent-%COMP%], .mat-mdc-elevation-specific.mat-elevation-z19[_ngcontent-%COMP%]{box-shadow:0 9px 12px -6px #0003,0 19px 29px 2px #00000024,0 7px 36px 6px #0000001f}.mat-elevation-z20[_ngcontent-%COMP%], .mat-mdc-elevation-specific.mat-elevation-z20[_ngcontent-%COMP%]{box-shadow:0 10px 13px -6px #0003,0 20px 31px 3px #00000024,0 8px 38px 7px #0000001f}.mat-elevation-z21[_ngcontent-%COMP%], .mat-mdc-elevation-specific.mat-elevation-z21[_ngcontent-%COMP%]{box-shadow:0 10px 13px -6px #0003,0 21px 33px 3px #00000024,0 8px 40px 7px #0000001f}.mat-elevation-z22[_ngcontent-%COMP%], .mat-mdc-elevation-specific.mat-elevation-z22[_ngcontent-%COMP%]{box-shadow:0 10px 14px -6px #0003,0 22px 35px 3px #00000024,0 8px 42px 7px #0000001f}.mat-elevation-z23[_ngcontent-%COMP%], .mat-mdc-elevation-specific.mat-elevation-z23[_ngcontent-%COMP%]{box-shadow:0 11px 14px -7px #0003,0 23px 36px 3px #00000024,0 9px 44px 8px #0000001f}.mat-elevation-z24[_ngcontent-%COMP%], .mat-mdc-elevation-specific.mat-elevation-z24[_ngcontent-%COMP%]{box-shadow:0 11px 15px -7px #0003,0 24px 38px 3px #00000024,0 9px 46px 8px #0000001f}.mat-theme-loaded-marker[_ngcontent-%COMP%]{display:none}html[_ngcontent-%COMP%]{--mat-option-label-text-font:Roboto, sans-serif;--mat-option-label-text-line-height:24px;--mat-option-label-text-size:16px;--mat-option-label-text-tracking:.03125em;--mat-option-label-text-weight:400}html[_ngcontent-%COMP%]{--mat-optgroup-label-text-font:Roboto, sans-serif;--mat-optgroup-label-text-line-height:24px;--mat-optgroup-label-text-size:16px;--mat-optgroup-label-text-tracking:.03125em;--mat-optgroup-label-text-weight:400}.mat-mdc-card[_ngcontent-%COMP%]{--mdc-elevated-card-container-color:white;--mdc-elevated-card-container-elevation:0px 2px 1px -1px rgba(0, 0, 0, .2), 0px 1px 1px 0px rgba(0, 0, 0, .14), 0px 1px 3px 0px rgba(0, 0, 0, .12);--mdc-outlined-card-container-color:white;--mdc-outlined-card-outline-color:rgba(0, 0, 0, .12);--mdc-outlined-card-container-elevation:0px 0px 0px 0px rgba(0, 0, 0, .2), 0px 0px 0px 0px rgba(0, 0, 0, .14), 0px 0px 0px 0px rgba(0, 0, 0, .12);--mat-card-subtitle-text-color:rgba(0, 0, 0, .54)}.mat-mdc-card[_ngcontent-%COMP%]{--mat-card-title-text-font:Roboto, sans-serif;--mat-card-title-text-line-height:32px;--mat-card-title-text-size:20px;--mat-card-title-text-tracking:.0125em;--mat-card-title-text-weight:500;--mat-card-subtitle-text-font:Roboto, sans-serif;--mat-card-subtitle-text-line-height:22px;--mat-card-subtitle-text-size:14px;--mat-card-subtitle-text-tracking:.0071428571em;--mat-card-subtitle-text-weight:500}.mat-mdc-progress-bar[_ngcontent-%COMP%]{--mdc-linear-progress-active-indicator-color:#3f51b5;--mdc-linear-progress-track-color:rgba(63, 81, 181, .25)}.mat-mdc-progress-bar[_ngcontent-%COMP%]   .mdc-linear-progress__buffer-dots[_ngcontent-%COMP%]{background-color:#3f51b540;background-color:var(--mdc-linear-progress-track-color, rgba(63, 81, 181, .25))}@media (forced-colors: active){.mat-mdc-progress-bar[_ngcontent-%COMP%]   .mdc-linear-progress__buffer-dots[_ngcontent-%COMP%]{background-color:ButtonBorder}}@media all and (-ms-high-contrast: none),(-ms-high-contrast: active){.mat-mdc-progress-bar[_ngcontent-%COMP%]   .mdc-linear-progress__buffer-dots[_ngcontent-%COMP%]{background-color:#0000;background-image:url(\"data:image/svg+xml,%3Csvg version='1.1' xmlns='http://www.w3.org/2000/svg' xmlns:xlink='http://www.w3.org/1999/xlink' x='0px' y='0px' enable-background='new 0 0 5 2' xml:space='preserve' viewBox='0 0 5 2' preserveAspectRatio='none slice'%3E%3Ccircle cx='1' cy='1' r='1' fill='rgba(63, 81, 181, 0.25)'/%3E%3C/svg%3E\")}}.mat-mdc-progress-bar[_ngcontent-%COMP%]   .mdc-linear-progress__buffer-bar[_ngcontent-%COMP%]{background-color:#3f51b540;background-color:var(--mdc-linear-progress-track-color, rgba(63, 81, 181, .25))}.mat-mdc-progress-bar.mat-accent[_ngcontent-%COMP%]{--mdc-linear-progress-active-indicator-color:#ff4081;--mdc-linear-progress-track-color:rgba(255, 64, 129, .25)}.mat-mdc-progress-bar.mat-accent[_ngcontent-%COMP%]   .mdc-linear-progress__buffer-dots[_ngcontent-%COMP%]{background-color:#ff408140;background-color:var(--mdc-linear-progress-track-color, rgba(255, 64, 129, .25))}@media (forced-colors: active){.mat-mdc-progress-bar.mat-accent[_ngcontent-%COMP%]   .mdc-linear-progress__buffer-dots[_ngcontent-%COMP%]{background-color:ButtonBorder}}@media all and (-ms-high-contrast: none),(-ms-high-contrast: active){.mat-mdc-progress-bar.mat-accent[_ngcontent-%COMP%]   .mdc-linear-progress__buffer-dots[_ngcontent-%COMP%]{background-color:#0000;background-image:url(\"data:image/svg+xml,%3Csvg version='1.1' xmlns='http://www.w3.org/2000/svg' xmlns:xlink='http://www.w3.org/1999/xlink' x='0px' y='0px' enable-background='new 0 0 5 2' xml:space='preserve' viewBox='0 0 5 2' preserveAspectRatio='none slice'%3E%3Ccircle cx='1' cy='1' r='1' fill='rgba(255, 64, 129, 0.25)'/%3E%3C/svg%3E\")}}.mat-mdc-progress-bar.mat-accent[_ngcontent-%COMP%]   .mdc-linear-progress__buffer-bar[_ngcontent-%COMP%]{background-color:#ff408140;background-color:var(--mdc-linear-progress-track-color, rgba(255, 64, 129, .25))}.mat-mdc-progress-bar.mat-warn[_ngcontent-%COMP%]{--mdc-linear-progress-active-indicator-color:#f44336;--mdc-linear-progress-track-color:rgba(244, 67, 54, .25)}@keyframes _ngcontent-%COMP%_mdc-linear-progress-buffering{}.mat-mdc-progress-bar.mat-warn[_ngcontent-%COMP%]   .mdc-linear-progress__buffer-dots[_ngcontent-%COMP%]{background-color:#f4433640;background-color:var(--mdc-linear-progress-track-color, rgba(244, 67, 54, .25))}@media (forced-colors: active){.mat-mdc-progress-bar.mat-warn[_ngcontent-%COMP%]   .mdc-linear-progress__buffer-dots[_ngcontent-%COMP%]{background-color:ButtonBorder}}@media all and (-ms-high-contrast: none),(-ms-high-contrast: active){.mat-mdc-progress-bar.mat-warn[_ngcontent-%COMP%]   .mdc-linear-progress__buffer-dots[_ngcontent-%COMP%]{background-color:#0000;background-image:url(\"data:image/svg+xml,%3Csvg version='1.1' xmlns='http://www.w3.org/2000/svg' xmlns:xlink='http://www.w3.org/1999/xlink' x='0px' y='0px' enable-background='new 0 0 5 2' xml:space='preserve' viewBox='0 0 5 2' preserveAspectRatio='none slice'%3E%3Ccircle cx='1' cy='1' r='1' fill='rgba(244, 67, 54, 0.25)'/%3E%3C/svg%3E\")}}.mat-mdc-progress-bar.mat-warn[_ngcontent-%COMP%]   .mdc-linear-progress__buffer-bar[_ngcontent-%COMP%]{background-color:#f4433640;background-color:var(--mdc-linear-progress-track-color, rgba(244, 67, 54, .25))}.mat-mdc-tooltip[_ngcontent-%COMP%]{--mdc-plain-tooltip-container-color:#616161;--mdc-plain-tooltip-supporting-text-color:#fff}.mat-mdc-tooltip[_ngcontent-%COMP%]{--mdc-plain-tooltip-supporting-text-font:Roboto, sans-serif;--mdc-plain-tooltip-supporting-text-size:12px;--mdc-plain-tooltip-supporting-text-weight:400;--mdc-plain-tooltip-supporting-text-tracking:.0333333333em}html[_ngcontent-%COMP%]{--mdc-filled-text-field-caret-color:#3f51b5;--mdc-filled-text-field-focus-active-indicator-color:#3f51b5;--mdc-filled-text-field-focus-label-text-color:rgba(63, 81, 181, .87);--mdc-filled-text-field-container-color:whitesmoke;--mdc-filled-text-field-disabled-container-color:#fafafa;--mdc-filled-text-field-label-text-color:rgba(0, 0, 0, .6);--mdc-filled-text-field-disabled-label-text-color:rgba(0, 0, 0, .38);--mdc-filled-text-field-input-text-color:rgba(0, 0, 0, .87);--mdc-filled-text-field-disabled-input-text-color:rgba(0, 0, 0, .38);--mdc-filled-text-field-input-text-placeholder-color:rgba(0, 0, 0, .6);--mdc-filled-text-field-error-focus-label-text-color:#f44336;--mdc-filled-text-field-error-label-text-color:#f44336;--mdc-filled-text-field-error-caret-color:#f44336;--mdc-filled-text-field-active-indicator-color:rgba(0, 0, 0, .42);--mdc-filled-text-field-disabled-active-indicator-color:rgba(0, 0, 0, .06);--mdc-filled-text-field-hover-active-indicator-color:rgba(0, 0, 0, .87);--mdc-filled-text-field-error-active-indicator-color:#f44336;--mdc-filled-text-field-error-focus-active-indicator-color:#f44336;--mdc-filled-text-field-error-hover-active-indicator-color:#f44336;--mdc-outlined-text-field-caret-color:#3f51b5;--mdc-outlined-text-field-focus-outline-color:#3f51b5;--mdc-outlined-text-field-focus-label-text-color:rgba(63, 81, 181, .87);--mdc-outlined-text-field-label-text-color:rgba(0, 0, 0, .6);--mdc-outlined-text-field-disabled-label-text-color:rgba(0, 0, 0, .38);--mdc-outlined-text-field-input-text-color:rgba(0, 0, 0, .87);--mdc-outlined-text-field-disabled-input-text-color:rgba(0, 0, 0, .38);--mdc-outlined-text-field-input-text-placeholder-color:rgba(0, 0, 0, .6);--mdc-outlined-text-field-error-caret-color:#f44336;--mdc-outlined-text-field-error-focus-label-text-color:#f44336;--mdc-outlined-text-field-error-label-text-color:#f44336;--mdc-outlined-text-field-outline-color:rgba(0, 0, 0, .38);--mdc-outlined-text-field-disabled-outline-color:rgba(0, 0, 0, .06);--mdc-outlined-text-field-hover-outline-color:rgba(0, 0, 0, .87);--mdc-outlined-text-field-error-focus-outline-color:#f44336;--mdc-outlined-text-field-error-hover-outline-color:#f44336;--mdc-outlined-text-field-error-outline-color:#f44336;--mat-form-field-disabled-input-text-placeholder-color:rgba(0, 0, 0, .38)}.mat-mdc-form-field-error[_ngcontent-%COMP%]{color:var(--mdc-theme-error, #f44336)}.mat-mdc-form-field-subscript-wrapper[_ngcontent-%COMP%], .mat-mdc-form-field-bottom-align[_ngcontent-%COMP%]:before{-moz-osx-font-smoothing:grayscale;-webkit-font-smoothing:antialiased;font-family:var(--mat-form-field-subscript-text-font);line-height:var(--mat-form-field-subscript-text-line-height);font-size:var(--mat-form-field-subscript-text-size);letter-spacing:var(--mat-form-field-subscript-text-tracking);font-weight:var(--mat-form-field-subscript-text-weight)}.mat-mdc-form-field-focus-overlay[_ngcontent-%COMP%]{background-color:#000000de}.mat-mdc-form-field[_ngcontent-%COMP%]:hover   .mat-mdc-form-field-focus-overlay[_ngcontent-%COMP%]{opacity:.04}.mat-mdc-form-field.mat-focused[_ngcontent-%COMP%]   .mat-mdc-form-field-focus-overlay[_ngcontent-%COMP%]{opacity:.12}.mat-mdc-form-field-type-mat-native-select[_ngcontent-%COMP%]   .mat-mdc-form-field-infix[_ngcontent-%COMP%]:after{color:#0000008a}.mat-mdc-form-field-type-mat-native-select.mat-focused.mat-primary[_ngcontent-%COMP%]   .mat-mdc-form-field-infix[_ngcontent-%COMP%]:after{color:#3f51b5de}.mat-mdc-form-field-type-mat-native-select.mat-focused.mat-accent[_ngcontent-%COMP%]   .mat-mdc-form-field-infix[_ngcontent-%COMP%]:after{color:#ff4081de}.mat-mdc-form-field-type-mat-native-select.mat-focused.mat-warn[_ngcontent-%COMP%]   .mat-mdc-form-field-infix[_ngcontent-%COMP%]:after{color:#f44336de}.mat-mdc-form-field-type-mat-native-select.mat-form-field-disabled[_ngcontent-%COMP%]   .mat-mdc-form-field-infix[_ngcontent-%COMP%]:after{color:#00000061}.mat-mdc-form-field.mat-accent[_ngcontent-%COMP%]{--mdc-filled-text-field-caret-color:#ff4081;--mdc-filled-text-field-focus-active-indicator-color:#ff4081;--mdc-filled-text-field-focus-label-text-color:rgba(255, 64, 129, .87);--mdc-outlined-text-field-caret-color:#ff4081;--mdc-outlined-text-field-focus-outline-color:#ff4081;--mdc-outlined-text-field-focus-label-text-color:rgba(255, 64, 129, .87)}.mat-mdc-form-field.mat-warn[_ngcontent-%COMP%]{--mdc-filled-text-field-caret-color:#f44336;--mdc-filled-text-field-focus-active-indicator-color:#f44336;--mdc-filled-text-field-focus-label-text-color:rgba(244, 67, 54, .87);--mdc-outlined-text-field-caret-color:#f44336;--mdc-outlined-text-field-focus-outline-color:#f44336;--mdc-outlined-text-field-focus-label-text-color:rgba(244, 67, 54, .87)}.mat-mdc-form-field.mat-mdc-form-field.mat-mdc-form-field.mat-mdc-form-field.mat-mdc-form-field.mat-mdc-form-field[_ngcontent-%COMP%]   .mdc-notched-outline__notch[_ngcontent-%COMP%]{border-left:1px solid rgba(0,0,0,0)}[dir=rtl][_ngcontent-%COMP%]   .mat-mdc-form-field.mat-mdc-form-field.mat-mdc-form-field.mat-mdc-form-field.mat-mdc-form-field.mat-mdc-form-field[_ngcontent-%COMP%]   .mdc-notched-outline__notch[_ngcontent-%COMP%]{border-left:none;border-right:1px solid rgba(0,0,0,0)}.mat-mdc-form-field-infix[_ngcontent-%COMP%]{min-height:56px}.mat-mdc-text-field-wrapper[_ngcontent-%COMP%]   .mat-mdc-form-field-flex[_ngcontent-%COMP%]   .mat-mdc-floating-label[_ngcontent-%COMP%]{top:28px}.mat-mdc-text-field-wrapper.mdc-text-field--outlined[_ngcontent-%COMP%]   .mdc-notched-outline--upgraded[_ngcontent-%COMP%]   .mdc-floating-label--float-above[_ngcontent-%COMP%]{--mat-mdc-form-field-label-transform: translateY( -34.75px) scale(var(--mat-mdc-form-field-floating-label-scale, .75));transform:var(--mat-mdc-form-field-label-transform)}.mat-mdc-text-field-wrapper.mdc-text-field--outlined[_ngcontent-%COMP%]   .mat-mdc-form-field-infix[_ngcontent-%COMP%]{padding-top:16px;padding-bottom:16px}.mat-mdc-text-field-wrapper[_ngcontent-%COMP%]:not(.mdc-text-field--outlined)   .mat-mdc-form-field-infix[_ngcontent-%COMP%]{padding-top:24px;padding-bottom:8px}.mdc-text-field--no-label[_ngcontent-%COMP%]:not(.mdc-text-field--outlined):not(.mdc-text-field--textarea)   .mat-mdc-form-field-infix[_ngcontent-%COMP%]{padding-top:16px;padding-bottom:16px}html[_ngcontent-%COMP%]{--mdc-filled-text-field-label-text-font:Roboto, sans-serif;--mdc-filled-text-field-label-text-size:16px;--mdc-filled-text-field-label-text-tracking:.03125em;--mdc-filled-text-field-label-text-weight:400;--mdc-outlined-text-field-label-text-font:Roboto, sans-serif;--mdc-outlined-text-field-label-text-size:16px;--mdc-outlined-text-field-label-text-tracking:.03125em;--mdc-outlined-text-field-label-text-weight:400;--mat-form-field-container-text-font:Roboto, sans-serif;--mat-form-field-container-text-line-height:24px;--mat-form-field-container-text-size:16px;--mat-form-field-container-text-tracking:.03125em;--mat-form-field-container-text-weight:400;--mat-form-field-outlined-label-text-populated-size:16px;--mat-form-field-subscript-text-font:Roboto, sans-serif;--mat-form-field-subscript-text-line-height:20px;--mat-form-field-subscript-text-size:12px;--mat-form-field-subscript-text-tracking:.0333333333em;--mat-form-field-subscript-text-weight:400}html[_ngcontent-%COMP%]{--mat-select-panel-background-color:white;--mat-select-enabled-trigger-text-color:rgba(0, 0, 0, .87);--mat-select-disabled-trigger-text-color:rgba(0, 0, 0, .38);--mat-select-placeholder-text-color:rgba(0, 0, 0, .6);--mat-select-enabled-arrow-color:rgba(0, 0, 0, .54);--mat-select-disabled-arrow-color:rgba(0, 0, 0, .38);--mat-select-focused-arrow-color:rgba(63, 81, 181, .87);--mat-select-invalid-arrow-color:rgba(244, 67, 54, .87)}html[_ngcontent-%COMP%]   .mat-mdc-form-field.mat-accent[_ngcontent-%COMP%]{--mat-select-panel-background-color:white;--mat-select-enabled-trigger-text-color:rgba(0, 0, 0, .87);--mat-select-disabled-trigger-text-color:rgba(0, 0, 0, .38);--mat-select-placeholder-text-color:rgba(0, 0, 0, .6);--mat-select-enabled-arrow-color:rgba(0, 0, 0, .54);--mat-select-disabled-arrow-color:rgba(0, 0, 0, .38);--mat-select-focused-arrow-color:rgba(255, 64, 129, .87);--mat-select-invalid-arrow-color:rgba(244, 67, 54, .87)}html[_ngcontent-%COMP%]   .mat-mdc-form-field.mat-warn[_ngcontent-%COMP%]{--mat-select-panel-background-color:white;--mat-select-enabled-trigger-text-color:rgba(0, 0, 0, .87);--mat-select-disabled-trigger-text-color:rgba(0, 0, 0, .38);--mat-select-placeholder-text-color:rgba(0, 0, 0, .6);--mat-select-enabled-arrow-color:rgba(0, 0, 0, .54);--mat-select-disabled-arrow-color:rgba(0, 0, 0, .38);--mat-select-focused-arrow-color:rgba(244, 67, 54, .87);--mat-select-invalid-arrow-color:rgba(244, 67, 54, .87)}html[_ngcontent-%COMP%]{--mat-select-trigger-text-font:Roboto, sans-serif;--mat-select-trigger-text-line-height:24px;--mat-select-trigger-text-size:16px;--mat-select-trigger-text-tracking:.03125em;--mat-select-trigger-text-weight:400}html[_ngcontent-%COMP%]{--mat-autocomplete-background-color:white}.mat-mdc-dialog-container[_ngcontent-%COMP%]{--mdc-dialog-container-color:white;--mdc-dialog-subhead-color:rgba(0, 0, 0, .87);--mdc-dialog-supporting-text-color:rgba(0, 0, 0, .6)}.mat-mdc-dialog-container[_ngcontent-%COMP%]{--mdc-dialog-subhead-font:Roboto, sans-serif;--mdc-dialog-subhead-line-height:32px;--mdc-dialog-subhead-size:20px;--mdc-dialog-subhead-weight:500;--mdc-dialog-subhead-tracking:.0125em;--mdc-dialog-supporting-text-font:Roboto, sans-serif;--mdc-dialog-supporting-text-line-height:24px;--mdc-dialog-supporting-text-size:16px;--mdc-dialog-supporting-text-weight:400;--mdc-dialog-supporting-text-tracking:.03125em}.mat-mdc-standard-chip[_ngcontent-%COMP%]{--mdc-chip-disabled-label-text-color:#212121;--mdc-chip-elevated-container-color:#e0e0e0;--mdc-chip-elevated-disabled-container-color:#e0e0e0;--mdc-chip-focus-state-layer-color:black;--mdc-chip-focus-state-layer-opacity:.12;--mdc-chip-label-text-color:#212121;--mdc-chip-with-icon-icon-color:#212121;--mdc-chip-with-icon-disabled-icon-color:#212121;--mdc-chip-with-icon-selected-icon-color:#212121;--mdc-chip-with-trailing-icon-disabled-trailing-icon-color:#212121;--mdc-chip-with-trailing-icon-trailing-icon-color:#212121}.mat-mdc-standard-chip.mat-mdc-chip-selected.mat-primary[_ngcontent-%COMP%], .mat-mdc-standard-chip.mat-mdc-chip-highlighted.mat-primary[_ngcontent-%COMP%]{--mdc-chip-disabled-label-text-color:white;--mdc-chip-elevated-container-color:#3f51b5;--mdc-chip-elevated-disabled-container-color:#3f51b5;--mdc-chip-focus-state-layer-color:black;--mdc-chip-focus-state-layer-opacity:.12;--mdc-chip-label-text-color:white;--mdc-chip-with-icon-icon-color:white;--mdc-chip-with-icon-disabled-icon-color:white;--mdc-chip-with-icon-selected-icon-color:white;--mdc-chip-with-trailing-icon-disabled-trailing-icon-color:white;--mdc-chip-with-trailing-icon-trailing-icon-color:white}.mat-mdc-standard-chip.mat-mdc-chip-selected.mat-accent[_ngcontent-%COMP%], .mat-mdc-standard-chip.mat-mdc-chip-highlighted.mat-accent[_ngcontent-%COMP%]{--mdc-chip-disabled-label-text-color:white;--mdc-chip-elevated-container-color:#ff4081;--mdc-chip-elevated-disabled-container-color:#ff4081;--mdc-chip-focus-state-layer-color:black;--mdc-chip-focus-state-layer-opacity:.12;--mdc-chip-label-text-color:white;--mdc-chip-with-icon-icon-color:white;--mdc-chip-with-icon-disabled-icon-color:white;--mdc-chip-with-icon-selected-icon-color:white;--mdc-chip-with-trailing-icon-disabled-trailing-icon-color:white;--mdc-chip-with-trailing-icon-trailing-icon-color:white}.mat-mdc-standard-chip.mat-mdc-chip-selected.mat-warn[_ngcontent-%COMP%], .mat-mdc-standard-chip.mat-mdc-chip-highlighted.mat-warn[_ngcontent-%COMP%]{--mdc-chip-disabled-label-text-color:white;--mdc-chip-elevated-container-color:#f44336;--mdc-chip-elevated-disabled-container-color:#f44336;--mdc-chip-focus-state-layer-color:black;--mdc-chip-focus-state-layer-opacity:.12;--mdc-chip-label-text-color:white;--mdc-chip-with-icon-icon-color:white;--mdc-chip-with-icon-disabled-icon-color:white;--mdc-chip-with-icon-selected-icon-color:white;--mdc-chip-with-trailing-icon-disabled-trailing-icon-color:white;--mdc-chip-with-trailing-icon-trailing-icon-color:white}.mat-mdc-chip.mat-mdc-standard-chip[_ngcontent-%COMP%]{--mdc-chip-container-height:32px}.mat-mdc-standard-chip[_ngcontent-%COMP%]{--mdc-chip-label-text-font:Roboto, sans-serif;--mdc-chip-label-text-line-height:20px;--mdc-chip-label-text-size:14px;--mdc-chip-label-text-tracking:.0178571429em;--mdc-chip-label-text-weight:400}.mat-mdc-slide-toggle[_ngcontent-%COMP%]{--mdc-switch-selected-focus-state-layer-color:#3949ab;--mdc-switch-selected-handle-color:#3949ab;--mdc-switch-selected-hover-state-layer-color:#3949ab;--mdc-switch-selected-pressed-state-layer-color:#3949ab;--mdc-switch-selected-focus-handle-color:#1a237e;--mdc-switch-selected-hover-handle-color:#1a237e;--mdc-switch-selected-pressed-handle-color:#1a237e;--mdc-switch-selected-focus-track-color:#7986cb;--mdc-switch-selected-hover-track-color:#7986cb;--mdc-switch-selected-pressed-track-color:#7986cb;--mdc-switch-selected-track-color:#7986cb;--mdc-switch-disabled-selected-handle-color:#424242;--mdc-switch-disabled-selected-icon-color:#fff;--mdc-switch-disabled-selected-track-color:#424242;--mdc-switch-disabled-unselected-handle-color:#424242;--mdc-switch-disabled-unselected-icon-color:#fff;--mdc-switch-disabled-unselected-track-color:#424242;--mdc-switch-handle-surface-color:var(--mdc-theme-surface, #fff);--mdc-switch-handle-elevation-shadow:0px 2px 1px -1px rgba(0, 0, 0, .2), 0px 1px 1px 0px rgba(0, 0, 0, .14), 0px 1px 3px 0px rgba(0, 0, 0, .12);--mdc-switch-handle-shadow-color:black;--mdc-switch-disabled-handle-elevation-shadow:0px 0px 0px 0px rgba(0, 0, 0, .2), 0px 0px 0px 0px rgba(0, 0, 0, .14), 0px 0px 0px 0px rgba(0, 0, 0, .12);--mdc-switch-selected-icon-color:#fff;--mdc-switch-unselected-focus-handle-color:#212121;--mdc-switch-unselected-focus-state-layer-color:#424242;--mdc-switch-unselected-focus-track-color:#e0e0e0;--mdc-switch-unselected-handle-color:#616161;--mdc-switch-unselected-hover-handle-color:#212121;--mdc-switch-unselected-hover-state-layer-color:#424242;--mdc-switch-unselected-hover-track-color:#e0e0e0;--mdc-switch-unselected-icon-color:#fff;--mdc-switch-unselected-pressed-handle-color:#212121;--mdc-switch-unselected-pressed-state-layer-color:#424242;--mdc-switch-unselected-pressed-track-color:#e0e0e0;--mdc-switch-unselected-track-color:#e0e0e0}.mat-mdc-slide-toggle[_ngcontent-%COMP%]   .mdc-form-field[_ngcontent-%COMP%]{color:var(--mdc-theme-text-primary-on-background, rgba(0, 0, 0, .87))}.mat-mdc-slide-toggle[_ngcontent-%COMP%]   .mdc-switch--disabled[_ngcontent-%COMP%] + label[_ngcontent-%COMP%]{color:#00000061}.mat-mdc-slide-toggle.mat-accent[_ngcontent-%COMP%]{--mdc-switch-selected-focus-state-layer-color:#d81b60;--mdc-switch-selected-handle-color:#d81b60;--mdc-switch-selected-hover-state-layer-color:#d81b60;--mdc-switch-selected-pressed-state-layer-color:#d81b60;--mdc-switch-selected-focus-handle-color:#880e4f;--mdc-switch-selected-hover-handle-color:#880e4f;--mdc-switch-selected-pressed-handle-color:#880e4f;--mdc-switch-selected-focus-track-color:#f06292;--mdc-switch-selected-hover-track-color:#f06292;--mdc-switch-selected-pressed-track-color:#f06292;--mdc-switch-selected-track-color:#f06292}.mat-mdc-slide-toggle.mat-warn[_ngcontent-%COMP%]{--mdc-switch-selected-focus-state-layer-color:#e53935;--mdc-switch-selected-handle-color:#e53935;--mdc-switch-selected-hover-state-layer-color:#e53935;--mdc-switch-selected-pressed-state-layer-color:#e53935;--mdc-switch-selected-focus-handle-color:#b71c1c;--mdc-switch-selected-hover-handle-color:#b71c1c;--mdc-switch-selected-pressed-handle-color:#b71c1c;--mdc-switch-selected-focus-track-color:#e57373;--mdc-switch-selected-hover-track-color:#e57373;--mdc-switch-selected-pressed-track-color:#e57373;--mdc-switch-selected-track-color:#e57373}.mat-mdc-slide-toggle[_ngcontent-%COMP%]{--mdc-switch-state-layer-size:48px}.mat-mdc-slide-toggle[_ngcontent-%COMP%]{--mat-slide-toggle-label-text-font:Roboto, sans-serif;--mat-slide-toggle-label-text-size:14px;--mat-slide-toggle-label-text-tracking:.0178571429em;--mat-slide-toggle-label-text-line-height:20px;--mat-slide-toggle-label-text-weight:400}.mat-mdc-slide-toggle[_ngcontent-%COMP%]   .mdc-form-field[_ngcontent-%COMP%]{-moz-osx-font-smoothing:grayscale;-webkit-font-smoothing:antialiased;font-family:Roboto,sans-serif;font-family:var(--mdc-typography-body2-font-family, var(--mdc-typography-font-family, Roboto, sans-serif));font-size:.875rem;font-size:var(--mdc-typography-body2-font-size, .875rem);line-height:1.25rem;line-height:var(--mdc-typography-body2-line-height, 1.25rem);font-weight:400;font-weight:var(--mdc-typography-body2-font-weight, 400);letter-spacing:.0178571429em;letter-spacing:var(--mdc-typography-body2-letter-spacing, .0178571429em);text-decoration:inherit;-webkit-text-decoration:var(--mdc-typography-body2-text-decoration, inherit);text-decoration:var(--mdc-typography-body2-text-decoration, inherit);text-transform:inherit;text-transform:var(--mdc-typography-body2-text-transform, inherit)}.mat-mdc-radio-button[_ngcontent-%COMP%]   .mdc-form-field[_ngcontent-%COMP%]{color:var(--mdc-theme-text-primary-on-background, rgba(0, 0, 0, .87))}.mat-mdc-radio-button.mat-primary[_ngcontent-%COMP%]{--mdc-radio-disabled-selected-icon-color:#000;--mdc-radio-disabled-unselected-icon-color:#000;--mdc-radio-unselected-hover-icon-color:#212121;--mdc-radio-unselected-icon-color:rgba(0, 0, 0, .54);--mdc-radio-unselected-pressed-icon-color:rgba(0, 0, 0, .54);--mdc-radio-selected-focus-icon-color:#3f51b5;--mdc-radio-selected-hover-icon-color:#3f51b5;--mdc-radio-selected-icon-color:#3f51b5;--mdc-radio-selected-pressed-icon-color:#3f51b5;--mat-radio-ripple-color:#000;--mat-radio-checked-ripple-color:#3f51b5;--mat-radio-disabled-label-color:rgba(0, 0, 0, .38)}.mat-mdc-radio-button.mat-accent[_ngcontent-%COMP%]{--mdc-radio-disabled-selected-icon-color:#000;--mdc-radio-disabled-unselected-icon-color:#000;--mdc-radio-unselected-hover-icon-color:#212121;--mdc-radio-unselected-icon-color:rgba(0, 0, 0, .54);--mdc-radio-unselected-pressed-icon-color:rgba(0, 0, 0, .54);--mdc-radio-selected-focus-icon-color:#ff4081;--mdc-radio-selected-hover-icon-color:#ff4081;--mdc-radio-selected-icon-color:#ff4081;--mdc-radio-selected-pressed-icon-color:#ff4081;--mat-radio-ripple-color:#000;--mat-radio-checked-ripple-color:#ff4081;--mat-radio-disabled-label-color:rgba(0, 0, 0, .38)}.mat-mdc-radio-button.mat-warn[_ngcontent-%COMP%]{--mdc-radio-disabled-selected-icon-color:#000;--mdc-radio-disabled-unselected-icon-color:#000;--mdc-radio-unselected-hover-icon-color:#212121;--mdc-radio-unselected-icon-color:rgba(0, 0, 0, .54);--mdc-radio-unselected-pressed-icon-color:rgba(0, 0, 0, .54);--mdc-radio-selected-focus-icon-color:#f44336;--mdc-radio-selected-hover-icon-color:#f44336;--mdc-radio-selected-icon-color:#f44336;--mdc-radio-selected-pressed-icon-color:#f44336;--mat-radio-ripple-color:#000;--mat-radio-checked-ripple-color:#f44336;--mat-radio-disabled-label-color:rgba(0, 0, 0, .38)}.mat-mdc-radio-button[_ngcontent-%COMP%]   .mdc-radio[_ngcontent-%COMP%]{--mdc-radio-state-layer-size:40px}.mat-mdc-radio-button[_ngcontent-%COMP%]   .mdc-form-field[_ngcontent-%COMP%]{-moz-osx-font-smoothing:grayscale;-webkit-font-smoothing:antialiased;font-family:var(--mdc-typography-body2-font-family, var(--mdc-typography-font-family, Roboto, sans-serif));font-size:var(--mdc-typography-body2-font-size, 14px);line-height:var(--mdc-typography-body2-line-height, 20px);font-weight:var(--mdc-typography-body2-font-weight, 400);letter-spacing:var(--mdc-typography-body2-letter-spacing, .0178571429em);-webkit-text-decoration:var(--mdc-typography-body2-text-decoration, inherit);text-decoration:var(--mdc-typography-body2-text-decoration, inherit);text-transform:var(--mdc-typography-body2-text-transform, none)}.mat-mdc-slider[_ngcontent-%COMP%]{--mdc-slider-label-container-color:black;--mdc-slider-label-label-text-color:white;--mdc-slider-disabled-handle-color:#000;--mdc-slider-disabled-active-track-color:#000;--mdc-slider-disabled-inactive-track-color:#000;--mdc-slider-with-tick-marks-disabled-container-color:#000;--mat-mdc-slider-value-indicator-opacity: .6}.mat-mdc-slider.mat-primary[_ngcontent-%COMP%]{--mdc-slider-handle-color:#3f51b5;--mdc-slider-focus-handle-color:#3f51b5;--mdc-slider-hover-handle-color:#3f51b5;--mdc-slider-active-track-color:#3f51b5;--mdc-slider-inactive-track-color:#3f51b5;--mdc-slider-with-tick-marks-active-container-color:#fff;--mdc-slider-with-tick-marks-inactive-container-color:#3f51b5;--mat-mdc-slider-ripple-color: #3f51b5;--mat-mdc-slider-hover-ripple-color: rgba(63, 81, 181, .05);--mat-mdc-slider-focus-ripple-color: rgba(63, 81, 181, .2)}.mat-mdc-slider.mat-accent[_ngcontent-%COMP%]{--mdc-slider-handle-color:#ff4081;--mdc-slider-focus-handle-color:#ff4081;--mdc-slider-hover-handle-color:#ff4081;--mdc-slider-active-track-color:#ff4081;--mdc-slider-inactive-track-color:#ff4081;--mdc-slider-with-tick-marks-active-container-color:#fff;--mdc-slider-with-tick-marks-inactive-container-color:#ff4081;--mat-mdc-slider-ripple-color: #ff4081;--mat-mdc-slider-hover-ripple-color: rgba(255, 64, 129, .05);--mat-mdc-slider-focus-ripple-color: rgba(255, 64, 129, .2)}.mat-mdc-slider.mat-warn[_ngcontent-%COMP%]{--mdc-slider-handle-color:#f44336;--mdc-slider-focus-handle-color:#f44336;--mdc-slider-hover-handle-color:#f44336;--mdc-slider-active-track-color:#f44336;--mdc-slider-inactive-track-color:#f44336;--mdc-slider-with-tick-marks-active-container-color:#fff;--mdc-slider-with-tick-marks-inactive-container-color:#f44336;--mat-mdc-slider-ripple-color: #f44336;--mat-mdc-slider-hover-ripple-color: rgba(244, 67, 54, .05);--mat-mdc-slider-focus-ripple-color: rgba(244, 67, 54, .2)}.mat-mdc-slider[_ngcontent-%COMP%]{--mdc-slider-label-label-text-font:Roboto, sans-serif;--mdc-slider-label-label-text-size:14px;--mdc-slider-label-label-text-line-height:22px;--mdc-slider-label-label-text-tracking:.0071428571em;--mdc-slider-label-label-text-weight:500}html[_ngcontent-%COMP%]{--mat-menu-item-label-text-color:rgba(0, 0, 0, .87);--mat-menu-item-icon-color:rgba(0, 0, 0, .87);--mat-menu-item-hover-state-layer-color:rgba(0, 0, 0, .04);--mat-menu-item-focus-state-layer-color:rgba(0, 0, 0, .04);--mat-menu-container-color:white}html[_ngcontent-%COMP%]{--mat-menu-item-label-text-font:Roboto, sans-serif;--mat-menu-item-label-text-size:16px;--mat-menu-item-label-text-tracking:.03125em;--mat-menu-item-label-text-line-height:24px;--mat-menu-item-label-text-weight:400}.mat-mdc-list-base[_ngcontent-%COMP%]{--mdc-list-list-item-label-text-color:rgba(0, 0, 0, .87);--mdc-list-list-item-supporting-text-color:rgba(0, 0, 0, .54);--mdc-list-list-item-leading-icon-color:rgba(0, 0, 0, .38);--mdc-list-list-item-trailing-supporting-text-color:rgba(0, 0, 0, .38);--mdc-list-list-item-trailing-icon-color:rgba(0, 0, 0, .38);--mdc-list-list-item-selected-trailing-icon-color:rgba(0, 0, 0, .38);--mdc-list-list-item-disabled-label-text-color:black;--mdc-list-list-item-disabled-leading-icon-color:black;--mdc-list-list-item-disabled-trailing-icon-color:black;--mdc-list-list-item-hover-label-text-color:rgba(0, 0, 0, .87);--mdc-list-list-item-hover-leading-icon-color:rgba(0, 0, 0, .38);--mdc-list-list-item-hover-trailing-icon-color:rgba(0, 0, 0, .38);--mdc-list-list-item-focus-label-text-color:rgba(0, 0, 0, .87);--mdc-list-list-item-hover-state-layer-color:black;--mdc-list-list-item-hover-state-layer-opacity:.04;--mdc-list-list-item-focus-state-layer-color:black;--mdc-list-list-item-focus-state-layer-opacity:.12}.mdc-list-item__start[_ngcontent-%COMP%], .mdc-list-item__end[_ngcontent-%COMP%]{--mdc-radio-disabled-selected-icon-color:#000;--mdc-radio-disabled-unselected-icon-color:#000;--mdc-radio-unselected-hover-icon-color:#212121;--mdc-radio-unselected-icon-color:rgba(0, 0, 0, .54);--mdc-radio-unselected-pressed-icon-color:rgba(0, 0, 0, .54);--mdc-radio-selected-focus-icon-color:#3f51b5;--mdc-radio-selected-hover-icon-color:#3f51b5;--mdc-radio-selected-icon-color:#3f51b5;--mdc-radio-selected-pressed-icon-color:#3f51b5}.mat-accent[_ngcontent-%COMP%]   .mdc-list-item__start[_ngcontent-%COMP%], .mat-accent[_ngcontent-%COMP%]   .mdc-list-item__end[_ngcontent-%COMP%]{--mdc-radio-disabled-selected-icon-color:#000;--mdc-radio-disabled-unselected-icon-color:#000;--mdc-radio-unselected-hover-icon-color:#212121;--mdc-radio-unselected-icon-color:rgba(0, 0, 0, .54);--mdc-radio-unselected-pressed-icon-color:rgba(0, 0, 0, .54);--mdc-radio-selected-focus-icon-color:#ff4081;--mdc-radio-selected-hover-icon-color:#ff4081;--mdc-radio-selected-icon-color:#ff4081;--mdc-radio-selected-pressed-icon-color:#ff4081}.mat-warn[_ngcontent-%COMP%]   .mdc-list-item__start[_ngcontent-%COMP%], .mat-warn[_ngcontent-%COMP%]   .mdc-list-item__end[_ngcontent-%COMP%]{--mdc-radio-disabled-selected-icon-color:#000;--mdc-radio-disabled-unselected-icon-color:#000;--mdc-radio-unselected-hover-icon-color:#212121;--mdc-radio-unselected-icon-color:rgba(0, 0, 0, .54);--mdc-radio-unselected-pressed-icon-color:rgba(0, 0, 0, .54);--mdc-radio-selected-focus-icon-color:#f44336;--mdc-radio-selected-hover-icon-color:#f44336;--mdc-radio-selected-icon-color:#f44336;--mdc-radio-selected-pressed-icon-color:#f44336}.mat-mdc-list-option[_ngcontent-%COMP%]{--mdc-checkbox-disabled-selected-icon-color:rgba(0, 0, 0, .38);--mdc-checkbox-disabled-unselected-icon-color:rgba(0, 0, 0, .38);--mdc-checkbox-selected-checkmark-color:#fff;--mdc-checkbox-selected-focus-icon-color:#3f51b5;--mdc-checkbox-selected-hover-icon-color:#3f51b5;--mdc-checkbox-selected-icon-color:#3f51b5;--mdc-checkbox-selected-pressed-icon-color:#3f51b5;--mdc-checkbox-unselected-focus-icon-color:#212121;--mdc-checkbox-unselected-hover-icon-color:#212121;--mdc-checkbox-unselected-icon-color:rgba(0, 0, 0, .54);--mdc-checkbox-unselected-pressed-icon-color:rgba(0, 0, 0, .54);--mdc-checkbox-selected-focus-state-layer-color:#3f51b5;--mdc-checkbox-selected-hover-state-layer-color:#3f51b5;--mdc-checkbox-selected-pressed-state-layer-color:#3f51b5;--mdc-checkbox-unselected-focus-state-layer-color:black;--mdc-checkbox-unselected-hover-state-layer-color:black;--mdc-checkbox-unselected-pressed-state-layer-color:black}.mat-mdc-list-option.mat-accent[_ngcontent-%COMP%]{--mdc-checkbox-disabled-selected-icon-color:rgba(0, 0, 0, .38);--mdc-checkbox-disabled-unselected-icon-color:rgba(0, 0, 0, .38);--mdc-checkbox-selected-checkmark-color:#fff;--mdc-checkbox-selected-focus-icon-color:#ff4081;--mdc-checkbox-selected-hover-icon-color:#ff4081;--mdc-checkbox-selected-icon-color:#ff4081;--mdc-checkbox-selected-pressed-icon-color:#ff4081;--mdc-checkbox-unselected-focus-icon-color:#212121;--mdc-checkbox-unselected-hover-icon-color:#212121;--mdc-checkbox-unselected-icon-color:rgba(0, 0, 0, .54);--mdc-checkbox-unselected-pressed-icon-color:rgba(0, 0, 0, .54);--mdc-checkbox-selected-focus-state-layer-color:#ff4081;--mdc-checkbox-selected-hover-state-layer-color:#ff4081;--mdc-checkbox-selected-pressed-state-layer-color:#ff4081;--mdc-checkbox-unselected-focus-state-layer-color:black;--mdc-checkbox-unselected-hover-state-layer-color:black;--mdc-checkbox-unselected-pressed-state-layer-color:black}.mat-mdc-list-option.mat-warn[_ngcontent-%COMP%]{--mdc-checkbox-disabled-selected-icon-color:rgba(0, 0, 0, .38);--mdc-checkbox-disabled-unselected-icon-color:rgba(0, 0, 0, .38);--mdc-checkbox-selected-checkmark-color:#fff;--mdc-checkbox-selected-focus-icon-color:#f44336;--mdc-checkbox-selected-hover-icon-color:#f44336;--mdc-checkbox-selected-icon-color:#f44336;--mdc-checkbox-selected-pressed-icon-color:#f44336;--mdc-checkbox-unselected-focus-icon-color:#212121;--mdc-checkbox-unselected-hover-icon-color:#212121;--mdc-checkbox-unselected-icon-color:rgba(0, 0, 0, .54);--mdc-checkbox-unselected-pressed-icon-color:rgba(0, 0, 0, .54);--mdc-checkbox-selected-focus-state-layer-color:#f44336;--mdc-checkbox-selected-hover-state-layer-color:#f44336;--mdc-checkbox-selected-pressed-state-layer-color:#f44336;--mdc-checkbox-unselected-focus-state-layer-color:black;--mdc-checkbox-unselected-hover-state-layer-color:black;--mdc-checkbox-unselected-pressed-state-layer-color:black}.mat-mdc-list-base.mat-mdc-list-base[_ngcontent-%COMP%]   .mdc-list-item--selected[_ngcontent-%COMP%]   .mdc-list-item__primary-text[_ngcontent-%COMP%], .mat-mdc-list-base.mat-mdc-list-base[_ngcontent-%COMP%]   .mdc-list-item--activated[_ngcontent-%COMP%]   .mdc-list-item__primary-text[_ngcontent-%COMP%], .mat-mdc-list-base.mat-mdc-list-base[_ngcontent-%COMP%]   .mdc-list-item--selected.mdc-list-item--with-leading-icon[_ngcontent-%COMP%]   .mdc-list-item__start[_ngcontent-%COMP%], .mat-mdc-list-base.mat-mdc-list-base[_ngcontent-%COMP%]   .mdc-list-item--activated.mdc-list-item--with-leading-icon[_ngcontent-%COMP%]   .mdc-list-item__start[_ngcontent-%COMP%]{color:#3f51b5}.mat-mdc-list-base[_ngcontent-%COMP%]   .mdc-list-item--disabled[_ngcontent-%COMP%]   .mdc-list-item__start[_ngcontent-%COMP%], .mat-mdc-list-base[_ngcontent-%COMP%]   .mdc-list-item--disabled[_ngcontent-%COMP%]   .mdc-list-item__content[_ngcontent-%COMP%], .mat-mdc-list-base[_ngcontent-%COMP%]   .mdc-list-item--disabled[_ngcontent-%COMP%]   .mdc-list-item__end[_ngcontent-%COMP%]{opacity:1}.mat-mdc-list-base[_ngcontent-%COMP%]{--mdc-list-list-item-one-line-container-height:48px;--mdc-list-list-item-two-line-container-height:64px;--mdc-list-list-item-three-line-container-height:88px}.mat-mdc-list-item.mdc-list-item--with-leading-avatar.mdc-list-item--with-one-line[_ngcontent-%COMP%], .mat-mdc-list-item.mdc-list-item--with-leading-checkbox.mdc-list-item--with-one-line[_ngcontent-%COMP%], .mat-mdc-list-item.mdc-list-item--with-leading-icon.mdc-list-item--with-one-line[_ngcontent-%COMP%]{height:56px}.mat-mdc-list-item.mdc-list-item--with-leading-avatar.mdc-list-item--with-two-lines[_ngcontent-%COMP%], .mat-mdc-list-item.mdc-list-item--with-leading-checkbox.mdc-list-item--with-two-lines[_ngcontent-%COMP%], .mat-mdc-list-item.mdc-list-item--with-leading-icon.mdc-list-item--with-two-lines[_ngcontent-%COMP%]{height:72px}.mat-mdc-list-base[_ngcontent-%COMP%]{--mdc-list-list-item-label-text-font:Roboto, sans-serif;--mdc-list-list-item-label-text-line-height:24px;--mdc-list-list-item-label-text-size:16px;--mdc-list-list-item-label-text-tracking:.03125em;--mdc-list-list-item-label-text-weight:400;--mdc-list-list-item-supporting-text-font:Roboto, sans-serif;--mdc-list-list-item-supporting-text-line-height:20px;--mdc-list-list-item-supporting-text-size:14px;--mdc-list-list-item-supporting-text-tracking:.0178571429em;--mdc-list-list-item-supporting-text-weight:400;--mdc-list-list-item-trailing-supporting-text-font:Roboto, sans-serif;--mdc-list-list-item-trailing-supporting-text-line-height:20px;--mdc-list-list-item-trailing-supporting-text-size:12px;--mdc-list-list-item-trailing-supporting-text-tracking:.0333333333em;--mdc-list-list-item-trailing-supporting-text-weight:400}.mdc-list-group__subheader[_ngcontent-%COMP%]{font-size:16px;font-weight:400;line-height:28px;font-family:Roboto,sans-serif;letter-spacing:.009375em}html[_ngcontent-%COMP%]{--mat-paginator-container-text-color:rgba(0, 0, 0, .87);--mat-paginator-container-background-color:white;--mat-paginator-enabled-icon-color:rgba(0, 0, 0, .54);--mat-paginator-disabled-icon-color:rgba(0, 0, 0, .12)}html[_ngcontent-%COMP%]{--mat-paginator-container-size:56px}.mat-mdc-paginator[_ngcontent-%COMP%]   .mat-mdc-form-field-infix[_ngcontent-%COMP%]{min-height:40px}.mat-mdc-paginator[_ngcontent-%COMP%]   .mat-mdc-text-field-wrapper[_ngcontent-%COMP%]   .mat-mdc-form-field-flex[_ngcontent-%COMP%]   .mat-mdc-floating-label[_ngcontent-%COMP%]{top:20px}.mat-mdc-paginator[_ngcontent-%COMP%]   .mat-mdc-text-field-wrapper.mdc-text-field--outlined[_ngcontent-%COMP%]   .mdc-notched-outline--upgraded[_ngcontent-%COMP%]   .mdc-floating-label--float-above[_ngcontent-%COMP%]{--mat-mdc-form-field-label-transform: translateY( -26.75px) scale(var(--mat-mdc-form-field-floating-label-scale, .75));transform:var(--mat-mdc-form-field-label-transform)}.mat-mdc-paginator[_ngcontent-%COMP%]   .mat-mdc-text-field-wrapper.mdc-text-field--outlined[_ngcontent-%COMP%]   .mat-mdc-form-field-infix[_ngcontent-%COMP%]{padding-top:8px;padding-bottom:8px}.mat-mdc-paginator[_ngcontent-%COMP%]   .mat-mdc-text-field-wrapper[_ngcontent-%COMP%]:not(.mdc-text-field--outlined)   .mat-mdc-form-field-infix[_ngcontent-%COMP%]{padding-top:8px;padding-bottom:8px}.mat-mdc-paginator[_ngcontent-%COMP%]   .mdc-text-field--no-label[_ngcontent-%COMP%]:not(.mdc-text-field--outlined):not(.mdc-text-field--textarea)   .mat-mdc-form-field-infix[_ngcontent-%COMP%]{padding-top:8px;padding-bottom:8px}.mat-mdc-paginator[_ngcontent-%COMP%]   .mat-mdc-text-field-wrapper[_ngcontent-%COMP%]:not(.mdc-text-field--outlined)   .mat-mdc-floating-label[_ngcontent-%COMP%]{display:none}html[_ngcontent-%COMP%]{--mat-paginator-container-text-font:Roboto, sans-serif;--mat-paginator-container-text-line-height:20px;--mat-paginator-container-text-size:12px;--mat-paginator-container-text-tracking:.0333333333em;--mat-paginator-container-text-weight:400;--mat-paginator-select-trigger-text-size:12px}.mat-mdc-tab-group[_ngcontent-%COMP%], .mat-mdc-tab-nav-bar[_ngcontent-%COMP%]{--mdc-tab-indicator-active-indicator-color:#3f51b5;--mat-tab-header-disabled-ripple-color:rgba(0, 0, 0, .38);--mat-tab-header-pagination-icon-color:#000;--mat-tab-header-inactive-label-text-color:rgba(0, 0, 0, .6);--mat-tab-header-active-label-text-color:#3f51b5;--mat-tab-header-active-ripple-color:#3f51b5;--mat-tab-header-inactive-ripple-color:#3f51b5;--mat-tab-header-inactive-focus-label-text-color:rgba(0, 0, 0, .6);--mat-tab-header-inactive-hover-label-text-color:rgba(0, 0, 0, .6);--mat-tab-header-active-focus-label-text-color:#3f51b5;--mat-tab-header-active-hover-label-text-color:#3f51b5;--mat-tab-header-active-focus-indicator-color:#3f51b5;--mat-tab-header-active-hover-indicator-color:#3f51b5}.mat-mdc-tab-group.mat-accent[_ngcontent-%COMP%], .mat-mdc-tab-nav-bar.mat-accent[_ngcontent-%COMP%]{--mdc-tab-indicator-active-indicator-color:#ff4081;--mat-tab-header-disabled-ripple-color:rgba(0, 0, 0, .38);--mat-tab-header-pagination-icon-color:#000;--mat-tab-header-inactive-label-text-color:rgba(0, 0, 0, .6);--mat-tab-header-active-label-text-color:#ff4081;--mat-tab-header-active-ripple-color:#ff4081;--mat-tab-header-inactive-ripple-color:#ff4081;--mat-tab-header-inactive-focus-label-text-color:rgba(0, 0, 0, .6);--mat-tab-header-inactive-hover-label-text-color:rgba(0, 0, 0, .6);--mat-tab-header-active-focus-label-text-color:#ff4081;--mat-tab-header-active-hover-label-text-color:#ff4081;--mat-tab-header-active-focus-indicator-color:#ff4081;--mat-tab-header-active-hover-indicator-color:#ff4081}.mat-mdc-tab-group.mat-warn[_ngcontent-%COMP%], .mat-mdc-tab-nav-bar.mat-warn[_ngcontent-%COMP%]{--mdc-tab-indicator-active-indicator-color:#f44336;--mat-tab-header-disabled-ripple-color:rgba(0, 0, 0, .38);--mat-tab-header-pagination-icon-color:#000;--mat-tab-header-inactive-label-text-color:rgba(0, 0, 0, .6);--mat-tab-header-active-label-text-color:#f44336;--mat-tab-header-active-ripple-color:#f44336;--mat-tab-header-inactive-ripple-color:#f44336;--mat-tab-header-inactive-focus-label-text-color:rgba(0, 0, 0, .6);--mat-tab-header-inactive-hover-label-text-color:rgba(0, 0, 0, .6);--mat-tab-header-active-focus-label-text-color:#f44336;--mat-tab-header-active-hover-label-text-color:#f44336;--mat-tab-header-active-focus-indicator-color:#f44336;--mat-tab-header-active-hover-indicator-color:#f44336}.mat-mdc-tab-group.mat-background-primary[_ngcontent-%COMP%], .mat-mdc-tab-nav-bar.mat-background-primary[_ngcontent-%COMP%]{--mat-tab-header-with-background-background-color:#3f51b5;--mat-tab-header-with-background-foreground-color:white}.mat-mdc-tab-group.mat-background-accent[_ngcontent-%COMP%], .mat-mdc-tab-nav-bar.mat-background-accent[_ngcontent-%COMP%]{--mat-tab-header-with-background-background-color:#ff4081;--mat-tab-header-with-background-foreground-color:white}.mat-mdc-tab-group.mat-background-warn[_ngcontent-%COMP%], .mat-mdc-tab-nav-bar.mat-background-warn[_ngcontent-%COMP%]{--mat-tab-header-with-background-background-color:#f44336;--mat-tab-header-with-background-foreground-color:white}.mat-mdc-tab-header[_ngcontent-%COMP%]{--mdc-secondary-navigation-tab-container-height:48px}.mat-mdc-tab-header[_ngcontent-%COMP%]{--mat-tab-header-label-text-font:Roboto, sans-serif;--mat-tab-header-label-text-size:14px;--mat-tab-header-label-text-tracking:.0892857143em;--mat-tab-header-label-text-line-height:36px;--mat-tab-header-label-text-weight:500}html[_ngcontent-%COMP%]{--mdc-checkbox-disabled-selected-icon-color:rgba(0, 0, 0, .38);--mdc-checkbox-disabled-unselected-icon-color:rgba(0, 0, 0, .38);--mdc-checkbox-selected-checkmark-color:#fff;--mdc-checkbox-selected-focus-icon-color:#ff4081;--mdc-checkbox-selected-hover-icon-color:#ff4081;--mdc-checkbox-selected-icon-color:#ff4081;--mdc-checkbox-selected-pressed-icon-color:#ff4081;--mdc-checkbox-unselected-focus-icon-color:#212121;--mdc-checkbox-unselected-hover-icon-color:#212121;--mdc-checkbox-unselected-icon-color:rgba(0, 0, 0, .54);--mdc-checkbox-unselected-pressed-icon-color:rgba(0, 0, 0, .54);--mdc-checkbox-selected-focus-state-layer-color:#ff4081;--mdc-checkbox-selected-hover-state-layer-color:#ff4081;--mdc-checkbox-selected-pressed-state-layer-color:#ff4081;--mdc-checkbox-unselected-focus-state-layer-color:black;--mdc-checkbox-unselected-hover-state-layer-color:black;--mdc-checkbox-unselected-pressed-state-layer-color:black}.mat-mdc-checkbox.mat-primary[_ngcontent-%COMP%]{--mdc-checkbox-disabled-selected-icon-color:rgba(0, 0, 0, .38);--mdc-checkbox-disabled-unselected-icon-color:rgba(0, 0, 0, .38);--mdc-checkbox-selected-checkmark-color:#fff;--mdc-checkbox-selected-focus-icon-color:#3f51b5;--mdc-checkbox-selected-hover-icon-color:#3f51b5;--mdc-checkbox-selected-icon-color:#3f51b5;--mdc-checkbox-selected-pressed-icon-color:#3f51b5;--mdc-checkbox-unselected-focus-icon-color:#212121;--mdc-checkbox-unselected-hover-icon-color:#212121;--mdc-checkbox-unselected-icon-color:rgba(0, 0, 0, .54);--mdc-checkbox-unselected-pressed-icon-color:rgba(0, 0, 0, .54);--mdc-checkbox-selected-focus-state-layer-color:#3f51b5;--mdc-checkbox-selected-hover-state-layer-color:#3f51b5;--mdc-checkbox-selected-pressed-state-layer-color:#3f51b5;--mdc-checkbox-unselected-focus-state-layer-color:black;--mdc-checkbox-unselected-hover-state-layer-color:black;--mdc-checkbox-unselected-pressed-state-layer-color:black}.mat-mdc-checkbox.mat-warn[_ngcontent-%COMP%]{--mdc-checkbox-disabled-selected-icon-color:rgba(0, 0, 0, .38);--mdc-checkbox-disabled-unselected-icon-color:rgba(0, 0, 0, .38);--mdc-checkbox-selected-checkmark-color:#fff;--mdc-checkbox-selected-focus-icon-color:#f44336;--mdc-checkbox-selected-hover-icon-color:#f44336;--mdc-checkbox-selected-icon-color:#f44336;--mdc-checkbox-selected-pressed-icon-color:#f44336;--mdc-checkbox-unselected-focus-icon-color:#212121;--mdc-checkbox-unselected-hover-icon-color:#212121;--mdc-checkbox-unselected-icon-color:rgba(0, 0, 0, .54);--mdc-checkbox-unselected-pressed-icon-color:rgba(0, 0, 0, .54);--mdc-checkbox-selected-focus-state-layer-color:#f44336;--mdc-checkbox-selected-hover-state-layer-color:#f44336;--mdc-checkbox-selected-pressed-state-layer-color:#f44336;--mdc-checkbox-unselected-focus-state-layer-color:black;--mdc-checkbox-unselected-hover-state-layer-color:black;--mdc-checkbox-unselected-pressed-state-layer-color:black}.mat-mdc-checkbox[_ngcontent-%COMP%]   .mdc-form-field[_ngcontent-%COMP%]{color:var(--mdc-theme-text-primary-on-background, rgba(0, 0, 0, .87))}.mat-mdc-checkbox.mat-mdc-checkbox-disabled[_ngcontent-%COMP%]   label[_ngcontent-%COMP%]{color:#00000061}html[_ngcontent-%COMP%]{--mdc-checkbox-state-layer-size:40px}.mat-mdc-checkbox[_ngcontent-%COMP%]   .mdc-form-field[_ngcontent-%COMP%]{-moz-osx-font-smoothing:grayscale;-webkit-font-smoothing:antialiased;font-family:var(--mdc-typography-body2-font-family, var(--mdc-typography-font-family, Roboto, sans-serif));font-size:var(--mdc-typography-body2-font-size, 14px);line-height:var(--mdc-typography-body2-line-height, 20px);font-weight:var(--mdc-typography-body2-font-weight, 400);letter-spacing:var(--mdc-typography-body2-letter-spacing, .0178571429em);-webkit-text-decoration:var(--mdc-typography-body2-text-decoration, inherit);text-decoration:var(--mdc-typography-body2-text-decoration, inherit);text-transform:var(--mdc-typography-body2-text-transform, none)}.mat-mdc-button.mat-unthemed[_ngcontent-%COMP%]{--mdc-text-button-label-text-color:#000}.mat-mdc-button.mat-primary[_ngcontent-%COMP%]{--mdc-text-button-label-text-color:#3f51b5}.mat-mdc-button.mat-accent[_ngcontent-%COMP%]{--mdc-text-button-label-text-color:#ff4081}.mat-mdc-button.mat-warn[_ngcontent-%COMP%]{--mdc-text-button-label-text-color:#f44336}.mat-mdc-button[disabled][disabled][_ngcontent-%COMP%]{--mdc-text-button-disabled-label-text-color:rgba(0, 0, 0, .38);--mdc-text-button-label-text-color:rgba(0, 0, 0, .38)}.mat-mdc-unelevated-button.mat-unthemed[_ngcontent-%COMP%]{--mdc-filled-button-container-color:#fff;--mdc-filled-button-label-text-color:#000}.mat-mdc-unelevated-button.mat-primary[_ngcontent-%COMP%]{--mdc-filled-button-container-color:#3f51b5;--mdc-filled-button-label-text-color:#fff}.mat-mdc-unelevated-button.mat-accent[_ngcontent-%COMP%]{--mdc-filled-button-container-color:#ff4081;--mdc-filled-button-label-text-color:#fff}.mat-mdc-unelevated-button.mat-warn[_ngcontent-%COMP%]{--mdc-filled-button-container-color:#f44336;--mdc-filled-button-label-text-color:#fff}.mat-mdc-unelevated-button[disabled][disabled][_ngcontent-%COMP%]{--mdc-filled-button-disabled-container-color:rgba(0, 0, 0, .12);--mdc-filled-button-disabled-label-text-color:rgba(0, 0, 0, .38);--mdc-filled-button-container-color:rgba(0, 0, 0, .12);--mdc-filled-button-label-text-color:rgba(0, 0, 0, .38)}.mat-mdc-raised-button.mat-unthemed[_ngcontent-%COMP%]{--mdc-protected-button-container-color:#fff;--mdc-protected-button-label-text-color:#000}.mat-mdc-raised-button.mat-primary[_ngcontent-%COMP%]{--mdc-protected-button-container-color:#3f51b5;--mdc-protected-button-label-text-color:#fff}.mat-mdc-raised-button.mat-accent[_ngcontent-%COMP%]{--mdc-protected-button-container-color:#ff4081;--mdc-protected-button-label-text-color:#fff}.mat-mdc-raised-button.mat-warn[_ngcontent-%COMP%]{--mdc-protected-button-container-color:#f44336;--mdc-protected-button-label-text-color:#fff}.mat-mdc-raised-button[disabled][disabled][_ngcontent-%COMP%]{--mdc-protected-button-disabled-container-color:rgba(0, 0, 0, .12);--mdc-protected-button-disabled-label-text-color:rgba(0, 0, 0, .38);--mdc-protected-button-container-color:rgba(0, 0, 0, .12);--mdc-protected-button-label-text-color:rgba(0, 0, 0, .38);--mdc-protected-button-container-elevation:0}.mat-mdc-outlined-button[_ngcontent-%COMP%]{--mdc-outlined-button-outline-color:rgba(0, 0, 0, .12)}.mat-mdc-outlined-button.mat-unthemed[_ngcontent-%COMP%]{--mdc-outlined-button-label-text-color:#000}.mat-mdc-outlined-button.mat-primary[_ngcontent-%COMP%]{--mdc-outlined-button-label-text-color:#3f51b5}.mat-mdc-outlined-button.mat-accent[_ngcontent-%COMP%]{--mdc-outlined-button-label-text-color:#ff4081}.mat-mdc-outlined-button.mat-warn[_ngcontent-%COMP%]{--mdc-outlined-button-label-text-color:#f44336}.mat-mdc-outlined-button[disabled][disabled][_ngcontent-%COMP%]{--mdc-outlined-button-label-text-color:rgba(0, 0, 0, .38);--mdc-outlined-button-disabled-label-text-color:rgba(0, 0, 0, .38);--mdc-outlined-button-outline-color:rgba(0, 0, 0, .12);--mdc-outlined-button-disabled-outline-color:rgba(0, 0, 0, .12)}.mat-mdc-button[_ngcontent-%COMP%], .mat-mdc-outlined-button[_ngcontent-%COMP%]{--mat-mdc-button-persistent-ripple-color: #000;--mat-mdc-button-ripple-color: rgba(0, 0, 0, .1)}.mat-mdc-button[_ngcontent-%COMP%]:hover   .mat-mdc-button-persistent-ripple[_ngcontent-%COMP%]:before, .mat-mdc-outlined-button[_ngcontent-%COMP%]:hover   .mat-mdc-button-persistent-ripple[_ngcontent-%COMP%]:before{opacity:.04}.mat-mdc-button.cdk-program-focused[_ngcontent-%COMP%]   .mat-mdc-button-persistent-ripple[_ngcontent-%COMP%]:before, .mat-mdc-button.cdk-keyboard-focused[_ngcontent-%COMP%]   .mat-mdc-button-persistent-ripple[_ngcontent-%COMP%]:before, .mat-mdc-outlined-button.cdk-program-focused[_ngcontent-%COMP%]   .mat-mdc-button-persistent-ripple[_ngcontent-%COMP%]:before, .mat-mdc-outlined-button.cdk-keyboard-focused[_ngcontent-%COMP%]   .mat-mdc-button-persistent-ripple[_ngcontent-%COMP%]:before{opacity:.12}.mat-mdc-button[_ngcontent-%COMP%]:active   .mat-mdc-button-persistent-ripple[_ngcontent-%COMP%]:before, .mat-mdc-outlined-button[_ngcontent-%COMP%]:active   .mat-mdc-button-persistent-ripple[_ngcontent-%COMP%]:before{opacity:.12}.mat-mdc-button.mat-primary[_ngcontent-%COMP%], .mat-mdc-outlined-button.mat-primary[_ngcontent-%COMP%]{--mat-mdc-button-persistent-ripple-color: #3f51b5;--mat-mdc-button-ripple-color: rgba(63, 81, 181, .1)}.mat-mdc-button.mat-accent[_ngcontent-%COMP%], .mat-mdc-outlined-button.mat-accent[_ngcontent-%COMP%]{--mat-mdc-button-persistent-ripple-color: #ff4081;--mat-mdc-button-ripple-color: rgba(255, 64, 129, .1)}.mat-mdc-button.mat-warn[_ngcontent-%COMP%], .mat-mdc-outlined-button.mat-warn[_ngcontent-%COMP%]{--mat-mdc-button-persistent-ripple-color: #f44336;--mat-mdc-button-ripple-color: rgba(244, 67, 54, .1)}.mat-mdc-raised-button[_ngcontent-%COMP%], .mat-mdc-unelevated-button[_ngcontent-%COMP%]{--mat-mdc-button-persistent-ripple-color: #000;--mat-mdc-button-ripple-color: rgba(0, 0, 0, .1)}.mat-mdc-raised-button[_ngcontent-%COMP%]:hover   .mat-mdc-button-persistent-ripple[_ngcontent-%COMP%]:before, .mat-mdc-unelevated-button[_ngcontent-%COMP%]:hover   .mat-mdc-button-persistent-ripple[_ngcontent-%COMP%]:before{opacity:.04}.mat-mdc-raised-button.cdk-program-focused[_ngcontent-%COMP%]   .mat-mdc-button-persistent-ripple[_ngcontent-%COMP%]:before, .mat-mdc-raised-button.cdk-keyboard-focused[_ngcontent-%COMP%]   .mat-mdc-button-persistent-ripple[_ngcontent-%COMP%]:before, .mat-mdc-unelevated-button.cdk-program-focused[_ngcontent-%COMP%]   .mat-mdc-button-persistent-ripple[_ngcontent-%COMP%]:before, .mat-mdc-unelevated-button.cdk-keyboard-focused[_ngcontent-%COMP%]   .mat-mdc-button-persistent-ripple[_ngcontent-%COMP%]:before{opacity:.12}.mat-mdc-raised-button[_ngcontent-%COMP%]:active   .mat-mdc-button-persistent-ripple[_ngcontent-%COMP%]:before, .mat-mdc-unelevated-button[_ngcontent-%COMP%]:active   .mat-mdc-button-persistent-ripple[_ngcontent-%COMP%]:before{opacity:.12}.mat-mdc-raised-button.mat-primary[_ngcontent-%COMP%], .mat-mdc-unelevated-button.mat-primary[_ngcontent-%COMP%], .mat-mdc-raised-button.mat-accent[_ngcontent-%COMP%], .mat-mdc-unelevated-button.mat-accent[_ngcontent-%COMP%], .mat-mdc-raised-button.mat-warn[_ngcontent-%COMP%], .mat-mdc-unelevated-button.mat-warn[_ngcontent-%COMP%]{--mat-mdc-button-persistent-ripple-color: #fff;--mat-mdc-button-ripple-color: rgba(255, 255, 255, .1)}.mat-mdc-button.mat-mdc-button-base[_ngcontent-%COMP%], .mat-mdc-raised-button.mat-mdc-button-base[_ngcontent-%COMP%], .mat-mdc-unelevated-button.mat-mdc-button-base[_ngcontent-%COMP%], .mat-mdc-outlined-button.mat-mdc-button-base[_ngcontent-%COMP%]{height:36px}.mdc-button[_ngcontent-%COMP%]{-moz-osx-font-smoothing:grayscale;-webkit-font-smoothing:antialiased;font-family:var(--mdc-typography-button-font-family, var(--mdc-typography-font-family, Roboto, sans-serif));font-size:var(--mdc-typography-button-font-size, 14px);line-height:var(--mdc-typography-button-line-height, 36px);font-weight:var(--mdc-typography-button-font-weight, 500);letter-spacing:var(--mdc-typography-button-letter-spacing, .0892857143em);-webkit-text-decoration:var(--mdc-typography-button-text-decoration, none);text-decoration:var(--mdc-typography-button-text-decoration, none);text-transform:var(--mdc-typography-button-text-transform, none)}.mat-mdc-icon-button[_ngcontent-%COMP%]{--mdc-icon-button-icon-color:inherit;--mat-mdc-button-persistent-ripple-color: #000;--mat-mdc-button-ripple-color: rgba(0, 0, 0, .1)}.mat-mdc-icon-button[_ngcontent-%COMP%]:hover   .mat-mdc-button-persistent-ripple[_ngcontent-%COMP%]:before{opacity:.04}.mat-mdc-icon-button.cdk-program-focused[_ngcontent-%COMP%]   .mat-mdc-button-persistent-ripple[_ngcontent-%COMP%]:before, .mat-mdc-icon-button.cdk-keyboard-focused[_ngcontent-%COMP%]   .mat-mdc-button-persistent-ripple[_ngcontent-%COMP%]:before{opacity:.12}.mat-mdc-icon-button[_ngcontent-%COMP%]:active   .mat-mdc-button-persistent-ripple[_ngcontent-%COMP%]:before{opacity:.12}.mat-mdc-icon-button.mat-primary[_ngcontent-%COMP%]{--mat-mdc-button-persistent-ripple-color: #6200ee;--mat-mdc-button-ripple-color: rgba(98, 0, 238, .1)}.mat-mdc-icon-button.mat-accent[_ngcontent-%COMP%]{--mat-mdc-button-persistent-ripple-color: #018786;--mat-mdc-button-ripple-color: rgba(1, 135, 134, .1)}.mat-mdc-icon-button.mat-warn[_ngcontent-%COMP%]{--mat-mdc-button-persistent-ripple-color: #b00020;--mat-mdc-button-ripple-color: rgba(176, 0, 32, .1)}.mat-mdc-icon-button.mat-primary[_ngcontent-%COMP%]{--mdc-icon-button-icon-color:#3f51b5;--mat-mdc-button-persistent-ripple-color: #3f51b5;--mat-mdc-button-ripple-color: rgba(63, 81, 181, .1)}.mat-mdc-icon-button.mat-accent[_ngcontent-%COMP%]{--mdc-icon-button-icon-color:#ff4081;--mat-mdc-button-persistent-ripple-color: #ff4081;--mat-mdc-button-ripple-color: rgba(255, 64, 129, .1)}.mat-mdc-icon-button.mat-warn[_ngcontent-%COMP%]{--mdc-icon-button-icon-color:#f44336;--mat-mdc-button-persistent-ripple-color: #f44336;--mat-mdc-button-ripple-color: rgba(244, 67, 54, .1)}.mat-mdc-icon-button[disabled][disabled][_ngcontent-%COMP%]{--mdc-icon-button-icon-color:rgba(0, 0, 0, .38);--mdc-icon-button-disabled-icon-color:rgba(0, 0, 0, .38)}.mat-mdc-icon-button.mat-mdc-button-base[_ngcontent-%COMP%]{--mdc-icon-button-state-layer-size:48px;width:var(--mdc-icon-button-state-layer-size);height:var(--mdc-icon-button-state-layer-size);padding:12px}.mat-mdc-fab[_ngcontent-%COMP%], .mat-mdc-mini-fab[_ngcontent-%COMP%]{--mat-mdc-button-persistent-ripple-color: #000;--mat-mdc-button-ripple-color: rgba(0, 0, 0, .1)}.mat-mdc-fab[_ngcontent-%COMP%]:hover   .mat-mdc-button-persistent-ripple[_ngcontent-%COMP%]:before, .mat-mdc-mini-fab[_ngcontent-%COMP%]:hover   .mat-mdc-button-persistent-ripple[_ngcontent-%COMP%]:before{opacity:.04}.mat-mdc-fab.cdk-program-focused[_ngcontent-%COMP%]   .mat-mdc-button-persistent-ripple[_ngcontent-%COMP%]:before, .mat-mdc-fab.cdk-keyboard-focused[_ngcontent-%COMP%]   .mat-mdc-button-persistent-ripple[_ngcontent-%COMP%]:before, .mat-mdc-mini-fab.cdk-program-focused[_ngcontent-%COMP%]   .mat-mdc-button-persistent-ripple[_ngcontent-%COMP%]:before, .mat-mdc-mini-fab.cdk-keyboard-focused[_ngcontent-%COMP%]   .mat-mdc-button-persistent-ripple[_ngcontent-%COMP%]:before{opacity:.12}.mat-mdc-fab[_ngcontent-%COMP%]:active   .mat-mdc-button-persistent-ripple[_ngcontent-%COMP%]:before, .mat-mdc-mini-fab[_ngcontent-%COMP%]:active   .mat-mdc-button-persistent-ripple[_ngcontent-%COMP%]:before{opacity:.12}.mat-mdc-fab.mat-primary[_ngcontent-%COMP%], .mat-mdc-mini-fab.mat-primary[_ngcontent-%COMP%], .mat-mdc-fab.mat-accent[_ngcontent-%COMP%], .mat-mdc-mini-fab.mat-accent[_ngcontent-%COMP%], .mat-mdc-fab.mat-warn[_ngcontent-%COMP%], .mat-mdc-mini-fab.mat-warn[_ngcontent-%COMP%]{--mat-mdc-button-persistent-ripple-color: #fff;--mat-mdc-button-ripple-color: rgba(255, 255, 255, .1)}.mat-mdc-fab[disabled][disabled][_ngcontent-%COMP%], .mat-mdc-mini-fab[disabled][disabled][_ngcontent-%COMP%]{--mdc-fab-container-color:rgba(0, 0, 0, .12);--mdc-fab-icon-color:rgba(0, 0, 0, .38);--mat-mdc-fab-color: rgba(0, 0, 0, .38)}.mat-mdc-fab.mat-unthemed[_ngcontent-%COMP%], .mat-mdc-mini-fab.mat-unthemed[_ngcontent-%COMP%]{--mdc-fab-container-color:white;--mdc-fab-icon-color:black;--mat-mdc-fab-color: #000}.mat-mdc-fab.mat-primary[_ngcontent-%COMP%], .mat-mdc-mini-fab.mat-primary[_ngcontent-%COMP%]{--mdc-fab-container-color:#3f51b5;--mdc-fab-icon-color:white;--mat-mdc-fab-color: #fff}.mat-mdc-fab.mat-accent[_ngcontent-%COMP%], .mat-mdc-mini-fab.mat-accent[_ngcontent-%COMP%]{--mdc-fab-container-color:#ff4081;--mdc-fab-icon-color:white;--mat-mdc-fab-color: #fff}.mat-mdc-fab.mat-warn[_ngcontent-%COMP%], .mat-mdc-mini-fab.mat-warn[_ngcontent-%COMP%]{--mdc-fab-container-color:#f44336;--mdc-fab-icon-color:white;--mat-mdc-fab-color: #fff}.mdc-fab--extended[_ngcontent-%COMP%]{-moz-osx-font-smoothing:grayscale;-webkit-font-smoothing:antialiased;font-family:var(--mdc-typography-button-font-family, var(--mdc-typography-font-family, Roboto, sans-serif));font-size:var(--mdc-typography-button-font-size, 14px);line-height:var(--mdc-typography-button-line-height, 36px);font-weight:var(--mdc-typography-button-font-weight, 500);letter-spacing:var(--mdc-typography-button-letter-spacing, .0892857143em);-webkit-text-decoration:var(--mdc-typography-button-text-decoration, none);text-decoration:var(--mdc-typography-button-text-decoration, none);text-transform:var(--mdc-typography-button-text-transform, none)}.mat-mdc-extended-fab[_ngcontent-%COMP%]{--mdc-extended-fab-label-text-font:Roboto, sans-serif;--mdc-extended-fab-label-text-size:14px;--mdc-extended-fab-label-text-tracking:.0892857143em;--mdc-extended-fab-label-text-weight:500}.mat-mdc-snack-bar-container[_ngcontent-%COMP%]{--mdc-snackbar-container-color:#333333;--mdc-snackbar-supporting-text-color:rgba(255, 255, 255, .87);--mat-snack-bar-button-color:#ff4081}.mat-mdc-snack-bar-container[_ngcontent-%COMP%]{--mdc-snackbar-supporting-text-font:Roboto, sans-serif;--mdc-snackbar-supporting-text-line-height:20px;--mdc-snackbar-supporting-text-size:14px;--mdc-snackbar-supporting-text-weight:400}html[_ngcontent-%COMP%]{--mat-table-background-color:white;--mat-table-header-headline-color:rgba(0, 0, 0, .87);--mat-table-row-item-label-text-color:rgba(0, 0, 0, .87);--mat-table-row-item-outline-color:rgba(0, 0, 0, .12)}html[_ngcontent-%COMP%]{--mat-table-header-container-height:56px;--mat-table-footer-container-height:52px;--mat-table-row-item-container-height:52px}html[_ngcontent-%COMP%]{--mat-table-header-headline-font:Roboto, sans-serif;--mat-table-header-headline-line-height:22px;--mat-table-header-headline-size:14px;--mat-table-header-headline-weight:500;--mat-table-header-headline-tracking:.0071428571em;--mat-table-row-item-label-text-font:Roboto, sans-serif;--mat-table-row-item-label-text-line-height:20px;--mat-table-row-item-label-text-size:14px;--mat-table-row-item-label-text-weight:400;--mat-table-row-item-label-text-tracking:.0178571429em;--mat-table-footer-supporting-text-font:Roboto, sans-serif;--mat-table-footer-supporting-text-line-height:20px;--mat-table-footer-supporting-text-size:14px;--mat-table-footer-supporting-text-weight:400;--mat-table-footer-supporting-text-tracking:.0178571429em}.mat-mdc-progress-spinner[_ngcontent-%COMP%]{--mdc-circular-progress-active-indicator-color:#3f51b5}.mat-mdc-progress-spinner.mat-accent[_ngcontent-%COMP%]{--mdc-circular-progress-active-indicator-color:#ff4081}.mat-mdc-progress-spinner.mat-warn[_ngcontent-%COMP%]{--mdc-circular-progress-active-indicator-color:#f44336}.mat-badge[_ngcontent-%COMP%]{position:relative}.mat-badge.mat-badge[_ngcontent-%COMP%]{overflow:visible}.mat-badge-content[_ngcontent-%COMP%]{position:absolute;text-align:center;display:inline-block;border-radius:50%;transition:transform .2s ease-in-out;transform:scale(.6);overflow:hidden;white-space:nowrap;text-overflow:ellipsis;pointer-events:none;background-color:var(--mat-badge-background-color);color:var(--mat-badge-text-color);font-family:Roboto,sans-serif;font-family:var(--mat-badge-text-font, Roboto, sans-serif);font-size:12px;font-size:var(--mat-badge-text-size, 12px);font-weight:600;font-weight:var(--mat-badge-text-weight, 600)}.cdk-high-contrast-active[_ngcontent-%COMP%]   .mat-badge-content[_ngcontent-%COMP%]{outline:solid 1px;border-radius:0}.mat-badge-disabled[_ngcontent-%COMP%]   .mat-badge-content[_ngcontent-%COMP%]{background-color:var(--mat-badge-disabled-state-background-color);color:var(--mat-badge-disabled-state-text-color)}.mat-badge-hidden[_ngcontent-%COMP%]   .mat-badge-content[_ngcontent-%COMP%]{display:none}.ng-animate-disabled[_ngcontent-%COMP%]   .mat-badge-content[_ngcontent-%COMP%], .mat-badge-content._mat-animation-noopable[_ngcontent-%COMP%]{transition:none}.mat-badge-content.mat-badge-active[_ngcontent-%COMP%]{transform:none}.mat-badge-small[_ngcontent-%COMP%]   .mat-badge-content[_ngcontent-%COMP%]{width:16px;height:16px;line-height:16px;font-size:9px;font-size:var(--mat-badge-small-size-text-size, 9px)}.mat-badge-small.mat-badge-above[_ngcontent-%COMP%]   .mat-badge-content[_ngcontent-%COMP%]{top:-8px}.mat-badge-small.mat-badge-below[_ngcontent-%COMP%]   .mat-badge-content[_ngcontent-%COMP%]{bottom:-8px}.mat-badge-small.mat-badge-before[_ngcontent-%COMP%]   .mat-badge-content[_ngcontent-%COMP%]{left:-16px}[dir=rtl][_ngcontent-%COMP%]   .mat-badge-small.mat-badge-before[_ngcontent-%COMP%]   .mat-badge-content[_ngcontent-%COMP%]{left:auto;right:-16px}.mat-badge-small.mat-badge-after[_ngcontent-%COMP%]   .mat-badge-content[_ngcontent-%COMP%]{right:-16px}[dir=rtl][_ngcontent-%COMP%]   .mat-badge-small.mat-badge-after[_ngcontent-%COMP%]   .mat-badge-content[_ngcontent-%COMP%]{right:auto;left:-16px}.mat-badge-small.mat-badge-overlap.mat-badge-before[_ngcontent-%COMP%]   .mat-badge-content[_ngcontent-%COMP%]{left:-8px}[dir=rtl][_ngcontent-%COMP%]   .mat-badge-small.mat-badge-overlap.mat-badge-before[_ngcontent-%COMP%]   .mat-badge-content[_ngcontent-%COMP%]{left:auto;right:-8px}.mat-badge-small.mat-badge-overlap.mat-badge-after[_ngcontent-%COMP%]   .mat-badge-content[_ngcontent-%COMP%]{right:-8px}[dir=rtl][_ngcontent-%COMP%]   .mat-badge-small.mat-badge-overlap.mat-badge-after[_ngcontent-%COMP%]   .mat-badge-content[_ngcontent-%COMP%]{right:auto;left:-8px}.mat-badge-medium[_ngcontent-%COMP%]   .mat-badge-content[_ngcontent-%COMP%]{width:22px;height:22px;line-height:22px}.mat-badge-medium.mat-badge-above[_ngcontent-%COMP%]   .mat-badge-content[_ngcontent-%COMP%]{top:-11px}.mat-badge-medium.mat-badge-below[_ngcontent-%COMP%]   .mat-badge-content[_ngcontent-%COMP%]{bottom:-11px}.mat-badge-medium.mat-badge-before[_ngcontent-%COMP%]   .mat-badge-content[_ngcontent-%COMP%]{left:-22px}[dir=rtl][_ngcontent-%COMP%]   .mat-badge-medium.mat-badge-before[_ngcontent-%COMP%]   .mat-badge-content[_ngcontent-%COMP%]{left:auto;right:-22px}.mat-badge-medium.mat-badge-after[_ngcontent-%COMP%]   .mat-badge-content[_ngcontent-%COMP%]{right:-22px}[dir=rtl][_ngcontent-%COMP%]   .mat-badge-medium.mat-badge-after[_ngcontent-%COMP%]   .mat-badge-content[_ngcontent-%COMP%]{right:auto;left:-22px}.mat-badge-medium.mat-badge-overlap.mat-badge-before[_ngcontent-%COMP%]   .mat-badge-content[_ngcontent-%COMP%]{left:-11px}[dir=rtl][_ngcontent-%COMP%]   .mat-badge-medium.mat-badge-overlap.mat-badge-before[_ngcontent-%COMP%]   .mat-badge-content[_ngcontent-%COMP%]{left:auto;right:-11px}.mat-badge-medium.mat-badge-overlap.mat-badge-after[_ngcontent-%COMP%]   .mat-badge-content[_ngcontent-%COMP%]{right:-11px}[dir=rtl][_ngcontent-%COMP%]   .mat-badge-medium.mat-badge-overlap.mat-badge-after[_ngcontent-%COMP%]   .mat-badge-content[_ngcontent-%COMP%]{right:auto;left:-11px}.mat-badge-large[_ngcontent-%COMP%]   .mat-badge-content[_ngcontent-%COMP%]{width:28px;height:28px;line-height:28px;font-size:24px;font-size:var(--mat-badge-large-size-text-size, 24px)}.mat-badge-large.mat-badge-above[_ngcontent-%COMP%]   .mat-badge-content[_ngcontent-%COMP%]{top:-14px}.mat-badge-large.mat-badge-below[_ngcontent-%COMP%]   .mat-badge-content[_ngcontent-%COMP%]{bottom:-14px}.mat-badge-large.mat-badge-before[_ngcontent-%COMP%]   .mat-badge-content[_ngcontent-%COMP%]{left:-28px}[dir=rtl][_ngcontent-%COMP%]   .mat-badge-large.mat-badge-before[_ngcontent-%COMP%]   .mat-badge-content[_ngcontent-%COMP%]{left:auto;right:-28px}.mat-badge-large.mat-badge-after[_ngcontent-%COMP%]   .mat-badge-content[_ngcontent-%COMP%]{right:-28px}[dir=rtl][_ngcontent-%COMP%]   .mat-badge-large.mat-badge-after[_ngcontent-%COMP%]   .mat-badge-content[_ngcontent-%COMP%]{right:auto;left:-28px}.mat-badge-large.mat-badge-overlap.mat-badge-before[_ngcontent-%COMP%]   .mat-badge-content[_ngcontent-%COMP%]{left:-14px}[dir=rtl][_ngcontent-%COMP%]   .mat-badge-large.mat-badge-overlap.mat-badge-before[_ngcontent-%COMP%]   .mat-badge-content[_ngcontent-%COMP%]{left:auto;right:-14px}.mat-badge-large.mat-badge-overlap.mat-badge-after[_ngcontent-%COMP%]   .mat-badge-content[_ngcontent-%COMP%]{right:-14px}[dir=rtl][_ngcontent-%COMP%]   .mat-badge-large.mat-badge-overlap.mat-badge-after[_ngcontent-%COMP%]   .mat-badge-content[_ngcontent-%COMP%]{right:auto;left:-14px}html[_ngcontent-%COMP%]{--mat-badge-background-color:#3f51b5;--mat-badge-text-color:white;--mat-badge-disabled-state-background-color:#b9b9b9;--mat-badge-disabled-state-text-color:rgba(0, 0, 0, .38)}.mat-badge-accent[_ngcontent-%COMP%]{--mat-badge-background-color:#ff4081;--mat-badge-text-color:white}.mat-badge-warn[_ngcontent-%COMP%]{--mat-badge-background-color:#f44336;--mat-badge-text-color:white}html[_ngcontent-%COMP%]{--mat-badge-text-font:Roboto, sans-serif;--mat-badge-text-size:12px;--mat-badge-text-weight:600;--mat-badge-small-size-text-size:9px;--mat-badge-large-size-text-size:24px}html[_ngcontent-%COMP%]{--mat-bottom-sheet-container-text-color:rgba(0, 0, 0, .87);--mat-bottom-sheet-container-background-color:white}html[_ngcontent-%COMP%]{--mat-bottom-sheet-container-text-font:Roboto, sans-serif;--mat-bottom-sheet-container-text-line-height:20px;--mat-bottom-sheet-container-text-size:14px;--mat-bottom-sheet-container-text-tracking:.0178571429em;--mat-bottom-sheet-container-text-weight:400}html[_ngcontent-%COMP%]{--mat-legacy-button-toggle-text-color:rgba(0, 0, 0, .38);--mat-legacy-button-toggle-state-layer-color:rgba(0, 0, 0, .12);--mat-legacy-button-toggle-selected-state-text-color:rgba(0, 0, 0, .54);--mat-legacy-button-toggle-selected-state-background-color:#e0e0e0;--mat-legacy-button-toggle-disabled-state-text-color:rgba(0, 0, 0, .26);--mat-legacy-button-toggle-disabled-state-background-color:#eeeeee;--mat-legacy-button-toggle-disabled-selected-state-background-color:#bdbdbd;--mat-standard-button-toggle-text-color:rgba(0, 0, 0, .87);--mat-standard-button-toggle-background-color:white;--mat-standard-button-toggle-state-layer-color:black;--mat-standard-button-toggle-selected-state-background-color:#e0e0e0;--mat-standard-button-toggle-selected-state-text-color:rgba(0, 0, 0, .87);--mat-standard-button-toggle-disabled-state-text-color:rgba(0, 0, 0, .26);--mat-standard-button-toggle-disabled-state-background-color:white;--mat-standard-button-toggle-disabled-selected-state-text-color:rgba(0, 0, 0, .87);--mat-standard-button-toggle-disabled-selected-state-background-color:#bdbdbd;--mat-standard-button-toggle-divider-color:#e0e0e0}html[_ngcontent-%COMP%]{--mat-standard-button-toggle-height:48px}html[_ngcontent-%COMP%]{--mat-legacy-button-toggle-text-font:Roboto, sans-serif;--mat-standard-button-toggle-text-font:Roboto, sans-serif}html[_ngcontent-%COMP%]{--mat-datepicker-calendar-date-selected-state-text-color:white;--mat-datepicker-calendar-date-selected-state-background-color:#3f51b5;--mat-datepicker-calendar-date-selected-disabled-state-background-color:rgba(63, 81, 181, .4);--mat-datepicker-calendar-date-today-selected-state-outline-color:white;--mat-datepicker-calendar-date-focus-state-background-color:rgba(63, 81, 181, .3);--mat-datepicker-calendar-date-hover-state-background-color:rgba(63, 81, 181, .3);--mat-datepicker-toggle-active-state-icon-color:#3f51b5;--mat-datepicker-calendar-date-in-range-state-background-color:rgba(63, 81, 181, .2);--mat-datepicker-calendar-date-in-comparison-range-state-background-color:rgba(249, 171, 0, .2);--mat-datepicker-calendar-date-in-overlap-range-state-background-color:#a8dab5;--mat-datepicker-calendar-date-in-overlap-range-selected-state-background-color:#46a35e;--mat-datepicker-toggle-icon-color:rgba(0, 0, 0, .54);--mat-datepicker-calendar-body-label-text-color:rgba(0, 0, 0, .54);--mat-datepicker-calendar-period-button-icon-color:rgba(0, 0, 0, .54);--mat-datepicker-calendar-navigation-button-icon-color:rgba(0, 0, 0, .54);--mat-datepicker-calendar-header-divider-color:rgba(0, 0, 0, .12);--mat-datepicker-calendar-header-text-color:rgba(0, 0, 0, .54);--mat-datepicker-calendar-date-today-outline-color:rgba(0, 0, 0, .38);--mat-datepicker-calendar-date-today-disabled-state-outline-color:rgba(0, 0, 0, .18);--mat-datepicker-calendar-date-text-color:rgba(0, 0, 0, .87);--mat-datepicker-calendar-date-outline-color:transparent;--mat-datepicker-calendar-date-disabled-state-text-color:rgba(0, 0, 0, .38);--mat-datepicker-calendar-date-preview-state-outline-color:rgba(0, 0, 0, .24);--mat-datepicker-range-input-separator-color:rgba(0, 0, 0, .87);--mat-datepicker-range-input-disabled-state-separator-color:rgba(0, 0, 0, .38);--mat-datepicker-range-input-disabled-state-text-color:rgba(0, 0, 0, .38);--mat-datepicker-calendar-container-background-color:white;--mat-datepicker-calendar-container-text-color:rgba(0, 0, 0, .87)}.mat-datepicker-content.mat-accent[_ngcontent-%COMP%]{--mat-datepicker-calendar-date-selected-state-text-color:white;--mat-datepicker-calendar-date-selected-state-background-color:#ff4081;--mat-datepicker-calendar-date-selected-disabled-state-background-color:rgba(255, 64, 129, .4);--mat-datepicker-calendar-date-today-selected-state-outline-color:white;--mat-datepicker-calendar-date-focus-state-background-color:rgba(255, 64, 129, .3);--mat-datepicker-calendar-date-hover-state-background-color:rgba(255, 64, 129, .3);--mat-datepicker-calendar-date-in-range-state-background-color:rgba(255, 64, 129, .2);--mat-datepicker-calendar-date-in-comparison-range-state-background-color:rgba(249, 171, 0, .2);--mat-datepicker-calendar-date-in-overlap-range-state-background-color:#a8dab5;--mat-datepicker-calendar-date-in-overlap-range-selected-state-background-color:#46a35e}.mat-datepicker-content.mat-warn[_ngcontent-%COMP%]{--mat-datepicker-calendar-date-selected-state-text-color:white;--mat-datepicker-calendar-date-selected-state-background-color:#f44336;--mat-datepicker-calendar-date-selected-disabled-state-background-color:rgba(244, 67, 54, .4);--mat-datepicker-calendar-date-today-selected-state-outline-color:white;--mat-datepicker-calendar-date-focus-state-background-color:rgba(244, 67, 54, .3);--mat-datepicker-calendar-date-hover-state-background-color:rgba(244, 67, 54, .3);--mat-datepicker-calendar-date-in-range-state-background-color:rgba(244, 67, 54, .2);--mat-datepicker-calendar-date-in-comparison-range-state-background-color:rgba(249, 171, 0, .2);--mat-datepicker-calendar-date-in-overlap-range-state-background-color:#a8dab5;--mat-datepicker-calendar-date-in-overlap-range-selected-state-background-color:#46a35e}.mat-datepicker-toggle-active.mat-accent[_ngcontent-%COMP%]{--mat-datepicker-toggle-active-state-icon-color:#ff4081}.mat-datepicker-toggle-active.mat-warn[_ngcontent-%COMP%]{--mat-datepicker-toggle-active-state-icon-color:#f44336}.mat-calendar-controls[_ngcontent-%COMP%]   .mat-mdc-icon-button.mat-mdc-button-base[_ngcontent-%COMP%]{--mdc-icon-button-state-layer-size:40px;width:var(--mdc-icon-button-state-layer-size);height:var(--mdc-icon-button-state-layer-size);padding:8px}.mat-calendar-controls[_ngcontent-%COMP%]   .mat-mdc-icon-button.mat-mdc-button-base[_ngcontent-%COMP%]   .mat-mdc-button-touch-target[_ngcontent-%COMP%]{display:none}html[_ngcontent-%COMP%]{--mat-datepicker-calendar-text-font:Roboto, sans-serif;--mat-datepicker-calendar-text-size:13px;--mat-datepicker-calendar-body-label-text-size:14px;--mat-datepicker-calendar-body-label-text-weight:500;--mat-datepicker-calendar-period-button-text-size:14px;--mat-datepicker-calendar-period-button-text-weight:500;--mat-datepicker-calendar-header-text-size:11px;--mat-datepicker-calendar-header-text-weight:400}html[_ngcontent-%COMP%]{--mat-divider-color:rgba(0, 0, 0, .12)}html[_ngcontent-%COMP%]{--mat-expansion-container-background-color:white;--mat-expansion-container-text-color:rgba(0, 0, 0, .87);--mat-expansion-actions-divider-color:rgba(0, 0, 0, .12);--mat-expansion-header-hover-state-layer-color:rgba(0, 0, 0, .04);--mat-expansion-header-focus-state-layer-color:rgba(0, 0, 0, .04);--mat-expansion-header-disabled-state-text-color:rgba(0, 0, 0, .26);--mat-expansion-header-text-color:rgba(0, 0, 0, .87);--mat-expansion-header-description-color:rgba(0, 0, 0, .54);--mat-expansion-header-indicator-color:rgba(0, 0, 0, .54)}html[_ngcontent-%COMP%]{--mat-expansion-header-collapsed-state-height:48px;--mat-expansion-header-expanded-state-height:64px}html[_ngcontent-%COMP%]{--mat-expansion-header-text-font:Roboto, sans-serif;--mat-expansion-header-text-size:14px;--mat-expansion-header-text-weight:500;--mat-expansion-header-text-line-height:inherit;--mat-expansion-header-text-tracking:inherit;--mat-expansion-container-text-font:Roboto, sans-serif;--mat-expansion-container-text-line-height:20px;--mat-expansion-container-text-size:14px;--mat-expansion-container-text-tracking:.0178571429em;--mat-expansion-container-text-weight:400}html[_ngcontent-%COMP%]{--mat-grid-list-tile-header-primary-text-size:14px;--mat-grid-list-tile-header-secondary-text-size:12px;--mat-grid-list-tile-footer-primary-text-size:14px;--mat-grid-list-tile-footer-secondary-text-size:12px}html[_ngcontent-%COMP%]{--mat-icon-color:inherit}.mat-icon.mat-primary[_ngcontent-%COMP%]{--mat-icon-color:#3f51b5}.mat-icon.mat-accent[_ngcontent-%COMP%]{--mat-icon-color:#ff4081}.mat-icon.mat-warn[_ngcontent-%COMP%]{--mat-icon-color:#f44336}html[_ngcontent-%COMP%]{--mat-sidenav-container-divider-color:rgba(0, 0, 0, .12);--mat-sidenav-container-background-color:white;--mat-sidenav-container-text-color:rgba(0, 0, 0, .87);--mat-sidenav-content-background-color:#fafafa;--mat-sidenav-content-text-color:rgba(0, 0, 0, .87);--mat-sidenav-scrim-color:rgba(0, 0, 0, .6)}html[_ngcontent-%COMP%]{--mat-stepper-header-icon-foreground-color:white;--mat-stepper-header-selected-state-icon-background-color:#3f51b5;--mat-stepper-header-selected-state-icon-foreground-color:white;--mat-stepper-header-done-state-icon-background-color:#3f51b5;--mat-stepper-header-done-state-icon-foreground-color:white;--mat-stepper-header-edit-state-icon-background-color:#3f51b5;--mat-stepper-header-edit-state-icon-foreground-color:white;--mat-stepper-container-color:white;--mat-stepper-line-color:rgba(0, 0, 0, .12);--mat-stepper-header-hover-state-layer-color:rgba(0, 0, 0, .04);--mat-stepper-header-focus-state-layer-color:rgba(0, 0, 0, .04);--mat-stepper-header-label-text-color:rgba(0, 0, 0, .54);--mat-stepper-header-optional-label-text-color:rgba(0, 0, 0, .54);--mat-stepper-header-selected-state-label-text-color:rgba(0, 0, 0, .87);--mat-stepper-header-error-state-label-text-color:#f44336;--mat-stepper-header-icon-background-color:rgba(0, 0, 0, .54);--mat-stepper-header-error-state-icon-foreground-color:#f44336;--mat-stepper-header-error-state-icon-background-color:transparent}html[_ngcontent-%COMP%]   .mat-step-header.mat-accent[_ngcontent-%COMP%]{--mat-stepper-header-icon-foreground-color:white;--mat-stepper-header-selected-state-icon-background-color:#ff4081;--mat-stepper-header-selected-state-icon-foreground-color:white;--mat-stepper-header-done-state-icon-background-color:#ff4081;--mat-stepper-header-done-state-icon-foreground-color:white;--mat-stepper-header-edit-state-icon-background-color:#ff4081;--mat-stepper-header-edit-state-icon-foreground-color:white}html[_ngcontent-%COMP%]   .mat-step-header.mat-warn[_ngcontent-%COMP%]{--mat-stepper-header-icon-foreground-color:white;--mat-stepper-header-selected-state-icon-background-color:#f44336;--mat-stepper-header-selected-state-icon-foreground-color:white;--mat-stepper-header-done-state-icon-background-color:#f44336;--mat-stepper-header-done-state-icon-foreground-color:white;--mat-stepper-header-edit-state-icon-background-color:#f44336;--mat-stepper-header-edit-state-icon-foreground-color:white}html[_ngcontent-%COMP%]{--mat-stepper-header-height:72px}html[_ngcontent-%COMP%]{--mat-stepper-container-text-font:Roboto, sans-serif;--mat-stepper-header-label-text-font:Roboto, sans-serif;--mat-stepper-header-label-text-size:14px;--mat-stepper-header-label-text-weight:400;--mat-stepper-header-error-state-label-text-size:16px;--mat-stepper-header-selected-state-label-text-size:16px;--mat-stepper-header-selected-state-label-text-weight:400}.mat-sort-header-arrow[_ngcontent-%COMP%]{color:#757575}html[_ngcontent-%COMP%]{--mat-toolbar-container-background-color:whitesmoke;--mat-toolbar-container-text-color:rgba(0, 0, 0, .87)}.mat-toolbar.mat-primary[_ngcontent-%COMP%]{--mat-toolbar-container-background-color:#3f51b5;--mat-toolbar-container-text-color:white}.mat-toolbar.mat-accent[_ngcontent-%COMP%]{--mat-toolbar-container-background-color:#ff4081;--mat-toolbar-container-text-color:white}.mat-toolbar.mat-warn[_ngcontent-%COMP%]{--mat-toolbar-container-background-color:#f44336;--mat-toolbar-container-text-color:white}html[_ngcontent-%COMP%]{--mat-toolbar-standard-height:64px;--mat-toolbar-mobile-height:56px}html[_ngcontent-%COMP%]{--mat-toolbar-title-text-font:Roboto, sans-serif;--mat-toolbar-title-text-line-height:32px;--mat-toolbar-title-text-size:20px;--mat-toolbar-title-text-tracking:.0125em;--mat-toolbar-title-text-weight:500}.mat-tree[_ngcontent-%COMP%]{background:#fff}.mat-tree-node[_ngcontent-%COMP%], .mat-nested-tree-node[_ngcontent-%COMP%]{color:#000000de}.mat-tree-node[_ngcontent-%COMP%]{min-height:48px}.mat-tree[_ngcontent-%COMP%]{font-family:Roboto,sans-serif}.mat-tree-node[_ngcontent-%COMP%], .mat-nested-tree-node[_ngcontent-%COMP%]{font-weight:400;font-size:14px}.mat-h1[_ngcontent-%COMP%], .mat-headline-5[_ngcontent-%COMP%], .mat-typography[_ngcontent-%COMP%]   .mat-h1[_ngcontent-%COMP%], .mat-typography[_ngcontent-%COMP%]   .mat-headline-5[_ngcontent-%COMP%], .mat-typography[_ngcontent-%COMP%]   h1[_ngcontent-%COMP%]{font-size:24px;font-weight:400;line-height:32px;font-family:Roboto,sans-serif;letter-spacing:normal;margin:0 0 16px}.mat-h2[_ngcontent-%COMP%], .mat-headline-6[_ngcontent-%COMP%], .mat-typography[_ngcontent-%COMP%]   .mat-h2[_ngcontent-%COMP%], .mat-typography[_ngcontent-%COMP%]   .mat-headline-6[_ngcontent-%COMP%], .mat-typography[_ngcontent-%COMP%]   h2[_ngcontent-%COMP%]{font-size:20px;font-weight:500;line-height:32px;font-family:Roboto,sans-serif;letter-spacing:.0125em;margin:0 0 16px}.mat-h3[_ngcontent-%COMP%], .mat-subtitle-1[_ngcontent-%COMP%], .mat-typography[_ngcontent-%COMP%]   .mat-h3[_ngcontent-%COMP%], .mat-typography[_ngcontent-%COMP%]   .mat-subtitle-1[_ngcontent-%COMP%], .mat-typography[_ngcontent-%COMP%]   h3[_ngcontent-%COMP%]{font-size:16px;font-weight:400;line-height:28px;font-family:Roboto,sans-serif;letter-spacing:.009375em;margin:0 0 16px}.mat-h4[_ngcontent-%COMP%], .mat-body-1[_ngcontent-%COMP%], .mat-typography[_ngcontent-%COMP%]   .mat-h4[_ngcontent-%COMP%], .mat-typography[_ngcontent-%COMP%]   .mat-body-1[_ngcontent-%COMP%], .mat-typography[_ngcontent-%COMP%]   h4[_ngcontent-%COMP%]{font-size:16px;font-weight:400;line-height:24px;font-family:Roboto,sans-serif;letter-spacing:.03125em;margin:0 0 16px}.mat-h5[_ngcontent-%COMP%], .mat-typography[_ngcontent-%COMP%]   .mat-h5[_ngcontent-%COMP%], .mat-typography[_ngcontent-%COMP%]   h5[_ngcontent-%COMP%]{font:400 11.62px/20px Roboto,sans-serif;margin:0 0 12px}.mat-h6[_ngcontent-%COMP%], .mat-typography[_ngcontent-%COMP%]   .mat-h6[_ngcontent-%COMP%], .mat-typography[_ngcontent-%COMP%]   h6[_ngcontent-%COMP%]{font:400 9.38px/20px Roboto,sans-serif;margin:0 0 12px}.mat-body-strong[_ngcontent-%COMP%], .mat-subtitle-2[_ngcontent-%COMP%], .mat-typography[_ngcontent-%COMP%]   .mat-body-strong[_ngcontent-%COMP%], .mat-typography[_ngcontent-%COMP%]   .mat-subtitle-2[_ngcontent-%COMP%]{font-size:14px;font-weight:500;line-height:22px;font-family:Roboto,sans-serif;letter-spacing:.0071428571em}.mat-body[_ngcontent-%COMP%], .mat-body-2[_ngcontent-%COMP%], .mat-typography[_ngcontent-%COMP%]   .mat-body[_ngcontent-%COMP%], .mat-typography[_ngcontent-%COMP%]   .mat-body-2[_ngcontent-%COMP%], .mat-typography[_ngcontent-%COMP%]{font-size:14px;font-weight:400;line-height:20px;font-family:Roboto,sans-serif;letter-spacing:.0178571429em}.mat-body[_ngcontent-%COMP%]   p[_ngcontent-%COMP%], .mat-body-2[_ngcontent-%COMP%]   p[_ngcontent-%COMP%], .mat-typography[_ngcontent-%COMP%]   .mat-body[_ngcontent-%COMP%]   p[_ngcontent-%COMP%], .mat-typography[_ngcontent-%COMP%]   .mat-body-2[_ngcontent-%COMP%]   p[_ngcontent-%COMP%], .mat-typography[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{margin:0 0 12px}.mat-small[_ngcontent-%COMP%], .mat-caption[_ngcontent-%COMP%], .mat-typography[_ngcontent-%COMP%]   .mat-small[_ngcontent-%COMP%], .mat-typography[_ngcontent-%COMP%]   .mat-caption[_ngcontent-%COMP%]{font-size:12px;font-weight:400;line-height:20px;font-family:Roboto,sans-serif;letter-spacing:.0333333333em}.mat-headline-1[_ngcontent-%COMP%], .mat-typography[_ngcontent-%COMP%]   .mat-headline-1[_ngcontent-%COMP%]{font-size:96px;font-weight:300;line-height:96px;font-family:Roboto,sans-serif;letter-spacing:-.015625em;margin:0 0 56px}.mat-headline-2[_ngcontent-%COMP%], .mat-typography[_ngcontent-%COMP%]   .mat-headline-2[_ngcontent-%COMP%]{font-size:60px;font-weight:300;line-height:60px;font-family:Roboto,sans-serif;letter-spacing:-.0083333333em;margin:0 0 64px}.mat-headline-3[_ngcontent-%COMP%], .mat-typography[_ngcontent-%COMP%]   .mat-headline-3[_ngcontent-%COMP%]{font-size:48px;font-weight:400;line-height:50px;font-family:Roboto,sans-serif;letter-spacing:normal;margin:0 0 64px}.mat-headline-4[_ngcontent-%COMP%], .mat-typography[_ngcontent-%COMP%]   .mat-headline-4[_ngcontent-%COMP%]{font-size:34px;font-weight:400;line-height:40px;font-family:Roboto,sans-serif;letter-spacing:.0073529412em;margin:0 0 64px}.searchBar[_ngcontent-%COMP%]{width:100%;border-radius:20px;padding:5px;border-color:transparent;background-image:url(/assets/img/searchIco.png);background-size:20px;background-repeat:no-repeat;background-position:right center}.whiteButton[_ngcontent-%COMP%]{border-color:transparent;background-color:#fff;padding:20px;border-radius:20px;width:480px;margin-right:50px;box-shadow:#959da533 0 8px 24px}.whiteButton[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{border-radius:20px}"]})}return n})();class Vle{}function Hle(n,t){if(1&n){const e=a.EpF();a.TgZ(0,"div",8),a.NdJ("click",function(){const s=a.CHM(e).$implicit,c=a.oxw();return a.KtG(c.redirectPetPage(s.id))}),a._UZ(1,"img",9),a.TgZ(2,"div",10)(3,"p"),a._uU(4),a.qZA()()()}if(2&n){const e=t.$implicit;a.xp6(4),a.Oqu(e.name)}}let Ule=(()=>{class n{constructor(e,i){this.router=e,this.apiService=i;const r=new URLSearchParams(window.location.search);this.showClientData(r.get("uid")),this.clientInfo=new Vle,this.clientPets=[]}showClientData(e){null!=e&&(this.apiService.getSingleClient(e).then(i=>{this.clientInfo=i}),this.apiService.getClientPets(e).then(i=>{this.clientPets=i}))}redirectPetPage(e){this.router.navigate(["clients/pet"],{queryParams:{petId:e}})}static#e=this.\u0275fac=function(i){return new(i||n)(a.Y36(va),a.Y36(T_))};static#t=this.\u0275cmp=a.Xpm({type:n,selectors:[["app-client-single-page"]],decls:54,vars:7,consts:[[1,"module",2,"column-count","2"],[1,"info-container"],[2,"column-count","2"],[1,"module",2,"padding-right","20px"],[2,"text-align","justify"],["src","/assets/img/userProfileImage.jpg",2,"width","400px"],[1,"module"],["class","image-container",3,"click",4,"ngFor","ngForOf"],[1,"image-container",3,"click"],["src","/assets/img/dogImage1.jpg","alt","Pet"],[1,"overlay"]],template:function(i,r){1&i&&(a.TgZ(0,"div")(1,"h1"),a._uU(2),a.qZA()(),a.TgZ(3,"div",0)(4,"h2"),a._uU(5,"Personal information"),a.qZA(),a.TgZ(6,"div",1)(7,"div",2)(8,"div")(9,"label")(10,"b"),a._uU(11,"Name:"),a.qZA()(),a.TgZ(12,"span"),a._uU(13),a.qZA(),a._UZ(14,"br"),a.TgZ(15,"label")(16,"b"),a._uU(17,"Surname:"),a.qZA()(),a.TgZ(18,"span"),a._uU(19),a.qZA(),a._UZ(20,"br"),a.TgZ(21,"label")(22,"b"),a._uU(23,"Phone:"),a.qZA()(),a.TgZ(24,"span"),a._uU(25),a.qZA(),a._UZ(26,"br"),a.qZA(),a.TgZ(27,"div")(28,"label")(29,"b"),a._uU(30,"Email:"),a.qZA()(),a.TgZ(31,"span"),a._uU(32),a.qZA(),a._UZ(33,"br"),a.TgZ(34,"label")(35,"b"),a._uU(36,"Address:"),a.qZA()(),a.TgZ(37,"span"),a._uU(38," C/ Medell\xedn n69, Albacete, 05423"),a.qZA(),a._UZ(39,"br"),a.qZA()(),a.TgZ(40,"div",3)(41,"h2"),a._uU(42,"Client resume"),a.qZA(),a.TgZ(43,"p",4),a._uU(44,"Lorem ipsum dolor sit amet, consectetur adipiscing elit. Nullam et condimentum purus, in tincidunt erat. "),a._UZ(45,"br")(46,"br"),a._uU(47," Sed in suscipit dui. Nulla scelerisque, orci vitae volutpat tincidunt, lectus magna suscipit mauris. "),a.qZA()()(),a.TgZ(48,"div"),a._UZ(49,"img",5),a.qZA()(),a.TgZ(50,"div",6)(51,"h2"),a._uU(52,"Pets"),a.qZA(),a.YNc(53,Hle,5,1,"div",7),a.qZA()),2&i&&(a.xp6(2),a.AsE("",r.clientInfo.name," ",r.clientInfo.surnames,""),a.xp6(11),a.hij(" ",r.clientInfo.name,""),a.xp6(6),a.hij(" ",r.clientInfo.surnames,""),a.xp6(6),a.hij(" ",r.clientInfo.phone,""),a.xp6(7),a.hij(" ",r.clientInfo.email,""),a.xp6(21),a.Q6J("ngForOf",r.clientPets))},dependencies:[U],styles:["body[_ngcontent-%COMP%]{font-family:Arial,sans-serif;margin:0;padding:0}img[_ngcontent-%COMP%]{border-radius:20px}.image-container[_ngcontent-%COMP%]{position:relative;display:inline-block;margin-right:50px}.overlay[_ngcontent-%COMP%]{position:absolute;top:0;left:0;width:100%;height:100%;background-color:#00000080;display:flex;justify-content:center;align-items:center;text-align:center;color:#fff;border-radius:20px}.overlay[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{font-size:24px;font-weight:700}.image-container[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{width:278px;height:178px}.image-container[_ngcontent-%COMP%]:hover   .overlay[_ngcontent-%COMP%]{transform:scale(1.1)}.image-container[_ngcontent-%COMP%]:hover   img[_ngcontent-%COMP%]{transform:scale(1.1);transition:transform .3s}.overlay[_ngcontent-%COMP%]{transform:scale(1);transition:transform .3s}"]})}return n})();class zle{}const jle=["chart_div"],Gle=[{path:"",component:Zse},{path:"dashboard",component:kle},{path:"appointments",component:Rle},{path:"clients",component:Ble},{path:"clients/client",component:Ule},{path:"clients/pet",component:(()=>{class n{constructor(e){this.apiService=e,this.chartOptions={series:[{name:"Cardiac Frequency",data:[44,55,57,56,61,58,63,60,66]},{name:"Steps",data:[76,85,101,98,87,105,91,114,94]}],chart:{type:"bar",height:350},dataLabels:{enabled:!1},stroke:{show:!0,width:2,colors:["transparent"]},xaxis:{categories:["Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct"]},yaxis:{title:{text:"$ (thousands)"}},fill:{opacity:1},tooltip:{y:{formatter:function(r){return"$ "+r+" thousands"}}}},this.chartOptions2={series:[{name:"Weight",data:[44,55,57,56,61,58,63,60,66]},{name:"Height",data:[76,85,101,98,87,105,91,114,94]}],chart:{type:"bar",height:350},dataLabels:{enabled:!1},stroke:{show:!0,width:2,colors:["transparent"]},xaxis:{categories:["Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct"]},yaxis:{title:{text:"$ (thousands)"}},fill:{opacity:1},tooltip:{y:{formatter:function(r){return"$ "+r+" thousands"}}}};const i=new URLSearchParams(window.location.search);this.showPetData(i.get("petId")),this.petInfo=new zle}showPetData(e){null!=e&&this.apiService.getPet(e).then(i=>{this.petInfo=i,console.log(i),this.drawCardiacFreqChart()})}drawCardiacFreqChart(){const e=this.petInfo.health_info?.cardiac_freq;null!=e&&Object.keys(e).map(r=>{const s=parseFloat(e[r]);return[new Date(r).getTime(),s]})}getLatestWeight(){if(null!=this.petInfo.weight){const e=Object.keys(this.petInfo.weight);return this.petInfo.weight[e[e.length-1]]}return null}getBirth(e){if(null!=e){const i=["January","February","March","April","May","June","July","August","September","October","November","December"],s=e.split("_")[0],c=parseInt(s.substring(0,2),10),p=parseInt(s.substring(2,4),10)-1,_=parseInt(s.substring(4,8),10);return`${c} of ${i[p]}, ${_}`}return null}static#e=this.\u0275fac=function(i){return new(i||n)(a.Y36(T_))};static#t=this.\u0275cmp=a.Xpm({type:n,selectors:[["app-pet-single-page"]],viewQuery:function(i,r){if(1&i&&a.Gf(jle,5),2&i){let s;a.iGM(s=a.CRH())&&(r.chart=s.first)}},decls:54,vars:12,consts:[[1,"module",2,"column-count","2"],[1,"info-container"],[2,"column-count","2"],["for","petTypeBreed"],["id","petTypeBreed"],["for","petWeight"],["id","petWeight"],["for","petHeight"],["id","petHeight"],[1,"module",2,"padding-right","20px"],[2,"text-align","justify"],["src","/assets/img/dogImage3.jpg",2,"width","400px"],[1,"module"],[1,"image-container"],["id","chart_div"],[3,"series","chart"]],template:function(i,r){1&i&&(a.TgZ(0,"div")(1,"h1"),a._uU(2),a.qZA()(),a.TgZ(3,"div",0)(4,"h2"),a._uU(5,"Personal information"),a.qZA(),a.TgZ(6,"div",1)(7,"div",2)(8,"div")(9,"label")(10,"b"),a._uU(11,"Name:"),a.qZA()(),a.TgZ(12,"span"),a._uU(13),a.qZA(),a._UZ(14,"br"),a.TgZ(15,"label")(16,"b"),a._uU(17,"Bith date:"),a.qZA()(),a.TgZ(18,"span"),a._uU(19),a.qZA(),a._UZ(20,"br"),a.TgZ(21,"label",3)(22,"b"),a._uU(23,"Type:"),a.qZA()(),a.TgZ(24,"span",4),a._uU(25),a.qZA(),a._UZ(26,"br"),a.qZA(),a.TgZ(27,"div")(28,"label",5)(29,"b"),a._uU(30,"Weight:"),a.qZA()(),a.TgZ(31,"span",6),a._uU(32),a.qZA(),a._UZ(33,"br"),a.TgZ(34,"label",7)(35,"b"),a._uU(36,"Height:"),a.qZA()(),a.TgZ(37,"span",8),a._uU(38),a.qZA(),a._UZ(39,"br"),a.qZA()(),a.TgZ(40,"div",9)(41,"h2"),a._uU(42,"Pet resume"),a.qZA(),a.TgZ(43,"p",10),a._uU(44),a.qZA()()(),a.TgZ(45,"div"),a._UZ(46,"img",11),a.qZA()(),a.TgZ(47,"div",12)(48,"h2"),a._uU(49,"Statistics"),a.qZA(),a._UZ(50,"div",13),a.TgZ(51,"div",14),a._UZ(52,"apx-chart",15)(53,"apx-chart",15),a.qZA()()),2&i&&(a.xp6(2),a.Oqu(r.petInfo.name),a.xp6(11),a.hij(" ",r.petInfo.name,""),a.xp6(6),a.hij(" ",r.getBirth(r.petInfo.birth),""),a.xp6(6),a.AsE(" ",r.petInfo.type,", ",r.petInfo.breed,""),a.xp6(7),a.hij(" ",r.getLatestWeight(),"g"),a.xp6(6),a.hij(" ",r.petInfo.height,"cm"),a.xp6(6),a.hij("",null==r.petInfo.health_info?null:r.petInfo.health_info.observations," "),a.xp6(8),a.Q6J("series",r.chartOptions.series)("chart",r.chartOptions.chart),a.xp6(1),a.Q6J("series",r.chartOptions2.series)("chart",r.chartOptions2.chart))},dependencies:[YG],styles:["body[_ngcontent-%COMP%]{font-family:Arial,sans-serif;margin:0;padding:0}img[_ngcontent-%COMP%]{border-radius:20px}.image-container[_ngcontent-%COMP%]{position:relative;display:inline-block;margin-right:50px}.overlay[_ngcontent-%COMP%]{position:absolute;top:0;left:0;width:100%;height:100%;background-color:#00000080;display:flex;justify-content:center;align-items:center;text-align:center;color:#fff;border-radius:20px}.overlay[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{font-size:24px;font-weight:700}.image-container[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{width:278px;height:178px}.image-container[_ngcontent-%COMP%]:hover   .overlay[_ngcontent-%COMP%]{transform:scale(1.1)}.image-container[_ngcontent-%COMP%]:hover   img[_ngcontent-%COMP%]{transform:scale(1.1);transition:transform .3s}.overlay[_ngcontent-%COMP%]{transform:scale(1);transition:transform .3s}"]})}return n})()}];let Wle=(()=>{class n{static#e=this.\u0275fac=function(i){return new(i||n)};static#t=this.\u0275mod=a.oAB({type:n});static#n=this.\u0275inj=a.cJS({imports:[yW.forRoot(Gle),yW]})}return n})();const $le=[[["","icon",""]],"*"],Yle=["[icon]","*"];let qle=(()=>{class n{constructor(){this.routerLinkActiveOptions={exact:!1}}static#e=this.\u0275fac=function(i){return new(i||n)};static#t=this.\u0275cmp=a.Xpm({type:n,selectors:[["app-sidenav-link"]],inputs:{routerLink:"routerLink",routerLinkActiveOptions:"routerLinkActiveOptions"},ngContentSelectors:Yle,decls:5,vars:2,consts:[["routerLinkActive","active",3,"routerLink","routerLinkActiveOptions"],[1,"text-container"]],template:function(i,r){1&i&&(a.F$t($le),a.TgZ(0,"a",0)(1,"span"),a.Hsn(2),a.qZA(),a.TgZ(3,"span",1),a.Hsn(4,1),a.qZA()()),2&i&&a.Q6J("routerLink",r.routerLink)("routerLinkActiveOptions",r.routerLinkActiveOptions)},dependencies:[nS,uW],styles:["a[_ngcontent-%COMP%]{display:flex;flex-direction:row;align-items:center;justify-content:flex-start;gap:8px;min-width:200px;padding:16px;background-color:#2d6f28;font-weight:700;color:#afeebb;box-sizing:border-box;text-decoration:none;border-radius:0;transition:background-color 275ms ease-out}a[_ngcontent-%COMP%]   .text-container[_ngcontent-%COMP%]{overflow:hidden;text-overflow:ellipsis;white-space:nowrap}a.active[_ngcontent-%COMP%]{background-color:#2d6f28;font-weight:700;color:#afeebb}a.inactive[_ngcontent-%COMP%]{background-color:#afeebb;font-weight:700;color:#2d6f28}a[_ngcontent-%COMP%]:hover{background-color:#afeebb;color:#2d6f28}"]})}return n})(),Zle=(()=>{class n{static#e=this.\u0275fac=function(i){return new(i||n)};static#t=this.\u0275cmp=a.Xpm({type:n,selectors:[["app-header"]],decls:6,vars:0,consts:[["id","header"],[2,"display","grid"],[1,"hTittle"],[2,"text-align","right","padding-right","40px"],["src","/assets/user-icon.png","alt",""]],template:function(i,r){1&i&&(a.TgZ(0,"div",0)(1,"div",1)(2,"span",2),a._uU(3," PetGuardian "),a.qZA()(),a.TgZ(4,"div",3),a._UZ(5,"img",4),a.qZA()())}})}return n})();function Xle(n,t){if(1&n){const e=a.EpF();a.TgZ(0,"div"),a._UZ(1,"app-header"),a.TgZ(2,"app-sidenav-link",1)(3,"span"),a._uU(4,"Home"),a.qZA()(),a.TgZ(5,"app-sidenav-link",2)(6,"span"),a._uU(7,"Appointments"),a.qZA()(),a.TgZ(8,"app-sidenav-link",3)(9,"span"),a._uU(10,"Clients"),a.qZA()(),a.TgZ(11,"app-sidenav-link",4),a.NdJ("click",function(){a.CHM(e);const r=a.oxw();return a.KtG(r.logout())}),a.TgZ(12,"span"),a._uU(13,"Logout "),a.qZA()()()}}let Kle=(()=>{class n{constructor(e,i,r){this.afAuth=e,this.router=i,this.storageService=r,this.isLoggedIn$=this.storageService.isLoggedIn,this.subscription=this.storageService.isLoggedIn.subscribe(s=>{0==s&&this.router.navigate(["/"])})}logout(){this.afAuth.signOut().then(()=>{this.storageService.isLoggedNext(!1),this.router.navigate(["/"])})}static#e=this.\u0275fac=function(i){return new(i||n)(a.Y36(Cd),a.Y36(va),a.Y36(D_))};static#t=this.\u0275cmp=a.Xpm({type:n,selectors:[["app-side-nav"]],decls:2,vars:3,consts:[[4,"ngIf"],["routerLink","dashboard"],["routerLink","appointments"],["routerLink","clients"],["routerLink","client",3,"click"]],template:function(i,r){1&i&&(a.YNc(0,Xle,14,0,"div",0),a.ALo(1,"async")),2&i&&a.Q6J("ngIf",a.lcZ(1,1,r.isLoggedIn$))},dependencies:[Q,nS,qle,Zle,Zn],styles:["[_nghost-%COMP%]{height:100vh;width:var(--sidenav-width);box-sizing:border-box;position:sticky;top:0;background-color:#2d6f28}"]})}return n})(),Qle=(()=>{class n{constructor(){this.title="petguardian-web"}static#e=this.\u0275fac=function(i){return new(i||n)};static#t=this.\u0275cmp=a.Xpm({type:n,selectors:[["app-root"]],decls:3,vars:0,consts:[[1,"content"]],template:function(i,r){1&i&&(a._UZ(0,"app-side-nav"),a.TgZ(1,"div",0),a._UZ(2,"router-outlet"),a.qZA())},dependencies:[BB,Kle],styles:["[_ngcontent-%COMP%]:root{--sidenav-width: 300px}[_nghost-%COMP%]{min-height:100vh;display:flex;flex-direction:row}.content[_ngcontent-%COMP%]{flex-grow:1;padding:20px;background-color:#ededed}"]})}return n})();var r5=ce(7582);function Qo(n){if(null===n||!0===n||!1===n)return NaN;var t=Number(n);return isNaN(t)?t:t<0?Math.ceil(t):Math.floor(t)}function mV(n,t){ei(2,arguments);var e=Yi(n),i=Qo(t);return isNaN(i)?new Date(NaN):(i&&e.setDate(e.getDate()+i),e)}function vV(n,t){ei(2,arguments);var e=Yi(n).getTime(),i=Qo(t);return new Date(e+i)}var Jle=36e5;function ece(n,t){return ei(2,arguments),vV(n,Qo(t)*Jle)}var tce=6e4;function nce(n,t){return ei(2,arguments),vV(n,Qo(t)*tce)}function ice(n,t){return ei(2,arguments),vV(n,1e3*Qo(t))}function s5(n){var t=new Date(Date.UTC(n.getFullYear(),n.getMonth(),n.getDate(),n.getHours(),n.getMinutes(),n.getSeconds(),n.getMilliseconds()));return t.setUTCFullYear(n.getFullYear()),n.getTime()-t.getTime()}var rce=864e5;function o5(n,t){var e=n.getFullYear()-t.getFullYear()||n.getMonth()-t.getMonth()||n.getDate()-t.getDate()||n.getHours()-t.getHours()||n.getMinutes()-t.getMinutes()||n.getSeconds()-t.getSeconds()||n.getMilliseconds()-t.getMilliseconds();return e<0?-1:e>0?1:e}function oce(n,t){ei(2,arguments);var e=Yi(n),i=Yi(t),r=o5(e,i),s=Math.abs(function sce(n,t){ei(2,arguments);var e=iS(n),i=iS(t),r=e.getTime()-s5(e),s=i.getTime()-s5(i);return Math.round((r-s)/rce)}(e,i));e.setDate(e.getDate()-r*s);var p=r*(s-+(o5(e,i)===-r));return 0===p?0:p}Math.pow(10,8);var cce=6e4;function l5(n,t){return ei(2,arguments),Yi(n).getTime()-Yi(t).getTime()}var c5={ceil:Math.ceil,round:Math.round,floor:Math.floor,trunc:function(t){return t<0?Math.ceil(t):Math.floor(t)}},fce="trunc";function u5(n){return n?c5[n]:c5[fce]}function pce(n,t,e){ei(2,arguments);var i=l5(n,t)/cce;return u5(e?.roundingMethod)(i)}function gce(n,t,e){ei(2,arguments);var i=l5(n,t)/1e3;return u5(e?.roundingMethod)(i)}function mce(n){ei(1,arguments);var t=Yi(n);return t.setHours(23,59,59,999),t}function vce(n){ei(1,arguments);var t=Yi(n),e=t.getMonth();return t.setFullYear(t.getFullYear(),e+1,0),t.setHours(23,59,59,999),t}var d5={};function h5(){return d5}function yce(n,t){var e,i,r,s,c,p,_,C;ei(1,arguments);var M=h5(),V=Qo(null!==(e=null!==(i=null!==(r=null!==(s=t?.weekStartsOn)&&void 0!==s?s:null==t||null===(c=t.locale)||void 0===c||null===(p=c.options)||void 0===p?void 0:p.weekStartsOn)&&void 0!==r?r:M.weekStartsOn)&&void 0!==i?i:null===(_=M.locale)||void 0===_||null===(C=_.options)||void 0===C?void 0:C.weekStartsOn)&&void 0!==e?e:0);if(!(V>=0&&V<=6))throw new RangeError("weekStartsOn must be between 0 and 6 inclusively");var W=Yi(n),K=W.getDay(),oe=6+(K<V?-7:0)-(K-V);return W.setDate(W.getDate()+oe),W.setHours(23,59,59,999),W}function _ce(n){return ei(1,arguments),Yi(n).getDay()}function bce(n){return ei(1,arguments),Yi(n).getMonth()}function f5(n){ei(1,arguments);var t=Yi(n);return t.setMilliseconds(0),t}function wce(n,t){ei(2,arguments);var e=f5(n),i=f5(t);return e.getTime()===i.getTime()}function xce(n){var t,e;if(ei(1,arguments),n&&"function"==typeof n.forEach)t=n;else{if("object"!==MN(n)||null===n)return new Date(NaN);t=Array.prototype.slice.call(n)}return t.forEach(function(i){var r=Yi(i);(void 0===e||e<r||isNaN(Number(r)))&&(e=r)}),e||new Date(NaN)}function Cce(n,t){ei(2,arguments);var e=Yi(n),i=Qo(t);return e.setHours(i),e}function Ece(n,t){ei(2,arguments);var e=Yi(n),i=Qo(t);return e.setMinutes(i),e}function Dce(n){ei(1,arguments);var t=Yi(n);return t.setSeconds(0,0),t}function Tce(n){ei(1,arguments);var t=Yi(n);return t.setDate(1),t.setHours(0,0,0,0),t}function p5(n,t){var e,i,r,s,c,p,_,C;ei(1,arguments);var M=h5(),V=Qo(null!==(e=null!==(i=null!==(r=null!==(s=t?.weekStartsOn)&&void 0!==s?s:null==t||null===(c=t.locale)||void 0===c||null===(p=c.options)||void 0===p?void 0:p.weekStartsOn)&&void 0!==r?r:M.weekStartsOn)&&void 0!==i?i:null===(_=M.locale)||void 0===_||null===(C=_.options)||void 0===C?void 0:C.weekStartsOn)&&void 0!==e?e:0);if(!(V>=0&&V<=6))throw new RangeError("weekStartsOn must be between 0 and 6 inclusively");var W=Yi(n),K=W.getDay(),oe=(K<V?7:0)+K-V;return W.setDate(W.getDate()-oe),W.setHours(0,0,0,0),W}function Sce(n){return ei(1,arguments),Yi(n).getHours()}function Ace(n){return ei(1,arguments),Yi(n).getMinutes()}function Ice(n){return new Date(n).getTimezoneOffset()}function g5(n,t){return ei(2,arguments),mV(n,7*Qo(t))}function m5(n,t){ei(2,arguments);var e=Yi(n),i=Qo(t);if(isNaN(i))return new Date(NaN);if(!i)return e;var r=e.getDate(),s=new Date(e.getTime());return s.setMonth(e.getMonth()+i+1,0),r>=s.getDate()?s:(e.setFullYear(s.getFullYear(),s.getMonth(),r),e)}function kce(n,t){return ei(2,arguments),mV(n,-Qo(t))}function Oce(n,t){return ei(2,arguments),g5(n,-Qo(t))}function Nce(n,t){return ei(2,arguments),m5(n,-Qo(t))}function jN(n){return ei(1,arguments),p5(n,{weekStartsOn:1})}var Fce=6048e5;function Lce(n){ei(1,arguments);var t=Yi(n),e=jN(t).getTime()-function Rce(n){ei(1,arguments);var t=function Pce(n){ei(1,arguments);var t=Yi(n),e=t.getFullYear(),i=new Date(0);i.setFullYear(e+1,0,4),i.setHours(0,0,0,0);var r=jN(i),s=new Date(0);s.setFullYear(e,0,4),s.setHours(0,0,0,0);var c=jN(s);return t.getTime()>=r.getTime()?e+1:t.getTime()>=c.getTime()?e:e-1}(n),e=new Date(0);return e.setFullYear(t,0,4),e.setHours(0,0,0,0),jN(e)}(t).getTime();return Math.round(e/Fce)+1}function Bce(n,t){ei(2,arguments);var e=Yi(n),i=Qo(t);return e.setDate(i),e}function Hce(n,t){ei(2,arguments);var e=Yi(n),i=Qo(t),r=e.getFullYear(),s=e.getDate(),c=new Date(0);c.setFullYear(r,i,15),c.setHours(0,0,0,0);var p=function Vce(n){ei(1,arguments);var t=Yi(n),e=t.getFullYear(),i=t.getMonth(),r=new Date(0);return r.setFullYear(e,i+1,0),r.setHours(0,0,0,0),r.getDate()}(c);return e.setMonth(i,Math.min(s,p)),e}function Uce(n,t){ei(2,arguments);var e=Yi(n),i=Qo(t);return isNaN(e.getTime())?new Date(NaN):(e.setFullYear(i),e)}function zce(n){return ei(1,arguments),Yi(n).getDate()}function jce(n){return ei(1,arguments),Yi(n).getFullYear()}function Gce(){return(0,r5.pi)((0,r5.pi)({},function Mce(){return{addDays:mV,addHours:ece,addMinutes:nce,addSeconds:ice,differenceInDays:oce,differenceInMinutes:pce,differenceInSeconds:gce,endOfDay:mce,endOfMonth:vce,endOfWeek:yce,getDay:_ce,getMonth:bce,isSameDay:wW,isSameMonth:bW,isSameSecond:wce,max:xce,setHours:Cce,setMinutes:Ece,startOfDay:iS,startOfMinute:Dce,startOfMonth:Tce,startOfWeek:p5,getHours:Sce,getMinutes:Ace,getTimezoneOffset:Ice}}()),{addWeeks:g5,addMonths:m5,subDays:kce,subWeeks:Oce,subMonths:Nce,getISOWeek:Lce,setDate:Bce,setMonth:Hce,setYear:Uce,getDate:zce,getYear:jce})}let Wce=(()=>{class n{static#e=this.\u0275fac=function(i){return new(i||n)};static#t=this.\u0275mod=a.oAB({type:n,bootstrap:[Qle]});static#n=this.\u0275inj=a.cJS({imports:[Ki.hO.initializeApp(Sie_firebase),sb,yne,Fi,fK.forRoot(),vG,B7,V7,T$,xv,Fq,nd,Pne,Tie,Wle,iK,lZ.forRoot(),Ele.forRoot({provide:op,useFactory:Gce})]})}return n})();is().bootstrapModule(Wce).catch(n=>console.error(n))},5054:(nn,ct,ce)=>{var a;function Le(J,l){var u=Object.keys(J);if(Object.getOwnPropertySymbols){var f=Object.getOwnPropertySymbols(J);l&&(f=f.filter(function(m){return Object.getOwnPropertyDescriptor(J,m).enumerable})),u.push.apply(u,f)}return u}function re(J){for(var l=1;l<arguments.length;l++){var u=null!=arguments[l]?arguments[l]:{};l%2?Le(Object(u),!0).forEach(function(f){gt(J,f,u[f])}):Object.getOwnPropertyDescriptors?Object.defineProperties(J,Object.getOwnPropertyDescriptors(u)):Le(Object(u)).forEach(function(f){Object.defineProperty(J,f,Object.getOwnPropertyDescriptor(u,f))})}return J}function Oe(J){return(Oe="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(l){return typeof l}:function(l){return l&&"function"==typeof Symbol&&l.constructor===Symbol&&l!==Symbol.prototype?"symbol":typeof l})(J)}function xe(J,l){if(!(J instanceof l))throw new TypeError("Cannot call a class as a function")}function Ye(J,l){for(var u=0;u<l.length;u++){var f=l[u];f.enumerable=f.enumerable||!1,f.configurable=!0,"value"in f&&(f.writable=!0),Object.defineProperty(J,f.key,f)}}function ke(J,l,u){return l&&Ye(J.prototype,l),u&&Ye(J,u),J}function gt(J,l,u){return l in J?Object.defineProperty(J,l,{value:u,enumerable:!0,configurable:!0,writable:!0}):J[l]=u,J}function Qe(J,l){if("function"!=typeof l&&null!==l)throw new TypeError("Super expression must either be null or a function");J.prototype=Object.create(l&&l.prototype,{constructor:{value:J,writable:!0,configurable:!0}}),l&&Ee(J,l)}function ye(J){return(ye=Object.setPrototypeOf?Object.getPrototypeOf:function(l){return l.__proto__||Object.getPrototypeOf(l)})(J)}function Ee(J,l){return(Ee=Object.setPrototypeOf||function(u,f){return u.__proto__=f,u})(J,l)}function St(J){var l=function(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}();return function(){var u,f=ye(J);if(l){var m=ye(this).constructor;u=Reflect.construct(f,arguments,m)}else u=f.apply(this,arguments);return function He(J,l){if(l&&("object"==typeof l||"function"==typeof l))return l;if(void 0!==l)throw new TypeError("Derived constructors may only return object or undefined");return function(u){if(void 0===u)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return u}(J)}(this,u)}}function _t(J,l){return function(u){if(Array.isArray(u))return u}(J)||function(u,f){var m=null==u?null:typeof Symbol<"u"&&u[Symbol.iterator]||u["@@iterator"];if(null!=m){var v,y,w=[],D=!0,I=!1;try{for(m=m.call(u);!(D=(v=m.next()).done)&&(w.push(v.value),!f||w.length!==f);D=!0);}catch(O){I=!0,y=O}finally{try{D||null==m.return||m.return()}finally{if(I)throw y}}return w}}(J,l)||xt(J,l)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function At(J){return function(l){if(Array.isArray(l))return Ut(l)}(J)||function(l){if(typeof Symbol<"u"&&null!=l[Symbol.iterator]||null!=l["@@iterator"])return Array.from(l)}(J)||xt(J)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function xt(J,l){if(J){if("string"==typeof J)return Ut(J,l);var u=Object.prototype.toString.call(J).slice(8,-1);return"Object"===u&&J.constructor&&(u=J.constructor.name),"Map"===u||"Set"===u?Array.from(J):"Arguments"===u||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(u)?Ut(J,l):void 0}}function Ut(J,l){(null==l||l>J.length)&&(l=J.length);for(var u=0,f=new Array(l);u<l;u++)f[u]=J[u];return f}var me=function(){function J(){xe(this,J)}return ke(J,[{key:"shadeRGBColor",value:function(l,u){var f=u.split(","),m=l<0?0:255,v=l<0?-1*l:l,y=parseInt(f[0].slice(4),10),w=parseInt(f[1],10),D=parseInt(f[2],10);return"rgb("+(Math.round((m-y)*v)+y)+","+(Math.round((m-w)*v)+w)+","+(Math.round((m-D)*v)+D)+")"}},{key:"shadeHexColor",value:function(l,u){var f=parseInt(u.slice(1),16),m=l<0?0:255,v=l<0?-1*l:l,y=f>>16,w=f>>8&255,D=255&f;return"#"+(16777216+65536*(Math.round((m-y)*v)+y)+256*(Math.round((m-w)*v)+w)+(Math.round((m-D)*v)+D)).toString(16).slice(1)}},{key:"shadeColor",value:function(l,u){return J.isColorHex(u)?this.shadeHexColor(l,u):this.shadeRGBColor(l,u)}}],[{key:"bind",value:function(l,u){return function(){return l.apply(u,arguments)}}},{key:"isObject",value:function(l){return l&&"object"===Oe(l)&&!Array.isArray(l)&&null!=l}},{key:"is",value:function(l,u){return Object.prototype.toString.call(u)==="[object "+l+"]"}},{key:"listToArray",value:function(l){var u,f=[];for(u=0;u<l.length;u++)f[u]=l[u];return f}},{key:"extend",value:function(l,u){var f=this;"function"!=typeof Object.assign&&(Object.assign=function(v){if(null==v)throw new TypeError("Cannot convert undefined or null to object");for(var y=Object(v),w=1;w<arguments.length;w++){var D=arguments[w];if(null!=D)for(var I in D)D.hasOwnProperty(I)&&(y[I]=D[I])}return y});var m=Object.assign({},l);return this.isObject(l)&&this.isObject(u)&&Object.keys(u).forEach(function(v){f.isObject(u[v])&&v in l?m[v]=f.extend(l[v],u[v]):Object.assign(m,gt({},v,u[v]))}),m}},{key:"extendArray",value:function(l,u){var f=[];return l.map(function(m){f.push(J.extend(u,m))}),f}},{key:"monthMod",value:function(l){return l%12}},{key:"clone",value:function(l){if(J.is("Array",l)){for(var u=[],f=0;f<l.length;f++)u[f]=this.clone(l[f]);return u}if(J.is("Null",l))return null;if(J.is("Date",l))return l;if("object"===Oe(l)){var m={};for(var v in l)l.hasOwnProperty(v)&&(m[v]=this.clone(l[v]));return m}return l}},{key:"log10",value:function(l){return Math.log(l)/Math.LN10}},{key:"roundToBase10",value:function(l){return Math.pow(10,Math.floor(Math.log10(l)))}},{key:"roundToBase",value:function(l,u){return Math.pow(u,Math.floor(Math.log(l)/Math.log(u)))}},{key:"parseNumber",value:function(l){return null===l?l:parseFloat(l)}},{key:"stripNumber",value:function(l){var u=arguments.length>1&&void 0!==arguments[1]?arguments[1]:2;return Number.isInteger(l)?l:parseFloat(l.toPrecision(u))}},{key:"randomId",value:function(){return(Math.random()+1).toString(36).substring(4)}},{key:"noExponents",value:function(l){var u=String(l).split(/[eE]/);if(1===u.length)return u[0];var f="",m=l<0?"-":"",v=u[0].replace(".",""),y=Number(u[1])+1;if(y<0){for(f=m+"0.";y++;)f+="0";return f+v.replace(/^-/,"")}for(y-=v.length;y--;)f+="0";return v+f}},{key:"getDimensions",value:function(l){var u=getComputedStyle(l,null),f=l.clientHeight,m=l.clientWidth;return f-=parseFloat(u.paddingTop)+parseFloat(u.paddingBottom),[m-=parseFloat(u.paddingLeft)+parseFloat(u.paddingRight),f]}},{key:"getBoundingClientRect",value:function(l){var u=l.getBoundingClientRect();return{top:u.top,right:u.right,bottom:u.bottom,left:u.left,width:l.clientWidth,height:l.clientHeight,x:u.left,y:u.top}}},{key:"getLargestStringFromArr",value:function(l){return l.reduce(function(u,f){return Array.isArray(f)&&(f=f.reduce(function(m,v){return m.length>v.length?m:v})),u.length>f.length?u:f},0)}},{key:"hexToRgba",value:function(){var l=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"#999999",u=arguments.length>1&&void 0!==arguments[1]?arguments[1]:.6;"#"!==l.substring(0,1)&&(l="#999999");var f=l.replace("#","");f=f.match(new RegExp("(.{"+f.length/3+"})","g"));for(var m=0;m<f.length;m++)f[m]=parseInt(1===f[m].length?f[m]+f[m]:f[m],16);return void 0!==u&&f.push(u),"rgba("+f.join(",")+")"}},{key:"getOpacityFromRGBA",value:function(l){return parseFloat(l.replace(/^.*,(.+)\)/,"$1"))}},{key:"rgb2hex",value:function(l){return(l=l.match(/^rgba?[\s+]?\([\s+]?(\d+)[\s+]?,[\s+]?(\d+)[\s+]?,[\s+]?(\d+)[\s+]?/i))&&4===l.length?"#"+("0"+parseInt(l[1],10).toString(16)).slice(-2)+("0"+parseInt(l[2],10).toString(16)).slice(-2)+("0"+parseInt(l[3],10).toString(16)).slice(-2):""}},{key:"isColorHex",value:function(l){return/(^#[0-9A-F]{6}$)|(^#[0-9A-F]{3}$)|(^#[0-9A-F]{8}$)/i.test(l)}},{key:"getPolygonPos",value:function(l,u){for(var f=[],m=2*Math.PI/u,v=0;v<u;v++){var y={};y.x=l*Math.sin(v*m),y.y=-l*Math.cos(v*m),f.push(y)}return f}},{key:"polarToCartesian",value:function(l,u,f,m){var v=(m-90)*Math.PI/180;return{x:l+f*Math.cos(v),y:u+f*Math.sin(v)}}},{key:"escapeString",value:function(l){var u=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"x";return l.toString().slice().replace(/[` ~!@#$%^&*()|+\=?;:'",.<>{}[\]\\/]/gi,u)}},{key:"negToZero",value:function(l){return l<0?0:l}},{key:"moveIndexInArray",value:function(l,u,f){if(f>=l.length)for(var m=f-l.length+1;m--;)l.push(void 0);return l.splice(f,0,l.splice(u,1)[0]),l}},{key:"extractNumber",value:function(l){return parseFloat(l.replace(/[^\d.]*/g,""))}},{key:"findAncestor",value:function(l,u){for(;(l=l.parentElement)&&!l.classList.contains(u););return l}},{key:"setELstyles",value:function(l,u){for(var f in u)u.hasOwnProperty(f)&&(l.style.key=u[f])}},{key:"isNumber",value:function(l){return!isNaN(l)&&parseFloat(Number(l))===l&&!isNaN(parseInt(l,10))}},{key:"isFloat",value:function(l){return Number(l)===l&&l%1!=0}},{key:"isSafari",value:function(){return/^((?!chrome|android).)*safari/i.test(navigator.userAgent)}},{key:"isFirefox",value:function(){return navigator.userAgent.toLowerCase().indexOf("firefox")>-1}},{key:"isIE11",value:function(){if(-1!==window.navigator.userAgent.indexOf("MSIE")||window.navigator.appVersion.indexOf("Trident/")>-1)return!0}},{key:"isIE",value:function(){var l=window.navigator.userAgent,u=l.indexOf("MSIE ");if(u>0)return parseInt(l.substring(u+5,l.indexOf(".",u)),10);if(l.indexOf("Trident/")>0){var f=l.indexOf("rv:");return parseInt(l.substring(f+3,l.indexOf(".",f)),10)}var m=l.indexOf("Edge/");return m>0&&parseInt(l.substring(m+5,l.indexOf(".",m)),10)}}]),J}(),on=function(){function J(l){xe(this,J),this.ctx=l,this.w=l.w,this.setEasingFunctions()}return ke(J,[{key:"setEasingFunctions",value:function(){var l;if(!this.w.globals.easing){switch(this.w.config.chart.animations.easing){case"linear":l="-";break;case"easein":l="<";break;case"easeout":l=">";break;case"easeinout":default:l="<>";break;case"swing":l=function(u){var f=1.70158;return(u-=1)*u*((f+1)*u+f)+1};break;case"bounce":l=function(u){return u<1/2.75?7.5625*u*u:u<2/2.75?7.5625*(u-=1.5/2.75)*u+.75:u<2.5/2.75?7.5625*(u-=2.25/2.75)*u+.9375:7.5625*(u-=2.625/2.75)*u+.984375};break;case"elastic":l=function(u){return u===!!u?u:Math.pow(2,-10*u)*Math.sin((u-.075)*(2*Math.PI)/.3)+1}}this.w.globals.easing=l}}},{key:"animateLine",value:function(l,u,f,m){l.attr(u).animate(m).attr(f)}},{key:"animateMarker",value:function(l,u,f,m,v,y){u||(u=0),l.attr({r:u,width:u,height:u}).animate(m,v).attr({r:f,width:f.width,height:f.height}).afterAll(function(){y()})}},{key:"animateCircle",value:function(l,u,f,m,v){l.attr({r:u.r,cx:u.cx,cy:u.cy}).animate(m,v).attr({r:f.r,cx:f.cx,cy:f.cy})}},{key:"animateRect",value:function(l,u,f,m,v){l.attr(u).animate(m).attr(f).afterAll(function(){return v()})}},{key:"animatePathsGradually",value:function(l){var O=this.w,P=0;O.config.chart.animations.animateGradually.enabled&&(P=O.config.chart.animations.animateGradually.delay),O.config.chart.animations.dynamicAnimation.enabled&&O.globals.dataChanged&&"bar"!==O.config.chart.type&&(P=0),this.morphSVG(l.el,l.realIndex,l.j,"line"!==O.config.chart.type||O.globals.comboCharts?l.fill:"stroke",l.pathFrom,l.pathTo,l.speed,l.delay*P)}},{key:"showDelayedElements",value:function(){this.w.globals.delayedElements.forEach(function(l){var u=l.el;u.classList.remove("apexcharts-element-hidden"),u.classList.add("apexcharts-hidden-element-shown")})}},{key:"animationCompleted",value:function(l){var u=this.w;u.globals.animationEnded||(u.globals.animationEnded=!0,this.showDelayedElements(),"function"==typeof u.config.chart.events.animationEnd&&u.config.chart.events.animationEnd(this.ctx,{el:l,w:u}))}},{key:"morphSVG",value:function(l,u,f,m,v,y,w,D){var I=this,O=this.w;v||(v=l.attr("pathFrom")),y||(y=l.attr("pathTo"));var P=function(L){return"radar"===O.config.chart.type&&(w=1),"M 0 ".concat(O.globals.gridHeight)};(!v||v.indexOf("undefined")>-1||v.indexOf("NaN")>-1)&&(v=P()),(!y||y.indexOf("undefined")>-1||y.indexOf("NaN")>-1)&&(y=P()),O.globals.shouldAnimate||(w=1),l.plot(v).animate(1,O.globals.easing,D).plot(v).animate(w,O.globals.easing,D).plot(y).afterAll(function(){me.isNumber(f)?f===O.globals.series[O.globals.maxValsInArrayIndex].length-2&&O.globals.shouldAnimate&&I.animationCompleted(l):"none"!==m&&O.globals.shouldAnimate&&(!O.globals.comboCharts&&u===O.globals.series.length-1||O.globals.comboCharts)&&I.animationCompleted(l),I.showDelayedElements()})}}]),J}(),$t=function(){function J(l){xe(this,J),this.ctx=l,this.w=l.w}return ke(J,[{key:"getDefaultFilter",value:function(l,u){var f=this.w;l.unfilter(!0),(new window.SVG.Filter).size("120%","180%","-5%","-40%"),"none"!==f.config.states.normal.filter?this.applyFilter(l,u,f.config.states.normal.filter.type,f.config.states.normal.filter.value):f.config.chart.dropShadow.enabled&&this.dropShadow(l,f.config.chart.dropShadow,u)}},{key:"addNormalFilter",value:function(l,u){var f=this.w;f.config.chart.dropShadow.enabled&&!l.node.classList.contains("apexcharts-marker")&&this.dropShadow(l,f.config.chart.dropShadow,u)}},{key:"addLightenFilter",value:function(l,u,f){var m=this,v=this.w,y=f.intensity;l.unfilter(!0),new window.SVG.Filter,l.filter(function(w){var D=v.config.chart.dropShadow;(D.enabled?m.addShadow(w,u,D):w).componentTransfer({rgb:{type:"linear",slope:1.5,intercept:y}})}),l.filterer.node.setAttribute("filterUnits","userSpaceOnUse"),this._scaleFilterSize(l.filterer.node)}},{key:"addDarkenFilter",value:function(l,u,f){var m=this,v=this.w,y=f.intensity;l.unfilter(!0),new window.SVG.Filter,l.filter(function(w){var D=v.config.chart.dropShadow;(D.enabled?m.addShadow(w,u,D):w).componentTransfer({rgb:{type:"linear",slope:y}})}),l.filterer.node.setAttribute("filterUnits","userSpaceOnUse"),this._scaleFilterSize(l.filterer.node)}},{key:"applyFilter",value:function(l,u,f){var m=arguments.length>3&&void 0!==arguments[3]?arguments[3]:.5;switch(f){case"none":this.addNormalFilter(l,u);break;case"lighten":this.addLightenFilter(l,u,{intensity:m});break;case"darken":this.addDarkenFilter(l,u,{intensity:m})}}},{key:"addShadow",value:function(l,u,f){var m=f.blur,v=f.top,y=f.left,w=f.color,D=f.opacity,I=l.flood(Array.isArray(w)?w[u]:w,D).composite(l.sourceAlpha,"in").offset(y,v).gaussianBlur(m).merge(l.source);return l.blend(l.source,I)}},{key:"dropShadow",value:function(l,u){var f=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0,m=u.top,v=u.left,y=u.blur,w=u.color,D=u.opacity,I=u.noUserSpaceOnUse,O=this.w;return l.unfilter(!0),me.isIE()&&"radialBar"===O.config.chart.type||(w=Array.isArray(w)?w[f]:w,l.filter(function(P){var L;L=me.isSafari()||me.isFirefox()||me.isIE()?P.flood(w,D).composite(P.sourceAlpha,"in").offset(v,m).gaussianBlur(y):P.flood(w,D).composite(P.sourceAlpha,"in").offset(v,m).gaussianBlur(y).merge(P.source),P.blend(P.source,L)}),I||l.filterer.node.setAttribute("filterUnits","userSpaceOnUse"),this._scaleFilterSize(l.filterer.node)),l}},{key:"setSelectionFilter",value:function(l,u,f){var m=this.w;if(void 0!==m.globals.selectedDataPoints[u]&&m.globals.selectedDataPoints[u].indexOf(f)>-1){l.node.setAttribute("selected",!0);var v=m.config.states.active.filter;"none"!==v&&this.applyFilter(l,u,v.type,v.value)}}},{key:"_scaleFilterSize",value:function(l){!function(u){for(var f in u)u.hasOwnProperty(f)&&l.setAttribute(f,u[f])}({width:"200%",height:"200%",x:"-50%",y:"-50%"})}}]),J}(),_e=function(){function J(l){xe(this,J),this.ctx=l,this.w=l.w}return ke(J,[{key:"roundPathCorners",value:function(l,u){function f(he,Ie,De){var $e=Ie.x-he.x,yt=Ie.y-he.y,ot=Math.sqrt($e*$e+yt*yt);return m(he,Ie,Math.min(1,De/ot))}function m(he,Ie,De){return{x:he.x+(Ie.x-he.x)*De,y:he.y+(Ie.y-he.y)*De}}function v(he,Ie){he.length>2&&(he[he.length-2]=Ie.x,he[he.length-1]=Ie.y)}function y(he){return{x:parseFloat(he[he.length-2]),y:parseFloat(he[he.length-1])}}l.indexOf("NaN")>-1&&(l="");var w=l.split(/[,\s]/).reduce(function(he,Ie){var De=Ie.match("([a-zA-Z])(.+)");return De?(he.push(De[1]),he.push(De[2])):he.push(Ie),he},[]).reduce(function(he,Ie){return parseFloat(Ie)==Ie&&he.length?he[he.length-1].push(Ie):he.push([Ie]),he},[]),D=[];if(w.length>1){var I=y(w[0]),O=null;"Z"==w[w.length-1][0]&&w[0].length>2&&(w[w.length-1]=O=["L",I.x,I.y]),D.push(w[0]);for(var P=1;P<w.length;P++){var L=D[D.length-1],U=w[P],G=U==O?w[1]:w[P+1];if(G&&L&&L.length>2&&"L"==U[0]&&G.length>2&&"L"==G[0]){var Y,Q,ie=y(L),le=y(U),S=y(G);Y=f(le,ie,u),Q=f(le,S,u),v(U,Y),U.origPoint=le,D.push(U);var R=m(Y,le,.5),$=m(le,Q,.5),te=["C",R.x,R.y,$.x,$.y,Q.x,Q.y];te.origPoint=le,D.push(te)}else D.push(U)}if(O){var de=y(D[D.length-1]);D.push(["Z"]),v(D[0],de)}}else D=w;return D.reduce(function(he,Ie){return he+Ie.join(" ")+" "},"")}},{key:"drawLine",value:function(l,u,f,m){var v=arguments.length>4&&void 0!==arguments[4]?arguments[4]:"#a8a8a8",y=arguments.length>5&&void 0!==arguments[5]?arguments[5]:0,w=arguments.length>6&&void 0!==arguments[6]?arguments[6]:null,D=arguments.length>7&&void 0!==arguments[7]?arguments[7]:"butt";return this.w.globals.dom.Paper.line().attr({x1:l,y1:u,x2:f,y2:m,stroke:v,"stroke-dasharray":y,"stroke-width":w,"stroke-linecap":D})}},{key:"drawRect",value:function(){var l=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0,u=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,f=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0,m=arguments.length>3&&void 0!==arguments[3]?arguments[3]:0,v=arguments.length>4&&void 0!==arguments[4]?arguments[4]:0,y=arguments.length>5&&void 0!==arguments[5]?arguments[5]:"#fefefe",w=arguments.length>6&&void 0!==arguments[6]?arguments[6]:1,D=arguments.length>7&&void 0!==arguments[7]?arguments[7]:null,I=arguments.length>8&&void 0!==arguments[8]?arguments[8]:null,O=arguments.length>9&&void 0!==arguments[9]?arguments[9]:0,P=this.w.globals.dom.Paper.rect();return P.attr({x:l,y:u,width:f>0?f:0,height:m>0?m:0,rx:v,ry:v,opacity:w,"stroke-width":null!==D?D:0,stroke:null!==I?I:"none","stroke-dasharray":O}),P.node.setAttribute("fill",y),P}},{key:"drawPolygon",value:function(l){var u=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"#e1e1e1",f=arguments.length>2&&void 0!==arguments[2]?arguments[2]:1,m=arguments.length>3&&void 0!==arguments[3]?arguments[3]:"none";return this.w.globals.dom.Paper.polygon(l).attr({fill:m,stroke:u,"stroke-width":f})}},{key:"drawCircle",value:function(l){var u=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;l<0&&(l=0);var f=this.w.globals.dom.Paper.circle(2*l);return null!==u&&f.attr(u),f}},{key:"drawPath",value:function(l){var u=l.d,f=void 0===u?"":u,m=l.stroke,v=void 0===m?"#a8a8a8":m,y=l.strokeWidth,w=void 0===y?1:y,D=l.fill,I=l.fillOpacity,O=void 0===I?1:I,P=l.strokeOpacity,L=void 0===P?1:P,U=l.classes,G=l.strokeLinecap,Y=void 0===G?null:G,Q=l.strokeDashArray,ie=void 0===Q?0:Q,le=this.w;return null===Y&&(Y=le.config.stroke.lineCap),(f.indexOf("undefined")>-1||f.indexOf("NaN")>-1)&&(f="M 0 ".concat(le.globals.gridHeight)),le.globals.dom.Paper.path(f).attr({fill:D,"fill-opacity":O,stroke:v,"stroke-opacity":L,"stroke-linecap":Y,"stroke-width":w,"stroke-dasharray":ie,class:U})}},{key:"group",value:function(){var l=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null,u=this.w.globals.dom.Paper.group();return null!==l&&u.attr(l),u}},{key:"move",value:function(l,u){return["M",l,u].join(" ")}},{key:"line",value:function(l,u){var f=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null,m=null;return null===f?m=[" L",l,u].join(" "):"H"===f?m=[" H",l].join(" "):"V"===f&&(m=[" V",u].join(" ")),m}},{key:"curve",value:function(l,u,f,m,v,y){return["C",l,u,f,m,v,y].join(" ")}},{key:"quadraticCurve",value:function(l,u,f,m){return["Q",l,u,f,m].join(" ")}},{key:"arc",value:function(l,u,f,m,v,y,w){var D="A";return arguments.length>7&&void 0!==arguments[7]&&arguments[7]&&(D="a"),[D,l,u,f,m,v,y,w].join(" ")}},{key:"renderPaths",value:function(l){var u,f=l.j,m=l.realIndex,v=l.pathFrom,y=l.pathTo,w=l.stroke,D=l.strokeWidth,I=l.strokeLinecap,O=l.fill,P=l.animationDelay,L=l.initialSpeed,U=l.dataChangeSpeed,G=l.className,Y=l.shouldClipToGrid,Q=void 0===Y||Y,ie=l.bindEventsOnPaths,le=void 0===ie||ie,S=l.drawShadow,R=void 0===S||S,$=this.w,te=new $t(this.ctx),de=new on(this.ctx),he=this.w.config.chart.animations.enabled,Ie=he&&this.w.config.chart.animations.dynamicAnimation.enabled,De=!!(he&&!$.globals.resized||Ie&&$.globals.dataChanged&&$.globals.shouldAnimate);De?u=v:(u=y,$.globals.animationEnded=!0);var yt,$e=$.config.stroke.dashArray;yt=Array.isArray($e)?$e[m]:$.config.stroke.dashArray;var ot=this.drawPath({d:u,stroke:w,strokeWidth:D,fill:O,fillOpacity:1,classes:G,strokeLinecap:I,strokeDashArray:yt});ot.attr("index",m),Q&&ot.attr({"clip-path":"url(#gridRectMask".concat($.globals.cuid,")")}),"none"!==$.config.states.normal.filter.type?te.getDefaultFilter(ot,m):$.config.chart.dropShadow.enabled&&R&&(!$.config.chart.dropShadow.enabledOnSeries||$.config.chart.dropShadow.enabledOnSeries&&-1!==$.config.chart.dropShadow.enabledOnSeries.indexOf(m))&&te.dropShadow(ot,$.config.chart.dropShadow,m),le&&(ot.node.addEventListener("mouseenter",this.pathMouseEnter.bind(this,ot)),ot.node.addEventListener("mouseleave",this.pathMouseLeave.bind(this,ot)),ot.node.addEventListener("mousedown",this.pathMouseDown.bind(this,ot))),ot.attr({pathTo:y,pathFrom:v});var Pt={el:ot,j:f,realIndex:m,pathFrom:v,pathTo:y,fill:O,strokeWidth:D,delay:P};return!he||$.globals.resized||$.globals.dataChanged?!$.globals.resized&&$.globals.dataChanged||de.showDelayedElements():de.animatePathsGradually(re(re({},Pt),{},{speed:L})),$.globals.dataChanged&&Ie&&De&&de.animatePathsGradually(re(re({},Pt),{},{speed:U})),ot}},{key:"drawPattern",value:function(l,u,f){var m=arguments.length>3&&void 0!==arguments[3]?arguments[3]:"#a8a8a8",v=arguments.length>4&&void 0!==arguments[4]?arguments[4]:0;return this.w.globals.dom.Paper.pattern(u,f,function(y){"horizontalLines"===l?y.line(0,0,f,0).stroke({color:m,width:v+1}):"verticalLines"===l?y.line(0,0,0,u).stroke({color:m,width:v+1}):"slantedLines"===l?y.line(0,0,u,f).stroke({color:m,width:v}):"squares"===l?y.rect(u,f).fill("none").stroke({color:m,width:v}):"circles"===l&&y.circle(u).fill("none").stroke({color:m,width:v})})}},{key:"drawGradient",value:function(l,u,f,m,v){var y,w=arguments.length>5&&void 0!==arguments[5]?arguments[5]:null,D=arguments.length>6&&void 0!==arguments[6]?arguments[6]:null,I=arguments.length>7&&void 0!==arguments[7]?arguments[7]:null,O=arguments.length>8&&void 0!==arguments[8]?arguments[8]:0,P=this.w;u.length<9&&0===u.indexOf("#")&&(u=me.hexToRgba(u,m)),f.length<9&&0===f.indexOf("#")&&(f=me.hexToRgba(f,v));var L=0,U=1,G=1,Y=null;null!==D&&(L=void 0!==D[0]?D[0]/100:0,U=void 0!==D[1]?D[1]/100:1,G=void 0!==D[2]?D[2]/100:1,Y=void 0!==D[3]?D[3]/100:null);var Q=!("donut"!==P.config.chart.type&&"pie"!==P.config.chart.type&&"polarArea"!==P.config.chart.type&&"bubble"!==P.config.chart.type);return y=P.globals.dom.Paper.gradient(Q?"radial":"linear",null===I||0===I.length?function(S){S.at(L,u,m),S.at(U,f,v),S.at(G,f,v),null!==Y&&S.at(Y,u,m)}:function(S){(Array.isArray(I[O])?I[O]:I).forEach(function(R){S.at(R.offset/100,R.color,R.opacity)})}),Q?y.attr("bubble"!==P.config.chart.type?{gradientUnits:"userSpaceOnUse",cx:P.globals.gridWidth/2,cy:P.globals.gridHeight/2,r:w}:{cx:.5,cy:.5,r:.8,fx:.2,fy:.2}):"vertical"===l?y.from(0,0).to(0,1):"diagonal"===l?y.from(0,0).to(1,1):"horizontal"===l?y.from(0,1).to(1,1):"diagonal2"===l&&y.from(1,0).to(0,1),y}},{key:"getTextBasedOnMaxWidth",value:function(l){var u=l.text,f=l.maxWidth,y=this.getTextRects(u,l.fontSize,l.fontFamily),D=Math.floor(f/(y.width/u.length));return f<y.width?u.slice(0,D-3)+"...":u}},{key:"drawText",value:function(l){var u=this,f=l.x,m=l.y,v=l.text,y=l.textAnchor,w=l.fontSize,D=l.fontFamily,I=l.fontWeight,O=l.foreColor,P=l.opacity,L=l.maxWidth,U=l.cssClass,G=void 0===U?"":U,Y=l.isPlainText,Q=void 0===Y||Y,ie=this.w;void 0===v&&(v="");var le=v;y||(y="start"),O&&O.length||(O=ie.config.chart.foreColor),I=I||"regular";var S,R={maxWidth:L,fontSize:w=w||"11px",fontFamily:D=D||ie.config.chart.fontFamily};return Array.isArray(v)?S=ie.globals.dom.Paper.text(function($){for(var te=0;te<v.length;te++)le=v[te],L&&(le=u.getTextBasedOnMaxWidth(re({text:v[te]},R))),0===te?$.tspan(le):$.tspan(le).newLine()}):(L&&(le=this.getTextBasedOnMaxWidth(re({text:v},R))),S=Q?ie.globals.dom.Paper.plain(v):ie.globals.dom.Paper.text(function($){return $.tspan(le)})),S.attr({x:f,y:m,"text-anchor":y,"dominant-baseline":"auto","font-size":w,"font-family":D,"font-weight":I,fill:O,class:"apexcharts-text "+G}),S.node.style.fontFamily=D,S.node.style.opacity=P,S}},{key:"drawMarker",value:function(l,u,f){l=l||0;var m=f.pSize||0,v=null;if("square"===f.shape||"rect"===f.shape){var y=void 0===f.pRadius?m/2:f.pRadius;null!==u&&m||(m=0,y=0);var w=1.2*m+y,D=this.drawRect(w,w,w,w,y);D.attr({x:l-w/2,y:u-w/2,cx:l,cy:u,class:f.class?f.class:"",fill:f.pointFillColor,"fill-opacity":f.pointFillOpacity?f.pointFillOpacity:1,stroke:f.pointStrokeColor,"stroke-width":f.pointStrokeWidth?f.pointStrokeWidth:0,"stroke-opacity":f.pointStrokeOpacity?f.pointStrokeOpacity:1}),v=D}else"circle"!==f.shape&&f.shape||(me.isNumber(u)||(m=0,u=0),v=this.drawCircle(m,{cx:l,cy:u,class:f.class?f.class:"",stroke:f.pointStrokeColor,fill:f.pointFillColor,"fill-opacity":f.pointFillOpacity?f.pointFillOpacity:1,"stroke-width":f.pointStrokeWidth?f.pointStrokeWidth:0,"stroke-opacity":f.pointStrokeOpacity?f.pointStrokeOpacity:1}));return v}},{key:"pathMouseEnter",value:function(l,u){var f=this.w,m=new $t(this.ctx),v=parseInt(l.node.getAttribute("index"),10),y=parseInt(l.node.getAttribute("j"),10);if("function"==typeof f.config.chart.events.dataPointMouseEnter&&f.config.chart.events.dataPointMouseEnter(u,this.ctx,{seriesIndex:v,dataPointIndex:y,w:f}),this.ctx.events.fireEvent("dataPointMouseEnter",[u,this.ctx,{seriesIndex:v,dataPointIndex:y,w:f}]),("none"===f.config.states.active.filter.type||"true"!==l.node.getAttribute("selected"))&&"none"!==f.config.states.hover.filter.type&&!f.globals.isTouchDevice){var w=f.config.states.hover.filter;m.applyFilter(l,v,w.type,w.value)}}},{key:"pathMouseLeave",value:function(l,u){var f=this.w,m=new $t(this.ctx),v=parseInt(l.node.getAttribute("index"),10),y=parseInt(l.node.getAttribute("j"),10);"function"==typeof f.config.chart.events.dataPointMouseLeave&&f.config.chart.events.dataPointMouseLeave(u,this.ctx,{seriesIndex:v,dataPointIndex:y,w:f}),this.ctx.events.fireEvent("dataPointMouseLeave",[u,this.ctx,{seriesIndex:v,dataPointIndex:y,w:f}]),"none"!==f.config.states.active.filter.type&&"true"===l.node.getAttribute("selected")||"none"!==f.config.states.hover.filter.type&&m.getDefaultFilter(l,v)}},{key:"pathMouseDown",value:function(l,u){var f=this.w,m=new $t(this.ctx),v=parseInt(l.node.getAttribute("index"),10),y=parseInt(l.node.getAttribute("j"),10),w="false";if("true"===l.node.getAttribute("selected")){if(l.node.setAttribute("selected","false"),f.globals.selectedDataPoints[v].indexOf(y)>-1){var D=f.globals.selectedDataPoints[v].indexOf(y);f.globals.selectedDataPoints[v].splice(D,1)}}else{if(!f.config.states.active.allowMultipleDataPointsSelection&&f.globals.selectedDataPoints.length>0){f.globals.selectedDataPoints=[];var I=f.globals.dom.Paper.select(".apexcharts-series path").members,O=f.globals.dom.Paper.select(".apexcharts-series circle, .apexcharts-series rect").members,P=function(G){Array.prototype.forEach.call(G,function(Y){Y.node.setAttribute("selected","false"),m.getDefaultFilter(Y,v)})};P(I),P(O)}l.node.setAttribute("selected","true"),w="true",void 0===f.globals.selectedDataPoints[v]&&(f.globals.selectedDataPoints[v]=[]),f.globals.selectedDataPoints[v].push(y)}if("true"===w){var L=f.config.states.active.filter;if("none"!==L)m.applyFilter(l,v,L.type,L.value);else if("none"!==f.config.states.hover.filter&&!f.globals.isTouchDevice){var U=f.config.states.hover.filter;m.applyFilter(l,v,U.type,U.value)}}else"none"!==f.config.states.active.filter.type&&("none"===f.config.states.hover.filter.type||f.globals.isTouchDevice?m.getDefaultFilter(l,v):m.applyFilter(l,v,(U=f.config.states.hover.filter).type,U.value));"function"==typeof f.config.chart.events.dataPointSelection&&f.config.chart.events.dataPointSelection(u,this.ctx,{selectedDataPoints:f.globals.selectedDataPoints,seriesIndex:v,dataPointIndex:y,w:f}),u&&this.ctx.events.fireEvent("dataPointSelection",[u,this.ctx,{selectedDataPoints:f.globals.selectedDataPoints,seriesIndex:v,dataPointIndex:y,w:f}])}},{key:"rotateAroundCenter",value:function(l){var u={};return l&&"function"==typeof l.getBBox&&(u=l.getBBox()),{x:u.x+u.width/2,y:u.y+u.height/2}}},{key:"getTextRects",value:function(l,u,f,m){var v=!(arguments.length>4&&void 0!==arguments[4])||arguments[4],y=this.w,w=this.drawText({x:-200,y:-200,text:l,textAnchor:"start",fontSize:u,fontFamily:f,foreColor:"#fff",opacity:0});m&&w.attr("transform",m),y.globals.dom.Paper.add(w);var D=w.bbox();return v||(D=w.node.getBoundingClientRect()),w.remove(),{width:D.width,height:D.height}}},{key:"placeTextWithEllipsis",value:function(l,u,f){if("function"==typeof l.getComputedTextLength&&(l.textContent=u,u.length>0&&l.getComputedTextLength()>=f/1.1)){for(var m=u.length-3;m>0;m-=3)if(l.getSubStringLength(0,m)<=f/1.1)return void(l.textContent=u.substring(0,m)+"...");l.textContent="."}}}],[{key:"setAttrs",value:function(l,u){for(var f in u)u.hasOwnProperty(f)&&l.setAttribute(f,u[f])}}]),J}(),et=function(){function J(l){xe(this,J),this.ctx=l,this.w=l.w}return ke(J,[{key:"getStackedSeriesTotals",value:function(){var l=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],u=this.w,f=[];if(0===u.globals.series.length)return f;for(var m=0;m<u.globals.series[u.globals.maxValsInArrayIndex].length;m++){for(var v=0,y=0;y<u.globals.series.length;y++)void 0!==u.globals.series[y][m]&&-1===l.indexOf(y)&&(v+=u.globals.series[y][m]);f.push(v)}return f}},{key:"getSeriesTotalByIndex",value:function(){var l=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null;return null===l?this.w.config.series.reduce(function(u,f){return u+f},0):this.w.globals.series[l].reduce(function(u,f){return u+f},0)}},{key:"isSeriesNull",value:function(){var l=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null;return 0===(null===l?this.w.config.series.filter(function(u){return null!==u}):this.w.config.series[l].data.filter(function(u){return null!==u})).length}},{key:"seriesHaveSameValues",value:function(l){return this.w.globals.series[l].every(function(u,f,m){return u===m[0]})}},{key:"getCategoryLabels",value:function(l){var u=this.w,f=l.slice();return u.config.xaxis.convertedCatToNumeric&&(f=l.map(function(m,v){return u.config.xaxis.labels.formatter(m-u.globals.minX+1)})),f}},{key:"getLargestSeries",value:function(){var l=this.w;l.globals.maxValsInArrayIndex=l.globals.series.map(function(u){return u.length}).indexOf(Math.max.apply(Math,l.globals.series.map(function(u){return u.length})))}},{key:"getLargestMarkerSize",value:function(){var l=this.w,u=0;return l.globals.markers.size.forEach(function(f){u=Math.max(u,f)}),l.config.markers.discrete&&l.config.markers.discrete.length&&l.config.markers.discrete.forEach(function(f){u=Math.max(u,f.size)}),u>0&&(u+=l.config.markers.hover.sizeOffset+1),l.globals.markers.largestSize=u,u}},{key:"getSeriesTotals",value:function(){var l=this.w;l.globals.seriesTotals=l.globals.series.map(function(u,f){var m=0;if(Array.isArray(u))for(var v=0;v<u.length;v++)m+=u[v];else m+=u;return m})}},{key:"getSeriesTotalsXRange",value:function(l,u){var f=this.w;return f.globals.series.map(function(m,v){for(var y=0,w=0;w<m.length;w++)f.globals.seriesX[v][w]>l&&f.globals.seriesX[v][w]<u&&(y+=m[w]);return y})}},{key:"getPercentSeries",value:function(){var l=this.w;l.globals.seriesPercent=l.globals.series.map(function(u,f){var m=[];if(Array.isArray(u))for(var v=0;v<u.length;v++){var y=l.globals.stackedSeriesTotals[v],w=0;y&&(w=100*u[v]/y),m.push(w)}else{var D=100*u/l.globals.seriesTotals.reduce(function(I,O){return I+O},0);m.push(D)}return m})}},{key:"getCalculatedRatios",value:function(){var l,u,f,m,v=this.w.globals,y=[],w=0,D=[],I=.1,O=0;if(v.yRange=[],v.isMultipleYAxis)for(var P=0;P<v.minYArr.length;P++)v.yRange.push(Math.abs(v.minYArr[P]-v.maxYArr[P])),D.push(0);else v.yRange.push(Math.abs(v.minY-v.maxY));v.xRange=Math.abs(v.maxX-v.minX),v.zRange=Math.abs(v.maxZ-v.minZ);for(var L=0;L<v.yRange.length;L++)y.push(v.yRange[L]/v.gridHeight);if(u=v.xRange/v.gridWidth,f=Math.abs(v.initialMaxX-v.initialMinX)/v.gridWidth,l=v.yRange/v.gridWidth,m=v.xRange/v.gridHeight,(w=v.zRange/v.gridHeight*16)||(w=1),v.minY!==Number.MIN_VALUE&&0!==Math.abs(v.minY)&&(v.hasNegs=!0),v.isMultipleYAxis){D=[];for(var U=0;U<y.length;U++)D.push(-v.minYArr[U]/y[U])}else D.push(-v.minY/y[0]),v.minY!==Number.MIN_VALUE&&0!==Math.abs(v.minY)&&(I=-v.minY/l,O=v.minX/u);return{yRatio:y,invertedYRatio:l,zRatio:w,xRatio:u,initialXRatio:f,invertedXRatio:m,baseLineInvertedY:I,baseLineY:D,baseLineX:O}}},{key:"getLogSeries",value:function(l){var u=this,f=this.w;return f.globals.seriesLog=l.map(function(m,v){return f.config.yaxis[v]&&f.config.yaxis[v].logarithmic?m.map(function(y){return null===y?null:u.getLogVal(f.config.yaxis[v].logBase,y,v)}):m}),f.globals.invalidLogScale?l:f.globals.seriesLog}},{key:"getBaseLog",value:function(l,u){return Math.log(u)/Math.log(l)}},{key:"getLogVal",value:function(l,u,f){if(0===u)return 0;var m=this.w,v=0===m.globals.minYArr[f]?-1:this.getBaseLog(l,m.globals.minYArr[f]),y=(0===m.globals.maxYArr[f]?0:this.getBaseLog(l,m.globals.maxYArr[f]))-v;return u<1?u/y:(this.getBaseLog(l,u)-v)/y}},{key:"getLogYRatios",value:function(l){var u=this,f=this.w,m=this.w.globals;return m.yLogRatio=l.slice(),m.logYRange=m.yRange.map(function(v,y){if(f.config.yaxis[y]&&u.w.config.yaxis[y].logarithmic){var w,D=-Number.MAX_VALUE,I=Number.MIN_VALUE;return m.seriesLog.forEach(function(O,P){O.forEach(function(L){f.config.yaxis[P]&&f.config.yaxis[P].logarithmic&&(D=Math.max(L,D),I=Math.min(L,I))})}),w=Math.pow(m.yRange[y],Math.abs(I-D)/m.yRange[y]),m.yLogRatio[y]=w/m.gridHeight,w}}),m.invalidLogScale?l.slice():m.yLogRatio}}],[{key:"checkComboSeries",value:function(l){var u=!1,f=0,m=0;return l.length&&void 0!==l[0].type&&l.forEach(function(v){"bar"!==v.type&&"column"!==v.type&&"candlestick"!==v.type&&"boxPlot"!==v.type||f++,void 0!==v.type&&m++}),m>0&&(u=!0),{comboBarCount:f,comboCharts:u}}},{key:"extendArrayProps",value:function(l,u,f){return u.yaxis&&(u=l.extendYAxis(u,f)),u.annotations&&(u.annotations.yaxis&&(u=l.extendYAxisAnnotations(u)),u.annotations.xaxis&&(u=l.extendXAxisAnnotations(u)),u.annotations.points&&(u=l.extendPointAnnotations(u))),u}}]),J}(),Ge=function(){function J(l){xe(this,J),this.w=l.w,this.annoCtx=l}return ke(J,[{key:"setOrientations",value:function(l){var u=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;if("vertical"===l.label.orientation){var v=this.w.globals.dom.baseEl.querySelector(".apexcharts-xaxis-annotations .apexcharts-xaxis-annotation-label[rel='".concat(null!==u?u:0,"']"));if(null!==v){var y=v.getBoundingClientRect();v.setAttribute("x",parseFloat(v.getAttribute("x"))-y.height+4),v.setAttribute("y","top"===l.label.position?parseFloat(v.getAttribute("y"))+y.width:parseFloat(v.getAttribute("y"))-y.width);var w=this.annoCtx.graphics.rotateAroundCenter(v),I=w.y;v.setAttribute("transform","rotate(-90 ".concat(w.x," ").concat(I,")"))}}}},{key:"addBackgroundToAnno",value:function(l,u){var f=this.w;if(!l||void 0===u.label.text||void 0!==u.label.text&&!String(u.label.text).trim())return null;var m=f.globals.dom.baseEl.querySelector(".apexcharts-grid").getBoundingClientRect(),v=l.getBoundingClientRect(),y=u.label.style.padding.left,w=u.label.style.padding.right,D=u.label.style.padding.top,I=u.label.style.padding.bottom;"vertical"===u.label.orientation&&(D=u.label.style.padding.left,I=u.label.style.padding.right,y=u.label.style.padding.top,w=u.label.style.padding.bottom);var L=this.annoCtx.graphics.drawRect(v.left-m.left-y-f.globals.barPadForNumericAxis,v.top-m.top-D,v.width+y+w,v.height+D+I,u.label.borderRadius,u.label.style.background,1,u.label.borderWidth,u.label.borderColor,0);return u.id&&L.node.classList.add(u.id),L}},{key:"annotationsBackground",value:function(){var l=this,u=this.w,f=function(m,v,y){var w=u.globals.dom.baseEl.querySelector(".apexcharts-".concat(y,"-annotations .apexcharts-").concat(y,"-annotation-label[rel='").concat(v,"']"));if(w){var D=w.parentNode,I=l.addBackgroundToAnno(w,m);I&&(D.insertBefore(I.node,w),m.label.mouseEnter&&I.node.addEventListener("mouseenter",m.label.mouseEnter.bind(l,m)),m.label.mouseLeave&&I.node.addEventListener("mouseleave",m.label.mouseLeave.bind(l,m)),m.label.click&&I.node.addEventListener("click",m.label.click.bind(l,m)))}};u.config.annotations.xaxis.map(function(m,v){f(m,v,"xaxis")}),u.config.annotations.yaxis.map(function(m,v){f(m,v,"yaxis")}),u.config.annotations.points.map(function(m,v){f(m,v,"point")})}},{key:"getY1Y2",value:function(l,u){var f,m="y1"===l?u.y:u.y2,v=this.w;if(this.annoCtx.invertAxis){var y=v.globals.labels.indexOf(m);v.config.xaxis.convertedCatToNumeric&&(y=v.globals.categoryLabels.indexOf(m));var w=v.globals.dom.baseEl.querySelector(".apexcharts-yaxis-texts-g text:nth-child("+(y+1)+")");w&&(f=parseFloat(w.getAttribute("y")))}else{var D;D=v.config.yaxis[u.yAxisIndex].logarithmic?(m=new et(this.annoCtx.ctx).getLogVal(m,u.yAxisIndex))/v.globals.yLogRatio[u.yAxisIndex]:(m-v.globals.minYArr[u.yAxisIndex])/(v.globals.yRange[u.yAxisIndex]/v.globals.gridHeight),f=v.globals.gridHeight-D,!u.marker||null!=u.y||(f=0),v.config.yaxis[u.yAxisIndex]&&v.config.yaxis[u.yAxisIndex].reversed&&(f=D)}return"string"==typeof m&&m.indexOf("px")>-1&&(f=parseFloat(m)),f}},{key:"getX1X2",value:function(l,u){var f=this.w,m=this.annoCtx.invertAxis?f.globals.minY:f.globals.minX,v=this.annoCtx.invertAxis?f.globals.maxY:f.globals.maxX,y=this.annoCtx.invertAxis?f.globals.yRange[0]:f.globals.xRange,w=(u.x-m)/(y/f.globals.gridWidth);this.annoCtx.inversedReversedAxis&&(w=(v-u.x)/(y/f.globals.gridWidth)),"category"!==f.config.xaxis.type&&!f.config.xaxis.convertedCatToNumeric||this.annoCtx.invertAxis||f.globals.dataFormatXNumeric||(w=this.getStringX(u.x));var D=(u.x2-m)/(y/f.globals.gridWidth);return this.annoCtx.inversedReversedAxis&&(D=(v-u.x2)/(y/f.globals.gridWidth)),"category"!==f.config.xaxis.type&&!f.config.xaxis.convertedCatToNumeric||this.annoCtx.invertAxis||f.globals.dataFormatXNumeric||(D=this.getStringX(u.x2)),null!=u.x||!u.marker||(w=f.globals.gridWidth),"x1"===l&&"string"==typeof u.x&&u.x.indexOf("px")>-1&&(w=parseFloat(u.x)),"x2"===l&&"string"==typeof u.x2&&u.x2.indexOf("px")>-1&&(D=parseFloat(u.x2)),"x1"===l?w:D}},{key:"getStringX",value:function(l){var u=this.w,f=l;u.config.xaxis.convertedCatToNumeric&&u.globals.categoryLabels.length&&(l=u.globals.categoryLabels.indexOf(l)+1);var m=u.globals.labels.indexOf(l),v=u.globals.dom.baseEl.querySelector(".apexcharts-xaxis-texts-g text:nth-child("+(m+1)+")");return v&&(f=parseFloat(v.getAttribute("x"))),f}}]),J}(),ht=function(){function J(l){xe(this,J),this.w=l.w,this.annoCtx=l,this.invertAxis=this.annoCtx.invertAxis,this.helpers=new Ge(this.annoCtx)}return ke(J,[{key:"addXaxisAnnotation",value:function(l,u,f){var m,v=this.w,y=this.helpers.getX1X2("x1",l),w=l.label.text,D=l.strokeDashArray;if(me.isNumber(y)){if(null==l.x2){var I=this.annoCtx.graphics.drawLine(y+l.offsetX,0+l.offsetY,y+l.offsetX,v.globals.gridHeight+l.offsetY,l.borderColor,D,l.borderWidth);u.appendChild(I.node),l.id&&I.node.classList.add(l.id)}else{if((m=this.helpers.getX1X2("x2",l))<y){var O=y;y=m,m=O}var P=this.annoCtx.graphics.drawRect(y+l.offsetX,0+l.offsetY,m-y,v.globals.gridHeight+l.offsetY,0,l.fillColor,l.opacity,1,l.borderColor,D);P.node.classList.add("apexcharts-annotation-rect"),P.attr("clip-path","url(#gridRectMask".concat(v.globals.cuid,")")),u.appendChild(P.node),l.id&&P.node.classList.add(l.id)}var L=this.annoCtx.graphics.getTextRects(w,parseFloat(l.label.style.fontSize)),G=this.annoCtx.graphics.drawText({x:y+l.label.offsetX,y:("top"===l.label.position?4:"center"===l.label.position?v.globals.gridHeight/2+("vertical"===l.label.orientation?L.width/2:0):v.globals.gridHeight)+l.label.offsetY-("vertical"===l.label.orientation?"top"===l.label.position?L.width/2-12:-L.width/2:0),text:w,textAnchor:l.label.textAnchor,fontSize:l.label.style.fontSize,fontFamily:l.label.style.fontFamily,fontWeight:l.label.style.fontWeight,foreColor:l.label.style.color,cssClass:"apexcharts-xaxis-annotation-label ".concat(l.label.style.cssClass," ").concat(l.id?l.id:"")});G.attr({rel:f}),u.appendChild(G.node),this.annoCtx.helpers.setOrientations(l,f)}}},{key:"drawXAxisAnnotations",value:function(){var l=this,u=this.w,f=this.annoCtx.graphics.group({class:"apexcharts-xaxis-annotations"});return u.config.annotations.xaxis.map(function(m,v){l.addXaxisAnnotation(m,f.node,v)}),f}}]),J}(),Et=function(){function J(l){xe(this,J),this.w=l.w,this.annoCtx=l,this.helpers=new Ge(this.annoCtx)}return ke(J,[{key:"addYaxisAnnotation",value:function(l,u,f){var m,v=this.w,y=l.strokeDashArray,w=this.helpers.getY1Y2("y1",l),D=l.label.text;if(null==l.y2){var I=this.annoCtx.graphics.drawLine(0+l.offsetX,w+l.offsetY,this._getYAxisAnnotationWidth(l),w+l.offsetY,l.borderColor,y,l.borderWidth);u.appendChild(I.node),l.id&&I.node.classList.add(l.id)}else{if((m=this.helpers.getY1Y2("y2",l))>w){var O=w;w=m,m=O}var P=this.annoCtx.graphics.drawRect(0+l.offsetX,m+l.offsetY,this._getYAxisAnnotationWidth(l),w-m,0,l.fillColor,l.opacity,1,l.borderColor,y);P.node.classList.add("apexcharts-annotation-rect"),P.attr("clip-path","url(#gridRectMask".concat(v.globals.cuid,")")),u.appendChild(P.node),l.id&&P.node.classList.add(l.id)}var U=this.annoCtx.graphics.drawText({x:("right"===l.label.position?v.globals.gridWidth:"center"===l.label.position?v.globals.gridWidth/2:0)+l.label.offsetX,y:(m??w)+l.label.offsetY-3,text:D,textAnchor:l.label.textAnchor,fontSize:l.label.style.fontSize,fontFamily:l.label.style.fontFamily,fontWeight:l.label.style.fontWeight,foreColor:l.label.style.color,cssClass:"apexcharts-yaxis-annotation-label ".concat(l.label.style.cssClass," ").concat(l.id?l.id:"")});U.attr({rel:f}),u.appendChild(U.node)}},{key:"_getYAxisAnnotationWidth",value:function(l){var u=this.w;return(l.width.indexOf("%")>-1?u.globals.gridWidth*parseInt(l.width,10)/100:parseInt(l.width,10))+l.offsetX}},{key:"drawYAxisAnnotations",value:function(){var l=this,u=this.w,f=this.annoCtx.graphics.group({class:"apexcharts-yaxis-annotations"});return u.config.annotations.yaxis.map(function(m,v){l.addYaxisAnnotation(m,f.node,v)}),f}}]),J}(),Ze=function(){function J(l){xe(this,J),this.w=l.w,this.annoCtx=l,this.helpers=new Ge(this.annoCtx)}return ke(J,[{key:"addPointAnnotation",value:function(l,u,f){var m=this.helpers.getX1X2("x1",l),v=this.helpers.getY1Y2("y1",l);if(me.isNumber(m)){var y={pSize:l.marker.size,pointStrokeWidth:l.marker.strokeWidth,pointFillColor:l.marker.fillColor,pointStrokeColor:l.marker.strokeColor,shape:l.marker.shape,pRadius:l.marker.radius,class:"apexcharts-point-annotation-marker ".concat(l.marker.cssClass," ").concat(l.id?l.id:"")},w=this.annoCtx.graphics.drawMarker(m+l.marker.offsetX,v+l.marker.offsetY,y);u.appendChild(w.node);var D=l.label.text?l.label.text:"",I=this.annoCtx.graphics.drawText({x:m+l.label.offsetX,y:v+l.label.offsetY-l.marker.size-parseFloat(l.label.style.fontSize)/1.6,text:D,textAnchor:l.label.textAnchor,fontSize:l.label.style.fontSize,fontFamily:l.label.style.fontFamily,fontWeight:l.label.style.fontWeight,foreColor:l.label.style.color,cssClass:"apexcharts-point-annotation-label ".concat(l.label.style.cssClass," ").concat(l.id?l.id:"")});if(I.attr({rel:f}),u.appendChild(I.node),l.customSVG.SVG){var O=this.annoCtx.graphics.group({class:"apexcharts-point-annotations-custom-svg "+l.customSVG.cssClass});O.attr({transform:"translate(".concat(m+l.customSVG.offsetX,", ").concat(v+l.customSVG.offsetY,")")}),O.node.innerHTML=l.customSVG.SVG,u.appendChild(O.node)}if(l.image.path){var P=l.image.width?l.image.width:20,L=l.image.height?l.image.height:20;w=this.annoCtx.addImage({x:m+l.image.offsetX-P/2,y:v+l.image.offsetY-L/2,width:P,height:L,path:l.image.path,appendTo:".apexcharts-point-annotations"})}l.mouseEnter&&w.node.addEventListener("mouseenter",l.mouseEnter.bind(this,l)),l.mouseLeave&&w.node.addEventListener("mouseleave",l.mouseLeave.bind(this,l)),l.click&&w.node.addEventListener("click",l.click.bind(this,l))}}},{key:"drawPointAnnotations",value:function(){var l=this,u=this.w,f=this.annoCtx.graphics.group({class:"apexcharts-point-annotations"});return u.config.annotations.points.map(function(m,v){l.addPointAnnotation(m,f.node,v)}),f}}]),J}(),Ne={name:"en",options:{months:["January","February","March","April","May","June","July","August","September","October","November","December"],shortMonths:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],days:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],shortDays:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],toolbar:{exportToSVG:"Download SVG",exportToPNG:"Download PNG",exportToCSV:"Download CSV",menu:"Menu",selection:"Selection",selectionZoom:"Selection Zoom",zoomIn:"Zoom In",zoomOut:"Zoom Out",pan:"Panning",reset:"Reset Zoom"}}},It=function(){function J(){xe(this,J),this.yAxis={show:!0,showAlways:!1,showForNullSeries:!0,seriesName:void 0,opposite:!1,reversed:!1,logarithmic:!1,logBase:10,tickAmount:void 0,forceNiceScale:!1,max:void 0,min:void 0,floating:!1,decimalsInFloat:void 0,labels:{show:!0,minWidth:0,maxWidth:160,offsetX:0,offsetY:0,align:void 0,rotate:0,padding:20,style:{colors:[],fontSize:"11px",fontWeight:400,fontFamily:void 0,cssClass:""},formatter:void 0},axisBorder:{show:!1,color:"#e0e0e0",width:1,offsetX:0,offsetY:0},axisTicks:{show:!1,color:"#e0e0e0",width:6,offsetX:0,offsetY:0},title:{text:void 0,rotate:-90,offsetY:0,offsetX:0,style:{color:void 0,fontSize:"11px",fontWeight:900,fontFamily:void 0,cssClass:""}},tooltip:{enabled:!1,offsetX:0},crosshairs:{show:!0,position:"front",stroke:{color:"#b6b6b6",width:1,dashArray:0}}},this.pointAnnotation={id:void 0,x:0,y:null,yAxisIndex:0,seriesIndex:0,mouseEnter:void 0,mouseLeave:void 0,click:void 0,marker:{size:4,fillColor:"#fff",strokeWidth:2,strokeColor:"#333",shape:"circle",offsetX:0,offsetY:0,radius:2,cssClass:""},label:{borderColor:"#c2c2c2",borderWidth:1,borderRadius:2,text:void 0,textAnchor:"middle",offsetX:0,offsetY:0,mouseEnter:void 0,mouseLeave:void 0,click:void 0,style:{background:"#fff",color:void 0,fontSize:"11px",fontFamily:void 0,fontWeight:400,cssClass:"",padding:{left:5,right:5,top:2,bottom:2}}},customSVG:{SVG:void 0,cssClass:void 0,offsetX:0,offsetY:0},image:{path:void 0,width:20,height:20,offsetX:0,offsetY:0}},this.yAxisAnnotation={id:void 0,y:0,y2:null,strokeDashArray:1,fillColor:"#c2c2c2",borderColor:"#c2c2c2",borderWidth:1,opacity:.3,offsetX:0,offsetY:0,width:"100%",yAxisIndex:0,label:{borderColor:"#c2c2c2",borderWidth:1,borderRadius:2,text:void 0,textAnchor:"end",position:"right",offsetX:0,offsetY:-3,mouseEnter:void 0,mouseLeave:void 0,click:void 0,style:{background:"#fff",color:void 0,fontSize:"11px",fontFamily:void 0,fontWeight:400,cssClass:"",padding:{left:5,right:5,top:2,bottom:2}}}},this.xAxisAnnotation={id:void 0,x:0,x2:null,strokeDashArray:1,fillColor:"#c2c2c2",borderColor:"#c2c2c2",borderWidth:1,opacity:.3,offsetX:0,offsetY:0,label:{borderColor:"#c2c2c2",borderWidth:1,borderRadius:2,text:void 0,textAnchor:"middle",orientation:"vertical",position:"top",offsetX:0,offsetY:0,mouseEnter:void 0,mouseLeave:void 0,click:void 0,style:{background:"#fff",color:void 0,fontSize:"11px",fontFamily:void 0,fontWeight:400,cssClass:"",padding:{left:5,right:5,top:2,bottom:2}}}},this.text={x:0,y:0,text:"",textAnchor:"start",foreColor:void 0,fontSize:"13px",fontFamily:void 0,fontWeight:400,appendTo:".apexcharts-annotations",backgroundColor:"transparent",borderColor:"#c2c2c2",borderRadius:0,borderWidth:0,paddingLeft:4,paddingRight:4,paddingTop:2,paddingBottom:2}}return ke(J,[{key:"init",value:function(){return{annotations:{yaxis:[this.yAxisAnnotation],xaxis:[this.xAxisAnnotation],points:[this.pointAnnotation],texts:[],images:[],shapes:[]},chart:{animations:{enabled:!0,easing:"easeinout",speed:800,animateGradually:{delay:150,enabled:!0},dynamicAnimation:{enabled:!0,speed:350}},background:"transparent",locales:[Ne],defaultLocale:"en",dropShadow:{enabled:!1,enabledOnSeries:void 0,top:2,left:2,blur:4,color:"#000",opacity:.35},events:{animationEnd:void 0,beforeMount:void 0,mounted:void 0,updated:void 0,click:void 0,mouseMove:void 0,mouseLeave:void 0,xAxisLabelClick:void 0,legendClick:void 0,markerClick:void 0,selection:void 0,dataPointSelection:void 0,dataPointMouseEnter:void 0,dataPointMouseLeave:void 0,beforeZoom:void 0,beforeResetZoom:void 0,zoomed:void 0,scrolled:void 0,brushScrolled:void 0},foreColor:"#373d3f",fontFamily:"Helvetica, Arial, sans-serif",height:"auto",parentHeightOffset:15,redrawOnParentResize:!0,redrawOnWindowResize:!0,id:void 0,group:void 0,offsetX:0,offsetY:0,selection:{enabled:!1,type:"x",fill:{color:"#24292e",opacity:.1},stroke:{width:1,color:"#24292e",opacity:.4,dashArray:3},xaxis:{min:void 0,max:void 0},yaxis:{min:void 0,max:void 0}},sparkline:{enabled:!1},brush:{enabled:!1,autoScaleYaxis:!0,target:void 0,targets:void 0},stacked:!1,stackType:"normal",toolbar:{show:!0,offsetX:0,offsetY:0,tools:{download:!0,selection:!0,zoom:!0,zoomin:!0,zoomout:!0,pan:!0,reset:!0,customIcons:[]},export:{csv:{filename:void 0,columnDelimiter:",",headerCategory:"category",headerValue:"value",dateFormatter:function(l){return new Date(l).toDateString()}},png:{filename:void 0},svg:{filename:void 0}},autoSelected:"zoom"},type:"line",width:"100%",zoom:{enabled:!0,type:"x",autoScaleYaxis:!1,zoomedArea:{fill:{color:"#90CAF9",opacity:.4},stroke:{color:"#0D47A1",opacity:.4,width:1}}}},plotOptions:{area:{fillTo:"origin"},bar:{horizontal:!1,columnWidth:"70%",barHeight:"70%",distributed:!1,borderRadius:0,borderRadiusApplication:"around",borderRadiusWhenStacked:"last",rangeBarOverlap:!0,rangeBarGroupRows:!1,hideZeroBarsWhenGrouped:!1,isDumbbell:!1,dumbbellColors:void 0,isFunnel:!1,isFunnel3d:!0,colors:{ranges:[],backgroundBarColors:[],backgroundBarOpacity:1,backgroundBarRadius:0},dataLabels:{position:"top",maxItems:100,hideOverflowingLabels:!0,orientation:"horizontal",total:{enabled:!1,formatter:void 0,offsetX:0,offsetY:0,style:{color:"#373d3f",fontSize:"12px",fontFamily:void 0,fontWeight:600}}}},bubble:{zScaling:!0,minBubbleRadius:void 0,maxBubbleRadius:void 0},candlestick:{colors:{upward:"#00B746",downward:"#EF403C"},wick:{useFillColor:!0}},boxPlot:{colors:{upper:"#00E396",lower:"#008FFB"}},heatmap:{radius:2,enableShades:!0,shadeIntensity:.5,reverseNegativeShade:!1,distributed:!1,useFillColorAsStroke:!1,colorScale:{inverse:!1,ranges:[],min:void 0,max:void 0}},treemap:{enableShades:!0,shadeIntensity:.5,distributed:!1,reverseNegativeShade:!1,useFillColorAsStroke:!1,dataLabels:{format:"scale"},colorScale:{inverse:!1,ranges:[],min:void 0,max:void 0}},radialBar:{inverseOrder:!1,startAngle:0,endAngle:360,offsetX:0,offsetY:0,hollow:{margin:5,size:"50%",background:"transparent",image:void 0,imageWidth:150,imageHeight:150,imageOffsetX:0,imageOffsetY:0,imageClipped:!0,position:"front",dropShadow:{enabled:!1,top:0,left:0,blur:3,color:"#000",opacity:.5}},track:{show:!0,startAngle:void 0,endAngle:void 0,background:"#f2f2f2",strokeWidth:"97%",opacity:1,margin:5,dropShadow:{enabled:!1,top:0,left:0,blur:3,color:"#000",opacity:.5}},dataLabels:{show:!0,name:{show:!0,fontSize:"16px",fontFamily:void 0,fontWeight:600,color:void 0,offsetY:0,formatter:function(l){return l}},value:{show:!0,fontSize:"14px",fontFamily:void 0,fontWeight:400,color:void 0,offsetY:16,formatter:function(l){return l+"%"}},total:{show:!1,label:"Total",fontSize:"16px",fontWeight:600,fontFamily:void 0,color:void 0,formatter:function(l){return l.globals.seriesTotals.reduce(function(u,f){return u+f},0)/l.globals.series.length+"%"}}}},pie:{customScale:1,offsetX:0,offsetY:0,startAngle:0,endAngle:360,expandOnClick:!0,dataLabels:{offset:0,minAngleToShowLabel:10},donut:{size:"65%",background:"transparent",labels:{show:!1,name:{show:!0,fontSize:"16px",fontFamily:void 0,fontWeight:600,color:void 0,offsetY:-10,formatter:function(l){return l}},value:{show:!0,fontSize:"20px",fontFamily:void 0,fontWeight:400,color:void 0,offsetY:10,formatter:function(l){return l}},total:{show:!1,showAlways:!1,label:"Total",fontSize:"16px",fontWeight:400,fontFamily:void 0,color:void 0,formatter:function(l){return l.globals.seriesTotals.reduce(function(u,f){return u+f},0)}}}}},polarArea:{rings:{strokeWidth:1,strokeColor:"#e8e8e8"},spokes:{strokeWidth:1,connectorColors:"#e8e8e8"}},radar:{size:void 0,offsetX:0,offsetY:0,polygons:{strokeWidth:1,strokeColors:"#e8e8e8",connectorColors:"#e8e8e8",fill:{colors:void 0}}}},colors:void 0,dataLabels:{enabled:!0,enabledOnSeries:void 0,formatter:function(l){return null!==l?l:""},textAnchor:"middle",distributed:!1,offsetX:0,offsetY:0,style:{fontSize:"12px",fontFamily:void 0,fontWeight:600,colors:void 0},background:{enabled:!0,foreColor:"#fff",borderRadius:2,padding:4,opacity:.9,borderWidth:1,borderColor:"#fff",dropShadow:{enabled:!1,top:1,left:1,blur:1,color:"#000",opacity:.45}},dropShadow:{enabled:!1,top:1,left:1,blur:1,color:"#000",opacity:.45}},fill:{type:"solid",colors:void 0,opacity:.85,gradient:{shade:"dark",type:"horizontal",shadeIntensity:.5,gradientToColors:void 0,inverseColors:!0,opacityFrom:1,opacityTo:1,stops:[0,50,100],colorStops:[]},image:{src:[],width:void 0,height:void 0},pattern:{style:"squares",width:6,height:6,strokeWidth:2}},forecastDataPoints:{count:0,fillOpacity:.5,strokeWidth:void 0,dashArray:4},grid:{show:!0,borderColor:"#e0e0e0",strokeDashArray:0,position:"back",xaxis:{lines:{show:!1}},yaxis:{lines:{show:!0}},row:{colors:void 0,opacity:.5},column:{colors:void 0,opacity:.5},padding:{top:0,right:10,bottom:0,left:12}},labels:[],legend:{show:!0,showForSingleSeries:!1,showForNullSeries:!0,showForZeroSeries:!0,floating:!1,position:"bottom",horizontalAlign:"center",inverseOrder:!1,fontSize:"12px",fontFamily:void 0,fontWeight:400,width:void 0,height:void 0,formatter:void 0,tooltipHoverFormatter:void 0,offsetX:-20,offsetY:4,customLegendItems:[],labels:{colors:void 0,useSeriesColors:!1},markers:{width:12,height:12,strokeWidth:0,fillColors:void 0,strokeColor:"#fff",radius:12,customHTML:void 0,offsetX:0,offsetY:0,onClick:void 0},itemMargin:{horizontal:5,vertical:2},onItemClick:{toggleDataSeries:!0},onItemHover:{highlightDataSeries:!0}},markers:{discrete:[],size:0,colors:void 0,strokeColors:"#fff",strokeWidth:2,strokeOpacity:.9,strokeDashArray:0,fillOpacity:1,shape:"circle",width:8,height:8,radius:2,offsetX:0,offsetY:0,onClick:void 0,onDblClick:void 0,showNullDataPoints:!0,hover:{size:void 0,sizeOffset:3}},noData:{text:void 0,align:"center",verticalAlign:"middle",offsetX:0,offsetY:0,style:{color:void 0,fontSize:"14px",fontFamily:void 0}},responsive:[],series:void 0,states:{normal:{filter:{type:"none",value:0}},hover:{filter:{type:"lighten",value:.1}},active:{allowMultipleDataPointsSelection:!1,filter:{type:"darken",value:.5}}},title:{text:void 0,align:"left",margin:5,offsetX:0,offsetY:0,floating:!1,style:{fontSize:"14px",fontWeight:900,fontFamily:void 0,color:void 0}},subtitle:{text:void 0,align:"left",margin:5,offsetX:0,offsetY:30,floating:!1,style:{fontSize:"12px",fontWeight:400,fontFamily:void 0,color:void 0}},stroke:{show:!0,curve:"smooth",lineCap:"butt",width:2,colors:void 0,dashArray:0,fill:{type:"solid",colors:void 0,opacity:.85,gradient:{shade:"dark",type:"horizontal",shadeIntensity:.5,gradientToColors:void 0,inverseColors:!0,opacityFrom:1,opacityTo:1,stops:[0,50,100],colorStops:[]}}},tooltip:{enabled:!0,enabledOnSeries:void 0,shared:!0,followCursor:!1,intersect:!1,inverseOrder:!1,custom:void 0,fillSeriesColor:!1,theme:"light",cssClass:"",style:{fontSize:"12px",fontFamily:void 0},onDatasetHover:{highlightDataSeries:!1},x:{show:!0,format:"dd MMM",formatter:void 0},y:{formatter:void 0,title:{formatter:function(l){return l?l+": ":""}}},z:{formatter:void 0,title:"Size: "},marker:{show:!0,fillColors:void 0},items:{display:"flex"},fixed:{enabled:!1,position:"topRight",offsetX:0,offsetY:0}},xaxis:{type:"category",categories:[],convertedCatToNumeric:!1,offsetX:0,offsetY:0,overwriteCategories:void 0,labels:{show:!0,rotate:-45,rotateAlways:!1,hideOverlappingLabels:!0,trim:!1,minHeight:void 0,maxHeight:120,showDuplicates:!0,style:{colors:[],fontSize:"12px",fontWeight:400,fontFamily:void 0,cssClass:""},offsetX:0,offsetY:0,format:void 0,formatter:void 0,datetimeUTC:!0,datetimeFormatter:{year:"yyyy",month:"MMM 'yy",day:"dd MMM",hour:"HH:mm",minute:"HH:mm:ss",second:"HH:mm:ss"}},group:{groups:[],style:{colors:[],fontSize:"12px",fontWeight:400,fontFamily:void 0,cssClass:""}},axisBorder:{show:!0,color:"#e0e0e0",width:"100%",height:1,offsetX:0,offsetY:0},axisTicks:{show:!0,color:"#e0e0e0",height:6,offsetX:0,offsetY:0},tickAmount:void 0,tickPlacement:"on",min:void 0,max:void 0,range:void 0,floating:!1,decimalsInFloat:void 0,position:"bottom",title:{text:void 0,offsetX:0,offsetY:0,style:{color:void 0,fontSize:"12px",fontWeight:900,fontFamily:void 0,cssClass:""}},crosshairs:{show:!0,width:1,position:"back",opacity:.9,stroke:{color:"#b6b6b6",width:1,dashArray:3},fill:{type:"solid",color:"#B1B9C4",gradient:{colorFrom:"#D8E3F0",colorTo:"#BED1E6",stops:[0,100],opacityFrom:.4,opacityTo:.5}},dropShadow:{enabled:!1,left:0,top:0,blur:1,opacity:.4}},tooltip:{enabled:!0,offsetY:0,formatter:void 0,style:{fontSize:"12px",fontFamily:void 0}}},yaxis:this.yAxis,theme:{mode:"light",palette:"palette1",monochrome:{enabled:!1,color:"#008FFB",shadeTo:"light",shadeIntensity:.65}}}}}]),J}(),gn=function(){function J(l){xe(this,J),this.ctx=l,this.w=l.w,this.graphics=new _e(this.ctx),this.w.globals.isBarHorizontal&&(this.invertAxis=!0),this.helpers=new Ge(this),this.xAxisAnnotations=new ht(this),this.yAxisAnnotations=new Et(this),this.pointsAnnotations=new Ze(this),this.w.globals.isBarHorizontal&&this.w.config.yaxis[0].reversed&&(this.inversedReversedAxis=!0),this.xDivision=this.w.globals.gridWidth/this.w.globals.dataPoints}return ke(J,[{key:"drawAxesAnnotations",value:function(){var l=this.w;if(l.globals.axisCharts){for(var u=this.yAxisAnnotations.drawYAxisAnnotations(),f=this.xAxisAnnotations.drawXAxisAnnotations(),m=this.pointsAnnotations.drawPointAnnotations(),v=l.config.chart.animations.enabled,y=[u,f,m],w=[f.node,u.node,m.node],D=0;D<3;D++)l.globals.dom.elGraphical.add(y[D]),!v||l.globals.resized||l.globals.dataChanged||"scatter"!==l.config.chart.type&&"bubble"!==l.config.chart.type&&l.globals.dataPoints>1&&w[D].classList.add("apexcharts-element-hidden"),l.globals.delayedElements.push({el:w[D],index:0});this.helpers.annotationsBackground()}}},{key:"drawImageAnnos",value:function(){var l=this;this.w.config.annotations.images.map(function(u,f){l.addImage(u,f)})}},{key:"drawTextAnnos",value:function(){var l=this;this.w.config.annotations.texts.map(function(u,f){l.addText(u,f)})}},{key:"addXaxisAnnotation",value:function(l,u,f){this.xAxisAnnotations.addXaxisAnnotation(l,u,f)}},{key:"addYaxisAnnotation",value:function(l,u,f){this.yAxisAnnotations.addYaxisAnnotation(l,u,f)}},{key:"addPointAnnotation",value:function(l,u,f){this.pointsAnnotations.addPointAnnotation(l,u,f)}},{key:"addText",value:function(l,u){var v=l.text,L=l.backgroundColor,U=l.borderWidth,G=l.strokeDashArray,Y=l.borderRadius,Q=l.borderColor,ie=l.appendTo,le=void 0===ie?".apexcharts-annotations":ie,S=l.paddingLeft,R=void 0===S?4:S,$=l.paddingRight,te=void 0===$?4:$,de=l.paddingBottom,he=void 0===de?2:de,Ie=l.paddingTop,De=void 0===Ie?2:Ie,$e=this.w,yt=this.graphics.drawText({x:l.x,y:l.y,text:v,textAnchor:l.textAnchor||"start",fontSize:l.fontSize||"12px",fontWeight:l.fontWeight||"regular",fontFamily:l.fontFamily||$e.config.chart.fontFamily,foreColor:l.foreColor||$e.config.chart.foreColor,cssClass:l.cssClass}),ot=$e.globals.dom.baseEl.querySelector(le);ot&&ot.appendChild(yt.node);var Lt=yt.bbox();if(v){var Pt=this.graphics.drawRect(Lt.x-R,Lt.y-De,Lt.width+R+te,Lt.height+he+De,Y,L||"transparent",1,U,Q,G);ot.insertBefore(Pt.node,yt.node)}}},{key:"addImage",value:function(l,u){var f=this.w,v=l.x,y=void 0===v?0:v,w=l.y,D=void 0===w?0:w,I=l.width,O=void 0===I?20:I,P=l.height,L=void 0===P?20:P,U=l.appendTo,G=void 0===U?".apexcharts-annotations":U,Y=f.globals.dom.Paper.image(l.path);Y.size(O,L).move(y,D);var Q=f.globals.dom.baseEl.querySelector(G);return Q&&Q.appendChild(Y.node),Y}},{key:"addXaxisAnnotationExternal",value:function(l,u,f){return this.addAnnotationExternal({params:l,pushToMemory:u,context:f,type:"xaxis",contextMethod:f.addXaxisAnnotation}),f}},{key:"addYaxisAnnotationExternal",value:function(l,u,f){return this.addAnnotationExternal({params:l,pushToMemory:u,context:f,type:"yaxis",contextMethod:f.addYaxisAnnotation}),f}},{key:"addPointAnnotationExternal",value:function(l,u,f){return void 0===this.invertAxis&&(this.invertAxis=f.w.globals.isBarHorizontal),this.addAnnotationExternal({params:l,pushToMemory:u,context:f,type:"point",contextMethod:f.addPointAnnotation}),f}},{key:"addAnnotationExternal",value:function(l){var u=l.params,f=l.pushToMemory,m=l.context,v=l.type,y=l.contextMethod,w=m,D=w.w,I=D.globals.dom.baseEl.querySelector(".apexcharts-".concat(v,"-annotations")),O=I.childNodes.length+1,P=new It,L=Object.assign({},"xaxis"===v?P.xAxisAnnotation:"yaxis"===v?P.yAxisAnnotation:P.pointAnnotation),U=me.extend(L,u);switch(v){case"xaxis":this.addXaxisAnnotation(U,I,O);break;case"yaxis":this.addYaxisAnnotation(U,I,O);break;case"point":this.addPointAnnotation(U,I,O)}var G=D.globals.dom.baseEl.querySelector(".apexcharts-".concat(v,"-annotations .apexcharts-").concat(v,"-annotation-label[rel='").concat(O,"']")),Y=this.helpers.addBackgroundToAnno(G,U);return Y&&I.insertBefore(Y.node,G),f&&D.globals.memory.methodsToExec.push({context:w,id:U.id?U.id:me.randomId(),method:y,label:"addAnnotation",params:u}),m}},{key:"clearAnnotations",value:function(l){var u=l.w,f=u.globals.dom.baseEl.querySelectorAll(".apexcharts-yaxis-annotations, .apexcharts-xaxis-annotations, .apexcharts-point-annotations");u.globals.memory.methodsToExec.map(function(m,v){"addText"!==m.label&&"addAnnotation"!==m.label||u.globals.memory.methodsToExec.splice(v,1)}),f=me.listToArray(f),Array.prototype.forEach.call(f,function(m){for(;m.firstChild;)m.removeChild(m.firstChild)})}},{key:"removeAnnotation",value:function(l,u){var f=l.w,m=f.globals.dom.baseEl.querySelectorAll(".".concat(u));m&&(f.globals.memory.methodsToExec.map(function(v,y){v.id===u&&f.globals.memory.methodsToExec.splice(y,1)}),Array.prototype.forEach.call(m,function(v){v.parentElement.removeChild(v)}))}}]),J}(),kn=function(){function J(l){xe(this,J),this.ctx=l,this.w=l.w,this.months31=[1,3,5,7,8,10,12],this.months30=[2,4,6,9,11],this.daysCntOfYear=[0,31,59,90,120,151,181,212,243,273,304,334]}return ke(J,[{key:"isValidDate",value:function(l){return!isNaN(this.parseDate(l))}},{key:"getTimeStamp",value:function(l){return Date.parse(l)?this.w.config.xaxis.labels.datetimeUTC?new Date(new Date(l).toISOString().substr(0,25)).getTime():new Date(l).getTime():l}},{key:"getDate",value:function(l){return this.w.config.xaxis.labels.datetimeUTC?new Date(new Date(l).toUTCString()):new Date(l)}},{key:"parseDate",value:function(l){var u=Date.parse(l);if(!isNaN(u))return this.getTimeStamp(l);var f=Date.parse(l.replace(/-/g,"/").replace(/[a-z]+/gi," "));return this.getTimeStamp(f)}},{key:"parseDateWithTimezone",value:function(l){return Date.parse(l.replace(/-/g,"/").replace(/[a-z]+/gi," "))}},{key:"formatDate",value:function(l,u){var f=this.w.globals.locale,m=this.w.config.xaxis.labels.datetimeUTC,v=["\0"].concat(At(f.months)),y=["\x01"].concat(At(f.shortMonths)),w=["\x02"].concat(At(f.days)),D=["\x03"].concat(At(f.shortDays));function I(he,Ie){var De=he+"";for(Ie=Ie||2;De.length<Ie;)De="0"+De;return De}var O=m?l.getUTCFullYear():l.getFullYear();u=(u=(u=u.replace(/(^|[^\\])yyyy+/g,"$1"+O)).replace(/(^|[^\\])yy/g,"$1"+O.toString().substr(2,2))).replace(/(^|[^\\])y/g,"$1"+O);var P=(m?l.getUTCMonth():l.getMonth())+1;u=(u=(u=(u=u.replace(/(^|[^\\])MMMM+/g,"$1"+v[0])).replace(/(^|[^\\])MMM/g,"$1"+y[0])).replace(/(^|[^\\])MM/g,"$1"+I(P))).replace(/(^|[^\\])M/g,"$1"+P);var L=m?l.getUTCDate():l.getDate();u=(u=(u=(u=u.replace(/(^|[^\\])dddd+/g,"$1"+w[0])).replace(/(^|[^\\])ddd/g,"$1"+D[0])).replace(/(^|[^\\])dd/g,"$1"+I(L))).replace(/(^|[^\\])d/g,"$1"+L);var U=m?l.getUTCHours():l.getHours(),G=U>12?U-12:0===U?12:U;u=(u=(u=(u=u.replace(/(^|[^\\])HH+/g,"$1"+I(U))).replace(/(^|[^\\])H/g,"$1"+U)).replace(/(^|[^\\])hh+/g,"$1"+I(G))).replace(/(^|[^\\])h/g,"$1"+G);var Y=m?l.getUTCMinutes():l.getMinutes();u=(u=u.replace(/(^|[^\\])mm+/g,"$1"+I(Y))).replace(/(^|[^\\])m/g,"$1"+Y);var Q=m?l.getUTCSeconds():l.getSeconds();u=(u=u.replace(/(^|[^\\])ss+/g,"$1"+I(Q))).replace(/(^|[^\\])s/g,"$1"+Q);var ie=m?l.getUTCMilliseconds():l.getMilliseconds();u=u.replace(/(^|[^\\])fff+/g,"$1"+I(ie,3)),ie=Math.round(ie/10),u=u.replace(/(^|[^\\])ff/g,"$1"+I(ie)),ie=Math.round(ie/10);var le=U<12?"AM":"PM";u=(u=(u=u.replace(/(^|[^\\])f/g,"$1"+ie)).replace(/(^|[^\\])TT+/g,"$1"+le)).replace(/(^|[^\\])T/g,"$1"+le.charAt(0));var S=le.toLowerCase();u=(u=u.replace(/(^|[^\\])tt+/g,"$1"+S)).replace(/(^|[^\\])t/g,"$1"+S.charAt(0));var R=-l.getTimezoneOffset(),$=m||!R?"Z":R>0?"+":"-";if(!m){var te=(R=Math.abs(R))%60;$+=I(Math.floor(R/60))+":"+I(te)}u=u.replace(/(^|[^\\])K/g,"$1"+$);var de=(m?l.getUTCDay():l.getDay())+1;return(u=(u=(u=(u=u.replace(new RegExp(w[0],"g"),w[de])).replace(new RegExp(D[0],"g"),D[de])).replace(new RegExp(v[0],"g"),v[P])).replace(new RegExp(y[0],"g"),y[P])).replace(/\\(.)/g,"$1")}},{key:"getTimeUnitsfromTimestamp",value:function(l,u,f){var m=this.w;void 0!==m.config.xaxis.min&&(l=m.config.xaxis.min),void 0!==m.config.xaxis.max&&(u=m.config.xaxis.max);var v=this.getDate(l),y=this.getDate(u),w=this.formatDate(v,"yyyy MM dd HH mm ss fff").split(" "),D=this.formatDate(y,"yyyy MM dd HH mm ss fff").split(" ");return{minMillisecond:parseInt(w[6],10),maxMillisecond:parseInt(D[6],10),minSecond:parseInt(w[5],10),maxSecond:parseInt(D[5],10),minMinute:parseInt(w[4],10),maxMinute:parseInt(D[4],10),minHour:parseInt(w[3],10),maxHour:parseInt(D[3],10),minDate:parseInt(w[2],10),maxDate:parseInt(D[2],10),minMonth:parseInt(w[1],10)-1,maxMonth:parseInt(D[1],10)-1,minYear:parseInt(w[0],10),maxYear:parseInt(D[0],10)}}},{key:"isLeapYear",value:function(l){return l%4==0&&l%100!=0||l%400==0}},{key:"calculcateLastDaysOfMonth",value:function(l,u,f){return this.determineDaysOfMonths(l,u)-f}},{key:"determineDaysOfYear",value:function(l){var u=365;return this.isLeapYear(l)&&(u=366),u}},{key:"determineRemainingDaysOfYear",value:function(l,u,f){var m=this.daysCntOfYear[u]+f;return u>1&&this.isLeapYear()&&m++,m}},{key:"determineDaysOfMonths",value:function(l,u){var f=30;switch(l=me.monthMod(l),!0){case this.months30.indexOf(l)>-1:2===l&&(f=this.isLeapYear(u)?29:28);break;case this.months31.indexOf(l)>-1:default:f=31}return f}}]),J}(),vi=function(){function J(l){xe(this,J),this.ctx=l,this.w=l.w,this.tooltipKeyFormat="dd MMM"}return ke(J,[{key:"xLabelFormat",value:function(l,u,f,m){var v=this.w;if("datetime"===v.config.xaxis.type&&void 0===v.config.xaxis.labels.formatter&&void 0===v.config.tooltip.x.formatter){var y=new kn(this.ctx);return y.formatDate(y.getDate(u),v.config.tooltip.x.format)}return l(u,f,m)}},{key:"defaultGeneralFormatter",value:function(l){return Array.isArray(l)?l.map(function(u){return u}):l}},{key:"defaultYFormatter",value:function(l,u,f){var m=this.w;return me.isNumber(l)&&(l=l.toFixed(0!==m.globals.yValueDecimal?void 0!==u.decimalsInFloat?u.decimalsInFloat:m.globals.yValueDecimal:m.globals.maxYArr[f]-m.globals.minYArr[f]<5?1:0)),l}},{key:"setLabelFormatters",value:function(){var l=this,u=this.w;return u.globals.xaxisTooltipFormatter=function(f){return l.defaultGeneralFormatter(f)},u.globals.ttKeyFormatter=function(f){return l.defaultGeneralFormatter(f)},u.globals.ttZFormatter=function(f){return f},u.globals.legendFormatter=function(f){return l.defaultGeneralFormatter(f)},u.globals.xLabelFormatter=void 0!==u.config.xaxis.labels.formatter?u.config.xaxis.labels.formatter:function(f){if(me.isNumber(f)){if(!u.config.xaxis.convertedCatToNumeric&&"numeric"===u.config.xaxis.type){if(me.isNumber(u.config.xaxis.decimalsInFloat))return f.toFixed(u.config.xaxis.decimalsInFloat);var m=u.globals.maxX-u.globals.minX;return f.toFixed(m>0&&m<100?1:0)}return f.toFixed(u.globals.isBarHorizontal&&u.globals.maxY-u.globals.minYArr<4?1:0)}return f},u.globals.ttKeyFormatter="function"==typeof u.config.tooltip.x.formatter?u.config.tooltip.x.formatter:u.globals.xLabelFormatter,"function"==typeof u.config.xaxis.tooltip.formatter&&(u.globals.xaxisTooltipFormatter=u.config.xaxis.tooltip.formatter),(Array.isArray(u.config.tooltip.y)||void 0!==u.config.tooltip.y.formatter)&&(u.globals.ttVal=u.config.tooltip.y),void 0!==u.config.tooltip.z.formatter&&(u.globals.ttZFormatter=u.config.tooltip.z.formatter),void 0!==u.config.legend.formatter&&(u.globals.legendFormatter=u.config.legend.formatter),u.config.yaxis.forEach(function(f,m){u.globals.yLabelFormatters[m]=void 0!==f.labels.formatter?f.labels.formatter:function(v){return u.globals.xyCharts?Array.isArray(v)?v.map(function(y){return l.defaultYFormatter(y,f,m)}):l.defaultYFormatter(v,f,m):v}}),u.globals}},{key:"heatmapLabelFormatters",value:function(){var l=this.w;if("heatmap"===l.config.chart.type){l.globals.yAxisScale[0].result=l.globals.seriesNames.slice();var u=l.globals.seriesNames.reduce(function(f,m){return f.length>m.length?f:m},0);l.globals.yAxisScale[0].niceMax=u,l.globals.yAxisScale[0].niceMin=u}}}]),J}(),Ai=function(J){var l,u=J.isTimeline,f=J.ctx,m=J.seriesIndex,v=J.dataPointIndex,y=J.y1,w=J.y2,D=J.w,I=D.globals.seriesRangeStart[m][v],O=D.globals.seriesRangeEnd[m][v],P=D.globals.labels[v],L=D.config.series[m].name?D.config.series[m].name:"",U=D.globals.ttKeyFormatter,G=D.config.tooltip.y.title.formatter,Y={w:D,seriesIndex:m,dataPointIndex:v,start:I,end:O};"function"==typeof G&&(L=G(L,Y)),null!==(l=D.config.series[m].data[v])&&void 0!==l&&l.x&&(P=D.config.series[m].data[v].x),u||"datetime"===D.config.xaxis.type&&(P=new vi(f).xLabelFormat(D.globals.ttKeyFormatter,P,P,{i:void 0,dateFormatter:new kn(f).formatDate,w:D})),"function"==typeof U&&(P=U(P,Y)),Number.isFinite(y)&&Number.isFinite(w)&&(I=y,O=w);var Q="",ie="",le=D.globals.colors[m];if(void 0===D.config.tooltip.x.formatter)if("datetime"===D.config.xaxis.type){var S=new kn(f);Q=S.formatDate(S.getDate(I),D.config.tooltip.x.format),ie=S.formatDate(S.getDate(O),D.config.tooltip.x.format)}else Q=I,ie=O;else Q=D.config.tooltip.x.formatter(I),ie=D.config.tooltip.x.formatter(O);return{start:I,end:O,startVal:Q,endVal:ie,ylabel:P,color:le,seriesName:L}},Li=function(J){var l=J.color,u=J.seriesName,f=J.ylabel,m=J.start,v=J.end,y=J.seriesIndex,w=J.dataPointIndex,D=J.ctx.tooltip.tooltipLabels.getFormatters(y);m=D.yLbFormatter(m),v=D.yLbFormatter(v);var I=D.yLbFormatter(J.w.globals.series[y][w]),O='<span class="value start-value">\n  '.concat(m,'\n  </span> <span class="separator">-</span> <span class="value end-value">\n  ').concat(v,"\n  </span>");return'<div class="apexcharts-tooltip-rangebar"><div> <span class="series-name" style="color: '+l+'">'+(u||"")+'</span></div><div> <span class="category">'+f+": </span> "+(J.w.globals.comboCharts?"rangeArea"===J.w.config.series[y].type||"rangeBar"===J.w.config.series[y].type?O:"<span>".concat(I,"</span>"):O)+" </div></div>"},ki=function(){function J(l){xe(this,J),this.opts=l}return ke(J,[{key:"hideYAxis",value:function(){this.opts.yaxis[0].show=!1,this.opts.yaxis[0].title.text="",this.opts.yaxis[0].axisBorder.show=!1,this.opts.yaxis[0].axisTicks.show=!1,this.opts.yaxis[0].floating=!0}},{key:"line",value:function(){return{chart:{animations:{easing:"swing"}},dataLabels:{enabled:!1},stroke:{width:5,curve:"straight"},markers:{size:0,hover:{sizeOffset:6}},xaxis:{crosshairs:{width:1}}}}},{key:"sparkline",value:function(l){return this.hideYAxis(),me.extend(l,{grid:{show:!1,padding:{left:0,right:0,top:0,bottom:0}},legend:{show:!1},xaxis:{labels:{show:!1},tooltip:{enabled:!1},axisBorder:{show:!1},axisTicks:{show:!1}},chart:{toolbar:{show:!1},zoom:{enabled:!1}},dataLabels:{enabled:!1}})}},{key:"bar",value:function(){return{chart:{stacked:!1,animations:{easing:"swing"}},plotOptions:{bar:{dataLabels:{position:"center"}}},dataLabels:{style:{colors:["#fff"]},background:{enabled:!1}},stroke:{width:0,lineCap:"round"},fill:{opacity:.85},legend:{markers:{shape:"square",radius:2,size:8}},tooltip:{shared:!1,intersect:!0},xaxis:{tooltip:{enabled:!1},tickPlacement:"between",crosshairs:{width:"barWidth",position:"back",fill:{type:"gradient"},dropShadow:{enabled:!1},stroke:{width:0}}}}}},{key:"funnel",value:function(){return this.hideYAxis(),re(re({},this.bar()),{},{chart:{animations:{easing:"linear",speed:800,animateGradually:{enabled:!1}}},plotOptions:{bar:{horizontal:!0,borderRadiusApplication:"around",borderRadius:0,dataLabels:{position:"center"}}},grid:{show:!1,padding:{left:0,right:0}},xaxis:{labels:{show:!1},tooltip:{enabled:!1},axisBorder:{show:!1},axisTicks:{show:!1}}})}},{key:"candlestick",value:function(){var l=this;return{stroke:{width:1,colors:["#333"]},fill:{opacity:1},dataLabels:{enabled:!1},tooltip:{shared:!0,custom:function(u){return l._getBoxTooltip(u.w,u.seriesIndex,u.dataPointIndex,["Open","High","","Low","Close"],"candlestick")}},states:{active:{filter:{type:"none"}}},xaxis:{crosshairs:{width:1}}}}},{key:"boxPlot",value:function(){var l=this;return{chart:{animations:{dynamicAnimation:{enabled:!1}}},stroke:{width:1,colors:["#24292e"]},dataLabels:{enabled:!1},tooltip:{shared:!0,custom:function(u){return l._getBoxTooltip(u.w,u.seriesIndex,u.dataPointIndex,["Minimum","Q1","Median","Q3","Maximum"],"boxPlot")}},markers:{size:5,strokeWidth:1,strokeColors:"#111"},xaxis:{crosshairs:{width:1}}}}},{key:"rangeBar",value:function(){return{chart:{animations:{animateGradually:!1}},stroke:{width:0,lineCap:"square"},plotOptions:{bar:{borderRadius:0,dataLabels:{position:"center"}}},dataLabels:{enabled:!1,formatter:function(l,u){var f=u.seriesIndex,m=u.dataPointIndex,v=u.w,y=function(){return v.globals.seriesRangeEnd[f][m]-v.globals.seriesRangeStart[f][m]};return v.globals.comboCharts?"rangeBar"===v.config.series[f].type||"rangeArea"===v.config.series[f].type?y():l:y()},background:{enabled:!1},style:{colors:["#fff"]}},markers:{size:10},tooltip:{shared:!1,followCursor:!0,custom:function(l){return l.w.config.plotOptions&&l.w.config.plotOptions.bar&&l.w.config.plotOptions.bar.horizontal?(m=(f=Ai(re(re({},u=l),{},{isTimeline:!0}))).color,v=f.seriesName,y=f.ylabel,w=f.startVal,D=f.endVal,Li(re(re({},u),{},{color:m,seriesName:v,ylabel:y,start:w,end:D}))):function(u){var f=Ai(u),m=f.color,v=f.seriesName,y=f.ylabel,w=f.start,D=f.end;return Li(re(re({},u),{},{color:m,seriesName:v,ylabel:y,start:w,end:D}))}(l);var u,f,m,v,y,w,D}},xaxis:{tickPlacement:"between",tooltip:{enabled:!1},crosshairs:{stroke:{width:0}}}}}},{key:"dumbbell",value:function(l){var u,f;return null!==(u=l.plotOptions.bar)&&void 0!==u&&u.barHeight||(l.plotOptions.bar.barHeight=2),null!==(f=l.plotOptions.bar)&&void 0!==f&&f.columnWidth||(l.plotOptions.bar.columnWidth=2),l}},{key:"area",value:function(){return{stroke:{width:4,fill:{type:"solid",gradient:{inverseColors:!1,shade:"light",type:"vertical",opacityFrom:.65,opacityTo:.5,stops:[0,100,100]}}},fill:{type:"gradient",gradient:{inverseColors:!1,shade:"light",type:"vertical",opacityFrom:.65,opacityTo:.5,stops:[0,100,100]}},markers:{size:0,hover:{sizeOffset:6}},tooltip:{followCursor:!1}}}},{key:"rangeArea",value:function(){return{stroke:{curve:"straight",width:0},fill:{type:"solid",opacity:.6},markers:{size:0},states:{hover:{filter:{type:"none"}},active:{filter:{type:"none"}}},tooltip:{intersect:!1,shared:!0,followCursor:!0,custom:function(l){return m=(f=Ai(u=l)).color,v=f.seriesName,y=f.ylabel,w=f.start,D=f.end,Li(re(re({},u),{},{color:m,seriesName:v,ylabel:y,start:w,end:D}));var u,f,m,v,y,w,D}}}}},{key:"brush",value:function(l){return me.extend(l,{chart:{toolbar:{autoSelected:"selection",show:!1},zoom:{enabled:!1}},dataLabels:{enabled:!1},stroke:{width:1},tooltip:{enabled:!1},xaxis:{tooltip:{enabled:!1}}})}},{key:"stacked100",value:function(l){l.dataLabels=l.dataLabels||{},l.dataLabels.formatter=l.dataLabels.formatter||void 0;var u=l.dataLabels.formatter;return l.yaxis.forEach(function(f,m){l.yaxis[m].min=0,l.yaxis[m].max=100}),"bar"===l.chart.type&&(l.dataLabels.formatter=u||function(f){return"number"==typeof f&&f?f.toFixed(0)+"%":f}),l}},{key:"stackedBars",value:function(){var l=this.bar();return re(re({},l),{},{plotOptions:re(re({},l.plotOptions),{},{bar:re(re({},l.plotOptions.bar),{},{borderRadiusApplication:"end",borderRadiusWhenStacked:"last"})})})}},{key:"convertCatToNumeric",value:function(l){return l.xaxis.convertedCatToNumeric=!0,l}},{key:"convertCatToNumericXaxis",value:function(l,u,f){l.xaxis.type="numeric",l.xaxis.labels=l.xaxis.labels||{},l.xaxis.labels.formatter=l.xaxis.labels.formatter||function(y){return me.isNumber(y)?Math.floor(y):y};var m=l.xaxis.labels.formatter,v=l.xaxis.categories&&l.xaxis.categories.length?l.xaxis.categories:l.labels;return f&&f.length&&(v=f.map(function(y){return Array.isArray(y)?y:String(y)})),v&&v.length&&(l.xaxis.labels.formatter=function(y){return me.isNumber(y)?m(v[Math.floor(y)-1]):m(y)}),l.xaxis.categories=[],l.labels=[],l.xaxis.tickAmount=l.xaxis.tickAmount||"dataPoints",l}},{key:"bubble",value:function(){return{dataLabels:{style:{colors:["#fff"]}},tooltip:{shared:!1,intersect:!0},xaxis:{crosshairs:{width:0}},fill:{type:"solid",gradient:{shade:"light",inverse:!0,shadeIntensity:.55,opacityFrom:.4,opacityTo:.8}}}}},{key:"scatter",value:function(){return{dataLabels:{enabled:!1},tooltip:{shared:!1,intersect:!0},markers:{size:6,strokeWidth:1,hover:{sizeOffset:2}}}}},{key:"heatmap",value:function(){return{chart:{stacked:!1},fill:{opacity:1},dataLabels:{style:{colors:["#fff"]}},stroke:{colors:["#fff"]},tooltip:{followCursor:!0,marker:{show:!1},x:{show:!1}},legend:{position:"top",markers:{shape:"square",size:10,offsetY:2}},grid:{padding:{right:20}}}}},{key:"treemap",value:function(){return{chart:{zoom:{enabled:!1}},dataLabels:{style:{fontSize:14,fontWeight:600,colors:["#fff"]}},stroke:{show:!0,width:2,colors:["#fff"]},legend:{show:!1},fill:{gradient:{stops:[0,100]}},tooltip:{followCursor:!0,x:{show:!1}},grid:{padding:{left:0,right:0}},xaxis:{crosshairs:{show:!1},tooltip:{enabled:!1}}}}},{key:"pie",value:function(){return{chart:{toolbar:{show:!1}},plotOptions:{pie:{donut:{labels:{show:!1}}}},dataLabels:{formatter:function(l){return l.toFixed(1)+"%"},style:{colors:["#fff"]},background:{enabled:!1},dropShadow:{enabled:!0}},stroke:{colors:["#fff"]},fill:{opacity:1,gradient:{shade:"light",stops:[0,100]}},tooltip:{theme:"dark",fillSeriesColor:!0},legend:{position:"right"}}}},{key:"donut",value:function(){return{chart:{toolbar:{show:!1}},dataLabels:{formatter:function(l){return l.toFixed(1)+"%"},style:{colors:["#fff"]},background:{enabled:!1},dropShadow:{enabled:!0}},stroke:{colors:["#fff"]},fill:{opacity:1,gradient:{shade:"light",shadeIntensity:.35,stops:[80,100],opacityFrom:1,opacityTo:1}},tooltip:{theme:"dark",fillSeriesColor:!0},legend:{position:"right"}}}},{key:"polarArea",value:function(){return this.opts.yaxis[0].tickAmount=this.opts.yaxis[0].tickAmount?this.opts.yaxis[0].tickAmount:6,{chart:{toolbar:{show:!1}},dataLabels:{formatter:function(l){return l.toFixed(1)+"%"},enabled:!1},stroke:{show:!0,width:2},fill:{opacity:.7},tooltip:{theme:"dark",fillSeriesColor:!0},legend:{position:"right"}}}},{key:"radar",value:function(){return this.opts.yaxis[0].labels.offsetY=this.opts.yaxis[0].labels.offsetY?this.opts.yaxis[0].labels.offsetY:6,{dataLabels:{enabled:!1,style:{fontSize:"11px"}},stroke:{width:2},markers:{size:3,strokeWidth:1,strokeOpacity:1},fill:{opacity:.2},tooltip:{shared:!1,intersect:!0,followCursor:!0},grid:{show:!1},xaxis:{labels:{formatter:function(l){return l},style:{colors:["#a8a8a8"],fontSize:"11px"}},tooltip:{enabled:!1},crosshairs:{show:!1}}}}},{key:"radialBar",value:function(){return{chart:{animations:{dynamicAnimation:{enabled:!0,speed:800}},toolbar:{show:!1}},fill:{gradient:{shade:"dark",shadeIntensity:.4,inverseColors:!1,type:"diagonal2",opacityFrom:1,opacityTo:1,stops:[70,98,100]}},legend:{show:!1,position:"right"},tooltip:{enabled:!1,fillSeriesColor:!0}}}},{key:"_getBoxTooltip",value:function(l,u,f,m,v){var y=l.globals.seriesCandleO[u][f],w=l.globals.seriesCandleH[u][f],D=l.globals.seriesCandleM[u][f],I=l.globals.seriesCandleL[u][f],O=l.globals.seriesCandleC[u][f];return l.config.series[u].type&&l.config.series[u].type!==v?'<div class="apexcharts-custom-tooltip">\n          '.concat(l.config.series[u].name?l.config.series[u].name:"series-"+(u+1),": <strong>").concat(l.globals.series[u][f],"</strong>\n        </div>"):'<div class="apexcharts-tooltip-box apexcharts-tooltip-'.concat(l.config.chart.type,'">')+"<div>".concat(m[0],': <span class="value">')+y+"</span></div>"+"<div>".concat(m[1],': <span class="value">')+w+"</span></div>"+(D?"<div>".concat(m[2],': <span class="value">')+D+"</span></div>":"")+"<div>".concat(m[3],': <span class="value">')+I+"</span></div>"+"<div>".concat(m[4],': <span class="value">')+O+"</span></div></div>"}}]),J}(),tr=function(){function J(l){xe(this,J),this.opts=l}return ke(J,[{key:"init",value:function(l){var u=l.responsiveOverride,f=this.opts,m=new It,v=new ki(f);this.chartType=f.chart.type,f=this.extendYAxis(f),f=this.extendAnnotations(f);var y=m.init(),w={};if(f&&"object"===Oe(f)){var D,I,O,P,L,U,G,Y,Q,ie,le={};le=-1!==["line","area","bar","candlestick","boxPlot","rangeBar","rangeArea","bubble","scatter","heatmap","treemap","pie","polarArea","donut","radar","radialBar"].indexOf(f.chart.type)?v[f.chart.type]():v.line(),null!==(D=f.plotOptions)&&void 0!==D&&null!==(I=D.bar)&&void 0!==I&&I.isFunnel&&(le=v.funnel()),f.chart.stacked&&"bar"===f.chart.type&&(le=v.stackedBars()),null!==(O=f.chart.brush)&&void 0!==O&&O.enabled&&(le=v.brush(le)),f.chart.stacked&&"100%"===f.chart.stackType&&(f=v.stacked100(f)),null!==(P=f.plotOptions)&&void 0!==P&&null!==(L=P.bar)&&void 0!==L&&L.isDumbbell&&(f=v.dumbbell(f)),"monotoneCubic"===(null===(U=f)||void 0===U||null===(G=U.stroke)||void 0===G?void 0:G.curve)&&(f.stroke.curve="smooth"),this.checkForDarkTheme(window.Apex),this.checkForDarkTheme(f),f.xaxis=f.xaxis||window.Apex.xaxis||{},u||(f.xaxis.convertedCatToNumeric=!1),(null!==(Y=(f=this.checkForCatToNumericXAxis(this.chartType,le,f)).chart.sparkline)&&void 0!==Y&&Y.enabled||null!==(Q=window.Apex.chart)&&void 0!==Q&&null!==(ie=Q.sparkline)&&void 0!==ie&&ie.enabled)&&(le=v.sparkline(le)),w=me.extend(y,le)}var S=me.extend(w,window.Apex);return y=me.extend(S,f),this.handleUserInputErrors(y)}},{key:"checkForCatToNumericXAxis",value:function(l,u,f){var m,v,y=new ki(f);return("bar"===l||"boxPlot"===l)&&(null===(m=f.plotOptions)||void 0===m||null===(v=m.bar)||void 0===v?void 0:v.horizontal)||"pie"===l||"polarArea"===l||"donut"===l||"radar"===l||"radialBar"===l||"heatmap"===l||!("datetime"!==f.xaxis.type&&"numeric"!==f.xaxis.type)||"between"===(f.xaxis.tickPlacement?f.xaxis.tickPlacement:u.xaxis&&u.xaxis.tickPlacement)||(f=y.convertCatToNumeric(f)),f}},{key:"extendYAxis",value:function(l,u){var f=new It;(void 0===l.yaxis||!l.yaxis||Array.isArray(l.yaxis)&&0===l.yaxis.length)&&(l.yaxis={}),l.yaxis.constructor!==Array&&window.Apex.yaxis&&window.Apex.yaxis.constructor!==Array&&(l.yaxis=me.extend(l.yaxis,window.Apex.yaxis)),l.yaxis=l.yaxis.constructor!==Array?[me.extend(f.yAxis,l.yaxis)]:me.extendArray(l.yaxis,f.yAxis);var m=!1;l.yaxis.forEach(function(y){y.logarithmic&&(m=!0)});var v=l.series;return u&&!v&&(v=u.config.series),m&&v.length!==l.yaxis.length&&v.length&&(l.yaxis=v.map(function(y,w){if(y.name||(v[w].name="series-".concat(w+1)),l.yaxis[w])return l.yaxis[w].seriesName=v[w].name,l.yaxis[w];var D=me.extend(f.yAxis,l.yaxis[0]);return D.show=!1,D})),m&&v.length>1&&v.length!==l.yaxis.length&&console.warn("A multi-series logarithmic chart should have equal number of series and y-axes"),l}},{key:"extendAnnotations",value:function(l){return void 0===l.annotations&&(l.annotations={},l.annotations.yaxis=[],l.annotations.xaxis=[],l.annotations.points=[]),l=this.extendYAxisAnnotations(l),l=this.extendXAxisAnnotations(l),this.extendPointAnnotations(l)}},{key:"extendYAxisAnnotations",value:function(l){var u=new It;return l.annotations.yaxis=me.extendArray(void 0!==l.annotations.yaxis?l.annotations.yaxis:[],u.yAxisAnnotation),l}},{key:"extendXAxisAnnotations",value:function(l){var u=new It;return l.annotations.xaxis=me.extendArray(void 0!==l.annotations.xaxis?l.annotations.xaxis:[],u.xAxisAnnotation),l}},{key:"extendPointAnnotations",value:function(l){var u=new It;return l.annotations.points=me.extendArray(void 0!==l.annotations.points?l.annotations.points:[],u.pointAnnotation),l}},{key:"checkForDarkTheme",value:function(l){l.theme&&"dark"===l.theme.mode&&(l.tooltip||(l.tooltip={}),"light"!==l.tooltip.theme&&(l.tooltip.theme="dark"),l.chart.foreColor||(l.chart.foreColor="#f6f7f8"),l.chart.background||(l.chart.background="#424242"),l.theme.palette||(l.theme.palette="palette4"))}},{key:"handleUserInputErrors",value:function(l){var u=l;if(u.tooltip.shared&&u.tooltip.intersect)throw new Error("tooltip.shared cannot be enabled when tooltip.intersect is true. Turn off any other option by setting it to false.");if("bar"===u.chart.type&&u.plotOptions.bar.horizontal){if(u.yaxis.length>1)throw new Error("Multiple Y Axis for bars are not supported. Switch to column chart by setting plotOptions.bar.horizontal=false");u.yaxis[0].reversed&&(u.yaxis[0].opposite=!0),u.xaxis.tooltip.enabled=!1,u.yaxis[0].tooltip.enabled=!1,u.chart.zoom.enabled=!1}return"bar"!==u.chart.type&&"rangeBar"!==u.chart.type||u.tooltip.shared&&"barWidth"===u.xaxis.crosshairs.width&&u.series.length>1&&(u.xaxis.crosshairs.width="tickWidth"),"candlestick"!==u.chart.type&&"boxPlot"!==u.chart.type||u.yaxis[0].reversed&&(console.warn("Reversed y-axis in ".concat(u.chart.type," chart is not supported.")),u.yaxis[0].reversed=!1),u}}]),J}(),qe=function(){function J(){xe(this,J)}return ke(J,[{key:"initGlobalVars",value:function(l){l.series=[],l.seriesCandleO=[],l.seriesCandleH=[],l.seriesCandleM=[],l.seriesCandleL=[],l.seriesCandleC=[],l.seriesRangeStart=[],l.seriesRangeEnd=[],l.seriesRange=[],l.seriesPercent=[],l.seriesGoals=[],l.seriesX=[],l.seriesZ=[],l.seriesNames=[],l.seriesTotals=[],l.seriesLog=[],l.seriesColors=[],l.stackedSeriesTotals=[],l.seriesXvalues=[],l.seriesYvalues=[],l.labels=[],l.hasXaxisGroups=!1,l.groups=[],l.hasSeriesGroups=!1,l.seriesGroups=[],l.categoryLabels=[],l.timescaleLabels=[],l.noLabelsProvided=!1,l.resizeTimer=null,l.selectionResizeTimer=null,l.delayedElements=[],l.pointsArray=[],l.dataLabelsRects=[],l.isXNumeric=!1,l.skipLastTimelinelabel=!1,l.skipFirstTimelinelabel=!1,l.isDataXYZ=!1,l.isMultiLineX=!1,l.isMultipleYAxis=!1,l.maxY=-Number.MAX_VALUE,l.minY=Number.MIN_VALUE,l.minYArr=[],l.maxYArr=[],l.maxX=-Number.MAX_VALUE,l.minX=Number.MAX_VALUE,l.initialMaxX=-Number.MAX_VALUE,l.initialMinX=Number.MAX_VALUE,l.maxDate=0,l.minDate=Number.MAX_VALUE,l.minZ=Number.MAX_VALUE,l.maxZ=-Number.MAX_VALUE,l.minXDiff=Number.MAX_VALUE,l.yAxisScale=[],l.xAxisScale=null,l.xAxisTicksPositions=[],l.yLabelsCoords=[],l.yTitleCoords=[],l.barPadForNumericAxis=0,l.padHorizontal=0,l.xRange=0,l.yRange=[],l.zRange=0,l.dataPoints=0,l.xTickAmount=0}},{key:"globalVars",value:function(l){return{chartID:null,cuid:null,events:{beforeMount:[],mounted:[],updated:[],clicked:[],selection:[],dataPointSelection:[],zoomed:[],scrolled:[]},colors:[],clientX:null,clientY:null,fill:{colors:[]},stroke:{colors:[]},dataLabels:{style:{colors:[]}},radarPolygons:{fill:{colors:[]}},markers:{colors:[],size:l.markers.size,largestSize:0},animationEnded:!1,isTouchDevice:"ontouchstart"in window||navigator.msMaxTouchPoints,isDirty:!1,isExecCalled:!1,initialConfig:null,initialSeries:[],lastXAxis:[],lastYAxis:[],columnSeries:null,labels:[],timescaleLabels:[],noLabelsProvided:!1,allSeriesCollapsed:!1,collapsedSeries:[],collapsedSeriesIndices:[],ancillaryCollapsedSeries:[],ancillaryCollapsedSeriesIndices:[],risingSeries:[],dataFormatXNumeric:!1,capturedSeriesIndex:-1,capturedDataPointIndex:-1,selectedDataPoints:[],goldenPadding:35,invalidLogScale:!1,ignoreYAxisIndexes:[],yAxisSameScaleIndices:[],maxValsInArrayIndex:0,radialSize:0,selection:void 0,zoomEnabled:"zoom"===l.chart.toolbar.autoSelected&&l.chart.toolbar.tools.zoom&&l.chart.zoom.enabled,panEnabled:"pan"===l.chart.toolbar.autoSelected&&l.chart.toolbar.tools.pan,selectionEnabled:"selection"===l.chart.toolbar.autoSelected&&l.chart.toolbar.tools.selection,yaxis:null,mousedown:!1,lastClientPosition:{},visibleXRange:void 0,yValueDecimal:0,total:0,SVGNS:"http://www.w3.org/2000/svg",svgWidth:0,svgHeight:0,noData:!1,locale:{},dom:{},memory:{methodsToExec:[]},shouldAnimate:!0,skipLastTimelinelabel:!1,skipFirstTimelinelabel:!1,delayedElements:[],axisCharts:!0,isDataXYZ:!1,resized:!1,resizeTimer:null,comboCharts:!1,dataChanged:!1,previousPaths:[],allSeriesHasEqualX:!0,pointsArray:[],dataLabelsRects:[],lastDrawnDataLabelsIndexes:[],hasNullValues:!1,easing:null,zoomed:!1,gridWidth:0,gridHeight:0,rotateXLabels:!1,defaultLabels:!1,xLabelFormatter:void 0,yLabelFormatters:[],xaxisTooltipFormatter:void 0,ttKeyFormatter:void 0,ttVal:void 0,ttZFormatter:void 0,LINE_HEIGHT_RATIO:1.618,xAxisLabelsHeight:0,xAxisGroupLabelsHeight:0,xAxisLabelsWidth:0,yAxisLabelsWidth:0,scaleX:1,scaleY:1,translateX:0,translateY:0,translateYAxisX:[],yAxisWidths:[],translateXAxisY:0,translateXAxisX:0,tooltip:null}}},{key:"init",value:function(l){var u=this.globalVars(l);return this.initGlobalVars(u),u.initialConfig=me.extend({},l),u.initialSeries=me.clone(l.series),u.lastXAxis=me.clone(u.initialConfig.xaxis),u.lastYAxis=me.clone(u.initialConfig.yaxis),u}}]),J}(),nt=function(){function J(l){xe(this,J),this.opts=l}return ke(J,[{key:"init",value:function(){var l=new tr(this.opts).init({responsiveOverride:!1});return{config:l,globals:(new qe).init(l)}}}]),J}(),Je=function(){function J(l){xe(this,J),this.ctx=l,this.w=l.w,this.opts=null,this.seriesIndex=0}return ke(J,[{key:"clippedImgArea",value:function(l){var u=this.w,f=u.config,m=parseInt(u.globals.gridWidth,10),v=parseInt(u.globals.gridHeight,10),y=m>v?m:v,w=l.image,D=0,I=0;void 0===l.width&&void 0===l.height?void 0!==f.fill.image.width&&void 0!==f.fill.image.height?(D=f.fill.image.width+1,I=f.fill.image.height):(D=y+1,I=y):(D=l.width,I=l.height);var O=document.createElementNS(u.globals.SVGNS,"pattern");_e.setAttrs(O,{id:l.patternID,patternUnits:l.patternUnits?l.patternUnits:"userSpaceOnUse",width:D+"px",height:I+"px"});var P=document.createElementNS(u.globals.SVGNS,"image");O.appendChild(P),P.setAttributeNS(window.SVG.xlink,"href",w),_e.setAttrs(P,{x:0,y:0,preserveAspectRatio:"none",width:D+"px",height:I+"px"}),P.style.opacity=l.opacity,u.globals.dom.elDefs.node.appendChild(O)}},{key:"getSeriesIndex",value:function(l){var u=this.w,f=u.config.chart.type;return this.seriesIndex=("bar"===f||"rangeBar"===f)&&u.config.plotOptions.bar.distributed||"heatmap"===f||"treemap"===f?l.seriesNumber:l.seriesNumber%u.globals.series.length,this.seriesIndex}},{key:"fillPath",value:function(l){var u=this.w;this.opts=l;var f,m,v,y=this.w.config;this.seriesIndex=this.getSeriesIndex(l);var w=this.getFillColors()[this.seriesIndex];void 0!==u.globals.seriesColors[this.seriesIndex]&&(w=u.globals.seriesColors[this.seriesIndex]),"function"==typeof w&&(w=w({seriesIndex:this.seriesIndex,dataPointIndex:l.dataPointIndex,value:l.value,w:u}));var D=l.fillType?l.fillType:this.getFillType(this.seriesIndex),I=Array.isArray(y.fill.opacity)?y.fill.opacity[this.seriesIndex]:y.fill.opacity;l.color&&(w=l.color),w||(w="#fff",console.warn("undefined color - ApexCharts"));var O=w;if(-1===w.indexOf("rgb")?w.length<9&&(O=me.hexToRgba(w,I)):w.indexOf("rgba")>-1&&(I=me.getOpacityFromRGBA(w)),l.opacity&&(I=l.opacity),"pattern"===D&&(m=this.handlePatternFill({fillConfig:l.fillConfig,patternFill:m,fillColor:w,fillOpacity:I,defaultColor:O})),"gradient"===D&&(v=this.handleGradientFill({fillConfig:l.fillConfig,fillColor:w,fillOpacity:I,i:this.seriesIndex})),"image"===D){var P=y.fill.image.src,L=l.patternID?l.patternID:"";this.clippedImgArea({opacity:I,image:Array.isArray(P)?l.seriesNumber<P.length?P[l.seriesNumber]:P[0]:P,width:l.width?l.width:void 0,height:l.height?l.height:void 0,patternUnits:l.patternUnits,patternID:"pattern".concat(u.globals.cuid).concat(l.seriesNumber+1).concat(L)}),f="url(#pattern".concat(u.globals.cuid).concat(l.seriesNumber+1).concat(L,")")}else f="gradient"===D?v:"pattern"===D?m:O;return l.solid&&(f=O),f}},{key:"getFillType",value:function(l){var u=this.w;return Array.isArray(u.config.fill.type)?u.config.fill.type[l]:u.config.fill.type}},{key:"getFillColors",value:function(){var l=this.w,u=l.config,f=this.opts,m=[];return l.globals.comboCharts?"line"===l.config.series[this.seriesIndex].type?Array.isArray(l.globals.stroke.colors)?m=l.globals.stroke.colors:m.push(l.globals.stroke.colors):Array.isArray(l.globals.fill.colors)?m=l.globals.fill.colors:m.push(l.globals.fill.colors):"line"===u.chart.type?Array.isArray(l.globals.stroke.colors)?m=l.globals.stroke.colors:m.push(l.globals.stroke.colors):Array.isArray(l.globals.fill.colors)?m=l.globals.fill.colors:m.push(l.globals.fill.colors),void 0!==f.fillColors&&(m=[],Array.isArray(f.fillColors)?m=f.fillColors.slice():m.push(f.fillColors)),m}},{key:"handlePatternFill",value:function(l){var u=l.fillConfig,m=l.fillColor,v=l.fillOpacity,y=l.defaultColor,w=this.w.config.fill;u&&(w=u);var D=this.opts,I=new _e(this.ctx),O=Array.isArray(w.pattern.strokeWidth)?w.pattern.strokeWidth[this.seriesIndex]:w.pattern.strokeWidth,P=m;return Array.isArray(w.pattern.style)?void 0!==w.pattern.style[D.seriesNumber]?I.drawPattern(w.pattern.style[D.seriesNumber],w.pattern.width,w.pattern.height,P,O,v):y:I.drawPattern(w.pattern.style,w.pattern.width,w.pattern.height,P,O,v)}},{key:"handleGradientFill",value:function(l){var u=l.fillColor,f=l.fillOpacity,m=l.fillConfig,v=l.i,y=this.w.config.fill;m&&(y=re(re({},y),m));var w,D=this.opts,I=new _e(this.ctx),O=new me,P=y.gradient.type,L=u,U=void 0===y.gradient.opacityFrom?f:Array.isArray(y.gradient.opacityFrom)?y.gradient.opacityFrom[v]:y.gradient.opacityFrom;L.indexOf("rgba")>-1&&(U=me.getOpacityFromRGBA(L));var G=void 0===y.gradient.opacityTo?f:Array.isArray(y.gradient.opacityTo)?y.gradient.opacityTo[v]:y.gradient.opacityTo;if(void 0===y.gradient.gradientToColors||0===y.gradient.gradientToColors.length)w=O.shadeColor("dark"===y.gradient.shade?-1*parseFloat(y.gradient.shadeIntensity):parseFloat(y.gradient.shadeIntensity),u.indexOf("rgb")>-1?me.rgb2hex(u):u);else if(y.gradient.gradientToColors[D.seriesNumber]){var Y=y.gradient.gradientToColors[D.seriesNumber];w=Y,Y.indexOf("rgba")>-1&&(G=me.getOpacityFromRGBA(Y))}else w=u;if(y.gradient.gradientFrom&&(L=y.gradient.gradientFrom),y.gradient.gradientTo&&(w=y.gradient.gradientTo),y.gradient.inverseColors){var Q=L;L=w,w=Q}return L.indexOf("rgb")>-1&&(L=me.rgb2hex(L)),w.indexOf("rgb")>-1&&(w=me.rgb2hex(w)),I.drawGradient(P,L,w,U,G,D.size,y.gradient.stops,y.gradient.colorStops,v)}}]),J}(),rt=function(){function J(l,u){xe(this,J),this.ctx=l,this.w=l.w}return ke(J,[{key:"setGlobalMarkerSize",value:function(){var l=this.w;if(l.globals.markers.size=Array.isArray(l.config.markers.size)?l.config.markers.size:[l.config.markers.size],l.globals.markers.size.length>0){if(l.globals.markers.size.length<l.globals.series.length+1)for(var u=0;u<=l.globals.series.length;u++)void 0===l.globals.markers.size[u]&&l.globals.markers.size.push(l.globals.markers.size[0])}else l.globals.markers.size=l.config.series.map(function(f){return l.config.markers.size})}},{key:"plotChartMarkers",value:function(l,u,f,m){var v,y=arguments.length>4&&void 0!==arguments[4]&&arguments[4],w=this.w,D=u,I=l,O=null,P=new _e(this.ctx),L=w.config.markers.discrete&&w.config.markers.discrete.length;if((w.globals.markers.size[u]>0||y||L)&&(O=P.group({class:y||L?"":"apexcharts-series-markers"})).attr("clip-path","url(#gridRectMarkerMask".concat(w.globals.cuid,")")),Array.isArray(I.x))for(var U=0;U<I.x.length;U++){var G=f;1===f&&0===U&&(G=0),1===f&&1===U&&(G=1);var Y="apexcharts-marker";if("line"!==w.config.chart.type&&"area"!==w.config.chart.type||w.globals.comboCharts||w.config.tooltip.intersect||(Y+=" no-pointer-events"),(Array.isArray(w.config.markers.size)?w.globals.markers.size[u]>0:w.config.markers.size>0)||y||L){me.isNumber(I.y[U])?Y+=" w".concat(me.randomId()):Y="apexcharts-nullpoint";var Q=this.getMarkerConfig({cssClass:Y,seriesIndex:u,dataPointIndex:G});w.config.series[D].data[G]&&(w.config.series[D].data[G].fillColor&&(Q.pointFillColor=w.config.series[D].data[G].fillColor),w.config.series[D].data[G].strokeColor&&(Q.pointStrokeColor=w.config.series[D].data[G].strokeColor)),m&&(Q.pSize=m),(I.x[U]<0||I.x[U]>w.globals.gridWidth||I.y[U]<-w.globals.markers.largestSize||I.y[U]>w.globals.gridHeight+w.globals.markers.largestSize)&&(Q.pSize=0),(v=P.drawMarker(I.x[U],I.y[U],Q)).attr("rel",G),v.attr("j",G),v.attr("index",u),v.node.setAttribute("default-marker-size",Q.pSize),new $t(this.ctx).setSelectionFilter(v,u,G),this.addEvents(v),O&&O.add(v)}else void 0===w.globals.pointsArray[u]&&(w.globals.pointsArray[u]=[]),w.globals.pointsArray[u].push([I.x[U],I.y[U]])}return O}},{key:"getMarkerConfig",value:function(l){var u=l.cssClass,f=l.seriesIndex,m=l.dataPointIndex,v=void 0===m?null:m,y=l.finishRadius,w=void 0===y?null:y,D=this.w,I=this.getMarkerStyle(f),O=D.globals.markers.size[f],P=D.config.markers;return null!==v&&P.discrete.length&&P.discrete.map(function(L){L.seriesIndex===f&&L.dataPointIndex===v&&(I.pointStrokeColor=L.strokeColor,I.pointFillColor=L.fillColor,O=L.size,I.pointShape=L.shape)}),{pSize:null===w?O:w,pRadius:P.radius,width:Array.isArray(P.width)?P.width[f]:P.width,height:Array.isArray(P.height)?P.height[f]:P.height,pointStrokeWidth:Array.isArray(P.strokeWidth)?P.strokeWidth[f]:P.strokeWidth,pointStrokeColor:I.pointStrokeColor,pointFillColor:I.pointFillColor,shape:I.pointShape||(Array.isArray(P.shape)?P.shape[f]:P.shape),class:u,pointStrokeOpacity:Array.isArray(P.strokeOpacity)?P.strokeOpacity[f]:P.strokeOpacity,pointStrokeDashArray:Array.isArray(P.strokeDashArray)?P.strokeDashArray[f]:P.strokeDashArray,pointFillOpacity:Array.isArray(P.fillOpacity)?P.fillOpacity[f]:P.fillOpacity,seriesIndex:f}}},{key:"addEvents",value:function(l){var u=this.w,f=new _e(this.ctx);l.node.addEventListener("mouseenter",f.pathMouseEnter.bind(this.ctx,l)),l.node.addEventListener("mouseleave",f.pathMouseLeave.bind(this.ctx,l)),l.node.addEventListener("mousedown",f.pathMouseDown.bind(this.ctx,l)),l.node.addEventListener("click",u.config.markers.onClick),l.node.addEventListener("dblclick",u.config.markers.onDblClick),l.node.addEventListener("touchstart",f.pathMouseDown.bind(this.ctx,l),{passive:!0})}},{key:"getMarkerStyle",value:function(l){var u=this.w,f=u.globals.markers.colors,m=u.config.markers.strokeColor||u.config.markers.strokeColors;return{pointStrokeColor:Array.isArray(m)?m[l]:m,pointFillColor:Array.isArray(f)?f[l]:f}}}]),J}(),dt=function(){function J(l){xe(this,J),this.ctx=l,this.w=l.w,this.initialAnim=this.w.config.chart.animations.enabled,this.dynamicAnim=this.initialAnim&&this.w.config.chart.animations.dynamicAnimation.enabled}return ke(J,[{key:"draw",value:function(l,u,f){var m=this.w,v=new _e(this.ctx),y=f.realIndex,w=f.pointsPos,D=f.zRatio,I=f.elParent,O=v.group({class:"apexcharts-series-markers apexcharts-series-".concat(m.config.chart.type)});if(O.attr("clip-path","url(#gridRectMarkerMask".concat(m.globals.cuid,")")),Array.isArray(w.x))for(var P=0;P<w.x.length;P++){var L=u+1,U=!0;0===u&&0===P&&(L=0),0===u&&1===P&&(L=1);var G=0,Y=m.globals.markers.size[y];if(D!==1/0){var Q=m.config.plotOptions.bubble;Y=m.globals.seriesZ[y][L],Q.zScaling&&(Y/=D),Q.minBubbleRadius&&Y<Q.minBubbleRadius&&(Y=Q.minBubbleRadius),Q.maxBubbleRadius&&Y>Q.maxBubbleRadius&&(Y=Q.maxBubbleRadius)}m.config.chart.animations.enabled||(G=Y);var le=w.y[P];if(G=G||0,null!==le&&void 0!==m.globals.series[y][L]||(U=!1),U){var S=this.drawPoint(w.x[P],le,G,Y,y,L,u);O.add(S)}I.add(O)}}},{key:"drawPoint",value:function(l,u,f,m,v,y,w){var D=this.w,I=v,O=new on(this.ctx),P=new $t(this.ctx),L=new Je(this.ctx),U=new rt(this.ctx),G=new _e(this.ctx),Y=U.getMarkerConfig({cssClass:"apexcharts-marker",seriesIndex:I,dataPointIndex:y,finishRadius:"bubble"===D.config.chart.type||D.globals.comboCharts&&D.config.series[v]&&"bubble"===D.config.series[v].type?m:null});m=Y.pSize;var Q,ie=L.fillPath({seriesNumber:v,dataPointIndex:y,color:Y.pointFillColor,patternUnits:"objectBoundingBox",value:D.globals.series[v][w]});if("circle"===Y.shape?Q=G.drawCircle(f):"square"!==Y.shape&&"rect"!==Y.shape||(Q=G.drawRect(0,0,Y.width-Y.pointStrokeWidth/2,Y.height-Y.pointStrokeWidth/2,Y.pRadius)),D.config.series[I].data[y]&&D.config.series[I].data[y].fillColor&&(ie=D.config.series[I].data[y].fillColor),Q.attr({x:l-Y.width/2-Y.pointStrokeWidth/2,y:u-Y.height/2-Y.pointStrokeWidth/2,cx:l,cy:u,fill:ie,"fill-opacity":Y.pointFillOpacity,stroke:Y.pointStrokeColor,r:m,"stroke-width":Y.pointStrokeWidth,"stroke-dasharray":Y.pointStrokeDashArray,"stroke-opacity":Y.pointStrokeOpacity}),D.config.chart.dropShadow.enabled&&P.dropShadow(Q,D.config.chart.dropShadow,v),!this.initialAnim||D.globals.dataChanged||D.globals.resized?D.globals.animationEnded=!0:O.animateMarker(Q,0,"circle"===Y.shape?m:{width:Y.width,height:Y.height},D.config.chart.animations.speed,D.globals.easing,function(){window.setTimeout(function(){O.animationCompleted(Q)},100)}),D.globals.dataChanged&&"circle"===Y.shape)if(this.dynamicAnim){var R,$,te,de,he=D.config.chart.animations.dynamicAnimation.speed;null!=(de=D.globals.previousPaths[v]&&D.globals.previousPaths[v][w])&&(R=de.x,$=de.y,te=void 0!==de.r?de.r:m);for(var Ie=0;Ie<D.globals.collapsedSeries.length;Ie++)D.globals.collapsedSeries[Ie].index===v&&(he=1,m=0);0===l&&0===u&&(m=0),O.animateCircle(Q,{cx:R,cy:$,r:te},{cx:l,cy:u,r:m},he,D.globals.easing)}else Q.attr({r:m});return Q.attr({rel:y,j:y,index:v,"default-marker-size":m}),P.setSelectionFilter(Q,v,y),U.addEvents(Q),Q.node.classList.add("apexcharts-marker"),Q}},{key:"centerTextInBubble",value:function(l){return{y:l+=parseInt(this.w.config.dataLabels.style.fontSize,10)/4}}}]),J}(),vt=function(){function J(l){xe(this,J),this.ctx=l,this.w=l.w}return ke(J,[{key:"dataLabelsCorrection",value:function(l,u,f,m,v,y,w){var D=this.w,I=!1,O=new _e(this.ctx).getTextRects(f,w),P=O.width,L=O.height;if(u<0&&(u=0),u>D.globals.gridHeight+L&&(u=D.globals.gridHeight+L/2),void 0===D.globals.dataLabelsRects[m]&&(D.globals.dataLabelsRects[m]=[]),D.globals.dataLabelsRects[m].push({x:l,y:u,width:P,height:L}),void 0!==D.globals.dataLabelsRects[m][D.globals.dataLabelsRects[m].length-2]){var Y=D.globals.dataLabelsRects[m][void 0!==D.globals.lastDrawnDataLabelsIndexes[m]?D.globals.lastDrawnDataLabelsIndexes[m][D.globals.lastDrawnDataLabelsIndexes[m].length-1]:0];(l>Y.x+Y.width||u>Y.y+Y.height||u+L<Y.y||l+P<Y.x)&&(I=!0)}return(0===v||y)&&(I=!0),{x:l,y:u,textRects:O,drawnextLabel:I}}},{key:"drawDataLabel",value:function(l){var u=this,f=l.type,m=l.pos,v=l.i,y=l.j,w=l.isRangeStart,D=l.strokeWidth,I=void 0===D?2:D,O=this.w,P=new _e(this.ctx),L=O.config.dataLabels,U=0,G=0,Y=y,Q=null;if(!L.enabled||!Array.isArray(m.x))return Q;Q=P.group({class:"apexcharts-data-labels"});for(var ie=0;ie<m.x.length;ie++)if(U=m.x[ie]+L.offsetX,G=m.y[ie]+L.offsetY+I,!isNaN(U)){1===y&&0===ie&&(Y=0),1===y&&1===ie&&(Y=1);var le=O.globals.series[v][Y];"rangeArea"===f&&(le=w?O.globals.seriesRangeStart[v][Y]:O.globals.seriesRangeEnd[v][Y]);var S="",R=function($){return O.config.dataLabels.formatter($,{ctx:u.ctx,seriesIndex:v,dataPointIndex:Y,w:O})};"bubble"===O.config.chart.type?(S=R(le=O.globals.seriesZ[v][Y]),G=m.y[ie],G=new dt(this.ctx).centerTextInBubble(G,v,Y).y):void 0!==le&&(S=R(le)),this.plotDataLabelsText({x:U,y:G,text:S,i:v,j:Y,parent:Q,offsetCorrection:!0,dataLabelsConfig:O.config.dataLabels})}return Q}},{key:"plotDataLabelsText",value:function(l){var u=this.w,f=new _e(this.ctx),m=l.x,v=l.y,y=l.i,w=l.j,D=l.text,I=l.textAnchor,O=l.fontSize,P=l.parent,L=l.dataLabelsConfig,U=l.color,G=l.alwaysDrawDataLabel,Y=l.offsetCorrection;if(!(Array.isArray(u.config.dataLabels.enabledOnSeries)&&u.config.dataLabels.enabledOnSeries.indexOf(y)<0)){var Q={x:m,y:v,drawnextLabel:!0,textRects:null};Y&&(Q=this.dataLabelsCorrection(m,v,D,y,w,G,parseInt(L.style.fontSize,10))),u.globals.zoomed||(m=Q.x,v=Q.y),Q.textRects&&(m<-10-Q.textRects.width||m>u.globals.gridWidth+Q.textRects.width+10)&&(D="");var ie=u.globals.dataLabels.style.colors[y];(("bar"===u.config.chart.type||"rangeBar"===u.config.chart.type)&&u.config.plotOptions.bar.distributed||u.config.dataLabels.distributed)&&(ie=u.globals.dataLabels.style.colors[w]),"function"==typeof ie&&(ie=ie({series:u.globals.series,seriesIndex:y,dataPointIndex:w,w:u})),U&&(ie=U);var le=L.offsetX,S=L.offsetY;if("bar"!==u.config.chart.type&&"rangeBar"!==u.config.chart.type||(le=0,S=0),Q.drawnextLabel){var R=f.drawText({width:100,height:parseInt(L.style.fontSize,10),x:m+le,y:v+S,foreColor:ie,textAnchor:I||L.textAnchor,text:D,fontSize:O||L.style.fontSize,fontFamily:L.style.fontFamily,fontWeight:L.style.fontWeight||"normal"});if(R.attr({class:"apexcharts-datalabel",cx:m,cy:v}),L.dropShadow.enabled){var $=L.dropShadow;new $t(this.ctx).dropShadow(R,$)}P.add(R),void 0===u.globals.lastDrawnDataLabelsIndexes[y]&&(u.globals.lastDrawnDataLabelsIndexes[y]=[]),u.globals.lastDrawnDataLabelsIndexes[y].push(w)}}}},{key:"addBackgroundToDataLabel",value:function(l,u){var f=this.w,m=f.config.dataLabels.background,v=m.padding,y=m.padding/2,w=u.width,D=u.height,I=new _e(this.ctx).drawRect(u.x-v,u.y-y/2,w+2*v,D+y,m.borderRadius,"transparent"===f.config.chart.background?"#fff":f.config.chart.background,m.opacity,m.borderWidth,m.borderColor);return m.dropShadow.enabled&&new $t(this.ctx).dropShadow(I,m.dropShadow),I}},{key:"dataLabelsBackground",value:function(){var l=this.w;if("bubble"!==l.config.chart.type)for(var u=l.globals.dom.baseEl.querySelectorAll(".apexcharts-datalabels text"),f=0;f<u.length;f++){var m=u[f],v=m.getBBox(),y=null;if(v.width&&v.height&&(y=this.addBackgroundToDataLabel(m,v)),y){m.parentNode.insertBefore(y.node,m);var w=m.getAttribute("fill");!l.config.chart.animations.enabled||l.globals.resized||l.globals.dataChanged?y.attr({fill:w}):y.animate().attr({fill:w}),m.setAttribute("fill",l.config.dataLabels.background.foreColor)}}}},{key:"bringForward",value:function(){for(var l=this.w,u=l.globals.dom.baseEl.querySelectorAll(".apexcharts-datalabels"),f=l.globals.dom.baseEl.querySelector(".apexcharts-plot-series:last-child"),m=0;m<u.length;m++)f&&f.insertBefore(u[m],f.nextSibling)}}]),J}(),Ot=function(){function J(l){xe(this,J),this.ctx=l,this.w=l.w,this.legendInactiveClass="legend-mouseover-inactive"}return ke(J,[{key:"getAllSeriesEls",value:function(){return this.w.globals.dom.baseEl.getElementsByClassName("apexcharts-series")}},{key:"getSeriesByName",value:function(l){return this.w.globals.dom.baseEl.querySelector(".apexcharts-inner .apexcharts-series[seriesName='".concat(me.escapeString(l),"']"))}},{key:"isSeriesHidden",value:function(l){var u=this.getSeriesByName(l),f=parseInt(u.getAttribute("data:realIndex"),10);return{isHidden:u.classList.contains("apexcharts-series-collapsed"),realIndex:f}}},{key:"addCollapsedClassToSeries",value:function(l,u){var f=this.w;function m(v){for(var y=0;y<v.length;y++)v[y].index===u&&l.node.classList.add("apexcharts-series-collapsed")}m(f.globals.collapsedSeries),m(f.globals.ancillaryCollapsedSeries)}},{key:"toggleSeries",value:function(l){var u=this.isSeriesHidden(l);return this.ctx.legend.legendHelpers.toggleDataSeries(u.realIndex,u.isHidden),u.isHidden}},{key:"showSeries",value:function(l){var u=this.isSeriesHidden(l);u.isHidden&&this.ctx.legend.legendHelpers.toggleDataSeries(u.realIndex,!0)}},{key:"hideSeries",value:function(l){var u=this.isSeriesHidden(l);u.isHidden||this.ctx.legend.legendHelpers.toggleDataSeries(u.realIndex,!1)}},{key:"resetSeries",value:function(){var l=!(arguments.length>0&&void 0!==arguments[0])||arguments[0],u=!(arguments.length>1&&void 0!==arguments[1])||arguments[1],f=!(arguments.length>2&&void 0!==arguments[2])||arguments[2],m=this.w,v=me.clone(m.globals.initialSeries);m.globals.previousPaths=[],f?(m.globals.collapsedSeries=[],m.globals.ancillaryCollapsedSeries=[],m.globals.collapsedSeriesIndices=[],m.globals.ancillaryCollapsedSeriesIndices=[]):v=this.emptyCollapsedSeries(v),m.config.series=v,l&&(u&&(m.globals.zoomed=!1,this.ctx.updateHelpers.revertDefaultAxisMinMax()),this.ctx.updateHelpers._updateSeries(v,m.config.chart.animations.dynamicAnimation.enabled))}},{key:"emptyCollapsedSeries",value:function(l){for(var u=this.w,f=0;f<l.length;f++)u.globals.collapsedSeriesIndices.indexOf(f)>-1&&(l[f].data=[]);return l}},{key:"toggleSeriesOnHover",value:function(l,u){var f=this.w;u||(u=l.target);var m=f.globals.dom.baseEl.querySelectorAll(".apexcharts-series, .apexcharts-datalabels");if("mousemove"===l.type){var v=parseInt(u.getAttribute("rel"),10)-1,y=null,w=null;f.globals.axisCharts||"radialBar"===f.config.chart.type?f.globals.axisCharts?(y=f.globals.dom.baseEl.querySelector(".apexcharts-series[data\\:realIndex='".concat(v,"']")),w=f.globals.dom.baseEl.querySelector(".apexcharts-datalabels[data\\:realIndex='".concat(v,"']"))):y=f.globals.dom.baseEl.querySelector(".apexcharts-series[rel='".concat(v+1,"']")):y=f.globals.dom.baseEl.querySelector(".apexcharts-series[rel='".concat(v+1,"'] path"));for(var D=0;D<m.length;D++)m[D].classList.add(this.legendInactiveClass);null!==y&&(f.globals.axisCharts||y.parentNode.classList.remove(this.legendInactiveClass),y.classList.remove(this.legendInactiveClass),null!==w&&w.classList.remove(this.legendInactiveClass))}else if("mouseout"===l.type)for(var I=0;I<m.length;I++)m[I].classList.remove(this.legendInactiveClass)}},{key:"highlightRangeInSeries",value:function(l,u){var f=this,m=this.w,v=m.globals.dom.baseEl.getElementsByClassName("apexcharts-heatmap-rect"),y=function(D){for(var I=0;I<v.length;I++)v[I].classList[D](f.legendInactiveClass)};if("mousemove"===l.type){var w=parseInt(u.getAttribute("rel"),10)-1;y("add"),function(D){for(var I=0;I<v.length;I++){var O=parseInt(v[I].getAttribute("val"),10);O>=D.from&&O<=D.to&&v[I].classList.remove(f.legendInactiveClass)}}(m.config.plotOptions.heatmap.colorScale.ranges[w])}else"mouseout"===l.type&&y("remove")}},{key:"getActiveConfigSeriesIndex",value:function(){var l=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"asc",u=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[],f=this.w,m=0;if(f.config.series.length>1)for(var v=f.config.series.map(function(w,D){return w.data&&w.data.length>0&&-1===f.globals.collapsedSeriesIndices.indexOf(D)&&(!f.globals.comboCharts||0===u.length||u.length&&u.indexOf(f.config.series[D].type)>-1)?D:-1}),y="asc"===l?0:v.length-1;"asc"===l?y<v.length:y>=0;"asc"===l?y++:y--)if(-1!==v[y]){m=v[y];break}return m}},{key:"getBarSeriesIndices",value:function(){return this.w.globals.comboCharts?this.w.config.series.map(function(l,u){return"bar"===l.type||"column"===l.type?u:-1}).filter(function(l){return-1!==l}):this.w.config.series.map(function(l,u){return u})}},{key:"getPreviousPaths",value:function(){var l=this.w;function u(y,w,D){for(var I=y[w].childNodes,O={type:D,paths:[],realIndex:y[w].getAttribute("data:realIndex")},P=0;P<I.length;P++)if(I[P].hasAttribute("pathTo")){var L=I[P].getAttribute("pathTo");O.paths.push({d:L})}l.globals.previousPaths.push(O)}l.globals.previousPaths=[],["line","area","bar","rangebar","rangeArea","candlestick","radar"].forEach(function(y){for(var D=l.globals.dom.baseEl.querySelectorAll(".apexcharts-".concat(y,"-series .apexcharts-series")),I=0;I<D.length;I++)u(D,I,y)}),this.handlePrevBubbleScatterPaths("bubble"),this.handlePrevBubbleScatterPaths("scatter");var f=l.globals.dom.baseEl.querySelectorAll(".apexcharts-".concat(l.config.chart.type," .apexcharts-series"));if(f.length>0)for(var m=function(y){for(var w=l.globals.dom.baseEl.querySelectorAll(".apexcharts-".concat(l.config.chart.type," .apexcharts-series[data\\:realIndex='").concat(y,"'] rect")),D=[],I=function(P){var L=function(G){return w[P].getAttribute(G)},U={x:parseFloat(L("x")),y:parseFloat(L("y")),width:parseFloat(L("width")),height:parseFloat(L("height"))};D.push({rect:U,color:w[P].getAttribute("color")})},O=0;O<w.length;O++)I(O);l.globals.previousPaths.push(D)},v=0;v<f.length;v++)m(v);l.globals.axisCharts||(l.globals.previousPaths=l.globals.series)}},{key:"handlePrevBubbleScatterPaths",value:function(l){var u=this.w,f=u.globals.dom.baseEl.querySelectorAll(".apexcharts-".concat(l,"-series .apexcharts-series"));if(f.length>0)for(var m=0;m<f.length;m++){for(var v=u.globals.dom.baseEl.querySelectorAll(".apexcharts-".concat(l,"-series .apexcharts-series[data\\:realIndex='").concat(m,"'] circle")),y=[],w=0;w<v.length;w++)y.push({x:v[w].getAttribute("cx"),y:v[w].getAttribute("cy"),r:v[w].getAttribute("r")});u.globals.previousPaths.push(y)}}},{key:"clearPreviousPaths",value:function(){var l=this.w;l.globals.previousPaths=[],l.globals.allSeriesCollapsed=!1}},{key:"handleNoData",value:function(){var l=this.w,u=l.config.noData,f=new _e(this.ctx),m=l.globals.svgWidth/2,v=l.globals.svgHeight/2,y="middle";if(l.globals.noData=!0,l.globals.animationEnded=!0,"left"===u.align?(m=10,y="start"):"right"===u.align&&(m=l.globals.svgWidth-10,y="end"),"top"===u.verticalAlign?v=50:"bottom"===u.verticalAlign&&(v=l.globals.svgHeight-50),m+=u.offsetX,v=v+parseInt(u.style.fontSize,10)+2+u.offsetY,void 0!==u.text&&""!==u.text){var w=f.drawText({x:m,y:v,text:u.text,textAnchor:y,fontSize:u.style.fontSize,fontFamily:u.style.fontFamily,foreColor:u.style.color,opacity:1,class:"apexcharts-text-nodata"});l.globals.dom.Paper.add(w)}}},{key:"setNullSeriesToZeroValues",value:function(l){for(var u=this.w,f=0;f<l.length;f++)if(0===l[f].length)for(var m=0;m<l[u.globals.maxValsInArrayIndex].length;m++)l[f].push(0);return l}},{key:"hasAllSeriesEqualX",value:function(){for(var l=!0,u=this.w,f=this.filteredSeriesX(),m=0;m<f.length-1;m++)if(f[m][0]!==f[m+1][0]){l=!1;break}return u.globals.allSeriesHasEqualX=l,l}},{key:"filteredSeriesX",value:function(){return this.w.globals.seriesX.map(function(u){return u.length>0?u:[]})}}]),J}(),Rt=function(){function J(l){xe(this,J),this.ctx=l,this.w=l.w,this.twoDSeries=[],this.threeDSeries=[],this.twoDSeriesX=[],this.seriesGoals=[],this.coreUtils=new et(this.ctx)}return ke(J,[{key:"isMultiFormat",value:function(){return this.isFormatXY()||this.isFormat2DArray()}},{key:"isFormatXY",value:function(){var l=this.w.config.series.slice(),u=new Ot(this.ctx);if(this.activeSeriesIndex=u.getActiveConfigSeriesIndex(),void 0!==l[this.activeSeriesIndex].data&&l[this.activeSeriesIndex].data.length>0&&null!==l[this.activeSeriesIndex].data[0]&&void 0!==l[this.activeSeriesIndex].data[0].x&&null!==l[this.activeSeriesIndex].data[0])return!0}},{key:"isFormat2DArray",value:function(){var l=this.w.config.series.slice(),u=new Ot(this.ctx);if(this.activeSeriesIndex=u.getActiveConfigSeriesIndex(),void 0!==l[this.activeSeriesIndex].data&&l[this.activeSeriesIndex].data.length>0&&null!=l[this.activeSeriesIndex].data[0]&&l[this.activeSeriesIndex].data[0].constructor===Array)return!0}},{key:"handleFormat2DArray",value:function(l,u){for(var f=this.w.config,m=this.w.globals,v="boxPlot"===f.chart.type||"boxPlot"===f.series[u].type,y=0;y<l[u].data.length;y++)if(void 0!==l[u].data[y][1]&&(Array.isArray(l[u].data[y][1])&&4===l[u].data[y][1].length&&!v?this.twoDSeries.push(me.parseNumber(l[u].data[y][1][3])):this.twoDSeries.push(me.parseNumber(l[u].data[y].length>=5?l[u].data[y][4]:l[u].data[y][1])),m.dataFormatXNumeric=!0),"datetime"===f.xaxis.type){var w=new Date(l[u].data[y][0]);w=new Date(w).getTime(),this.twoDSeriesX.push(w)}else this.twoDSeriesX.push(l[u].data[y][0]);for(var D=0;D<l[u].data.length;D++)void 0!==l[u].data[D][2]&&(this.threeDSeries.push(l[u].data[D][2]),m.isDataXYZ=!0)}},{key:"handleFormatXY",value:function(l,u){var f=this.w.config,m=this.w.globals,v=new kn(this.ctx),y=u;m.collapsedSeriesIndices.indexOf(u)>-1&&(y=this.activeSeriesIndex);for(var w=0;w<l[u].data.length;w++)void 0!==l[u].data[w].y&&(Array.isArray(l[u].data[w].y)?this.twoDSeries.push(me.parseNumber(l[u].data[w].y[l[u].data[w].y.length-1])):this.twoDSeries.push(me.parseNumber(l[u].data[w].y))),void 0!==l[u].data[w].goals&&Array.isArray(l[u].data[w].goals)?(void 0===this.seriesGoals[u]&&(this.seriesGoals[u]=[]),this.seriesGoals[u].push(l[u].data[w].goals)):(void 0===this.seriesGoals[u]&&(this.seriesGoals[u]=[]),this.seriesGoals[u].push(null));for(var D=0;D<l[y].data.length;D++){var I="string"==typeof l[y].data[D].x,O=Array.isArray(l[y].data[D].x),P=!O&&!!v.isValidDate(l[y].data[D].x.toString());I||P?I||f.xaxis.convertedCatToNumeric?"datetime"!==f.xaxis.type||m.isBarHorizontal&&m.isRangeData?(this.fallbackToCategory=!0,this.twoDSeriesX.push(l[y].data[D].x),isNaN(l[y].data[D].x)||"category"===this.w.config.xaxis.type||"string"==typeof l[y].data[D].x||(m.isXNumeric=!0)):this.twoDSeriesX.push(v.parseDate(l[y].data[D].x)):"datetime"===f.xaxis.type?this.twoDSeriesX.push(v.parseDate(l[y].data[D].x.toString())):(m.dataFormatXNumeric=!0,m.isXNumeric=!0,this.twoDSeriesX.push(parseFloat(l[y].data[D].x))):O?(this.fallbackToCategory=!0,this.twoDSeriesX.push(l[y].data[D].x)):(m.isXNumeric=!0,m.dataFormatXNumeric=!0,this.twoDSeriesX.push(l[y].data[D].x))}if(l[u].data[0]&&void 0!==l[u].data[0].z){for(var U=0;U<l[u].data.length;U++)this.threeDSeries.push(l[u].data[U].z);m.isDataXYZ=!0}}},{key:"handleRangeData",value:function(l,u){var f=this.w.globals,m={};return this.isFormat2DArray()?m=this.handleRangeDataFormat("array",l,u):this.isFormatXY()&&(m=this.handleRangeDataFormat("xy",l,u)),f.seriesRangeStart.push(m.start),f.seriesRangeEnd.push(m.end),f.seriesRange.push(m.rangeUniques),f.seriesRange.forEach(function(v,y){v&&v.forEach(function(w,D){w.y.forEach(function(I,O){for(var P=0;P<w.y.length;P++)O!==P&&I.y1<=w.y[P].y2&&w.y[P].y1<=I.y2&&(w.overlaps.indexOf(I.rangeName)<0&&w.overlaps.push(I.rangeName),w.overlaps.indexOf(w.y[P].rangeName)<0&&w.overlaps.push(w.y[P].rangeName))})})}),m}},{key:"handleCandleStickBoxData",value:function(l,u){var f=this.w.globals,m={};return this.isFormat2DArray()?m=this.handleCandleStickBoxDataFormat("array",l,u):this.isFormatXY()&&(m=this.handleCandleStickBoxDataFormat("xy",l,u)),f.seriesCandleO[u]=m.o,f.seriesCandleH[u]=m.h,f.seriesCandleM[u]=m.m,f.seriesCandleL[u]=m.l,f.seriesCandleC[u]=m.c,m}},{key:"handleRangeDataFormat",value:function(l,u,f){var m=[],v=[],y=u[f].data.filter(function(O,P,L){return P===L.findIndex(function(U){return U.x===O.x})}).map(function(O,P){return{x:O.x,overlaps:[],y:[]}});if("array"===l)for(var w=0;w<u[f].data.length;w++)Array.isArray(u[f].data[w])?(m.push(u[f].data[w][1][0]),v.push(u[f].data[w][1][1])):(m.push(u[f].data[w]),v.push(u[f].data[w]));else if("xy"===l)for(var D=function(O){var P=Array.isArray(u[f].data[O].y),L=me.randomId(),U=u[f].data[O].x,G={y1:P?u[f].data[O].y[0]:u[f].data[O].y,y2:P?u[f].data[O].y[1]:u[f].data[O].y,rangeName:L};u[f].data[O].rangeName=L;var Y=y.findIndex(function(Q){return Q.x===U});y[Y].y.push(G),m.push(G.y1),v.push(G.y2)},I=0;I<u[f].data.length;I++)D(I);return{start:m,end:v,rangeUniques:y}}},{key:"handleCandleStickBoxDataFormat",value:function(l,u,f){var m=this.w,v="boxPlot"===m.config.chart.type||"boxPlot"===m.config.series[f].type,y=[],w=[],D=[],I=[],O=[];if("array"===l)if(v&&6===u[f].data[0].length||!v&&5===u[f].data[0].length)for(var P=0;P<u[f].data.length;P++)y.push(u[f].data[P][1]),w.push(u[f].data[P][2]),v?(D.push(u[f].data[P][3]),I.push(u[f].data[P][4]),O.push(u[f].data[P][5])):(I.push(u[f].data[P][3]),O.push(u[f].data[P][4]));else for(var L=0;L<u[f].data.length;L++)Array.isArray(u[f].data[L][1])&&(y.push(u[f].data[L][1][0]),w.push(u[f].data[L][1][1]),v?(D.push(u[f].data[L][1][2]),I.push(u[f].data[L][1][3]),O.push(u[f].data[L][1][4])):(I.push(u[f].data[L][1][2]),O.push(u[f].data[L][1][3])));else if("xy"===l)for(var U=0;U<u[f].data.length;U++)Array.isArray(u[f].data[U].y)&&(y.push(u[f].data[U].y[0]),w.push(u[f].data[U].y[1]),v?(D.push(u[f].data[U].y[2]),I.push(u[f].data[U].y[3]),O.push(u[f].data[U].y[4])):(I.push(u[f].data[U].y[2]),O.push(u[f].data[U].y[3])));return{o:y,h:w,m:D,l:I,c:O}}},{key:"parseDataAxisCharts",value:function(l){var u,f=this,v=this.w.config,y=this.w.globals,w=new kn(arguments.length>1&&void 0!==arguments[1]?arguments[1]:this.ctx),D=v.labels.length>0?v.labels.slice():v.xaxis.categories.slice();if(y.isRangeBar="rangeBar"===v.chart.type&&y.isBarHorizontal,y.hasXaxisGroups="category"===v.xaxis.type&&v.xaxis.group.groups.length>0,y.hasXaxisGroups&&(y.groups=v.xaxis.group.groups),y.hasSeriesGroups=null===(u=l[0])||void 0===u?void 0:u.group,y.hasSeriesGroups){var I=[],O=At(new Set(l.map(function(G){return G.group})));l.forEach(function(G,Y){var Q=O.indexOf(G.group);I[Q]||(I[Q]=[]),I[Q].push(G.name)}),y.seriesGroups=I}for(var P=function(){for(var G=0;G<D.length;G++)if("string"==typeof D[G]){if(!w.isValidDate(D[G]))throw new Error("You have provided invalid Date format. Please provide a valid JavaScript Date");f.twoDSeriesX.push(w.parseDate(D[G]))}else f.twoDSeriesX.push(D[G])},L=0;L<l.length;L++){if(this.twoDSeries=[],this.twoDSeriesX=[],this.threeDSeries=[],void 0===l[L].data)return void console.error("It is a possibility that you may have not included 'data' property in series.");if("rangeBar"!==v.chart.type&&"rangeArea"!==v.chart.type&&"rangeBar"!==l[L].type&&"rangeArea"!==l[L].type||(y.isRangeData=!0,y.isComboCharts?"rangeBar"!==l[L].type&&"rangeArea"!==l[L].type||this.handleRangeData(l,L):"rangeBar"!==v.chart.type&&"rangeArea"!==v.chart.type||this.handleRangeData(l,L)),this.isMultiFormat())this.isFormat2DArray()?this.handleFormat2DArray(l,L):this.isFormatXY()&&this.handleFormatXY(l,L),"candlestick"!==v.chart.type&&"candlestick"!==l[L].type&&"boxPlot"!==v.chart.type&&"boxPlot"!==l[L].type||this.handleCandleStickBoxData(l,L),y.series.push(this.twoDSeries),y.labels.push(this.twoDSeriesX),y.seriesX.push(this.twoDSeriesX),y.seriesGoals=this.seriesGoals,L!==this.activeSeriesIndex||this.fallbackToCategory||(y.isXNumeric=!0);else{"datetime"===v.xaxis.type?(y.isXNumeric=!0,P(),y.seriesX.push(this.twoDSeriesX)):"numeric"===v.xaxis.type&&(y.isXNumeric=!0,D.length>0&&(this.twoDSeriesX=D,y.seriesX.push(this.twoDSeriesX))),y.labels.push(this.twoDSeriesX);var U=l[L].data.map(function(G){return me.parseNumber(G)});y.series.push(U)}y.seriesZ.push(this.threeDSeries),y.seriesNames.push(void 0!==l[L].name?l[L].name:"series-"+parseInt(L+1,10)),y.seriesColors.push(void 0!==l[L].color?l[L].color:void 0)}return this.w}},{key:"parseDataNonAxisCharts",value:function(l){var u=this.w.globals,f=this.w.config;u.series=l.slice(),u.seriesNames=f.labels.slice();for(var m=0;m<u.series.length;m++)void 0===u.seriesNames[m]&&u.seriesNames.push("series-"+(m+1));return this.w}},{key:"handleExternalLabelsData",value:function(l){var u=this.w.config,f=this.w.globals;u.xaxis.categories.length>0?f.labels=u.xaxis.categories:u.labels.length>0?f.labels=u.labels.slice():this.fallbackToCategory?(f.labels=f.labels[0],f.seriesRange.length&&(f.seriesRange.map(function(m){m.forEach(function(v){f.labels.indexOf(v.x)<0&&v.x&&f.labels.push(v.x)})}),f.labels=Array.from(new Set(f.labels.map(JSON.stringify)),JSON.parse)),u.xaxis.convertedCatToNumeric&&(new ki(u).convertCatToNumericXaxis(u,this.ctx,f.seriesX[0]),this._generateExternalLabels(l))):this._generateExternalLabels(l)}},{key:"_generateExternalLabels",value:function(l){var u=this.w.globals,f=this.w.config,m=[];if(u.axisCharts){if(u.series.length>0)if(this.isFormatXY())for(var v=f.series.map(function(P,L){return P.data.filter(function(U,G,Y){return Y.findIndex(function(Q){return Q.x===U.x})===G})}),y=v.reduce(function(P,L,U,G){return G[P].length>L.length?P:U},0),w=0;w<v[y].length;w++)m.push(w+1);else for(var D=0;D<u.series[u.maxValsInArrayIndex].length;D++)m.push(D+1);u.seriesX=[];for(var I=0;I<l.length;I++)u.seriesX.push(m);this.w.globals.isBarHorizontal||(u.isXNumeric=!0)}if(0===m.length){m=u.axisCharts?[]:u.series.map(function(P,L){return L+1});for(var O=0;O<l.length;O++)u.seriesX.push(m)}u.labels=m,f.xaxis.convertedCatToNumeric&&(u.categoryLabels=m.map(function(P){return f.xaxis.labels.formatter(P)})),u.noLabelsProvided=!0}},{key:"parseData",value:function(l){var u=this.w,f=u.config,m=u.globals;if(this.excludeCollapsedSeriesInYAxis(),this.fallbackToCategory=!1,this.ctx.core.resetGlobals(),this.ctx.core.isMultipleY(),m.axisCharts?(this.parseDataAxisCharts(l),this.coreUtils.getLargestSeries()):this.parseDataNonAxisCharts(l),f.chart.stacked){var v=new Ot(this.ctx);m.series=v.setNullSeriesToZeroValues(m.series)}this.coreUtils.getSeriesTotals(),m.axisCharts&&(m.stackedSeriesTotals=this.coreUtils.getStackedSeriesTotals()),this.coreUtils.getPercentSeries(),m.dataFormatXNumeric||m.isXNumeric&&("numeric"!==f.xaxis.type||0!==f.labels.length||0!==f.xaxis.categories.length)||this.handleExternalLabelsData(l);for(var y=this.coreUtils.getCategoryLabels(m.labels),w=0;w<y.length;w++)if(Array.isArray(y[w])){m.isMultiLineX=!0;break}}},{key:"excludeCollapsedSeriesInYAxis",value:function(){var l=this,u=this.w;u.globals.ignoreYAxisIndexes=u.globals.collapsedSeries.map(function(f,m){if(l.w.globals.isMultipleYAxis&&!u.config.chart.stacked)return f.index})}}]),J}(),yi=function(){function J(l){xe(this,J),this.ctx=l,this.w=l.w}return ke(J,[{key:"getLabel",value:function(l,u,f,m){var Q,ie,v=arguments.length>4&&void 0!==arguments[4]?arguments[4]:[],y=arguments.length>5&&void 0!==arguments[5]?arguments[5]:"12px",w=!(arguments.length>6&&void 0!==arguments[6])||arguments[6],D=this.w,I=void 0===l[m]?"":l[m],O=I,P=D.globals.xLabelFormatter,L=D.config.xaxis.labels.formatter,U=!1,G=new vi(this.ctx);w&&(O=G.xLabelFormat(P,I,I,{i:m,dateFormatter:new kn(this.ctx).formatDate,w:D}),void 0!==L&&(O=L(I,l[m],{i:m,dateFormatter:new kn(this.ctx).formatDate,w:D}))),u.length>0?(Q=u[m].unit,ie=null,u.forEach(function($){"month"===$.unit?ie="year":"day"===$.unit?ie="month":"hour"===$.unit?ie="day":"minute"===$.unit&&(ie="hour")}),U=ie===Q,f=u[m].position,O=u[m].value):"datetime"===D.config.xaxis.type&&void 0===L&&(O=""),void 0===O&&(O=""),O=Array.isArray(O)?O:O.toString();var S,le=new _e(this.ctx);S=D.globals.rotateXLabels&&w?le.getTextRects(O,parseInt(y,10),null,"rotate(".concat(D.config.xaxis.labels.rotate," 0 0)"),!1):le.getTextRects(O,parseInt(y,10));var R=!D.config.xaxis.labels.showDuplicates&&this.ctx.timeScale;return!Array.isArray(O)&&(0===O.indexOf("NaN")||0===O.toLowerCase().indexOf("invalid")||O.toLowerCase().indexOf("infinity")>=0||v.indexOf(O)>=0&&R)&&(O=""),{x:f,text:O,textRect:S,isBold:U}}},{key:"checkLabelBasedOnTickamount",value:function(l,u,f){var m=this.w,v=m.config.xaxis.tickAmount;return"dataPoints"===v&&(v=Math.round(m.globals.gridWidth/120)),v>f||l%Math.round(f/(v+1))==0||(u.text=""),u}},{key:"checkForOverflowingLabels",value:function(l,u,f,m,v){var y=this.w;if(0===l&&y.globals.skipFirstTimelinelabel&&(u.text=""),l===f-1&&y.globals.skipLastTimelinelabel&&(u.text=""),y.config.xaxis.labels.hideOverlappingLabels&&m.length>0){var w=v[v.length-1];u.x<w.textRect.width/(y.globals.rotateXLabels?Math.abs(y.config.xaxis.labels.rotate)/12:1.01)+w.x&&(u.text="")}return u}},{key:"checkForReversedLabels",value:function(l,u){var f=this.w;return f.config.yaxis[l]&&f.config.yaxis[l].reversed&&u.reverse(),u}},{key:"isYAxisHidden",value:function(l){var u=this.w,f=new et(this.ctx);return!u.config.yaxis[l].show||!u.config.yaxis[l].showForNullSeries&&f.isSeriesNull(l)&&-1===u.globals.collapsedSeriesIndices.indexOf(l)}},{key:"getYAxisForeColor",value:function(l,u){var f=this.w;return Array.isArray(l)&&f.globals.yAxisScale[u]&&this.ctx.theme.pushExtraColors(l,f.globals.yAxisScale[u].result.length,!1),l}},{key:"drawYAxisTicks",value:function(l,u,f,m,v,y,w){var D=this.w,I=new _e(this.ctx),O=D.globals.translateY;if(m.show&&u>0){!0===D.config.yaxis[v].opposite&&(l+=m.width);for(var P=u;P>=0;P--){var L=O+u/10+D.config.yaxis[v].labels.offsetY-1;D.globals.isBarHorizontal&&(L=y*P),"heatmap"===D.config.chart.type&&(L+=y/2);var U=I.drawLine(l+f.offsetX-m.width+m.offsetX,L+m.offsetY,l+f.offsetX+m.offsetX,L+m.offsetY,m.color);w.add(U),O+=y}}}}]),J}(),pn=function(){function J(l){xe(this,J),this.ctx=l,this.w=l.w}return ke(J,[{key:"scaleSvgNode",value:function(l,u){var f=parseFloat(l.getAttributeNS(null,"width")),m=parseFloat(l.getAttributeNS(null,"height"));l.setAttributeNS(null,"width",f*u),l.setAttributeNS(null,"height",m*u),l.setAttributeNS(null,"viewBox","0 0 "+f+" "+m)}},{key:"fixSvgStringForIe11",value:function(l){if(!me.isIE11())return l.replace(/&nbsp;/g,"&#160;");var u=0,f=l.replace(/xmlns="http:\/\/www.w3.org\/2000\/svg"/g,function(m){return 2==++u?'xmlns:xlink="http://www.w3.org/1999/xlink" xmlns:svgjs="http://svgjs.dev"':m});return(f=f.replace(/xmlns:NS\d+=""/g,"")).replace(/NS\d+:(\w+:\w+=")/g,"$1")}},{key:"getSvgString",value:function(l){null==l&&(l=1);var u=this.w.globals.dom.Paper.svg();if(1!==l){var f=this.w.globals.dom.Paper.node.cloneNode(!0);this.scaleSvgNode(f,l),u=(new XMLSerializer).serializeToString(f)}return this.fixSvgStringForIe11(u)}},{key:"cleanup",value:function(){var l=this.w,u=l.globals.dom.baseEl.getElementsByClassName("apexcharts-xcrosshairs"),f=l.globals.dom.baseEl.getElementsByClassName("apexcharts-ycrosshairs"),m=l.globals.dom.baseEl.querySelectorAll(".apexcharts-zoom-rect, .apexcharts-selection-rect");Array.prototype.forEach.call(m,function(v){v.setAttribute("width",0)}),u&&u[0]&&(u[0].setAttribute("x",-500),u[0].setAttribute("x1",-500),u[0].setAttribute("x2",-500)),f&&f[0]&&(f[0].setAttribute("y",-100),f[0].setAttribute("y1",-100),f[0].setAttribute("y2",-100))}},{key:"svgUrl",value:function(){this.cleanup();var l=this.getSvgString(),u=new Blob([l],{type:"image/svg+xml;charset=utf-8"});return URL.createObjectURL(u)}},{key:"dataURI",value:function(l){var u=this;return new Promise(function(f){var m=u.w,v=l?l.scale||l.width/m.globals.svgWidth:1;u.cleanup();var y=document.createElement("canvas");y.width=m.globals.svgWidth*v,y.height=parseInt(m.globals.dom.elWrap.style.height,10)*v;var w="transparent"===m.config.chart.background?"#fff":m.config.chart.background,D=y.getContext("2d");D.fillStyle=w,D.fillRect(0,0,y.width*v,y.height*v);var I=u.getSvgString(v);if(window.canvg&&me.isIE11()){var O=window.canvg.Canvg.fromString(D,I,{ignoreClear:!0,ignoreDimensions:!0});O.start();var P=y.msToBlob();O.stop(),f({blob:P})}else{var L="data:image/svg+xml,"+encodeURIComponent(I),U=new Image;U.crossOrigin="anonymous",U.onload=function(){if(D.drawImage(U,0,0),y.msToBlob){var G=y.msToBlob();f({blob:G})}else{var Y=y.toDataURL("image/png");f({imgURI:Y})}},U.src=L}})}},{key:"exportToSVG",value:function(){this.triggerDownload(this.svgUrl(),this.w.config.chart.toolbar.export.svg.filename,".svg")}},{key:"exportToPng",value:function(){var l=this;this.dataURI().then(function(u){var f=u.imgURI,m=u.blob;m?navigator.msSaveOrOpenBlob(m,l.w.globals.chartID+".png"):l.triggerDownload(f,l.w.config.chart.toolbar.export.png.filename,".png")})}},{key:"exportToCSV",value:function(l){var u=this,f=l.series,m=l.fileName,v=l.columnDelimiter,y=void 0===v?",":v,w=l.lineDelimiter,D=void 0===w?"\n":w,I=this.w;f||(f=I.config.series);var O=[],P=[],L="",U=I.globals.series.map(function(S,R){return-1===I.globals.collapsedSeriesIndices.indexOf(R)?S:[]}),G=Math.max.apply(Math,At(f.map(function(S){return S.data?S.data.length:0}))),Y=new Rt(this.ctx),Q=new yi(this.ctx),ie=function(S){var R="";if(I.globals.axisCharts){if("category"===I.config.xaxis.type||I.config.xaxis.convertedCatToNumeric)if(I.globals.isBarHorizontal){var $=I.globals.yLabelFormatters[0],te=new Ot(u.ctx).getActiveConfigSeriesIndex();R=$(I.globals.labels[S],{seriesIndex:te,dataPointIndex:S,w:I})}else R=Q.getLabel(I.globals.labels,I.globals.timescaleLabels,0,S).text;"datetime"===I.config.xaxis.type&&(I.config.xaxis.categories.length?R=I.config.xaxis.categories[S]:I.config.labels.length&&(R=I.config.labels[S]))}else R=I.config.labels[S];return Array.isArray(R)&&(R=R.join(" ")),me.isNumber(R)?R:R.split(y).join("")};O.push(I.config.chart.toolbar.export.csv.headerCategory),"boxPlot"===I.config.chart.type?(O.push("minimum"),O.push("q1"),O.push("median"),O.push("q3"),O.push("maximum")):"candlestick"===I.config.chart.type?(O.push("open"),O.push("high"),O.push("low"),O.push("close")):"rangeBar"===I.config.chart.type?(O.push("minimum"),O.push("maximum")):f.map(function(S,R){var $=(S.name?S.name:"series-".concat(R))+"";I.globals.axisCharts&&O.push($.split(y).join("")?$.split(y).join(""):"series-".concat(R))}),I.globals.axisCharts||(O.push(I.config.chart.toolbar.export.csv.headerValue),P.push(O.join(y))),f.map(function(S,R){I.globals.axisCharts?function(S,R){if(O.length&&0===R&&P.push(O.join(y)),S.data){S.data=S.data.length&&S.data||At(Array(G)).map(function(){return""});for(var $=0;$<S.data.length;$++){O=[];var te=ie($);if(te||(Y.isFormatXY()?te=f[R].data[$].x:Y.isFormat2DArray()&&(te=f[R].data[$]?f[R].data[$][0]:"")),0===R){O.push("datetime"===I.config.xaxis.type&&String(te).length>=10?I.config.chart.toolbar.export.csv.dateFormatter(te):me.isNumber(te)?te:te.split(y).join(""));for(var de=0;de<I.globals.series.length;de++){var he;Y.isFormatXY()?O.push(null===(he=f[de].data[$])||void 0===he?void 0:he.y):O.push(U[de][$])}}("candlestick"===I.config.chart.type||S.type&&"candlestick"===S.type)&&(O.pop(),O.push(I.globals.seriesCandleO[R][$]),O.push(I.globals.seriesCandleH[R][$]),O.push(I.globals.seriesCandleL[R][$]),O.push(I.globals.seriesCandleC[R][$])),("boxPlot"===I.config.chart.type||S.type&&"boxPlot"===S.type)&&(O.pop(),O.push(I.globals.seriesCandleO[R][$]),O.push(I.globals.seriesCandleH[R][$]),O.push(I.globals.seriesCandleM[R][$]),O.push(I.globals.seriesCandleL[R][$]),O.push(I.globals.seriesCandleC[R][$])),"rangeBar"===I.config.chart.type&&(O.pop(),O.push(I.globals.seriesRangeStart[R][$]),O.push(I.globals.seriesRangeEnd[R][$])),O.length&&P.push(O.join(y))}}}(S,R):((O=[]).push(I.globals.labels[R].split(y).join("")),O.push(U[R]),P.push(O.join(y)))}),L+=P.join(D),this.triggerDownload("data:text/csv; charset=utf-8,"+encodeURIComponent("\ufeff"+L),m||I.config.chart.toolbar.export.csv.filename,".csv")}},{key:"triggerDownload",value:function(l,u,f){var m=document.createElement("a");m.href=l,m.download=(u||this.w.globals.chartID)+f,document.body.appendChild(m),m.click(),document.body.removeChild(m)}}]),J}(),Yn=function(){function J(l,u){xe(this,J),this.ctx=l,this.elgrid=u,this.w=l.w;var f=this.w;this.axesUtils=new yi(l),this.xaxisLabels=f.globals.labels.slice(),f.globals.timescaleLabels.length>0&&!f.globals.isBarHorizontal&&(this.xaxisLabels=f.globals.timescaleLabels.slice()),f.config.xaxis.overwriteCategories&&(this.xaxisLabels=f.config.xaxis.overwriteCategories),this.drawnLabels=[],this.drawnLabelsRects=[],this.offY="top"===f.config.xaxis.position?0:f.globals.gridHeight+1,this.offY=this.offY+f.config.xaxis.axisBorder.offsetY,this.isCategoryBarHorizontal="bar"===f.config.chart.type&&f.config.plotOptions.bar.horizontal,this.xaxisFontSize=f.config.xaxis.labels.style.fontSize,this.xaxisFontFamily=f.config.xaxis.labels.style.fontFamily,this.xaxisForeColors=f.config.xaxis.labels.style.colors,this.xaxisBorderWidth=f.config.xaxis.axisBorder.width,this.isCategoryBarHorizontal&&(this.xaxisBorderWidth=f.config.yaxis[0].axisBorder.width.toString()),this.xaxisBorderWidth=this.xaxisBorderWidth.indexOf("%")>-1?f.globals.gridWidth*parseInt(this.xaxisBorderWidth,10)/100:parseInt(this.xaxisBorderWidth,10),this.xaxisBorderHeight=f.config.xaxis.axisBorder.height,this.yaxis=f.config.yaxis[0]}return ke(J,[{key:"drawXaxis",value:function(){var l=this.w,u=new _e(this.ctx),f=u.group({class:"apexcharts-xaxis",transform:"translate(".concat(l.config.xaxis.offsetX,", ").concat(l.config.xaxis.offsetY,")")}),m=u.group({class:"apexcharts-xaxis-texts-g",transform:"translate(".concat(l.globals.translateXAxisX,", ").concat(l.globals.translateXAxisY,")")});f.add(m);for(var v=[],y=0;y<this.xaxisLabels.length;y++)v.push(this.xaxisLabels[y]);if(this.drawXAxisLabelAndGroup(!0,u,m,v,l.globals.isXNumeric,function(G,Y){return Y}),l.globals.hasXaxisGroups){var w=l.globals.groups;v=[];for(var D=0;D<w.length;D++)v.push(w[D].title);var I={};l.config.xaxis.group.style&&(I.xaxisFontSize=l.config.xaxis.group.style.fontSize,I.xaxisFontFamily=l.config.xaxis.group.style.fontFamily,I.xaxisForeColors=l.config.xaxis.group.style.colors,I.fontWeight=l.config.xaxis.group.style.fontWeight,I.cssClass=l.config.xaxis.group.style.cssClass),this.drawXAxisLabelAndGroup(!1,u,m,v,!1,function(G,Y){return w[G].cols*Y},I)}if(void 0!==l.config.xaxis.title.text){var O=u.group({class:"apexcharts-xaxis-title"}),P=u.drawText({x:l.globals.gridWidth/2+l.config.xaxis.title.offsetX,y:this.offY+parseFloat(this.xaxisFontSize)+("bottom"===l.config.xaxis.position?l.globals.xAxisLabelsHeight:-l.globals.xAxisLabelsHeight-10)+l.config.xaxis.title.offsetY,text:l.config.xaxis.title.text,textAnchor:"middle",fontSize:l.config.xaxis.title.style.fontSize,fontFamily:l.config.xaxis.title.style.fontFamily,fontWeight:l.config.xaxis.title.style.fontWeight,foreColor:l.config.xaxis.title.style.color,cssClass:"apexcharts-xaxis-title-text "+l.config.xaxis.title.style.cssClass});O.add(P),f.add(O)}if(l.config.xaxis.axisBorder.show){var L=l.globals.barPadForNumericAxis,U=u.drawLine(l.globals.padHorizontal+l.config.xaxis.axisBorder.offsetX-L,this.offY,this.xaxisBorderWidth+L,this.offY,l.config.xaxis.axisBorder.color,0,this.xaxisBorderHeight);this.elgrid&&this.elgrid.elGridBorders&&l.config.grid.show?this.elgrid.elGridBorders.add(U):f.add(U)}return f}},{key:"drawXAxisLabelAndGroup",value:function(l,u,f,m,v,y){var w,D=this,I=arguments.length>6&&void 0!==arguments[6]?arguments[6]:{},O=[],P=[],L=this.w,U=I.xaxisFontSize||this.xaxisFontSize,G=I.xaxisFontFamily||this.xaxisFontFamily,Y=I.xaxisForeColors||this.xaxisForeColors,Q=I.fontWeight||L.config.xaxis.labels.style.fontWeight,ie=I.cssClass||L.config.xaxis.labels.style.cssClass,le=L.globals.padHorizontal,S=m.length,R="category"===L.config.xaxis.type?L.globals.dataPoints:S;0===R&&S>R&&(R=S),v?(w=L.globals.gridWidth/Math.min(R>1?R-1:R,S-1),le=le+y(0,w)/2+L.config.xaxis.labels.offsetX):le=le+y(0,w=L.globals.gridWidth/R)+L.config.xaxis.labels.offsetX;for(var te=function(he){var Ie=le-y(he,w)/2+L.config.xaxis.labels.offsetX;0===he&&1===S&&w/2===le&&1===R&&(Ie=L.globals.gridWidth/2);var De=D.axesUtils.getLabel(m,L.globals.timescaleLabels,Ie,he,O,U,l),$e=28;if(L.globals.rotateXLabels&&l&&($e=22),L.config.xaxis.title.text&&"top"===L.config.xaxis.position&&($e+=parseFloat(L.config.xaxis.title.style.fontSize)+2),l||($e=$e+parseFloat(U)+(L.globals.xAxisLabelsHeight-L.globals.xAxisGroupLabelsHeight)+(L.globals.rotateXLabels?10:0)),De=void 0!==L.config.xaxis.tickAmount&&"dataPoints"!==L.config.xaxis.tickAmount&&"datetime"!==L.config.xaxis.type?D.axesUtils.checkLabelBasedOnTickamount(he,De,S):D.axesUtils.checkForOverflowingLabels(he,De,S,O,P),L.config.xaxis.labels.show){var yt=u.drawText({x:De.x,y:D.offY+L.config.xaxis.labels.offsetY+$e-("top"===L.config.xaxis.position?L.globals.xAxisHeight+L.config.xaxis.axisTicks.height-2:0),text:De.text,textAnchor:"middle",fontWeight:De.isBold?600:Q,fontSize:U,fontFamily:G,foreColor:Array.isArray(Y)?l&&L.config.xaxis.convertedCatToNumeric?Y[L.globals.minX+he-1]:Y[he]:Y,isPlainText:!1,cssClass:(l?"apexcharts-xaxis-label ":"apexcharts-xaxis-group-label ")+ie});if(f.add(yt),yt.on("click",function(Lt){if("function"==typeof L.config.chart.events.xAxisLabelClick){var Pt=Object.assign({},L,{labelIndex:he});L.config.chart.events.xAxisLabelClick(Lt,D.ctx,Pt)}}),l){var ot=document.createElementNS(L.globals.SVGNS,"title");ot.textContent=Array.isArray(De.text)?De.text.join(" "):De.text,yt.node.appendChild(ot),""!==De.text&&(O.push(De.text),P.push(De))}}he<S-1&&(le+=y(he+1,w))},de=0;de<=S-1;de++)te(de)}},{key:"drawXaxisInversed",value:function(l){var u,f,m=this,v=this.w,y=new _e(this.ctx),w=v.config.yaxis[0].opposite?v.globals.translateYAxisX[l]:0,D=y.group({class:"apexcharts-yaxis apexcharts-xaxis-inversed",rel:l}),I=y.group({class:"apexcharts-yaxis-texts-g apexcharts-xaxis-inversed-texts-g",transform:"translate("+w+", 0)"});D.add(I);var O=[];if(v.config.yaxis[l].show)for(var P=0;P<this.xaxisLabels.length;P++)O.push(this.xaxisLabels[P]);f=-(u=v.globals.gridHeight/O.length)/2.2;var L=v.globals.yLabelFormatters[0],U=v.config.yaxis[0].labels;if(U.show)for(var G=function($){var te=void 0===O[$]?"":O[$];te=L(te,{seriesIndex:l,dataPointIndex:$,w:v});var de=m.axesUtils.getYAxisForeColor(U.style.colors,l),he=0;Array.isArray(te)&&(he=te.length/2*parseInt(U.style.fontSize,10));var Ie=U.offsetX-15,De="end";m.yaxis.opposite&&(De="start"),"left"===v.config.yaxis[0].labels.align?(Ie=U.offsetX,De="start"):"center"===v.config.yaxis[0].labels.align?(Ie=U.offsetX,De="middle"):"right"===v.config.yaxis[0].labels.align&&(De="end");var $e=y.drawText({x:Ie,y:f+u+U.offsetY-he,text:te,textAnchor:De,foreColor:Array.isArray(de)?de[$]:de,fontSize:U.style.fontSize,fontFamily:U.style.fontFamily,fontWeight:U.style.fontWeight,isPlainText:!1,cssClass:"apexcharts-yaxis-label "+U.style.cssClass,maxWidth:U.maxWidth});I.add($e),$e.on("click",function(Lt){if("function"==typeof v.config.chart.events.xAxisLabelClick){var Pt=Object.assign({},v,{labelIndex:$});v.config.chart.events.xAxisLabelClick(Lt,m.ctx,Pt)}});var yt=document.createElementNS(v.globals.SVGNS,"title");if(yt.textContent=Array.isArray(te)?te.join(" "):te,$e.node.appendChild(yt),0!==v.config.yaxis[l].labels.rotate){var ot=y.rotateAroundCenter($e.node);$e.node.setAttribute("transform","rotate(".concat(v.config.yaxis[l].labels.rotate," 0 ").concat(ot.y,")"))}f+=u},Y=0;Y<=O.length-1;Y++)G(Y);if(void 0!==v.config.yaxis[0].title.text){var Q=y.group({class:"apexcharts-yaxis-title apexcharts-xaxis-title-inversed",transform:"translate("+w+", 0)"}),ie=y.drawText({x:v.config.yaxis[0].title.offsetX,y:v.globals.gridHeight/2+v.config.yaxis[0].title.offsetY,text:v.config.yaxis[0].title.text,textAnchor:"middle",foreColor:v.config.yaxis[0].title.style.color,fontSize:v.config.yaxis[0].title.style.fontSize,fontWeight:v.config.yaxis[0].title.style.fontWeight,fontFamily:v.config.yaxis[0].title.style.fontFamily,cssClass:"apexcharts-yaxis-title-text "+v.config.yaxis[0].title.style.cssClass});Q.add(ie),D.add(Q)}var le=0;this.isCategoryBarHorizontal&&v.config.yaxis[0].opposite&&(le=v.globals.gridWidth);var S=v.config.xaxis.axisBorder;if(S.show){var R=y.drawLine(v.globals.padHorizontal+S.offsetX+le,1+S.offsetY,v.globals.padHorizontal+S.offsetX+le,v.globals.gridHeight+S.offsetY,S.color,0);this.elgrid&&this.elgrid.elGridBorders&&v.config.grid.show?this.elgrid.elGridBorders.add(R):D.add(R)}return v.config.yaxis[0].axisTicks.show&&this.axesUtils.drawYAxisTicks(le,O.length,v.config.yaxis[0].axisBorder,v.config.yaxis[0].axisTicks,0,u,D),D}},{key:"drawXaxisTicks",value:function(l,u,f){var m=this.w,v=l;if(!(l<0||l-2>m.globals.gridWidth)){var y=this.offY+m.config.xaxis.axisTicks.offsetY;if(u=u+y+m.config.xaxis.axisTicks.height,"top"===m.config.xaxis.position&&(u=y-m.config.xaxis.axisTicks.height),m.config.xaxis.axisTicks.show){var w=new _e(this.ctx).drawLine(l+m.config.xaxis.axisTicks.offsetX,y+m.config.xaxis.offsetY,v+m.config.xaxis.axisTicks.offsetX,u+m.config.xaxis.offsetY,m.config.xaxis.axisTicks.color);f.add(w),w.node.classList.add("apexcharts-xaxis-tick")}}}},{key:"getXAxisTicksPositions",value:function(){var l=this.w,u=[],f=this.xaxisLabels.length,m=l.globals.padHorizontal;if(l.globals.timescaleLabels.length>0)for(var v=0;v<f;v++)u.push(m=this.xaxisLabels[v].position);else for(var y=f,w=0;w<y;w++){var D=y;l.globals.isXNumeric&&"bar"!==l.config.chart.type&&(D-=1),u.push(m+=l.globals.gridWidth/D)}return u}},{key:"xAxisLabelCorrections",value:function(){var l=this.w,u=new _e(this.ctx),f=l.globals.dom.baseEl.querySelector(".apexcharts-xaxis-texts-g"),m=l.globals.dom.baseEl.querySelectorAll(".apexcharts-xaxis-texts-g text:not(.apexcharts-xaxis-group-label)"),v=l.globals.dom.baseEl.querySelectorAll(".apexcharts-yaxis-inversed text"),y=l.globals.dom.baseEl.querySelectorAll(".apexcharts-xaxis-inversed-texts-g text tspan");if(l.globals.rotateXLabels||l.config.xaxis.labels.rotateAlways)for(var w=0;w<m.length;w++){var D=u.rotateAroundCenter(m[w]);D.y=D.y-1,D.x=D.x+1,m[w].setAttribute("transform","rotate(".concat(l.config.xaxis.labels.rotate," ").concat(D.x," ").concat(D.y,")")),m[w].setAttribute("text-anchor","end"),f.setAttribute("transform","translate(0, ".concat(-10,")")),l.config.xaxis.labels.trim&&Array.prototype.forEach.call(m[w].childNodes,function(U){u.placeTextWithEllipsis(U,U.textContent,l.globals.xAxisLabelsHeight-("bottom"===l.config.legend.position?20:10))})}else!function(){for(var U=l.globals.gridWidth/(l.globals.labels.length+1),G=0;G<m.length;G++)l.config.xaxis.labels.trim&&"datetime"!==l.config.xaxis.type&&Array.prototype.forEach.call(m[G].childNodes,function(Q){u.placeTextWithEllipsis(Q,Q.textContent,U)})}();if(v.length>0){var O=v[v.length-1].getBBox(),P=v[0].getBBox();O.x<-20&&v[v.length-1].parentNode.removeChild(v[v.length-1]),P.x+P.width>l.globals.gridWidth&&!l.globals.isBarHorizontal&&v[0].parentNode.removeChild(v[0]);for(var L=0;L<y.length;L++)u.placeTextWithEllipsis(y[L],y[L].textContent,l.config.yaxis[0].labels.maxWidth-(l.config.yaxis[0].title.text?2*parseFloat(l.config.yaxis[0].title.style.fontSize):0)-15)}}}]),J}(),dn=function(){function J(l){xe(this,J),this.ctx=l,this.w=l.w;var u=this.w;this.xaxisLabels=u.globals.labels.slice(),this.axesUtils=new yi(l),this.isRangeBar=u.globals.seriesRange.length&&u.globals.isBarHorizontal,u.globals.timescaleLabels.length>0&&(this.xaxisLabels=u.globals.timescaleLabels.slice())}return ke(J,[{key:"drawGridArea",value:function(){var l=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null,u=this.w,f=new _e(this.ctx);null===l&&(l=f.group({class:"apexcharts-grid"}));var m=f.drawLine(u.globals.padHorizontal,1,u.globals.padHorizontal,u.globals.gridHeight,"transparent"),v=f.drawLine(u.globals.padHorizontal,u.globals.gridHeight,u.globals.gridWidth,u.globals.gridHeight,"transparent");return l.add(v),l.add(m),l}},{key:"drawGrid",value:function(){var l=null;return this.w.globals.axisCharts&&(l=this.renderGrid(),this.drawGridArea(l.el)),l}},{key:"createGridMask",value:function(){var l=this.w,u=l.globals,f=new _e(this.ctx),m=Array.isArray(l.config.stroke.width)?0:l.config.stroke.width;if(Array.isArray(l.config.stroke.width)){var v=0;l.config.stroke.width.forEach(function(P){v=Math.max(v,P)}),m=v}u.dom.elGridRectMask=document.createElementNS(u.SVGNS,"clipPath"),u.dom.elGridRectMask.setAttribute("id","gridRectMask".concat(u.cuid)),u.dom.elGridRectMarkerMask=document.createElementNS(u.SVGNS,"clipPath"),u.dom.elGridRectMarkerMask.setAttribute("id","gridRectMarkerMask".concat(u.cuid)),u.dom.elForecastMask=document.createElementNS(u.SVGNS,"clipPath"),u.dom.elForecastMask.setAttribute("id","forecastMask".concat(u.cuid)),u.dom.elNonForecastMask=document.createElementNS(u.SVGNS,"clipPath"),u.dom.elNonForecastMask.setAttribute("id","nonForecastMask".concat(u.cuid));var y=l.config.chart.type,w=0,D=0;("bar"===y||"rangeBar"===y||"candlestick"===y||"boxPlot"===y||l.globals.comboBarCount>0)&&l.globals.isXNumeric&&!l.globals.isBarHorizontal&&(D=l.config.grid.padding.right,u.barPadForNumericAxis>(w=l.config.grid.padding.left)&&(w=u.barPadForNumericAxis,D=u.barPadForNumericAxis)),u.dom.elGridRect=f.drawRect(-m-w-2,2*-m-2,u.gridWidth+m+D+w+4,u.gridHeight+4*m+4,0,"#fff");var I=l.globals.markers.largestSize+1;u.dom.elGridRectMarker=f.drawRect(2*-I,2*-I,u.gridWidth+4*I,u.gridHeight+4*I,0,"#fff"),u.dom.elGridRectMask.appendChild(u.dom.elGridRect.node),u.dom.elGridRectMarkerMask.appendChild(u.dom.elGridRectMarker.node);var O=u.dom.baseEl.querySelector("defs");O.appendChild(u.dom.elGridRectMask),O.appendChild(u.dom.elForecastMask),O.appendChild(u.dom.elNonForecastMask),O.appendChild(u.dom.elGridRectMarkerMask)}},{key:"_drawGridLines",value:function(l){var u=l.i,f=l.x1,w=l.xCount,I=this.w;if(!(0===u&&I.globals.skipFirstTimelinelabel||u===w-1&&I.globals.skipLastTimelinelabel&&!I.config.xaxis.labels.formatter||"radar"===I.config.chart.type)){I.config.grid.xaxis.lines.show&&this._drawGridLine({i:u,x1:f,y1:l.y1,x2:l.x2,y2:l.y2,xCount:w,parent:l.parent});var O=0;if(I.globals.hasXaxisGroups&&"between"===I.config.xaxis.tickPlacement){var P=I.globals.groups;if(P){for(var L=0,U=0;L<u&&U<P.length;U++)L+=P[U].cols;L===u&&(O=.6*I.globals.xAxisLabelsHeight)}}new Yn(this.ctx).drawXaxisTicks(f,O,I.globals.dom.elGraphical)}}},{key:"_drawGridLine",value:function(l){var u=l.i,f=l.x1,m=l.y1,v=l.x2,y=l.y2,w=l.xCount,D=l.parent,I=this.w,O=!1,P=D.node.classList.contains("apexcharts-gridlines-horizontal"),L=I.config.grid.strokeDashArray,U=I.globals.barPadForNumericAxis;(0===m&&0===y||0===f&&0===v)&&(O=!0),m===I.globals.gridHeight&&y===I.globals.gridHeight&&(O=!0),!I.globals.isBarHorizontal||0!==u&&u!==w-1||(O=!0);var G=new _e(this).drawLine(f-(P?U:0),m,v+(P?U:0),y,I.config.grid.borderColor,L);G.node.classList.add("apexcharts-gridline"),O&&I.config.grid.show?this.elGridBorders.add(G):D.add(G)}},{key:"_drawGridBandRect",value:function(l){var u=l.c,f=l.x1,m=l.y1,v=l.x2,y=l.y2,w=l.type,D=this.w,I=new _e(this.ctx),O=D.globals.barPadForNumericAxis;if("column"!==w||"datetime"!==D.config.xaxis.type){var L=I.drawRect(f-("row"===w?O:0),m,v+("row"===w?2*O:0),y,0,D.config.grid[w].colors[u],D.config.grid[w].opacity);this.elg.add(L),L.attr("clip-path","url(#gridRectMask".concat(D.globals.cuid,")")),L.node.classList.add("apexcharts-grid-".concat(w))}}},{key:"_drawXYLines",value:function(l){var u=this,f=l.xCount,m=l.tickAmount,v=this.w;if(v.config.grid.xaxis.lines.show||v.config.xaxis.axisTicks.show){var y,w=v.globals.padHorizontal,D=v.globals.gridHeight;v.globals.timescaleLabels.length?function(G){for(var Y=G.xC,ie=G.y1,S=G.y2,R=0;R<Y;R++)u._drawGridLines({i:R,x1:u.xaxisLabels[R].position,y1:ie,x2:u.xaxisLabels[R].position,y2:S,xCount:f,parent:u.elgridLinesV})}({xC:f,x1:w,y1:0,x2:y,y2:D}):(v.globals.isXNumeric&&(f=v.globals.xAxisScale.result.length),function(G){for(var Y=G.xC,Q=G.x1,ie=G.y1,le=G.x2,S=G.y2,R=0;R<Y+(v.globals.isXNumeric?0:1);R++)0===R&&1===Y&&1===v.globals.dataPoints&&(le=Q=v.globals.gridWidth/2),u._drawGridLines({i:R,x1:Q,y1:ie,x2:le,y2:S,xCount:f,parent:u.elgridLinesV}),le=Q+=v.globals.gridWidth/(v.globals.isXNumeric?Y-1:Y)}({xC:f,x1:w,y1:0,x2:y,y2:D}))}if(v.config.grid.yaxis.lines.show){var I=0,O=0,P=v.globals.gridWidth,L=m+1;this.isRangeBar&&(L=v.globals.labels.length);for(var U=0;U<L+(this.isRangeBar?1:0);U++)this._drawGridLine({i:U,xCount:L+(this.isRangeBar?1:0),x1:0,y1:I,x2:P,y2:O,parent:this.elgridLinesH}),O=I+=v.globals.gridHeight/(this.isRangeBar?L:m)}}},{key:"_drawInvertedXYLines",value:function(l){var u=l.xCount,f=this.w;if(f.config.grid.xaxis.lines.show||f.config.xaxis.axisTicks.show)for(var m,v=f.globals.padHorizontal,y=f.globals.gridHeight,w=0;w<u+1;w++)f.config.grid.xaxis.lines.show&&this._drawGridLine({i:w,xCount:u+1,x1:v,y1:0,x2:m,y2:y,parent:this.elgridLinesV}),new Yn(this.ctx).drawXaxisTicks(v,0,f.globals.dom.elGraphical),m=v=v+f.globals.gridWidth/u+.3;if(f.config.grid.yaxis.lines.show)for(var D=0,I=0,O=f.globals.gridWidth,P=0;P<f.globals.dataPoints+1;P++)this._drawGridLine({i:P,xCount:f.globals.dataPoints+1,x1:0,y1:D,x2:O,y2:I,parent:this.elgridLinesH}),I=D+=f.globals.gridHeight/f.globals.dataPoints}},{key:"renderGrid",value:function(){var l=this.w,u=new _e(this.ctx);this.elg=u.group({class:"apexcharts-grid"}),this.elgridLinesH=u.group({class:"apexcharts-gridlines-horizontal"}),this.elgridLinesV=u.group({class:"apexcharts-gridlines-vertical"}),this.elGridBorders=u.group({class:"apexcharts-grid-borders"}),this.elg.add(this.elgridLinesH),this.elg.add(this.elgridLinesV),l.config.grid.show||(this.elgridLinesV.hide(),this.elgridLinesH.hide(),this.elGridBorders.hide());for(var f,m=l.globals.yAxisScale.length?l.globals.yAxisScale[0].result.length-1:5,v=0;v<l.globals.series.length&&(void 0!==l.globals.yAxisScale[v]&&(m=l.globals.yAxisScale[v].result.length-1),!(m>2));v++);return!l.globals.isBarHorizontal||this.isRangeBar?(f=this.xaxisLabels.length,this.isRangeBar&&(f--,m=l.globals.labels.length,l.config.xaxis.tickAmount&&l.config.xaxis.labels.formatter&&(f=l.config.xaxis.tickAmount)),this._drawXYLines({xCount:f,tickAmount:m})):this._drawInvertedXYLines({xCount:f=m,tickAmount:m=l.globals.xTickAmount}),this.drawGridBands(f,m),{el:this.elg,elGridBorders:this.elGridBorders,xAxisTickWidth:l.globals.gridWidth/f}}},{key:"drawGridBands",value:function(l,u){var f=this.w;if(void 0!==f.config.grid.row.colors&&f.config.grid.row.colors.length>0)for(var m=0,v=f.globals.gridHeight/u,y=f.globals.gridWidth,w=0,D=0;w<u;w++,D++)D>=f.config.grid.row.colors.length&&(D=0),this._drawGridBandRect({c:D,x1:0,y1:m,x2:y,y2:v,type:"row"}),m+=f.globals.gridHeight/u;if(void 0!==f.config.grid.column.colors&&f.config.grid.column.colors.length>0)for(var I=f.globals.isBarHorizontal||"on"!==f.config.xaxis.tickPlacement||"category"!==f.config.xaxis.type&&!f.config.xaxis.convertedCatToNumeric?l:l-1,O=f.globals.padHorizontal,P=f.globals.padHorizontal+f.globals.gridWidth/I,L=f.globals.gridHeight,U=0,G=0;U<l;U++,G++)G>=f.config.grid.column.colors.length&&(G=0),this._drawGridBandRect({c:G,x1:O,y1:0,x2:P,y2:L,type:"column"}),O+=f.globals.gridWidth/I}}]),J}(),hi=function(){function J(l){xe(this,J),this.ctx=l,this.w=l.w}return ke(J,[{key:"niceScale",value:function(l,u){var f=arguments.length>2&&void 0!==arguments[2]?arguments[2]:10,m=arguments.length>3&&void 0!==arguments[3]?arguments[3]:0,v=arguments.length>4?arguments[4]:void 0,y=this.w,w=Math.abs(u-l);if("dataPoints"===(f=this._adjustTicksForSmallRange(f,m,w))&&(f=y.globals.dataPoints-1),l===Number.MIN_VALUE&&0===u||!me.isNumber(l)&&!me.isNumber(u)||l===Number.MIN_VALUE&&u===-Number.MAX_VALUE)return this.linearScale(l=0,u=f,f);l>u?(console.warn("axis.min cannot be greater than axis.max"),u=l+.1):l===u&&(l=0===l?0:l-.5,u=0===u?2:u+.5);var D=[];w<1&&v&&("candlestick"===y.config.chart.type||"candlestick"===y.config.series[m].type||"boxPlot"===y.config.chart.type||"boxPlot"===y.config.series[m].type||y.globals.isRangeData)&&(u*=1.01);var I=f+1;I<2?I=2:I>2&&(I-=2);var O=w/I,P=Math.floor(me.log10(O)),L=Math.pow(10,P),U=Math.round(O/L);U<1&&(U=1);var G=U*L,Y=G*Math.floor(l/G),Q=G*Math.ceil(u/G),ie=Y;if(v&&w>2){for(;D.push(me.stripNumber(ie,7)),!((ie+=G)>Q););return{result:D,niceMin:D[0],niceMax:D[D.length-1]}}var le=l;(D=[]).push(me.stripNumber(le,7));for(var S=Math.abs(u-l)/f,R=0;R<=f;R++)D.push(le+=S);return D[D.length-2]>=u&&D.pop(),{result:D,niceMin:D[0],niceMax:D[D.length-1]}}},{key:"linearScale",value:function(l,u){var f=arguments.length>2&&void 0!==arguments[2]?arguments[2]:10,m=arguments.length>3?arguments[3]:void 0,v=Math.abs(u-l);"dataPoints"===(f=this._adjustTicksForSmallRange(f,m,v))&&(f=this.w.globals.dataPoints-1);var y=v/f;f===Number.MAX_VALUE&&(f=10,y=1);for(var w=[],D=l;f>=0;)w.push(D),D+=y,f-=1;return{result:w,niceMin:w[0],niceMax:w[w.length-1]}}},{key:"logarithmicScaleNice",value:function(l,u,f){u<=0&&(u=Math.max(l,f)),l<=0&&(l=Math.min(u,f));for(var m=[],v=Math.ceil(Math.log(u)/Math.log(f)+1),y=Math.floor(Math.log(l)/Math.log(f));y<v;y++)m.push(Math.pow(f,y));return{result:m,niceMin:m[0],niceMax:m[m.length-1]}}},{key:"logarithmicScale",value:function(l,u,f){u<=0&&(u=Math.max(l,f)),l<=0&&(l=Math.min(u,f));for(var m=[],v=Math.log(u)/Math.log(f),y=Math.log(l)/Math.log(f),w=v-y,D=Math.round(w),I=w/D,O=0,P=y;O<D;O++,P+=I)m.push(Math.pow(f,P));return m.push(Math.pow(f,v)),{result:m,niceMin:l,niceMax:u}}},{key:"_adjustTicksForSmallRange",value:function(l,u,f){var m=l;if(void 0!==u&&this.w.config.yaxis[u].labels.formatter&&void 0===this.w.config.yaxis[u].tickAmount){var v=Number(this.w.config.yaxis[u].labels.formatter(1));me.isNumber(v)&&0===this.w.globals.yValueDecimal&&(m=Math.ceil(f))}return m<l?m:l}},{key:"setYScaleForIndex",value:function(l,u,f){var m=this.w.globals,v=this.w.config,y=m.isBarHorizontal?v.xaxis:v.yaxis[l];void 0===m.yAxisScale[l]&&(m.yAxisScale[l]=[]);var w=Math.abs(f-u);y.logarithmic&&w<=5&&(m.invalidLogScale=!0),y.logarithmic&&w>5?(m.allSeriesCollapsed=!1,m.yAxisScale[l]=this.logarithmicScale(u,f,y.logBase),m.yAxisScale[l]=y.forceNiceScale?this.logarithmicScaleNice(u,f,y.logBase):this.logarithmicScale(u,f,y.logBase)):f!==-Number.MAX_VALUE&&me.isNumber(f)?(m.allSeriesCollapsed=!1,m.yAxisScale[l]=void 0===y.min&&void 0===y.max||y.forceNiceScale?this.niceScale(u,f,y.tickAmount?y.tickAmount:w<5&&w>1?w+1:5,l,void 0===v.yaxis[l].max&&void 0===v.yaxis[l].min||v.yaxis[l].forceNiceScale):this.linearScale(u,f,y.tickAmount,l)):m.yAxisScale[l]=this.linearScale(0,5,5)}},{key:"setXScale",value:function(l,u){var f=this.w,m=f.globals,v=f.config.xaxis,y=Math.abs(u-l);return m.xAxisScale=u!==-Number.MAX_VALUE&&me.isNumber(u)?this.linearScale(l,u,v.tickAmount?v.tickAmount:y<5&&y>1?y+1:5,0):this.linearScale(0,5,5),m.xAxisScale}},{key:"setMultipleYScales",value:function(){var l=this,u=this.w.globals,f=this.w.config,m=u.minYArr.concat([]),v=u.maxYArr.concat([]),y=[];f.yaxis.forEach(function(w,D){var I=D;f.series.forEach(function(L,U){L.name===w.seriesName&&(I=U,y.push(D!==U?{index:U,similarIndex:D,alreadyExists:!0}:{index:U}))}),l.setYScaleForIndex(D,m[I],v[I])}),this.sameScaleInMultipleAxes(m,v,y)}},{key:"sameScaleInMultipleAxes",value:function(l,u,f){var m=this,v=this.w.config,y=this.w.globals,w=[];f.forEach(function(Y){Y.alreadyExists&&(void 0===w[Y.index]&&(w[Y.index]=[]),w[Y.index].push(Y.index),w[Y.index].push(Y.similarIndex))}),y.yAxisSameScaleIndices=w,w.forEach(function(Y,Q){w.forEach(function(ie,le){var S,R;Q!==le&&(S=Y,R=ie,S.filter(function($){return-1!==R.indexOf($)})).length>0&&(w[Q]=w[Q].concat(w[le]))})});var D=w.map(function(Y){return Y.filter(function(Q,ie){return Y.indexOf(Q)===ie})}).map(function(Y){return Y.sort()});w=w.filter(function(Y){return!!Y});var I=D.slice(),O=I.map(function(Y){return JSON.stringify(Y)});I=I.filter(function(Y,Q){return O.indexOf(JSON.stringify(Y))===Q});var P=[],L=[];l.forEach(function(Y,Q){I.forEach(function(ie,le){ie.indexOf(Q)>-1&&(void 0===P[le]&&(P[le]=[],L[le]=[]),P[le].push({key:Q,value:Y}),L[le].push({key:Q,value:u[Q]}))})});var U=Array.apply(null,Array(I.length)).map(Number.prototype.valueOf,Number.MIN_VALUE),G=Array.apply(null,Array(I.length)).map(Number.prototype.valueOf,-Number.MAX_VALUE);P.forEach(function(Y,Q){Y.forEach(function(ie,le){U[Q]=Math.min(ie.value,U[Q])})}),L.forEach(function(Y,Q){Y.forEach(function(ie,le){G[Q]=Math.max(ie.value,G[Q])})}),l.forEach(function(Y,Q){L.forEach(function(ie,le){var S=U[le],R=G[le];v.chart.stacked&&(R=0,ie.forEach(function($,te){$.value!==-Number.MAX_VALUE&&(R+=$.value),S!==Number.MIN_VALUE&&(S+=P[le][te].value)})),ie.forEach(function($,te){ie[te].key===Q&&(void 0!==v.yaxis[Q].min&&(S="function"==typeof v.yaxis[Q].min?v.yaxis[Q].min(y.minY):v.yaxis[Q].min),void 0!==v.yaxis[Q].max&&(R="function"==typeof v.yaxis[Q].max?v.yaxis[Q].max(y.maxY):v.yaxis[Q].max),m.setYScaleForIndex(Q,S,R))})})})}},{key:"autoScaleY",value:function(l,u,f){l||(l=this);var m=l.w;if(m.globals.isMultipleYAxis||m.globals.collapsedSeries.length)return console.warn("autoScaleYaxis not supported in a multi-yaxis chart."),u;var v=m.globals.seriesX[0],y=m.config.chart.stacked;return u.forEach(function(w,D){for(var I=0,O=0;O<v.length;O++)if(v[O]>=f.xaxis.min){I=O;break}var P,L,U=m.globals.minYArr[D],G=m.globals.maxYArr[D],Y=m.globals.stackedSeriesTotals;m.globals.series.forEach(function(Q,ie){var le=Q[I];y?(P=L=le=Y[I],Y.forEach(function(S,R){v[R]<=f.xaxis.max&&v[R]>=f.xaxis.min&&(S>L&&null!==S&&(L=S),Q[R]<P&&null!==Q[R]&&(P=Q[R]))})):(P=L=le,Q.forEach(function(S,R){if(v[R]<=f.xaxis.max&&v[R]>=f.xaxis.min){var $=S,te=S;m.globals.series.forEach(function(de,he){null!==S&&($=Math.min(de[R],$),te=Math.max(de[R],te))}),te>L&&null!==te&&(L=te),$<P&&null!==$&&(P=$)}})),void 0===P&&void 0===L&&(P=U,L=G),L*=L<0?.9:1.1,0==(P*=P<0?1.1:.9)&&0===L&&(P=-1,L=1),L<0&&L<G&&(L=G),P<0&&P>U&&(P=U),u.length>1?(u[ie].min=void 0===w.min?P:w.min,u[ie].max=void 0===w.max?L:w.max):(u[0].min=void 0===w.min?P:w.min,u[0].max=void 0===w.max?L:w.max)})}),u}}]),J}(),Oi=function(){function J(l){xe(this,J),this.ctx=l,this.w=l.w,this.scales=new hi(l)}return ke(J,[{key:"init",value:function(){this.setYRange(),this.setXRange(),this.setZRange()}},{key:"getMinYMaxY",value:function(l){var u=arguments.length>1&&void 0!==arguments[1]?arguments[1]:Number.MAX_VALUE,f=arguments.length>2&&void 0!==arguments[2]?arguments[2]:-Number.MAX_VALUE,m=arguments.length>3&&void 0!==arguments[3]?arguments[3]:null,v=this.w.config,y=this.w.globals,w=-Number.MAX_VALUE,D=Number.MIN_VALUE;null===m&&(m=l+1);var I=y.series,O=I,P=I;"candlestick"===v.chart.type?(O=y.seriesCandleL,P=y.seriesCandleH):"boxPlot"===v.chart.type?(O=y.seriesCandleO,P=y.seriesCandleC):y.isRangeData&&(O=y.seriesRangeStart,P=y.seriesRangeEnd);for(var L=l;L<m;L++){y.dataPoints=Math.max(y.dataPoints,I[L].length),y.categoryLabels.length&&(y.dataPoints=y.categoryLabels.filter(function(Y){return void 0!==Y}).length),y.labels.length&&"datetime"!==v.xaxis.type&&0!==y.series.reduce(function(Y,Q){return Y+Q.length},0)&&(y.dataPoints=Math.max(y.dataPoints,y.labels.length));for(var U=0;U<y.series[L].length;U++){var G=I[L][U];null!==G&&me.isNumber(G)?(void 0!==P[L][U]&&(w=Math.max(w,P[L][U]),u=Math.min(u,P[L][U])),void 0!==O[L][U]&&(u=Math.min(u,O[L][U]),f=Math.max(f,O[L][U])),"candlestick"!==this.w.config.chart.type&&"boxPlot"!==this.w.config.chart.type&&"rangeArea"===this.w.config.chart.type&&"rangeBar"===this.w.config.chart.type||("candlestick"!==this.w.config.chart.type&&"boxPlot"!==this.w.config.chart.type||void 0!==y.seriesCandleC[L][U]&&(w=Math.max(w,y.seriesCandleO[L][U]),w=Math.max(w,y.seriesCandleH[L][U]),w=Math.max(w,y.seriesCandleL[L][U]),w=Math.max(w,y.seriesCandleC[L][U]),"boxPlot"===this.w.config.chart.type&&(w=Math.max(w,y.seriesCandleM[L][U]))),!v.series[L].type||"candlestick"===v.series[L].type&&"boxPlot"===v.series[L].type&&"rangeArea"===v.series[L].type&&"rangeBar"===v.series[L].type||(w=Math.max(w,y.series[L][U]),u=Math.min(u,y.series[L][U])),f=w),y.seriesGoals[L]&&y.seriesGoals[L][U]&&Array.isArray(y.seriesGoals[L][U])&&y.seriesGoals[L][U].forEach(function(Y){D!==Number.MIN_VALUE&&(D=Math.min(D,Y.value),u=D),w=Math.max(w,Y.value),f=w}),me.isFloat(G)&&(G=me.noExponents(G),y.yValueDecimal=Math.max(y.yValueDecimal,G.toString().split(".")[1].length)),D>O[L][U]&&O[L][U]<0&&(D=O[L][U])):y.hasNullValues=!0}}return"rangeBar"===v.chart.type&&y.seriesRangeStart.length&&y.isBarHorizontal&&(D=u),"bar"===v.chart.type&&(D<0&&w<0&&(w=0),D===Number.MIN_VALUE&&(D=0)),{minY:D,maxY:w,lowestY:u,highestY:f}}},{key:"setYRange",value:function(){var l=this.w.globals,u=this.w.config;l.maxY=-Number.MAX_VALUE,l.minY=Number.MIN_VALUE;var f=Number.MAX_VALUE;if(l.isMultipleYAxis)for(var m=0;m<l.series.length;m++){var v=this.getMinYMaxY(m,f,null,m+1);l.minYArr.push(v.minY),l.maxYArr.push(v.maxY),f=v.lowestY}var y=this.getMinYMaxY(0,f,null,l.series.length);if(l.minY=y.minY,l.maxY=y.maxY,f=y.lowestY,u.chart.stacked&&this._setStackedMinMax(),("line"===u.chart.type||"area"===u.chart.type||"candlestick"===u.chart.type||"boxPlot"===u.chart.type||"rangeBar"===u.chart.type&&!l.isBarHorizontal)&&l.minY===Number.MIN_VALUE&&f!==-Number.MAX_VALUE&&f!==l.maxY){var w=l.maxY-f;(f>=0&&f<=10||void 0!==u.yaxis[0].min||void 0!==u.yaxis[0].max)&&(w=0),l.minY=f-5*w/100,f>0&&l.minY<0&&(l.minY=0),l.maxY=l.maxY+5*w/100}return u.yaxis.forEach(function(D,I){void 0!==D.max&&("number"==typeof D.max?l.maxYArr[I]=D.max:"function"==typeof D.max&&(l.maxYArr[I]=D.max(l.isMultipleYAxis?l.maxYArr[I]:l.maxY)),l.maxY=l.maxYArr[I]),void 0!==D.min&&("number"==typeof D.min?l.minYArr[I]=D.min:"function"==typeof D.min&&(l.minYArr[I]=D.min(l.isMultipleYAxis?l.minYArr[I]===Number.MIN_VALUE?0:l.minYArr[I]:l.minY)),l.minY=l.minYArr[I])}),l.isBarHorizontal&&["min","max"].forEach(function(D){void 0!==u.xaxis[D]&&"number"==typeof u.xaxis[D]&&("min"===D?l.minY=u.xaxis[D]:l.maxY=u.xaxis[D])}),l.isMultipleYAxis?(this.scales.setMultipleYScales(),l.minY=f,l.yAxisScale.forEach(function(D,I){l.minYArr[I]=D.niceMin,l.maxYArr[I]=D.niceMax})):(this.scales.setYScaleForIndex(0,l.minY,l.maxY),l.minY=l.yAxisScale[0].niceMin,l.maxY=l.yAxisScale[0].niceMax,l.minYArr[0]=l.yAxisScale[0].niceMin,l.maxYArr[0]=l.yAxisScale[0].niceMax),{minY:l.minY,maxY:l.maxY,minYArr:l.minYArr,maxYArr:l.maxYArr,yAxisScale:l.yAxisScale}}},{key:"setXRange",value:function(){var l=this.w.globals,u=this.w.config,f="numeric"===u.xaxis.type||"datetime"===u.xaxis.type||"category"===u.xaxis.type&&!l.noLabelsProvided||l.noLabelsProvided||l.isXNumeric;if(l.isXNumeric&&function(){for(var w=0;w<l.series.length;w++)if(l.labels[w])for(var D=0;D<l.labels[w].length;D++)null!==l.labels[w][D]&&me.isNumber(l.labels[w][D])&&(l.maxX=Math.max(l.maxX,l.labels[w][D]),l.initialMaxX=Math.max(l.maxX,l.labels[w][D]),l.minX=Math.min(l.minX,l.labels[w][D]),l.initialMinX=Math.min(l.minX,l.labels[w][D]))}(),l.noLabelsProvided&&0===u.xaxis.categories.length&&(l.maxX=l.labels[l.labels.length-1],l.initialMaxX=l.labels[l.labels.length-1],l.minX=1,l.initialMinX=1),l.isXNumeric||l.noLabelsProvided||l.dataFormatXNumeric){var m;if(void 0===u.xaxis.tickAmount?(m=Math.round(l.svgWidth/150),"numeric"===u.xaxis.type&&l.dataPoints<30&&(m=l.dataPoints-1),m>l.dataPoints&&0!==l.dataPoints&&(m=l.dataPoints-1)):"dataPoints"===u.xaxis.tickAmount?(l.series.length>1&&(m=l.series[l.maxValsInArrayIndex].length-1),l.isXNumeric&&(m=l.maxX-l.minX-1)):m=u.xaxis.tickAmount,l.xTickAmount=m,void 0!==u.xaxis.max&&"number"==typeof u.xaxis.max&&(l.maxX=u.xaxis.max),void 0!==u.xaxis.min&&"number"==typeof u.xaxis.min&&(l.minX=u.xaxis.min),void 0!==u.xaxis.range&&(l.minX=l.maxX-u.xaxis.range),l.minX!==Number.MAX_VALUE&&l.maxX!==-Number.MAX_VALUE)if(u.xaxis.convertedCatToNumeric&&!l.dataFormatXNumeric){for(var v=[],y=l.minX-1;y<l.maxX;y++)v.push(y+1);l.xAxisScale={result:v,niceMin:v[0],niceMax:v[v.length-1]}}else l.xAxisScale=this.scales.setXScale(l.minX,l.maxX);else l.xAxisScale=this.scales.linearScale(0,m,m),l.noLabelsProvided&&l.labels.length>0&&(l.xAxisScale=this.scales.linearScale(1,l.labels.length,m-1),l.seriesX=l.labels.slice());f&&(l.labels=l.xAxisScale.result.slice())}return l.isBarHorizontal&&l.labels.length&&(l.xTickAmount=l.labels.length),this._handleSingleDataPoint(),this._getMinXDiff(),{minX:l.minX,maxX:l.maxX}}},{key:"setZRange",value:function(){var l=this.w.globals;if(l.isDataXYZ)for(var u=0;u<l.series.length;u++)if(void 0!==l.seriesZ[u])for(var f=0;f<l.seriesZ[u].length;f++)null!==l.seriesZ[u][f]&&me.isNumber(l.seriesZ[u][f])&&(l.maxZ=Math.max(l.maxZ,l.seriesZ[u][f]),l.minZ=Math.min(l.minZ,l.seriesZ[u][f]))}},{key:"_handleSingleDataPoint",value:function(){var l=this.w.globals,u=this.w.config;if(l.minX===l.maxX){var f=new kn(this.ctx);if("datetime"===u.xaxis.type){var m=f.getDate(l.minX);u.xaxis.labels.datetimeUTC?m.setUTCDate(m.getUTCDate()-2):m.setDate(m.getDate()-2),l.minX=new Date(m).getTime();var v=f.getDate(l.maxX);u.xaxis.labels.datetimeUTC?v.setUTCDate(v.getUTCDate()+2):v.setDate(v.getDate()+2),l.maxX=new Date(v).getTime()}else("numeric"===u.xaxis.type||"category"===u.xaxis.type&&!l.noLabelsProvided)&&(l.minX=l.minX-2,l.initialMinX=l.minX,l.maxX=l.maxX+2,l.initialMaxX=l.maxX)}}},{key:"_getMinXDiff",value:function(){var l=this.w.globals;l.isXNumeric&&l.seriesX.forEach(function(u,f){1===u.length&&u.push(l.seriesX[l.maxValsInArrayIndex][l.seriesX[l.maxValsInArrayIndex].length-1]);var m=u.slice();m.sort(function(v,y){return v-y}),m.forEach(function(v,y){if(y>0){var w=v-m[y-1];w>0&&(l.minXDiff=Math.min(w,l.minXDiff))}}),1!==l.dataPoints&&l.minXDiff!==Number.MAX_VALUE||(l.minXDiff=.5)})}},{key:"_setStackedMinMax",value:function(){var l=this,u=this.w.globals;if(u.series.length){var f=u.seriesGroups;f.length||(f=[this.w.config.series.map(function(y){return y.name})]);var m={},v={};f.forEach(function(y){m[y]=[],v[y]=[],l.w.config.series.map(function(w,D){return y.indexOf(w.name)>-1?D:null}).filter(function(w){return null!==w}).forEach(function(w){for(var D=0;D<u.series[u.maxValsInArrayIndex].length;D++)void 0===m[y][D]&&(m[y][D]=0,v[y][D]=0),null!==u.series[w][D]&&me.isNumber(u.series[w][D])&&(u.series[w][D]>0?m[y][D]+=parseFloat(u.series[w][D])+1e-4:v[y][D]+=parseFloat(u.series[w][D]))})}),Object.entries(m).forEach(function(y){var w=_t(y,1)[0];m[w].forEach(function(D,I){u.maxY=Math.max(u.maxY,m[w][I]),u.minY=Math.min(u.minY,v[w][I])})})}}}]),J}(),Ui=function(){function J(l,u){xe(this,J),this.ctx=l,this.elgrid=u,this.w=l.w;var f=this.w;this.xaxisFontSize=f.config.xaxis.labels.style.fontSize,this.axisFontFamily=f.config.xaxis.labels.style.fontFamily,this.xaxisForeColors=f.config.xaxis.labels.style.colors,this.isCategoryBarHorizontal="bar"===f.config.chart.type&&f.config.plotOptions.bar.horizontal,this.xAxisoffX=0,"bottom"===f.config.xaxis.position&&(this.xAxisoffX=f.globals.gridHeight),this.drawnLabels=[],this.axesUtils=new yi(l)}return ke(J,[{key:"drawYaxis",value:function(l){var u=this,f=this.w,m=new _e(this.ctx),v=f.config.yaxis[l].labels.style,y=v.fontSize,w=v.fontFamily,D=v.fontWeight,I=m.group({class:"apexcharts-yaxis",rel:l,transform:"translate("+f.globals.translateYAxisX[l]+", 0)"});if(this.axesUtils.isYAxisHidden(l))return I;var O=m.group({class:"apexcharts-yaxis-texts-g"});I.add(O);var P=f.globals.yAxisScale[l].result.length-1,L=f.globals.gridHeight/P,U=f.globals.translateY,G=f.globals.yLabelFormatters[l],Y=f.globals.yAxisScale[l].result.slice();Y=this.axesUtils.checkForReversedLabels(l,Y);var Q="";if(f.config.yaxis[l].labels.show)for(var ie=function(Ie){var De=Y[Ie];De=G(De,Ie,f);var $e=f.config.yaxis[l].labels.padding;f.config.yaxis[l].opposite&&0!==f.config.yaxis.length&&($e*=-1);var yt="end";f.config.yaxis[l].opposite&&(yt="start"),"left"===f.config.yaxis[l].labels.align?yt="start":"center"===f.config.yaxis[l].labels.align?yt="middle":"right"===f.config.yaxis[l].labels.align&&(yt="end");var ot=u.axesUtils.getYAxisForeColor(v.colors,l),Lt=f.config.yaxis[l].labels.offsetY;"heatmap"===f.config.chart.type&&(Lt-=(f.globals.gridHeight/f.globals.series.length-1)/2);var Pt=m.drawText({x:$e,y:U+P/10+Lt+1,text:De,textAnchor:yt,fontSize:y,fontFamily:w,fontWeight:D,maxWidth:f.config.yaxis[l].labels.maxWidth,foreColor:Array.isArray(ot)?ot[Ie]:ot,isPlainText:!1,cssClass:"apexcharts-yaxis-label "+v.cssClass});Ie===P&&(Q=Pt),O.add(Pt);var Mn=document.createElementNS(f.globals.SVGNS,"title");if(Mn.textContent=Array.isArray(De)?De.join(" "):De,Pt.node.appendChild(Mn),0!==f.config.yaxis[l].labels.rotate){var Wn=m.rotateAroundCenter(Q.node),Zn=m.rotateAroundCenter(Pt.node);Pt.node.setAttribute("transform","rotate(".concat(f.config.yaxis[l].labels.rotate," ").concat(Wn.x," ").concat(Zn.y,")"))}U+=L},le=P;le>=0;le--)ie(le);if(void 0!==f.config.yaxis[l].title.text){var S=m.group({class:"apexcharts-yaxis-title"}),R=0;f.config.yaxis[l].opposite&&(R=f.globals.translateYAxisX[l]);var $=m.drawText({x:R,y:f.globals.gridHeight/2+f.globals.translateY+f.config.yaxis[l].title.offsetY,text:f.config.yaxis[l].title.text,textAnchor:"end",foreColor:f.config.yaxis[l].title.style.color,fontSize:f.config.yaxis[l].title.style.fontSize,fontWeight:f.config.yaxis[l].title.style.fontWeight,fontFamily:f.config.yaxis[l].title.style.fontFamily,cssClass:"apexcharts-yaxis-title-text "+f.config.yaxis[l].title.style.cssClass});S.add($),I.add(S)}var te=f.config.yaxis[l].axisBorder,de=31+te.offsetX;if(f.config.yaxis[l].opposite&&(de=-31-te.offsetX),te.show){var he=m.drawLine(de,f.globals.translateY+te.offsetY-2,de,f.globals.gridHeight+f.globals.translateY+te.offsetY+2,te.color,0,te.width);I.add(he)}return f.config.yaxis[l].axisTicks.show&&this.axesUtils.drawYAxisTicks(de,P,te,f.config.yaxis[l].axisTicks,l,L,I),I}},{key:"drawYaxisInversed",value:function(l){var u=this.w,f=new _e(this.ctx),m=f.group({class:"apexcharts-xaxis apexcharts-yaxis-inversed"}),v=f.group({class:"apexcharts-xaxis-texts-g",transform:"translate(".concat(u.globals.translateXAxisX,", ").concat(u.globals.translateXAxisY,")")});m.add(v);var y=u.globals.yAxisScale[l].result.length-1,w=u.globals.gridWidth/y+.1,D=w+u.config.xaxis.labels.offsetX,I=u.globals.xLabelFormatter,O=u.globals.yAxisScale[l].result.slice(),P=u.globals.timescaleLabels;P.length>0&&(this.xaxisLabels=P.slice(),y=(O=P.slice()).length),O=this.axesUtils.checkForReversedLabels(l,O);var L=P.length;if(u.config.xaxis.labels.show)for(var U=L?0:y;L?U<L:U>=0;L?U++:U--){var G=O[U];G=I(G,U,u);var Y=u.globals.gridWidth+u.globals.padHorizontal-(D-w+u.config.xaxis.labels.offsetX);if(P.length){var Q=this.axesUtils.getLabel(O,P,Y,U,this.drawnLabels,this.xaxisFontSize);Y=Q.x,G=Q.text,this.drawnLabels.push(Q.text),0===U&&u.globals.skipFirstTimelinelabel&&(G=""),U===O.length-1&&u.globals.skipLastTimelinelabel&&(G="")}var ie=f.drawText({x:Y,y:this.xAxisoffX+u.config.xaxis.labels.offsetY+30-("top"===u.config.xaxis.position?u.globals.xAxisHeight+u.config.xaxis.axisTicks.height-2:0),text:G,textAnchor:"middle",foreColor:Array.isArray(this.xaxisForeColors)?this.xaxisForeColors[l]:this.xaxisForeColors,fontSize:this.xaxisFontSize,fontFamily:this.xaxisFontFamily,fontWeight:u.config.xaxis.labels.style.fontWeight,isPlainText:!1,cssClass:"apexcharts-xaxis-label "+u.config.xaxis.labels.style.cssClass});v.add(ie),ie.tspan(G);var le=document.createElementNS(u.globals.SVGNS,"title");le.textContent=G,ie.node.appendChild(le),D+=w}return this.inversedYAxisTitleText(m),this.inversedYAxisBorder(m),m}},{key:"inversedYAxisBorder",value:function(l){var u=this.w,f=new _e(this.ctx),m=u.config.xaxis.axisBorder;if(m.show){var v=0;"bar"===u.config.chart.type&&u.globals.isXNumeric&&(v-=15);var y=f.drawLine(u.globals.padHorizontal+v+m.offsetX,this.xAxisoffX,u.globals.gridWidth,this.xAxisoffX,m.color,0,m.height);this.elgrid&&this.elgrid.elGridBorders&&u.config.grid.show?this.elgrid.elGridBorders.add(y):l.add(y)}}},{key:"inversedYAxisTitleText",value:function(l){var u=this.w,f=new _e(this.ctx);if(void 0!==u.config.xaxis.title.text){var m=f.group({class:"apexcharts-xaxis-title apexcharts-yaxis-title-inversed"}),v=f.drawText({x:u.globals.gridWidth/2+u.config.xaxis.title.offsetX,y:this.xAxisoffX+parseFloat(this.xaxisFontSize)+parseFloat(u.config.xaxis.title.style.fontSize)+u.config.xaxis.title.offsetY+20,text:u.config.xaxis.title.text,textAnchor:"middle",fontSize:u.config.xaxis.title.style.fontSize,fontFamily:u.config.xaxis.title.style.fontFamily,fontWeight:u.config.xaxis.title.style.fontWeight,foreColor:u.config.xaxis.title.style.color,cssClass:"apexcharts-xaxis-title-text "+u.config.xaxis.title.style.cssClass});m.add(v),l.add(m)}}},{key:"yAxisTitleRotate",value:function(l,u){var f=this.w,m=new _e(this.ctx),v={width:0,height:0},y={width:0,height:0},w=f.globals.dom.baseEl.querySelector(" .apexcharts-yaxis[rel='".concat(l,"'] .apexcharts-yaxis-texts-g"));null!==w&&(v=w.getBoundingClientRect());var D=f.globals.dom.baseEl.querySelector(".apexcharts-yaxis[rel='".concat(l,"'] .apexcharts-yaxis-title text"));if(null!==D&&(y=D.getBoundingClientRect()),null!==D){var I=this.xPaddingForYAxisTitle(l,v,y,u);D.setAttribute("x",I.xPos-(u?10:0))}if(null!==D){var O=m.rotateAroundCenter(D);D.setAttribute("transform","rotate(".concat(u?-1*f.config.yaxis[l].title.rotate:f.config.yaxis[l].title.rotate," ").concat(O.x," ").concat(O.y,")"))}}},{key:"xPaddingForYAxisTitle",value:function(l,u,f,m){var v=this.w,y=0,w=0,D=10;return void 0===v.config.yaxis[l].title.text||l<0?{xPos:w,padd:0}:(m?(w=u.width+v.config.yaxis[l].title.offsetX+f.width/2+D/2,0===(y+=1)&&(w-=D/2)):(w=-1*u.width+v.config.yaxis[l].title.offsetX+D/2+f.width/2,v.globals.isBarHorizontal&&(w=-1*u.width-v.config.yaxis[l].title.offsetX-(D=25))),{xPos:w,padd:D})}},{key:"setYAxisXPosition",value:function(l,u){var f=this.w,m=0,v=0,y=18,w=1;f.config.yaxis.length>1&&(this.multipleYs=!0),f.config.yaxis.map(function(D,I){var O=f.globals.ignoreYAxisIndexes.indexOf(I)>-1||!D.show||D.floating||0===l[I].width,P=l[I].width+u[I].width;D.opposite?f.globals.isBarHorizontal?f.globals.translateYAxisX[I]=(v=f.globals.gridWidth+f.globals.translateX-1)-D.labels.offsetX:(v=f.globals.gridWidth+f.globals.translateX+w,O||(w=w+P+20),f.globals.translateYAxisX[I]=v-D.labels.offsetX+20):(m=f.globals.translateX-y,O||(y=y+P+20),f.globals.translateYAxisX[I]=m+D.labels.offsetX)})}},{key:"setYAxisTextAlignments",value:function(){var l=this.w,u=l.globals.dom.baseEl.getElementsByClassName("apexcharts-yaxis");(u=me.listToArray(u)).forEach(function(f,m){var v=l.config.yaxis[m];if(v&&!v.floating&&void 0!==v.labels.align){var y=l.globals.dom.baseEl.querySelector(".apexcharts-yaxis[rel='".concat(m,"'] .apexcharts-yaxis-texts-g")),w=l.globals.dom.baseEl.querySelectorAll(".apexcharts-yaxis[rel='".concat(m,"'] .apexcharts-yaxis-label"));w=me.listToArray(w);var D=y.getBoundingClientRect();"left"===v.labels.align?(w.forEach(function(I,O){I.setAttribute("text-anchor","start")}),v.opposite||y.setAttribute("transform","translate(-".concat(D.width,", 0)"))):"center"===v.labels.align?(w.forEach(function(I,O){I.setAttribute("text-anchor","middle")}),y.setAttribute("transform","translate(".concat(D.width/2*(v.opposite?1:-1),", 0)"))):"right"===v.labels.align&&(w.forEach(function(I,O){I.setAttribute("text-anchor","end")}),v.opposite&&y.setAttribute("transform","translate(".concat(D.width,", 0)")))}})}}]),J}(),fi=function(){function J(l){xe(this,J),this.ctx=l,this.w=l.w,this.documentEvent=me.bind(this.documentEvent,this)}return ke(J,[{key:"addEventListener",value:function(l,u){var f=this.w;f.globals.events.hasOwnProperty(l)?f.globals.events[l].push(u):f.globals.events[l]=[u]}},{key:"removeEventListener",value:function(l,u){var f=this.w;if(f.globals.events.hasOwnProperty(l)){var m=f.globals.events[l].indexOf(u);-1!==m&&f.globals.events[l].splice(m,1)}}},{key:"fireEvent",value:function(l,u){var f=this.w;if(f.globals.events.hasOwnProperty(l)){u&&u.length||(u=[]);for(var m=f.globals.events[l],v=m.length,y=0;y<v;y++)m[y].apply(null,u)}}},{key:"setupEventHandlers",value:function(){var l=this,u=this.w,f=this.ctx,m=u.globals.dom.baseEl.querySelector(u.globals.chartClass);this.ctx.eventList.forEach(function(v){m.addEventListener(v,function(y){var w=Object.assign({},u,{seriesIndex:u.globals.capturedSeriesIndex,dataPointIndex:u.globals.capturedDataPointIndex});"mousemove"===y.type||"touchmove"===y.type?"function"==typeof u.config.chart.events.mouseMove&&u.config.chart.events.mouseMove(y,f,w):"mouseleave"===y.type||"touchleave"===y.type?"function"==typeof u.config.chart.events.mouseLeave&&u.config.chart.events.mouseLeave(y,f,w):("mouseup"===y.type&&1===y.which||"touchend"===y.type)&&("function"==typeof u.config.chart.events.click&&u.config.chart.events.click(y,f,w),f.ctx.events.fireEvent("click",[y,f,w]))},{capture:!1,passive:!0})}),this.ctx.eventList.forEach(function(v){u.globals.dom.baseEl.addEventListener(v,l.documentEvent,{passive:!0})}),this.ctx.core.setupBrushHandler()}},{key:"documentEvent",value:function(l){var u=this.w,f=l.target.className;if("click"===l.type){var m=u.globals.dom.baseEl.querySelector(".apexcharts-menu");m&&m.classList.contains("apexcharts-menu-open")&&"apexcharts-menu-icon"!==f&&m.classList.remove("apexcharts-menu-open")}u.globals.clientX="touchmove"===l.type?l.touches[0].clientX:l.clientX,u.globals.clientY="touchmove"===l.type?l.touches[0].clientY:l.clientY}}]),J}(),Mr=function(){function J(l){xe(this,J),this.ctx=l,this.w=l.w}return ke(J,[{key:"setCurrentLocaleValues",value:function(l){var u=this.w.config.chart.locales;window.Apex.chart&&window.Apex.chart.locales&&window.Apex.chart.locales.length>0&&(u=this.w.config.chart.locales.concat(window.Apex.chart.locales));var f=u.filter(function(v){return v.name===l})[0];if(!f)throw new Error("Wrong locale name provided. Please make sure you set the correct locale name in options");var m=me.extend(Ne,f);this.w.globals.locale=m.options}}]),J}(),ds=function(){function J(l){xe(this,J),this.ctx=l,this.w=l.w}return ke(J,[{key:"drawAxis",value:function(l,u){var f,m,v=this,y=this.w.globals,w=this.w.config,D=new Yn(this.ctx,u),I=new Ui(this.ctx,u);y.axisCharts&&"radar"!==l&&(y.isBarHorizontal?(m=I.drawYaxisInversed(0),f=D.drawXaxisInversed(0),y.dom.elGraphical.add(f),y.dom.elGraphical.add(m)):(f=D.drawXaxis(),y.dom.elGraphical.add(f),w.yaxis.map(function(O,P){if(-1===y.ignoreYAxisIndexes.indexOf(P)&&(m=I.drawYaxis(P),y.dom.Paper.add(m),"back"===v.w.config.grid.position)){var L=y.dom.Paper.children()[1];L.remove(),y.dom.Paper.add(L)}})))}}]),J}(),Xr=function(){function J(l){xe(this,J),this.ctx=l,this.w=l.w}return ke(J,[{key:"drawXCrosshairs",value:function(){var l=this.w,u=new _e(this.ctx),f=new $t(this.ctx),m=l.config.xaxis.crosshairs.fill.gradient,v=l.config.xaxis.crosshairs.dropShadow,L=v.enabled,U=v.left,G=v.top,Y=v.blur,Q=v.color,ie=v.opacity,le=l.config.xaxis.crosshairs.fill.color;if(l.config.xaxis.crosshairs.show){"gradient"===l.config.xaxis.crosshairs.fill.type&&(le=u.drawGradient("vertical",m.colorFrom,m.colorTo,m.opacityFrom,m.opacityTo,null,m.stops,null));var S=u.drawRect();1===l.config.xaxis.crosshairs.width&&(S=u.drawLine());var R=l.globals.gridHeight;(!me.isNumber(R)||R<0)&&(R=0);var $=l.config.xaxis.crosshairs.width;(!me.isNumber($)||$<0)&&($=0),S.attr({class:"apexcharts-xcrosshairs",x:0,y:0,y2:R,width:$,height:R,fill:le,filter:"none","fill-opacity":l.config.xaxis.crosshairs.opacity,stroke:l.config.xaxis.crosshairs.stroke.color,"stroke-width":l.config.xaxis.crosshairs.stroke.width,"stroke-dasharray":l.config.xaxis.crosshairs.stroke.dashArray}),L&&(S=f.dropShadow(S,{left:U,top:G,blur:Y,color:Q,opacity:ie})),l.globals.dom.elGraphical.add(S)}}},{key:"drawYCrosshairs",value:function(){var l=this.w,u=new _e(this.ctx),f=l.config.yaxis[0].crosshairs,m=l.globals.barPadForNumericAxis;if(l.config.yaxis[0].crosshairs.show){var v=u.drawLine(-m,0,l.globals.gridWidth+m,0,f.stroke.color,f.stroke.dashArray,f.stroke.width);v.attr({class:"apexcharts-ycrosshairs"}),l.globals.dom.elGraphical.add(v)}var y=u.drawLine(-m,0,l.globals.gridWidth+m,0,f.stroke.color,0,0);y.attr({class:"apexcharts-ycrosshairs-hidden"}),l.globals.dom.elGraphical.add(y)}}]),J}(),fr=function(){function J(l){xe(this,J),this.ctx=l,this.w=l.w}return ke(J,[{key:"checkResponsiveConfig",value:function(l){var u=this,f=this.w,m=f.config;if(0!==m.responsive.length){var v=m.responsive.slice();v.sort(function(I,O){return I.breakpoint>O.breakpoint?1:O.breakpoint>I.breakpoint?-1:0}).reverse();var y=new tr({}),w=function(){var I=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},P=window.innerWidth>0?window.innerWidth:screen.width;if(P>v[0].breakpoint){var L=et.extendArrayProps(y,f.globals.initialConfig,f);I=me.extend(L,I),I=me.extend(f.config,I),u.overrideResponsiveOptions(I)}else for(var U=0;U<v.length;U++)P<v[U].breakpoint&&(I=et.extendArrayProps(y,v[U].options,f),I=me.extend(f.config,I),u.overrideResponsiveOptions(I))};if(l){var D=et.extendArrayProps(y,l,f);D=me.extend(f.config,D),w(D=me.extend(D,l))}else w({})}}},{key:"overrideResponsiveOptions",value:function(l){var u=new tr(l).init({responsiveOverride:!0});this.w.config=u}}]),J}(),hs=function(){function J(l){xe(this,J),this.ctx=l,this.colors=[],this.w=l.w;var u=this.w;this.isColorFn=!1,this.isHeatmapDistributed="treemap"===u.config.chart.type&&u.config.plotOptions.treemap.distributed||"heatmap"===u.config.chart.type&&u.config.plotOptions.heatmap.distributed,this.isBarDistributed=u.config.plotOptions.bar.distributed&&("bar"===u.config.chart.type||"rangeBar"===u.config.chart.type)}return ke(J,[{key:"init",value:function(){this.setDefaultColors()}},{key:"setDefaultColors",value:function(){var l,u=this,f=this.w,m=new me;if(f.globals.dom.elWrap.classList.add("apexcharts-theme-".concat(f.config.theme.mode)),void 0===f.config.colors||0===(null===(l=f.config.colors)||void 0===l?void 0:l.length)?f.globals.colors=this.predefined():(f.globals.colors=f.config.colors,Array.isArray(f.config.colors)&&f.config.colors.length>0&&"function"==typeof f.config.colors[0]&&(f.globals.colors=f.config.series.map(function(G,Y){var Q=f.config.colors[Y];return Q||(Q=f.config.colors[0]),"function"==typeof Q?(u.isColorFn=!0,Q({value:f.globals.axisCharts?f.globals.series[Y][0]?f.globals.series[Y][0]:0:f.globals.series[Y],seriesIndex:Y,dataPointIndex:Y,w:f})):Q}))),f.globals.seriesColors.map(function(G,Y){G&&(f.globals.colors[Y]=G)}),f.config.theme.monochrome.enabled){var v=[],y=f.globals.series.length;(this.isBarDistributed||this.isHeatmapDistributed)&&(y=f.globals.series[0].length*f.globals.series.length);for(var w=f.config.theme.monochrome.color,D=1/(y/f.config.theme.monochrome.shadeIntensity),I=f.config.theme.monochrome.shadeTo,O=0,P=0;P<y;P++){var L=void 0;"dark"===I?(L=m.shadeColor(-1*O,w),O+=D):(L=m.shadeColor(O,w),O+=D),v.push(L)}f.globals.colors=v.slice()}var U=f.globals.colors.slice();this.pushExtraColors(f.globals.colors),["fill","stroke"].forEach(function(G){f.globals[G].colors=void 0===f.config[G].colors?u.isColorFn?f.config.colors:U:f.config[G].colors.slice(),u.pushExtraColors(f.globals[G].colors)}),f.globals.dataLabels.style.colors=void 0===f.config.dataLabels.style.colors?U:f.config.dataLabels.style.colors.slice(),this.pushExtraColors(f.globals.dataLabels.style.colors,50),f.globals.radarPolygons.fill.colors=void 0===f.config.plotOptions.radar.polygons.fill.colors?["dark"===f.config.theme.mode?"#424242":"none"]:f.config.plotOptions.radar.polygons.fill.colors.slice(),this.pushExtraColors(f.globals.radarPolygons.fill.colors,20),f.globals.markers.colors=void 0===f.config.markers.colors?U:f.config.markers.colors.slice(),this.pushExtraColors(f.globals.markers.colors)}},{key:"pushExtraColors",value:function(l,u){var f=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null,m=this.w,v=u||m.globals.series.length;if(null===f&&(f=this.isBarDistributed||this.isHeatmapDistributed||"heatmap"===m.config.chart.type&&m.config.plotOptions.heatmap.colorScale.inverse),f&&m.globals.series.length&&(v=m.globals.series[m.globals.maxValsInArrayIndex].length*m.globals.series.length),l.length<v)for(var y=v-l.length,w=0;w<y;w++)l.push(l[w])}},{key:"updateThemeOptions",value:function(l){l.chart=l.chart||{},l.tooltip=l.tooltip||{};var u=l.theme.mode||"light",f=l.theme.palette?l.theme.palette:"dark"===u?"palette4":"palette1",m=l.chart.foreColor?l.chart.foreColor:"dark"===u?"#f6f7f8":"#373d3f";return l.tooltip.theme=u,l.chart.foreColor=m,l.theme.palette=f,l}},{key:"predefined",value:function(){switch(this.w.config.theme.palette){case"palette1":default:this.colors=["#008FFB","#00E396","#FEB019","#FF4560","#775DD0"];break;case"palette2":this.colors=["#3f51b5","#03a9f4","#4caf50","#f9ce1d","#FF9800"];break;case"palette3":this.colors=["#33b2df","#546E7A","#d4526e","#13d8aa","#A5978B"];break;case"palette4":this.colors=["#4ecdc4","#c7f464","#81D4FA","#fd6a6a","#546E7A"];break;case"palette5":this.colors=["#2b908f","#f9a3a4","#90ee7e","#fa4443","#69d2e7"];break;case"palette6":this.colors=["#449DD1","#F86624","#EA3546","#662E9B","#C5D86D"];break;case"palette7":this.colors=["#D7263D","#1B998B","#2E294E","#F46036","#E2C044"];break;case"palette8":this.colors=["#662E9B","#F86624","#F9C80E","#EA3546","#43BCCD"];break;case"palette9":this.colors=["#5C4742","#A5978B","#8D5B4C","#5A2A27","#C4BBAF"];break;case"palette10":this.colors=["#A300D6","#7D02EB","#5653FE","#2983FF","#00B1F2"]}return this.colors}}]),J}(),Eo=function(){function J(l){xe(this,J),this.ctx=l,this.w=l.w}return ke(J,[{key:"draw",value:function(){this.drawTitleSubtitle("title"),this.drawTitleSubtitle("subtitle")}},{key:"drawTitleSubtitle",value:function(l){var u=this.w,f="title"===l?u.config.title:u.config.subtitle,m=u.globals.svgWidth/2,v=f.offsetY,y="middle";if("left"===f.align?(m=10,y="start"):"right"===f.align&&(m=u.globals.svgWidth-10,y="end"),m+=f.offsetX,v=v+parseInt(f.style.fontSize,10)+f.margin/2,void 0!==f.text){var w=new _e(this.ctx).drawText({x:m,y:v,text:f.text,textAnchor:y,fontSize:f.style.fontSize,fontFamily:f.style.fontFamily,fontWeight:f.style.fontWeight,foreColor:f.style.color,opacity:1});w.node.setAttribute("class","apexcharts-".concat(l,"-text")),u.globals.dom.Paper.add(w)}}}]),J}(),ya=function(){function J(l){xe(this,J),this.w=l.w,this.dCtx=l}return ke(J,[{key:"getTitleSubtitleCoords",value:function(l){var u=this.w,f=0,m=0,v="title"===l?u.config.title.floating:u.config.subtitle.floating,y=u.globals.dom.baseEl.querySelector(".apexcharts-".concat(l,"-text"));if(null!==y&&!v){var w=y.getBoundingClientRect();f=w.width,m=u.globals.axisCharts?w.height+5:w.height}return{width:f,height:m}}},{key:"getLegendsRect",value:function(){var l=this.w,u=l.globals.dom.elLegendWrap;l.config.legend.height||"top"!==l.config.legend.position&&"bottom"!==l.config.legend.position||(u.style.maxHeight=l.globals.svgHeight/2+"px");var f=Object.assign({},me.getBoundingClientRect(u));return this.dCtx.lgRect=null!==u&&!l.config.legend.floating&&l.config.legend.show?{x:f.x,y:f.y,height:f.height,width:0===f.height?0:f.width}:{x:0,y:0,height:0,width:0},"left"!==l.config.legend.position&&"right"!==l.config.legend.position||1.5*this.dCtx.lgRect.width>l.globals.svgWidth&&(this.dCtx.lgRect.width=l.globals.svgWidth/1.5),this.dCtx.lgRect}},{key:"getLargestStringFromMultiArr",value:function(l,u){var f=l;if(this.w.globals.isMultiLineX){var m=u.map(function(y,w){return Array.isArray(y)?y.length:1}),v=Math.max.apply(Math,At(m));f=u[m.indexOf(v)]}return f}}]),J}(),yn=function(){function J(l){xe(this,J),this.w=l.w,this.dCtx=l}return ke(J,[{key:"getxAxisLabelsCoords",value:function(){var l,u=this.w,f=u.globals.labels.slice();if(u.config.xaxis.convertedCatToNumeric&&0===f.length&&(f=u.globals.categoryLabels),u.globals.timescaleLabels.length>0){var m=this.getxAxisTimeScaleLabelsCoords();l={width:m.width,height:m.height},u.globals.rotateXLabels=!1}else{this.dCtx.lgWidthForSideLegends="left"!==u.config.legend.position&&"right"!==u.config.legend.position||u.config.legend.floating?0:this.dCtx.lgRect.width;var v=u.globals.xLabelFormatter,y=me.getLargestStringFromArr(f),w=this.dCtx.dimHelpers.getLargestStringFromMultiArr(y,f);u.globals.isBarHorizontal&&(w=y=u.globals.yAxisScale[0].result.reduce(function(G,Y){return G.length>Y.length?G:Y},0));var D=new vi(this.dCtx.ctx),I=y;y=D.xLabelFormat(v,y,I,{i:void 0,dateFormatter:new kn(this.dCtx.ctx).formatDate,w:u}),w=D.xLabelFormat(v,w,I,{i:void 0,dateFormatter:new kn(this.dCtx.ctx).formatDate,w:u}),(u.config.xaxis.convertedCatToNumeric&&void 0===y||""===String(y).trim())&&(w=y="1");var O=new _e(this.dCtx.ctx),P=O.getTextRects(y,u.config.xaxis.labels.style.fontSize),L=P;if(y!==w&&(L=O.getTextRects(w,u.config.xaxis.labels.style.fontSize)),(l={width:P.width>=L.width?P.width:L.width,height:P.height>=L.height?P.height:L.height}).width*f.length>u.globals.svgWidth-this.dCtx.lgWidthForSideLegends-this.dCtx.yAxisWidth-this.dCtx.gridPad.left-this.dCtx.gridPad.right&&0!==u.config.xaxis.labels.rotate||u.config.xaxis.labels.rotateAlways){if(!u.globals.isBarHorizontal){u.globals.rotateXLabels=!0;var U=function(G){return O.getTextRects(G,u.config.xaxis.labels.style.fontSize,u.config.xaxis.labels.style.fontFamily,"rotate(".concat(u.config.xaxis.labels.rotate," 0 0)"),!1)};P=U(y),y!==w&&(L=U(w)),l.height=(P.height>L.height?P.height:L.height)/1.5,l.width=P.width>L.width?P.width:L.width}}else u.globals.rotateXLabels=!1}return u.config.xaxis.labels.show||(l={width:0,height:0}),{width:l.width,height:l.height}}},{key:"getxAxisGroupLabelsCoords",value:function(){var l,u=this.w;if(!u.globals.hasXaxisGroups)return{width:0,height:0};var f,m=(null===(l=u.config.xaxis.group.style)||void 0===l?void 0:l.fontSize)||u.config.xaxis.labels.style.fontSize,v=u.globals.groups.map(function(P){return P.title}),y=me.getLargestStringFromArr(v),w=this.dCtx.dimHelpers.getLargestStringFromMultiArr(y,v),D=new _e(this.dCtx.ctx),I=D.getTextRects(y,m),O=I;return y!==w&&(O=D.getTextRects(w,m)),f={width:I.width>=O.width?I.width:O.width,height:I.height>=O.height?I.height:O.height},u.config.xaxis.labels.show||(f={width:0,height:0}),{width:f.width,height:f.height}}},{key:"getxAxisTitleCoords",value:function(){var l=this.w,u=0,f=0;if(void 0!==l.config.xaxis.title.text){var m=new _e(this.dCtx.ctx).getTextRects(l.config.xaxis.title.text,l.config.xaxis.title.style.fontSize);u=m.width,f=m.height}return{width:u,height:f}}},{key:"getxAxisTimeScaleLabelsCoords",value:function(){var l,u=this.w;this.dCtx.timescaleLabels=u.globals.timescaleLabels.slice();var f=this.dCtx.timescaleLabels.map(function(v){return v.value}),m=f.reduce(function(v,y){return void 0===v?(console.error("You have possibly supplied invalid Date format. Please supply a valid JavaScript Date"),0):v.length>y.length?v:y},0);return 1.05*(l=new _e(this.dCtx.ctx).getTextRects(m,u.config.xaxis.labels.style.fontSize)).width*f.length>u.globals.gridWidth&&0!==u.config.xaxis.labels.rotate&&(u.globals.overlappingXLabels=!0),l}},{key:"additionalPaddingXLabels",value:function(l){var u=this,f=this.w,m=f.globals,v=f.config,y=v.xaxis.type,w=l.width;m.skipLastTimelinelabel=!1,m.skipFirstTimelinelabel=!1;var D=f.config.yaxis[0].opposite&&f.globals.isBarHorizontal;v.yaxis.forEach(function(O,P){D?(u.dCtx.gridPad.left<w&&(u.dCtx.xPadLeft=w/2+1),u.dCtx.xPadRight=w/2+1):function(O,P){v.yaxis.length>1&&-1!==m.collapsedSeriesIndices.indexOf(P)||function(L){if(u.dCtx.timescaleLabels&&u.dCtx.timescaleLabels.length){var Y=u.dCtx.timescaleLabels[0].position-w/1.75+u.dCtx.yAxisWidthLeft;u.dCtx.timescaleLabels[u.dCtx.timescaleLabels.length-1].position+w/1.75-u.dCtx.yAxisWidthRight>m.svgWidth-m.translateX-("right"===f.config.legend.position&&u.dCtx.lgRect.width>0?u.dCtx.lgRect.width:0)&&(m.skipLastTimelinelabel=!0),Y<-(L.show&&!L.floating||"bar"!==v.chart.type&&"candlestick"!==v.chart.type&&"rangeBar"!==v.chart.type&&"boxPlot"!==v.chart.type?10:w/1.75)&&(m.skipFirstTimelinelabel=!0)}else"datetime"===y?u.dCtx.gridPad.right<w&&!m.rotateXLabels&&(m.skipLastTimelinelabel=!0):"datetime"!==y&&u.dCtx.gridPad.right<w/2-u.dCtx.yAxisWidthRight&&!m.rotateXLabels&&!f.config.xaxis.labels.trim&&("between"!==f.config.xaxis.tickPlacement||f.globals.isBarHorizontal)&&(u.dCtx.xPadRight=w/2+1)}(O)}(O,P)})}}]),J}(),An=function(){function J(l){xe(this,J),this.w=l.w,this.dCtx=l}return ke(J,[{key:"getyAxisLabelsCoords",value:function(){var l=this,u=this.w,f=[],m=10,v=new yi(this.dCtx.ctx);return u.config.yaxis.map(function(y,w){var D={seriesIndex:w,dataPointIndex:-1,w:u},I=u.globals.yAxisScale[w],O=0;if(!v.isYAxisHidden(w)&&y.labels.show&&void 0!==y.labels.minWidth&&(O=y.labels.minWidth),!v.isYAxisHidden(w)&&y.labels.show&&I.result.length){var P=u.globals.yLabelFormatters[w],U=I.result.reduce(function(R,$){var te,de;return(null===(te=String(P(R,D)))||void 0===te?void 0:te.length)>(null===(de=String(P($,D)))||void 0===de?void 0:de.length)?R:$},I.niceMin===Number.MIN_VALUE?0:I.niceMin),G=U=P(U,D);if(void 0!==U&&0!==U.length||(U=I.niceMax),u.globals.isBarHorizontal){m=0;var Y=u.globals.labels.slice();U=me.getLargestStringFromArr(Y),U=P(U,{seriesIndex:w,dataPointIndex:-1,w:u}),G=l.dCtx.dimHelpers.getLargestStringFromMultiArr(U,Y)}var Q=new _e(l.dCtx.ctx),ie="rotate(".concat(y.labels.rotate," 0 0)"),le=Q.getTextRects(U,y.labels.style.fontSize,y.labels.style.fontFamily,ie,!1),S=le;U!==G&&(S=Q.getTextRects(G,y.labels.style.fontSize,y.labels.style.fontFamily,ie,!1)),f.push({width:(O>S.width||O>le.width?O:S.width>le.width?S.width:le.width)+m,height:S.height>le.height?S.height:le.height})}else f.push({width:0,height:0})}),f}},{key:"getyAxisTitleCoords",value:function(){var l=this,f=[];return this.w.config.yaxis.map(function(m,v){if(m.show&&void 0!==m.title.text){var y=new _e(l.dCtx.ctx),w="rotate(".concat(m.title.rotate," 0 0)"),D=y.getTextRects(m.title.text,m.title.style.fontSize,m.title.style.fontFamily,w,!1);f.push({width:D.width,height:D.height})}else f.push({width:0,height:0})}),f}},{key:"getTotalYAxisWidth",value:function(){var l=this.w,u=0,f=0,m=0,v=l.globals.yAxisScale.length>1?10:0,y=new yi(this.dCtx.ctx),w=function(D,I){var O=l.config.yaxis[I].floating,P=0;D.width>0&&!O?(P=D.width+v,l.globals.ignoreYAxisIndexes.indexOf(I)>-1&&(P=P-D.width-v)):P=O||y.isYAxisHidden(I)?0:5,l.config.yaxis[I].opposite?m+=P:f+=P,u+=P};return l.globals.yLabelsCoords.map(function(D,I){w(D,I)}),l.globals.yTitleCoords.map(function(D,I){w(D,I)}),l.globals.isBarHorizontal&&!l.config.yaxis[0].floating&&(u=l.globals.yLabelsCoords[0].width+l.globals.yTitleCoords[0].width+15),this.dCtx.yAxisWidthLeft=f,this.dCtx.yAxisWidthRight=m,u}}]),J}(),Fn=function(){function J(l){xe(this,J),this.w=l.w,this.dCtx=l}return ke(J,[{key:"gridPadForColumnsInNumericAxis",value:function(l){var u=this.w;if(u.globals.noData||u.globals.allSeriesCollapsed)return 0;var f=function(O){return"bar"===O||"rangeBar"===O||"candlestick"===O||"boxPlot"===O},m=u.config.chart.type,v=0,y=f(m)?u.config.series.length:1;if(u.globals.comboBarCount>0&&(y=u.globals.comboBarCount),u.globals.collapsedSeries.forEach(function(O){f(O.type)&&(y-=1)}),u.config.chart.stacked&&(y=1),(f(m)||u.globals.comboBarCount>0)&&u.globals.isXNumeric&&!u.globals.isBarHorizontal&&y>0){var w,D,I=Math.abs(u.globals.initialMaxX-u.globals.initialMinX);I<=3&&(I=u.globals.dataPoints),w=I/l,u.globals.minXDiff&&u.globals.minXDiff/w>0&&(D=u.globals.minXDiff/w),D>l/2&&(D/=2),(v=D/y*parseInt(u.config.plotOptions.bar.columnWidth,10)/100)<1&&(v=1),u.globals.barPadForNumericAxis=v=v/(y>1?1:1.5)+5}return v}},{key:"gridPadFortitleSubtitle",value:function(){var l=this,u=this.w,f=u.globals,m=this.dCtx.isSparkline||!u.globals.axisCharts?0:10;["title","subtitle"].forEach(function(w){m+=void 0!==u.config[w].text?u.config[w].margin:l.dCtx.isSparkline||!u.globals.axisCharts?0:5}),!u.config.legend.show||"bottom"!==u.config.legend.position||u.config.legend.floating||u.globals.axisCharts||(m+=10);var v=this.dCtx.dimHelpers.getTitleSubtitleCoords("title"),y=this.dCtx.dimHelpers.getTitleSubtitleCoords("subtitle");f.gridHeight=f.gridHeight-v.height-y.height-m,f.translateY=f.translateY+v.height+y.height+m}},{key:"setGridXPosForDualYAxis",value:function(l,u){var f=this.w,m=new yi(this.dCtx.ctx);f.config.yaxis.map(function(v,y){-1!==f.globals.ignoreYAxisIndexes.indexOf(y)||v.floating||m.isYAxisHidden(y)||(v.opposite&&(f.globals.translateX=f.globals.translateX-(u[y].width+l[y].width)-parseInt(f.config.yaxis[y].labels.style.fontSize,10)/1.2-12),f.globals.translateX<2&&(f.globals.translateX=2))})}}]),J}(),In=function(){function J(l){xe(this,J),this.ctx=l,this.w=l.w,this.lgRect={},this.yAxisWidth=0,this.yAxisWidthLeft=0,this.yAxisWidthRight=0,this.xAxisHeight=0,this.isSparkline=this.w.config.chart.sparkline.enabled,this.dimHelpers=new ya(this),this.dimYAxis=new An(this),this.dimXAxis=new yn(this),this.dimGrid=new Fn(this),this.lgWidthForSideLegends=0,this.gridPad=this.w.config.grid.padding,this.xPadRight=0,this.xPadLeft=0}return ke(J,[{key:"plotCoords",value:function(){var l=this,u=this.w,f=u.globals;this.lgRect=this.dimHelpers.getLegendsRect(),this.isSparkline&&((u.config.markers.discrete.length>0||u.config.markers.size>0)&&Object.entries(this.gridPad).forEach(function(v){var y=_t(v,2);l.gridPad[y[0]]=Math.max(y[1],l.w.globals.markers.largestSize/1.5)}),this.gridPad.top=Math.max(u.config.stroke.width/2,this.gridPad.top),this.gridPad.bottom=Math.max(u.config.stroke.width/2,this.gridPad.bottom)),f.axisCharts?this.setDimensionsForAxisCharts():this.setDimensionsForNonAxisCharts(),this.dimGrid.gridPadFortitleSubtitle(),f.gridHeight=f.gridHeight-this.gridPad.top-this.gridPad.bottom,f.gridWidth=f.gridWidth-this.gridPad.left-this.gridPad.right-this.xPadRight-this.xPadLeft;var m=this.dimGrid.gridPadForColumnsInNumericAxis(f.gridWidth);f.gridWidth=f.gridWidth-2*m,f.translateX=f.translateX+this.gridPad.left+this.xPadLeft+(m>0?m+4:0),f.translateY=f.translateY+this.gridPad.top}},{key:"setDimensionsForAxisCharts",value:function(){var l=this,u=this.w,f=u.globals,m=this.dimYAxis.getyAxisLabelsCoords(),v=this.dimYAxis.getyAxisTitleCoords();u.globals.yLabelsCoords=[],u.globals.yTitleCoords=[],u.config.yaxis.map(function(U,G){u.globals.yLabelsCoords.push({width:m[G].width,index:G}),u.globals.yTitleCoords.push({width:v[G].width,index:G})}),this.yAxisWidth=this.dimYAxis.getTotalYAxisWidth();var y=this.dimXAxis.getxAxisLabelsCoords(),w=this.dimXAxis.getxAxisGroupLabelsCoords(),D=this.dimXAxis.getxAxisTitleCoords();this.conditionalChecksForAxisCoords(y,D,w),f.translateXAxisY=u.globals.rotateXLabels?this.xAxisHeight/8:-4,f.translateXAxisX=u.globals.rotateXLabels&&u.globals.isXNumeric&&u.config.xaxis.labels.rotate<=-45?-this.xAxisWidth/4:0,u.globals.isBarHorizontal&&(f.rotateXLabels=!1,f.translateXAxisY=parseInt(u.config.xaxis.labels.style.fontSize,10)/1.5*-1),f.translateXAxisY=f.translateXAxisY+u.config.xaxis.labels.offsetY,f.translateXAxisX=f.translateXAxisX+u.config.xaxis.labels.offsetX;var I=this.yAxisWidth,O=this.xAxisHeight;f.xAxisLabelsHeight=this.xAxisHeight-D.height,f.xAxisGroupLabelsHeight=f.xAxisLabelsHeight-y.height,f.xAxisLabelsWidth=this.xAxisWidth,f.xAxisHeight=this.xAxisHeight;var P=10;("radar"===u.config.chart.type||this.isSparkline)&&(I=0,O=f.goldenPadding),this.isSparkline&&(this.lgRect={height:0,width:0}),(this.isSparkline||"treemap"===u.config.chart.type)&&(I=0,O=0,P=0),this.isSparkline||this.dimXAxis.additionalPaddingXLabels(y);var L=function(){f.translateX=I,f.gridHeight=f.svgHeight-l.lgRect.height-O-(l.isSparkline||"treemap"===u.config.chart.type?0:u.globals.rotateXLabels?10:15),f.gridWidth=f.svgWidth-I};switch("top"===u.config.xaxis.position&&(P=f.xAxisHeight-u.config.xaxis.axisTicks.height-5),u.config.legend.position){case"bottom":f.translateY=P,L();break;case"top":f.translateY=this.lgRect.height+P,L();break;case"left":f.translateY=P,f.translateX=this.lgRect.width+I,f.gridHeight=f.svgHeight-O-12,f.gridWidth=f.svgWidth-this.lgRect.width-I;break;case"right":f.translateY=P,f.translateX=I,f.gridHeight=f.svgHeight-O-12,f.gridWidth=f.svgWidth-this.lgRect.width-I-5;break;default:throw new Error("Legend position not supported")}this.dimGrid.setGridXPosForDualYAxis(v,m),new Ui(this.ctx).setYAxisXPosition(m,v)}},{key:"setDimensionsForNonAxisCharts",value:function(){var l=this.w,u=l.globals,f=l.config,m=0;l.config.legend.show&&!l.config.legend.floating&&(m=20);var v="pie"===f.chart.type||"polarArea"===f.chart.type||"donut"===f.chart.type?"pie":"radialBar",y=f.plotOptions[v].offsetY,w=f.plotOptions[v].offsetX;if(!f.legend.show||f.legend.floating)return u.gridHeight=u.svgHeight-f.grid.padding.left+f.grid.padding.right,u.gridWidth=u.gridHeight,u.translateY=y,void(u.translateX=w+(u.svgWidth-u.gridWidth)/2);switch(f.legend.position){case"bottom":u.gridHeight=u.svgHeight-this.lgRect.height-u.goldenPadding,u.gridWidth=u.svgWidth,u.translateY=y-10,u.translateX=w+(u.svgWidth-u.gridWidth)/2;break;case"top":u.gridHeight=u.svgHeight-this.lgRect.height-u.goldenPadding,u.gridWidth=u.svgWidth,u.translateY=this.lgRect.height+y+10,u.translateX=w+(u.svgWidth-u.gridWidth)/2;break;case"left":u.gridWidth=u.svgWidth-this.lgRect.width-m,u.gridHeight="auto"!==f.chart.height?u.svgHeight:u.gridWidth,u.translateY=y,u.translateX=w+this.lgRect.width+m;break;case"right":u.gridWidth=u.svgWidth-this.lgRect.width-m-5,u.gridHeight="auto"!==f.chart.height?u.svgHeight:u.gridWidth,u.translateY=y,u.translateX=w+10;break;default:throw new Error("Legend position not supported")}}},{key:"conditionalChecksForAxisCoords",value:function(l,u,f){var m=this.w;this.xAxisHeight=(f.height+l.height+u.height)*(m.globals.isMultiLineX?1.2:m.globals.LINE_HEIGHT_RATIO)+(m.globals.hasXaxisGroups?2:1)*(m.globals.rotateXLabels?22:10)+(m.globals.rotateXLabels&&"bottom"===m.config.legend.position?10:0),this.xAxisWidth=l.width,this.xAxisHeight-u.height>m.config.xaxis.labels.maxHeight&&(this.xAxisHeight=m.config.xaxis.labels.maxHeight),m.config.xaxis.labels.minHeight&&this.xAxisHeight<m.config.xaxis.labels.minHeight&&(this.xAxisHeight=m.config.xaxis.labels.minHeight),m.config.xaxis.floating&&(this.xAxisHeight=0);var O=0,P=0;m.config.yaxis.forEach(function(L){O+=L.labels.minWidth,P+=L.labels.maxWidth}),this.yAxisWidth<O&&(this.yAxisWidth=O),this.yAxisWidth>P&&(this.yAxisWidth=P)}}]),J}(),zi=function(){function J(l){xe(this,J),this.w=l.w,this.lgCtx=l}return ke(J,[{key:"getLegendStyles",value:function(){var l=document.createElement("style");l.setAttribute("type","text/css");var u=document.createTextNode("\t\n    \t\n      .apexcharts-legend {\t\n        display: flex;\t\n        overflow: auto;\t\n        padding: 0 10px;\t\n      }\t\n      .apexcharts-legend.apx-legend-position-bottom, .apexcharts-legend.apx-legend-position-top {\t\n        flex-wrap: wrap\t\n      }\t\n      .apexcharts-legend.apx-legend-position-right, .apexcharts-legend.apx-legend-position-left {\t\n        flex-direction: column;\t\n        bottom: 0;\t\n      }\t\n      .apexcharts-legend.apx-legend-position-bottom.apexcharts-align-left, .apexcharts-legend.apx-legend-position-top.apexcharts-align-left, .apexcharts-legend.apx-legend-position-right, .apexcharts-legend.apx-legend-position-left {\t\n        justify-content: flex-start;\t\n      }\t\n      .apexcharts-legend.apx-legend-position-bottom.apexcharts-align-center, .apexcharts-legend.apx-legend-position-top.apexcharts-align-center {\t\n        justify-content: center;  \t\n      }\t\n      .apexcharts-legend.apx-legend-position-bottom.apexcharts-align-right, .apexcharts-legend.apx-legend-position-top.apexcharts-align-right {\t\n        justify-content: flex-end;\t\n      }\t\n      .apexcharts-legend-series {\t\n        cursor: pointer;\t\n        line-height: normal;\t\n      }\t\n      .apexcharts-legend.apx-legend-position-bottom .apexcharts-legend-series, .apexcharts-legend.apx-legend-position-top .apexcharts-legend-series{\t\n        display: flex;\t\n        align-items: center;\t\n      }\t\n      .apexcharts-legend-text {\t\n        position: relative;\t\n        font-size: 14px;\t\n      }\t\n      .apexcharts-legend-text *, .apexcharts-legend-marker * {\t\n        pointer-events: none;\t\n      }\t\n      .apexcharts-legend-marker {\t\n        position: relative;\t\n        display: inline-block;\t\n        cursor: pointer;\t\n        margin-right: 3px;\t\n        border-style: solid;\n      }\t\n      \t\n      .apexcharts-legend.apexcharts-align-right .apexcharts-legend-series, .apexcharts-legend.apexcharts-align-left .apexcharts-legend-series{\t\n        display: inline-block;\t\n      }\t\n      .apexcharts-legend-series.apexcharts-no-click {\t\n        cursor: auto;\t\n      }\t\n      .apexcharts-legend .apexcharts-hidden-zero-series, .apexcharts-legend .apexcharts-hidden-null-series {\t\n        display: none !important;\t\n      }\t\n      .apexcharts-inactive-legend {\t\n        opacity: 0.45;\t\n      }");return l.appendChild(u),l}},{key:"getLegendBBox",value:function(){var l=this.w.globals.dom.baseEl.querySelector(".apexcharts-legend").getBoundingClientRect();return{clwh:l.height,clww:l.width}}},{key:"appendToForeignObject",value:function(){this.w.globals.dom.elLegendForeign.appendChild(this.getLegendStyles())}},{key:"toggleDataSeries",value:function(l,u){var f=this,m=this.w;if(m.globals.axisCharts||"radialBar"===m.config.chart.type){m.globals.resized=!0;var v=null,y=null;m.globals.risingSeries=[],m.globals.axisCharts?(v=m.globals.dom.baseEl.querySelector(".apexcharts-series[data\\:realIndex='".concat(l,"']")),y=parseInt(v.getAttribute("data:realIndex"),10)):(v=m.globals.dom.baseEl.querySelector(".apexcharts-series[rel='".concat(l+1,"']")),y=parseInt(v.getAttribute("rel"),10)-1),u?[{cs:m.globals.collapsedSeries,csi:m.globals.collapsedSeriesIndices},{cs:m.globals.ancillaryCollapsedSeries,csi:m.globals.ancillaryCollapsedSeriesIndices}].forEach(function(O){f.riseCollapsedSeries(O.cs,O.csi,y)}):this.hideSeries({seriesEl:v,realIndex:y})}else{var w=m.globals.dom.Paper.select(" .apexcharts-series[rel='".concat(l+1,"'] path")),D=m.config.chart.type;if("pie"===D||"polarArea"===D||"donut"===D){var I=m.config.plotOptions.pie.donut.labels;new _e(this.lgCtx.ctx).pathMouseDown(w.members[0],null),this.lgCtx.ctx.pie.printDataLabelsInner(w.members[0].node,I)}w.fire("click")}}},{key:"hideSeries",value:function(l){var u=l.seriesEl,f=l.realIndex,m=this.w,v=me.clone(m.config.series);if(m.globals.axisCharts){var y=!1;if(m.config.yaxis[f]&&m.config.yaxis[f].show&&m.config.yaxis[f].showAlways&&(y=!0,m.globals.ancillaryCollapsedSeriesIndices.indexOf(f)<0&&(m.globals.ancillaryCollapsedSeries.push({index:f,data:v[f].data.slice(),type:u.parentNode.className.baseVal.split("-")[1]}),m.globals.ancillaryCollapsedSeriesIndices.push(f))),!y){m.globals.collapsedSeries.push({index:f,data:v[f].data.slice(),type:u.parentNode.className.baseVal.split("-")[1]}),m.globals.collapsedSeriesIndices.push(f);var w=m.globals.risingSeries.indexOf(f);m.globals.risingSeries.splice(w,1)}}else m.globals.collapsedSeries.push({index:f,data:v[f]}),m.globals.collapsedSeriesIndices.push(f);for(var D=u.childNodes,I=0;I<D.length;I++)D[I].classList.contains("apexcharts-series-markers-wrap")&&(D[I].classList.contains("apexcharts-hide")?D[I].classList.remove("apexcharts-hide"):D[I].classList.add("apexcharts-hide"));m.globals.allSeriesCollapsed=m.globals.collapsedSeries.length===m.config.series.length,v=this._getSeriesBasedOnCollapsedState(v),this.lgCtx.ctx.updateHelpers._updateSeries(v,m.config.chart.animations.dynamicAnimation.enabled)}},{key:"riseCollapsedSeries",value:function(l,u,f){var m=this.w,v=me.clone(m.config.series);if(l.length>0){for(var y=0;y<l.length;y++)l[y].index===f&&(m.globals.axisCharts?(v[f].data=l[y].data.slice(),l.splice(y,1),u.splice(y,1),m.globals.risingSeries.push(f)):(v[f]=l[y].data,l.splice(y,1),u.splice(y,1),m.globals.risingSeries.push(f)));v=this._getSeriesBasedOnCollapsedState(v),this.lgCtx.ctx.updateHelpers._updateSeries(v,m.config.chart.animations.dynamicAnimation.enabled)}}},{key:"_getSeriesBasedOnCollapsedState",value:function(l){var u=this.w;return l.forEach(u.globals.axisCharts?function(f,m){u.globals.collapsedSeriesIndices.indexOf(m)>-1&&(l[m].data=[])}:function(f,m){u.globals.collapsedSeriesIndices.indexOf(m)>-1&&(l[m]=0)}),l}}]),J}(),pr=function(){function J(l){xe(this,J),this.ctx=l,this.w=l.w,this.onLegendClick=this.onLegendClick.bind(this),this.onLegendHovered=this.onLegendHovered.bind(this),this.isBarsDistributed="bar"===this.w.config.chart.type&&this.w.config.plotOptions.bar.distributed&&1===this.w.config.series.length,this.legendHelpers=new zi(this)}return ke(J,[{key:"init",value:function(){var l=this.w,u=l.globals,f=l.config;if((f.legend.showForSingleSeries&&1===u.series.length||this.isBarsDistributed||u.series.length>1||!u.axisCharts)&&f.legend.show){for(;u.dom.elLegendWrap.firstChild;)u.dom.elLegendWrap.removeChild(u.dom.elLegendWrap.firstChild);this.drawLegends(),me.isIE11()?document.getElementsByTagName("head")[0].appendChild(this.legendHelpers.getLegendStyles()):this.legendHelpers.appendToForeignObject(),"bottom"===f.legend.position||"top"===f.legend.position?this.legendAlignHorizontal():"right"!==f.legend.position&&"left"!==f.legend.position||this.legendAlignVertical()}}},{key:"drawLegends",value:function(){var l=this,u=this.w,f=u.config.legend.fontFamily,m=u.globals.seriesNames,v=u.globals.colors.slice();if("heatmap"===u.config.chart.type){var y=u.config.plotOptions.heatmap.colorScale.ranges;m=y.map(function(ot){return ot.name?ot.name:ot.from+" - "+ot.to}),v=y.map(function(ot){return ot.color})}else this.isBarsDistributed&&(m=u.globals.labels.slice());u.config.legend.customLegendItems.length&&(m=u.config.legend.customLegendItems);for(var w=u.globals.legendFormatter,D=u.config.legend.inverseOrder,I=D?m.length-1:0;D?I>=0:I<=m.length-1;D?I--:I++){var O,P=w(m[I],{seriesIndex:I,w:u}),L=!1,U=!1;if(u.globals.collapsedSeries.length>0)for(var G=0;G<u.globals.collapsedSeries.length;G++)u.globals.collapsedSeries[G].index===I&&(L=!0);if(u.globals.ancillaryCollapsedSeriesIndices.length>0)for(var Y=0;Y<u.globals.ancillaryCollapsedSeriesIndices.length;Y++)u.globals.ancillaryCollapsedSeriesIndices[Y]===I&&(U=!0);var Q=document.createElement("span");Q.classList.add("apexcharts-legend-marker");var ie=u.config.legend.markers.offsetX,le=u.config.legend.markers.offsetY,S=u.config.legend.markers.height,R=u.config.legend.markers.width,$=u.config.legend.markers.strokeWidth,te=u.config.legend.markers.strokeColor,de=u.config.legend.markers.radius,he=Q.style;he.background=v[I],he.color=v[I],he.setProperty("background",v[I],"important"),u.config.legend.markers.fillColors&&u.config.legend.markers.fillColors[I]&&(he.background=u.config.legend.markers.fillColors[I]),void 0!==u.globals.seriesColors[I]&&(he.background=u.globals.seriesColors[I],he.color=u.globals.seriesColors[I]),he.height=Array.isArray(S)?parseFloat(S[I])+"px":parseFloat(S)+"px",he.width=Array.isArray(R)?parseFloat(R[I])+"px":parseFloat(R)+"px",he.left=(Array.isArray(ie)?parseFloat(ie[I]):parseFloat(ie))+"px",he.top=(Array.isArray(le)?parseFloat(le[I]):parseFloat(le))+"px",he.borderWidth=Array.isArray($)?$[I]:$,he.borderColor=Array.isArray(te)?te[I]:te,he.borderRadius=Array.isArray(de)?parseFloat(de[I])+"px":parseFloat(de)+"px",u.config.legend.markers.customHTML&&(Array.isArray(u.config.legend.markers.customHTML)?u.config.legend.markers.customHTML[I]&&(Q.innerHTML=u.config.legend.markers.customHTML[I]()):Q.innerHTML=u.config.legend.markers.customHTML()),_e.setAttrs(Q,{rel:I+1,"data:collapsed":L||U}),(L||U)&&Q.classList.add("apexcharts-inactive-legend");var Ie=document.createElement("div"),De=document.createElement("span");De.classList.add("apexcharts-legend-text"),De.innerHTML=Array.isArray(P)?P.join(" "):P;var $e=u.config.legend.labels.useSeriesColors?u.globals.colors[I]:Array.isArray(u.config.legend.labels.colors)?null===(O=u.config.legend.labels.colors)||void 0===O?void 0:O[I]:u.config.legend.labels.colors;$e||($e=u.config.chart.foreColor),De.style.color=$e,De.style.fontSize=parseFloat(u.config.legend.fontSize)+"px",De.style.fontWeight=u.config.legend.fontWeight,De.style.fontFamily=f||u.config.chart.fontFamily,_e.setAttrs(De,{rel:I+1,i:I,"data:default-text":encodeURIComponent(P),"data:collapsed":L||U}),Ie.appendChild(Q),Ie.appendChild(De);var yt=new et(this.ctx);u.config.legend.showForZeroSeries||0===yt.getSeriesTotalByIndex(I)&&yt.seriesHaveSameValues(I)&&!yt.isSeriesNull(I)&&-1===u.globals.collapsedSeriesIndices.indexOf(I)&&-1===u.globals.ancillaryCollapsedSeriesIndices.indexOf(I)&&Ie.classList.add("apexcharts-hidden-zero-series"),u.config.legend.showForNullSeries||yt.isSeriesNull(I)&&-1===u.globals.collapsedSeriesIndices.indexOf(I)&&-1===u.globals.ancillaryCollapsedSeriesIndices.indexOf(I)&&Ie.classList.add("apexcharts-hidden-null-series"),u.globals.dom.elLegendWrap.appendChild(Ie),u.globals.dom.elLegendWrap.classList.add("apexcharts-align-".concat(u.config.legend.horizontalAlign)),u.globals.dom.elLegendWrap.classList.add("apx-legend-position-"+u.config.legend.position),Ie.classList.add("apexcharts-legend-series"),Ie.style.margin="".concat(u.config.legend.itemMargin.vertical,"px ").concat(u.config.legend.itemMargin.horizontal,"px"),u.globals.dom.elLegendWrap.style.width=u.config.legend.width?u.config.legend.width+"px":"",u.globals.dom.elLegendWrap.style.height=u.config.legend.height?u.config.legend.height+"px":"",_e.setAttrs(Ie,{rel:I+1,seriesName:me.escapeString(m[I]),"data:collapsed":L||U}),(L||U)&&Ie.classList.add("apexcharts-inactive-legend"),u.config.legend.onItemClick.toggleDataSeries||Ie.classList.add("apexcharts-no-click")}u.globals.dom.elWrap.addEventListener("click",l.onLegendClick,!0),u.config.legend.onItemHover.highlightDataSeries&&0===u.config.legend.customLegendItems.length&&(u.globals.dom.elWrap.addEventListener("mousemove",l.onLegendHovered,!0),u.globals.dom.elWrap.addEventListener("mouseout",l.onLegendHovered,!0))}},{key:"setLegendWrapXY",value:function(l,u){var f=this.w,m=f.globals.dom.elLegendWrap,v=m.getBoundingClientRect(),y=0,w=0;if("bottom"===f.config.legend.position)w+=f.globals.svgHeight-v.height/2;else if("top"===f.config.legend.position){var D=new In(this.ctx),I=D.dimHelpers.getTitleSubtitleCoords("title").height,O=D.dimHelpers.getTitleSubtitleCoords("subtitle").height;w=w+(I>0?I-10:0)+(O>0?O-10:0)}m.style.position="absolute",w=w+u+f.config.legend.offsetY,m.style.left=(y=y+l+f.config.legend.offsetX)+"px",m.style.top=w+"px","bottom"===f.config.legend.position?(m.style.top="auto",m.style.bottom=5-f.config.legend.offsetY+"px"):"right"===f.config.legend.position&&(m.style.left="auto",m.style.right=25+f.config.legend.offsetX+"px"),["width","height"].forEach(function(P){m.style[P]&&(m.style[P]=parseInt(f.config.legend[P],10)+"px")})}},{key:"legendAlignHorizontal",value:function(){var l=this.w;l.globals.dom.elLegendWrap.style.right=0;var u=this.legendHelpers.getLegendBBox(),f=new In(this.ctx),m=f.dimHelpers.getTitleSubtitleCoords("title"),v=f.dimHelpers.getTitleSubtitleCoords("subtitle"),y=0;"bottom"===l.config.legend.position?y=-u.clwh/1.8:"top"===l.config.legend.position&&(y=m.height+v.height+l.config.title.margin+l.config.subtitle.margin-10),this.setLegendWrapXY(20,y)}},{key:"legendAlignVertical",value:function(){var l=this.w,u=this.legendHelpers.getLegendBBox(),f=0;"left"===l.config.legend.position&&(f=20),"right"===l.config.legend.position&&(f=l.globals.svgWidth-u.clww-10),this.setLegendWrapXY(f,20)}},{key:"onLegendHovered",value:function(l){var u=this.w,f=l.target.classList.contains("apexcharts-legend-series")||l.target.classList.contains("apexcharts-legend-text")||l.target.classList.contains("apexcharts-legend-marker");if("heatmap"===u.config.chart.type||this.isBarsDistributed){if(f){var m=parseInt(l.target.getAttribute("rel"),10)-1;this.ctx.events.fireEvent("legendHover",[this.ctx,m,this.w]),new Ot(this.ctx).highlightRangeInSeries(l,l.target)}}else!l.target.classList.contains("apexcharts-inactive-legend")&&f&&new Ot(this.ctx).toggleSeriesOnHover(l,l.target)}},{key:"onLegendClick",value:function(l){var u=this.w;if(!u.config.legend.customLegendItems.length&&(l.target.classList.contains("apexcharts-legend-series")||l.target.classList.contains("apexcharts-legend-text")||l.target.classList.contains("apexcharts-legend-marker"))){var f=parseInt(l.target.getAttribute("rel"),10)-1,m="true"===l.target.getAttribute("data:collapsed"),v=this.w.config.chart.events.legendClick;"function"==typeof v&&v(this.ctx,f,this.w),this.ctx.events.fireEvent("legendClick",[this.ctx,f,this.w]);var y=this.w.config.legend.markers.onClick;"function"==typeof y&&l.target.classList.contains("apexcharts-legend-marker")&&(y(this.ctx,f,this.w),this.ctx.events.fireEvent("legendMarkerClick",[this.ctx,f,this.w])),"treemap"!==u.config.chart.type&&"heatmap"!==u.config.chart.type&&!this.isBarsDistributed&&u.config.legend.onItemClick.toggleDataSeries&&this.legendHelpers.toggleDataSeries(f,m)}}}]),J}(),di=function(){function J(l){xe(this,J),this.ctx=l,this.w=l.w;var u=this.w;this.ev=this.w.config.chart.events,this.selectedClass="apexcharts-selected",this.localeValues=this.w.globals.locale.toolbar,this.minX=u.globals.minX,this.maxX=u.globals.maxX}return ke(J,[{key:"createToolbar",value:function(){var l=this,u=this.w,f=function(){return document.createElement("div")},m=f();if(m.setAttribute("class","apexcharts-toolbar"),m.style.top=u.config.chart.toolbar.offsetY+"px",m.style.right=3-u.config.chart.toolbar.offsetX+"px",u.globals.dom.elWrap.appendChild(m),this.elZoom=f(),this.elZoomIn=f(),this.elZoomOut=f(),this.elPan=f(),this.elSelection=f(),this.elZoomReset=f(),this.elMenuIcon=f(),this.elMenu=f(),this.elCustomIcons=[],this.t=u.config.chart.toolbar.tools,Array.isArray(this.t.customIcons))for(var v=0;v<this.t.customIcons.length;v++)this.elCustomIcons.push(f());var y=[],w=function(P,L,U){var G=P.toLowerCase();l.t[G]&&u.config.chart.zoom.enabled&&y.push({el:L,icon:"string"==typeof l.t[G]?l.t[G]:U,title:l.localeValues[P],class:"apexcharts-".concat(G,"-icon")})};w("zoomIn",this.elZoomIn,'<svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24">\n    <path d="M0 0h24v24H0z" fill="none"/>\n    <path d="M13 7h-2v4H7v2h4v4h2v-4h4v-2h-4V7zm-1-5C6.48 2 2 6.48 2 12s4.48 10 10 10 10-4.48 10-10S17.52 2 12 2zm0 18c-4.41 0-8-3.59-8-8s3.59-8 8-8 8 3.59 8 8-3.59 8-8 8z"/>\n</svg>\n'),w("zoomOut",this.elZoomOut,'<svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24">\n    <path d="M0 0h24v24H0z" fill="none"/>\n    <path d="M7 11v2h10v-2H7zm5-9C6.48 2 2 6.48 2 12s4.48 10 10 10 10-4.48 10-10S17.52 2 12 2zm0 18c-4.41 0-8-3.59-8-8s3.59-8 8-8 8 3.59 8 8-3.59 8-8 8z"/>\n</svg>\n');var D=function(P){l.t[P]&&u.config.chart[P].enabled&&y.push({el:"zoom"===P?l.elZoom:l.elSelection,icon:"string"==typeof l.t[P]?l.t[P]:"zoom"===P?'<svg xmlns="http://www.w3.org/2000/svg" fill="#000000" height="24" viewBox="0 0 24 24" width="24">\n    <path d="M15.5 14h-.79l-.28-.27C15.41 12.59 16 11.11 16 9.5 16 5.91 13.09 3 9.5 3S3 5.91 3 9.5 5.91 16 9.5 16c1.61 0 3.09-.59 4.23-1.57l.27.28v.79l5 4.99L20.49 19l-4.99-5zm-6 0C7.01 14 5 11.99 5 9.5S7.01 5 9.5 5 14 7.01 14 9.5 11.99 14 9.5 14z"/>\n    <path d="M0 0h24v24H0V0z" fill="none"/>\n    <path d="M12 10h-2v2H9v-2H7V9h2V7h1v2h2v1z"/>\n</svg>':'<svg fill="#6E8192" height="24" viewBox="0 0 24 24" width="24" xmlns="http://www.w3.org/2000/svg">\n    <path d="M0 0h24v24H0z" fill="none"/>\n    <path d="M3 5h2V3c-1.1 0-2 .9-2 2zm0 8h2v-2H3v2zm4 8h2v-2H7v2zM3 9h2V7H3v2zm10-6h-2v2h2V3zm6 0v2h2c0-1.1-.9-2-2-2zM5 21v-2H3c0 1.1.9 2 2 2zm-2-4h2v-2H3v2zM9 3H7v2h2V3zm2 18h2v-2h-2v2zm8-8h2v-2h-2v2zm0 8c1.1 0 2-.9 2-2h-2v2zm0-12h2V7h-2v2zm0 8h2v-2h-2v2zm-4 4h2v-2h-2v2zm0-16h2V3h-2v2z"/>\n</svg>',title:l.localeValues["zoom"===P?"selectionZoom":"selection"],class:u.globals.isTouchDevice?"apexcharts-element-hidden":"apexcharts-".concat(P,"-icon")})};D("zoom"),D("selection"),this.t.pan&&u.config.chart.zoom.enabled&&y.push({el:this.elPan,icon:"string"==typeof this.t.pan?this.t.pan:'<svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" fill="#000000" height="24" viewBox="0 0 24 24" width="24">\n    <defs>\n        <path d="M0 0h24v24H0z" id="a"/>\n    </defs>\n    <clipPath id="b">\n        <use overflow="visible" xlink:href="#a"/>\n    </clipPath>\n    <path clip-path="url(#b)" d="M23 5.5V20c0 2.2-1.8 4-4 4h-7.3c-1.08 0-2.1-.43-2.85-1.19L1 14.83s1.26-1.23 1.3-1.25c.22-.19.49-.29.79-.29.22 0 .42.06.6.16.04.01 4.31 2.46 4.31 2.46V4c0-.83.67-1.5 1.5-1.5S11 3.17 11 4v7h1V1.5c0-.83.67-1.5 1.5-1.5S15 .67 15 1.5V11h1V2.5c0-.83.67-1.5 1.5-1.5s1.5.67 1.5 1.5V11h1V5.5c0-.83.67-1.5 1.5-1.5s1.5.67 1.5 1.5z"/>\n</svg>',title:this.localeValues.pan,class:u.globals.isTouchDevice?"apexcharts-element-hidden":"apexcharts-pan-icon"}),w("reset",this.elZoomReset,'<svg fill="#000000" height="24" viewBox="0 0 24 24" width="24" xmlns="http://www.w3.org/2000/svg">\n    <path d="M10 20v-6h4v6h5v-8h3L12 3 2 12h3v8z"/>\n    <path d="M0 0h24v24H0z" fill="none"/>\n</svg>'),this.t.download&&y.push({el:this.elMenuIcon,icon:"string"==typeof this.t.download?this.t.download:'<svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24"><path fill="none" d="M0 0h24v24H0V0z"/><path d="M3 18h18v-2H3v2zm0-5h18v-2H3v2zm0-7v2h18V6H3z"/></svg>',title:this.localeValues.menu,class:"apexcharts-menu-icon"});for(var I=0;I<this.elCustomIcons.length;I++)y.push({el:this.elCustomIcons[I],icon:this.t.customIcons[I].icon,title:this.t.customIcons[I].title,index:this.t.customIcons[I].index,class:"apexcharts-toolbar-custom-icon "+this.t.customIcons[I].class});y.forEach(function(P,L){P.index&&me.moveIndexInArray(y,L,P.index)});for(var O=0;O<y.length;O++)_e.setAttrs(y[O].el,{class:y[O].class,title:y[O].title}),y[O].el.innerHTML=y[O].icon,m.appendChild(y[O].el);this._createHamburgerMenu(m),u.globals.zoomEnabled?this.elZoom.classList.add(this.selectedClass):u.globals.panEnabled?this.elPan.classList.add(this.selectedClass):u.globals.selectionEnabled&&this.elSelection.classList.add(this.selectedClass),this.addToolbarEventListeners()}},{key:"_createHamburgerMenu",value:function(l){this.elMenuItems=[],l.appendChild(this.elMenu),_e.setAttrs(this.elMenu,{class:"apexcharts-menu"});var u=[{name:"exportSVG",title:this.localeValues.exportToSVG},{name:"exportPNG",title:this.localeValues.exportToPNG},{name:"exportCSV",title:this.localeValues.exportToCSV}];this.w.globals.allSeriesHasEqualX||u.splice(2,1);for(var f=0;f<u.length;f++)this.elMenuItems.push(document.createElement("div")),this.elMenuItems[f].innerHTML=u[f].title,_e.setAttrs(this.elMenuItems[f],{class:"apexcharts-menu-item ".concat(u[f].name),title:u[f].title}),this.elMenu.appendChild(this.elMenuItems[f])}},{key:"addToolbarEventListeners",value:function(){var l=this;this.elZoomReset.addEventListener("click",this.handleZoomReset.bind(this)),this.elSelection.addEventListener("click",this.toggleZoomSelection.bind(this,"selection")),this.elZoom.addEventListener("click",this.toggleZoomSelection.bind(this,"zoom")),this.elZoomIn.addEventListener("click",this.handleZoomIn.bind(this)),this.elZoomOut.addEventListener("click",this.handleZoomOut.bind(this)),this.elPan.addEventListener("click",this.togglePanning.bind(this)),this.elMenuIcon.addEventListener("click",this.toggleMenu.bind(this)),this.elMenuItems.forEach(function(f){f.classList.contains("exportSVG")?f.addEventListener("click",l.handleDownload.bind(l,"svg")):f.classList.contains("exportPNG")?f.addEventListener("click",l.handleDownload.bind(l,"png")):f.classList.contains("exportCSV")&&f.addEventListener("click",l.handleDownload.bind(l,"csv"))});for(var u=0;u<this.t.customIcons.length;u++)this.elCustomIcons[u].addEventListener("click",this.t.customIcons[u].click.bind(this,this.ctx,this.ctx.w))}},{key:"toggleZoomSelection",value:function(l){this.ctx.getSyncedCharts().forEach(function(u){u.ctx.toolbar.toggleOtherControls();var f="selection"===l?u.ctx.toolbar.elSelection:u.ctx.toolbar.elZoom,m="selection"===l?"selectionEnabled":"zoomEnabled";u.w.globals[m]=!u.w.globals[m],f.classList.contains(u.ctx.toolbar.selectedClass)?f.classList.remove(u.ctx.toolbar.selectedClass):f.classList.add(u.ctx.toolbar.selectedClass)})}},{key:"getToolbarIconsReference",value:function(){var l=this.w;this.elZoom||(this.elZoom=l.globals.dom.baseEl.querySelector(".apexcharts-zoom-icon")),this.elPan||(this.elPan=l.globals.dom.baseEl.querySelector(".apexcharts-pan-icon")),this.elSelection||(this.elSelection=l.globals.dom.baseEl.querySelector(".apexcharts-selection-icon"))}},{key:"enableZoomPanFromToolbar",value:function(l){this.toggleOtherControls(),"pan"===l?this.w.globals.panEnabled=!0:this.w.globals.zoomEnabled=!0;var u="pan"===l?this.elPan:this.elZoom,f="pan"===l?this.elZoom:this.elPan;u&&u.classList.add(this.selectedClass),f&&f.classList.remove(this.selectedClass)}},{key:"togglePanning",value:function(){this.ctx.getSyncedCharts().forEach(function(l){l.ctx.toolbar.toggleOtherControls(),l.w.globals.panEnabled=!l.w.globals.panEnabled,l.ctx.toolbar.elPan.classList.contains(l.ctx.toolbar.selectedClass)?l.ctx.toolbar.elPan.classList.remove(l.ctx.toolbar.selectedClass):l.ctx.toolbar.elPan.classList.add(l.ctx.toolbar.selectedClass)})}},{key:"toggleOtherControls",value:function(){var l=this,u=this.w;u.globals.panEnabled=!1,u.globals.zoomEnabled=!1,u.globals.selectionEnabled=!1,this.getToolbarIconsReference(),[this.elPan,this.elSelection,this.elZoom].forEach(function(f){f&&f.classList.remove(l.selectedClass)})}},{key:"handleZoomIn",value:function(){var l=this.w;l.globals.isRangeBar&&(this.minX=l.globals.minY,this.maxX=l.globals.maxY);var u=(this.minX+this.maxX)/2,v=this._getNewMinXMaxX((this.minX+u)/2,(this.maxX+u)/2);l.globals.disableZoomIn||this.zoomUpdateOptions(v.minX,v.maxX)}},{key:"handleZoomOut",value:function(){var l=this.w;if(l.globals.isRangeBar&&(this.minX=l.globals.minY,this.maxX=l.globals.maxY),!("datetime"===l.config.xaxis.type&&new Date(this.minX).getUTCFullYear()<1e3)){var u=(this.minX+this.maxX)/2,v=this._getNewMinXMaxX(this.minX-(u-this.minX),this.maxX-(u-this.maxX));l.globals.disableZoomOut||this.zoomUpdateOptions(v.minX,v.maxX)}}},{key:"_getNewMinXMaxX",value:function(l,u){var f=this.w.config.xaxis.convertedCatToNumeric;return{minX:f?Math.floor(l):l,maxX:f?Math.floor(u):u}}},{key:"zoomUpdateOptions",value:function(l,u){var f=this.w;if(void 0!==l||void 0!==u){if(!(f.config.xaxis.convertedCatToNumeric&&(l<1&&(l=1,u=f.globals.dataPoints),u-l<2))){var m={min:l,max:u},v=this.getBeforeZoomRange(m);v&&(m=v.xaxis);var y={xaxis:m},w=me.clone(f.globals.initialConfig.yaxis);f.config.chart.zoom.autoScaleYaxis&&(w=new hi(this.ctx).autoScaleY(this.ctx,w,{xaxis:m})),f.config.chart.group||(y.yaxis=w),this.w.globals.zoomed=!0,this.ctx.updateHelpers._updateOptions(y,!1,this.w.config.chart.animations.dynamicAnimation.enabled),this.zoomCallback(m,w)}}else this.handleZoomReset()}},{key:"zoomCallback",value:function(l,u){"function"==typeof this.ev.zoomed&&this.ev.zoomed(this.ctx,{xaxis:l,yaxis:u})}},{key:"getBeforeZoomRange",value:function(l,u){var f=null;return"function"==typeof this.ev.beforeZoom&&(f=this.ev.beforeZoom(this,{xaxis:l,yaxis:u})),f}},{key:"toggleMenu",value:function(){var l=this;window.setTimeout(function(){l.elMenu.classList.contains("apexcharts-menu-open")?l.elMenu.classList.remove("apexcharts-menu-open"):l.elMenu.classList.add("apexcharts-menu-open")},0)}},{key:"handleDownload",value:function(l){var u=this.w,f=new pn(this.ctx);switch(l){case"svg":f.exportToSVG(this.ctx);break;case"png":f.exportToPng(this.ctx);break;case"csv":f.exportToCSV({series:u.config.series,columnDelimiter:u.config.chart.toolbar.export.csv.columnDelimiter})}}},{key:"handleZoomReset",value:function(l){this.ctx.getSyncedCharts().forEach(function(u){var f=u.w;if(f.globals.lastXAxis.min=f.globals.initialConfig.xaxis.min,f.globals.lastXAxis.max=f.globals.initialConfig.xaxis.max,u.updateHelpers.revertDefaultAxisMinMax(),"function"==typeof f.config.chart.events.beforeResetZoom){var m=f.config.chart.events.beforeResetZoom(u,f);m&&u.updateHelpers.revertDefaultAxisMinMax(m)}"function"==typeof f.config.chart.events.zoomed&&u.ctx.toolbar.zoomCallback({min:f.config.xaxis.min,max:f.config.xaxis.max}),f.globals.zoomed=!1;var v=u.ctx.series.emptyCollapsedSeries(me.clone(f.globals.initialSeries));u.updateHelpers._updateSeries(v,f.config.chart.animations.dynamicAnimation.enabled)})}},{key:"destroy",value:function(){this.elZoom=null,this.elZoomIn=null,this.elZoomOut=null,this.elPan=null,this.elSelection=null,this.elZoomReset=null,this.elMenuIcon=null}}]),J}(),nr=function(J){Qe(u,di);var l=St(u);function u(f){var m;return xe(this,u),(m=l.call(this,f)).ctx=f,m.w=f.w,m.dragged=!1,m.graphics=new _e(m.ctx),m.eventList=["mousedown","mouseleave","mousemove","touchstart","touchmove","mouseup","touchend"],m.clientX=0,m.clientY=0,m.startX=0,m.endX=0,m.dragX=0,m.startY=0,m.endY=0,m.dragY=0,m.moveDirection="none",m}return ke(u,[{key:"init",value:function(f){var m=this,v=f.xyRatios,y=this.w,w=this;this.xyRatios=v,this.zoomRect=this.graphics.drawRect(0,0,0,0),this.selectionRect=this.graphics.drawRect(0,0,0,0),this.gridRect=y.globals.dom.baseEl.querySelector(".apexcharts-grid"),this.zoomRect.node.classList.add("apexcharts-zoom-rect"),this.selectionRect.node.classList.add("apexcharts-selection-rect"),y.globals.dom.elGraphical.add(this.zoomRect),y.globals.dom.elGraphical.add(this.selectionRect),this.slDraggableRect="x"===y.config.chart.selection.type?this.selectionRect.draggable({minX:0,minY:0,maxX:y.globals.gridWidth,maxY:y.globals.gridHeight}).on("dragmove",this.selectionDragging.bind(this,"dragging")):"y"===y.config.chart.selection.type?this.selectionRect.draggable({minX:0,maxX:y.globals.gridWidth}).on("dragmove",this.selectionDragging.bind(this,"dragging")):this.selectionRect.draggable().on("dragmove",this.selectionDragging.bind(this,"dragging")),this.preselectedSelection(),this.hoverArea=y.globals.dom.baseEl.querySelector("".concat(y.globals.chartClass," .apexcharts-svg")),this.hoverArea.classList.add("apexcharts-zoomable"),this.eventList.forEach(function(D){m.hoverArea.addEventListener(D,w.svgMouseEvents.bind(w,v),{capture:!1,passive:!0})})}},{key:"destroy",value:function(){this.slDraggableRect&&(this.slDraggableRect.draggable(!1),this.slDraggableRect.off(),this.selectionRect.off()),this.selectionRect=null,this.zoomRect=null,this.gridRect=null}},{key:"svgMouseEvents",value:function(f,m){var v=this.w,y=this,w=this.ctx.toolbar,D=v.globals.zoomEnabled?v.config.chart.zoom.type:v.config.chart.selection.type,I=v.config.chart.toolbar.autoSelected;if(m.shiftKey?(this.shiftWasPressed=!0,w.enableZoomPanFromToolbar("pan"===I?"zoom":"pan")):this.shiftWasPressed&&(w.enableZoomPanFromToolbar(I),this.shiftWasPressed=!1),m.target){var O,P=m.target.classList;if(m.target.parentNode&&null!==m.target.parentNode&&(O=m.target.parentNode.classList),!(P.contains("apexcharts-selection-rect")||P.contains("apexcharts-legend-marker")||P.contains("apexcharts-legend-text")||O&&O.contains("apexcharts-toolbar"))){if(y.clientX="touchmove"===m.type||"touchstart"===m.type?m.touches[0].clientX:"touchend"===m.type?m.changedTouches[0].clientX:m.clientX,y.clientY="touchmove"===m.type||"touchstart"===m.type?m.touches[0].clientY:"touchend"===m.type?m.changedTouches[0].clientY:m.clientY,"mousedown"===m.type&&1===m.which){var L=y.gridRect.getBoundingClientRect();y.startX=y.clientX-L.left,y.startY=y.clientY-L.top,y.dragged=!1,y.w.globals.mousedown=!0}if(("mousemove"===m.type&&1===m.which||"touchmove"===m.type)&&(y.dragged=!0,v.globals.panEnabled?(v.globals.selection=null,y.w.globals.mousedown&&y.panDragging({context:y,zoomtype:D,xyRatios:f})):(y.w.globals.mousedown&&v.globals.zoomEnabled||y.w.globals.mousedown&&v.globals.selectionEnabled)&&(y.selection=y.selectionDrawing({context:y,zoomtype:D}))),"mouseup"===m.type||"touchend"===m.type||"mouseleave"===m.type){var U=y.gridRect.getBoundingClientRect();y.w.globals.mousedown&&(y.endX=y.clientX-U.left,y.endY=y.clientY-U.top,y.dragX=Math.abs(y.endX-y.startX),y.dragY=Math.abs(y.endY-y.startY),(v.globals.zoomEnabled||v.globals.selectionEnabled)&&y.selectionDrawn({context:y,zoomtype:D}),v.globals.panEnabled&&v.config.xaxis.convertedCatToNumeric&&y.delayedPanScrolled()),v.globals.zoomEnabled&&y.hideSelectionRect(this.selectionRect),y.dragged=!1,y.w.globals.mousedown=!1}this.makeSelectionRectDraggable()}}}},{key:"makeSelectionRectDraggable",value:function(){var f=this.w;if(this.selectionRect){var m=this.selectionRect.node.getBoundingClientRect();m.width>0&&m.height>0&&this.slDraggableRect.selectize({points:"l, r",pointSize:8,pointType:"rect"}).resize({constraint:{minX:0,minY:0,maxX:f.globals.gridWidth,maxY:f.globals.gridHeight}}).on("resizing",this.selectionDragging.bind(this,"resizing"))}}},{key:"preselectedSelection",value:function(){var f=this.w,m=this.xyRatios;if(!f.globals.zoomEnabled)if(null!=f.globals.selection)this.drawSelectionRect(f.globals.selection);else if(void 0!==f.config.chart.selection.xaxis.min&&void 0!==f.config.chart.selection.xaxis.max){var v=(f.config.chart.selection.xaxis.min-f.globals.minX)/m.xRatio;this.drawSelectionRect({x:v,y:0,width:f.globals.gridWidth-(f.globals.maxX-f.config.chart.selection.xaxis.max)/m.xRatio-v,height:f.globals.gridHeight,translateX:0,translateY:0,selectionEnabled:!0}),this.makeSelectionRectDraggable(),"function"==typeof f.config.chart.events.selection&&f.config.chart.events.selection(this.ctx,{xaxis:{min:f.config.chart.selection.xaxis.min,max:f.config.chart.selection.xaxis.max},yaxis:{}})}}},{key:"drawSelectionRect",value:function(f){var m=f.x,v=f.y,y=f.width,w=f.height,D=f.translateX,O=f.translateY,L=this.w,U=this.zoomRect,G=this.selectionRect;if(this.dragged||null!==L.globals.selection){var Y={transform:"translate("+(void 0===D?0:D)+", "+(void 0===O?0:O)+")"};L.globals.zoomEnabled&&this.dragged&&(y<0&&(y=1),U.attr({x:m,y:v,width:y,height:w,fill:L.config.chart.zoom.zoomedArea.fill.color,"fill-opacity":L.config.chart.zoom.zoomedArea.fill.opacity,stroke:L.config.chart.zoom.zoomedArea.stroke.color,"stroke-width":L.config.chart.zoom.zoomedArea.stroke.width,"stroke-opacity":L.config.chart.zoom.zoomedArea.stroke.opacity}),_e.setAttrs(U.node,Y)),L.globals.selectionEnabled&&(G.attr({x:m,y:v,width:y>0?y:0,height:w>0?w:0,fill:L.config.chart.selection.fill.color,"fill-opacity":L.config.chart.selection.fill.opacity,stroke:L.config.chart.selection.stroke.color,"stroke-width":L.config.chart.selection.stroke.width,"stroke-dasharray":L.config.chart.selection.stroke.dashArray,"stroke-opacity":L.config.chart.selection.stroke.opacity}),_e.setAttrs(G.node,Y))}}},{key:"hideSelectionRect",value:function(f){f&&f.attr({x:0,y:0,width:0,height:0})}},{key:"selectionDrawing",value:function(f){var Y,v=f.zoomtype,y=this.w,w=f.context,D=this.gridRect.getBoundingClientRect(),I=w.startX-1,O=w.startY,P=!1,L=!1,U=w.clientX-D.left-I,G=w.clientY-D.top-O;return Math.abs(U+I)>y.globals.gridWidth?U=y.globals.gridWidth-I:w.clientX-D.left<0&&(U=I),I>w.clientX-D.left&&(P=!0,U=Math.abs(U)),O>w.clientY-D.top&&(L=!0,G=Math.abs(G)),w.drawSelectionRect(Y="x"===v?{x:P?I-U:I,y:0,width:U,height:y.globals.gridHeight}:"y"===v?{x:0,y:L?O-G:O,width:y.globals.gridWidth,height:G}:{x:P?I-U:I,y:L?O-G:O,width:U,height:G}),w.selectionDragging("resizing"),Y}},{key:"selectionDragging",value:function(f,m){var v=this,y=this.w,w=this.xyRatios,D=this.selectionRect,I=0;"resizing"===f&&(I=30);var O=function(L){return parseFloat(D.node.getAttribute(L))},P={x:O("x"),y:O("y"),width:O("width"),height:O("height")};y.globals.selection=P,"function"==typeof y.config.chart.events.selection&&y.globals.selectionEnabled&&(clearTimeout(this.w.globals.selectionResizeTimer),this.w.globals.selectionResizeTimer=window.setTimeout(function(){var L=v.gridRect.getBoundingClientRect(),U=D.node.getBoundingClientRect(),G={xaxis:{min:y.globals.xAxisScale.niceMin+(U.left-L.left)*w.xRatio,max:y.globals.xAxisScale.niceMin+(U.right-L.left)*w.xRatio},yaxis:{min:y.globals.yAxisScale[0].niceMin+(L.bottom-U.bottom)*w.yRatio[0],max:y.globals.yAxisScale[0].niceMax-(U.top-L.top)*w.yRatio[0]}};y.config.chart.events.selection(v.ctx,G),y.config.chart.brush.enabled&&void 0!==y.config.chart.events.brushScrolled&&y.config.chart.events.brushScrolled(v.ctx,G)},I))}},{key:"selectionDrawn",value:function(f){var v=f.zoomtype,y=this.w,w=f.context,D=this.xyRatios,I=this.ctx.toolbar;if(w.startX>w.endX){var O=w.startX;w.startX=w.endX,w.endX=O}if(w.startY>w.endY){var P=w.startY;w.startY=w.endY,w.endY=P}var L=void 0,U=void 0;y.globals.isRangeBar?(L=y.globals.yAxisScale[0].niceMin+w.startX*D.invertedYRatio,U=y.globals.yAxisScale[0].niceMin+w.endX*D.invertedYRatio):(L=y.globals.xAxisScale.niceMin+w.startX*D.xRatio,U=y.globals.xAxisScale.niceMin+w.endX*D.xRatio);var G=[],Y=[];if(y.config.yaxis.forEach(function(de,he){G.push(y.globals.yAxisScale[he].niceMax-D.yRatio[he]*w.startY),Y.push(y.globals.yAxisScale[he].niceMax-D.yRatio[he]*w.endY)}),w.dragged&&(w.dragX>10||w.dragY>10)&&L!==U)if(y.globals.zoomEnabled){var Q=me.clone(y.globals.initialConfig.yaxis),ie=me.clone(y.globals.initialConfig.xaxis);if(y.globals.zoomed=!0,y.config.xaxis.convertedCatToNumeric&&(L=Math.floor(L),U=Math.floor(U),L<1&&(L=1,U=y.globals.dataPoints),U-L<2&&(U=L+1)),"xy"!==v&&"x"!==v||(ie={min:L,max:U}),"xy"!==v&&"y"!==v||Q.forEach(function(de,he){Q[he].min=Y[he],Q[he].max=G[he]}),y.config.chart.zoom.autoScaleYaxis){var le=new hi(w.ctx);Q=le.autoScaleY(w.ctx,Q,{xaxis:ie})}if(I){var S=I.getBeforeZoomRange(ie,Q);S&&(ie=S.xaxis?S.xaxis:ie,Q=S.yaxis?S.yaxis:Q)}var R={xaxis:ie};y.config.chart.group||(R.yaxis=Q),w.ctx.updateHelpers._updateOptions(R,!1,w.w.config.chart.animations.dynamicAnimation.enabled),"function"==typeof y.config.chart.events.zoomed&&I.zoomCallback(ie,Q)}else if(y.globals.selectionEnabled){var $,te=null;$={min:L,max:U},"xy"!==v&&"y"!==v||(te=me.clone(y.config.yaxis)).forEach(function(de,he){te[he].min=Y[he],te[he].max=G[he]}),y.globals.selection=w.selection,"function"==typeof y.config.chart.events.selection&&y.config.chart.events.selection(w.ctx,{xaxis:$,yaxis:te})}}},{key:"panDragging",value:function(f){var v=this.w,y=f.context;if(void 0!==v.globals.lastClientPosition.x){var w=v.globals.lastClientPosition.x-y.clientX,D=v.globals.lastClientPosition.y-y.clientY;Math.abs(w)>Math.abs(D)&&w>0?this.moveDirection="left":Math.abs(w)>Math.abs(D)&&w<0?this.moveDirection="right":Math.abs(D)>Math.abs(w)&&D>0?this.moveDirection="up":Math.abs(D)>Math.abs(w)&&D<0&&(this.moveDirection="down")}v.globals.lastClientPosition={x:y.clientX,y:y.clientY},v.config.xaxis.convertedCatToNumeric||y.panScrolled(v.globals.isRangeBar?v.globals.minY:v.globals.minX,v.globals.isRangeBar?v.globals.maxY:v.globals.maxX)}},{key:"delayedPanScrolled",value:function(){var f=this.w,m=f.globals.minX,v=f.globals.maxX,y=(f.globals.maxX-f.globals.minX)/2;"left"===this.moveDirection?(m=f.globals.minX+y,v=f.globals.maxX+y):"right"===this.moveDirection&&(m=f.globals.minX-y,v=f.globals.maxX-y),m=Math.floor(m),v=Math.floor(v),this.updateScrolledChart({xaxis:{min:m,max:v}},m,v)}},{key:"panScrolled",value:function(f,m){var v=this.w,y=this.xyRatios,w=me.clone(v.globals.initialConfig.yaxis),D=y.xRatio,I=v.globals.minX,O=v.globals.maxX;v.globals.isRangeBar&&(D=y.invertedYRatio,I=v.globals.minY,O=v.globals.maxY),"left"===this.moveDirection?(f=I+v.globals.gridWidth/15*D,m=O+v.globals.gridWidth/15*D):"right"===this.moveDirection&&(f=I-v.globals.gridWidth/15*D,m=O-v.globals.gridWidth/15*D),v.globals.isRangeBar||(f<v.globals.initialMinX||m>v.globals.initialMaxX)&&(f=I,m=O);var P={min:f,max:m};v.config.chart.zoom.autoScaleYaxis&&(w=new hi(this.ctx).autoScaleY(this.ctx,w,{xaxis:P}));var L={xaxis:{min:f,max:m}};v.config.chart.group||(L.yaxis=w),this.updateScrolledChart(L,f,m)}},{key:"updateScrolledChart",value:function(f,m,v){var y=this.w;this.ctx.updateHelpers._updateOptions(f,!1,!1),"function"==typeof y.config.chart.events.scrolled&&y.config.chart.events.scrolled(this.ctx,{xaxis:{min:m,max:v}})}}]),u}(),oo=function(){function J(l){xe(this,J),this.w=l.w,this.ttCtx=l,this.ctx=l.ctx}return ke(J,[{key:"getNearestValues",value:function(l){var u=l.hoverArea,m=l.clientX,v=l.clientY,y=this.w,w=l.elGrid.getBoundingClientRect(),D=w.width,I=w.height,O=D/(y.globals.dataPoints-1),P=I/y.globals.dataPoints,L=this.hasBars();!y.globals.comboCharts&&!L||y.config.xaxis.convertedCatToNumeric||(O=D/y.globals.dataPoints);var U=m-w.left-y.globals.barPadForNumericAxis,G=v-w.top;U<0||G<0||U>D||G>I?(u.classList.remove("hovering-zoom"),u.classList.remove("hovering-pan")):y.globals.zoomEnabled?(u.classList.remove("hovering-pan"),u.classList.add("hovering-zoom")):y.globals.panEnabled&&(u.classList.remove("hovering-zoom"),u.classList.add("hovering-pan"));var Y=Math.round(U/O),Q=Math.floor(G/P);L&&!y.config.xaxis.convertedCatToNumeric&&(Y=Math.ceil(U/O),Y-=1);var ie=null,le=null,S=y.globals.seriesXvalues.map(function(he){return he.filter(function(Ie){return me.isNumber(Ie)})}),R=y.globals.seriesYvalues.map(function(he){return he.filter(function(Ie){return me.isNumber(Ie)})});if(y.globals.isXNumeric){var $=this.ttCtx.getElGrid().getBoundingClientRect(),te=U*($.width/D);ie=(le=this.closestInMultiArray(te,G*($.height/I),S,R)).index,Y=le.j,null!==ie&&(Y=(le=this.closestInArray(te,S=y.globals.seriesXvalues[ie])).index)}return y.globals.capturedSeriesIndex=null===ie?-1:ie,(!Y||Y<1)&&(Y=0),y.globals.capturedDataPointIndex=y.globals.isBarHorizontal?Q:Y,{capturedSeries:ie,j:y.globals.isBarHorizontal?Q:Y,hoverX:U,hoverY:G}}},{key:"closestInMultiArray",value:function(l,u,f,m){var y=0,w=null,D=-1;this.w.globals.series.length>1?y=this.getFirstActiveXArray(f):w=0;var O=Math.abs(l-f[y][0]);if(f.forEach(function(U){U.forEach(function(G,Y){var Q=Math.abs(l-G);Q<=O&&(O=Q,D=Y)})}),-1!==D){var L=Math.abs(u-m[y][D]);w=y,m.forEach(function(U,G){var Y=Math.abs(u-U[D]);Y<=L&&(L=Y,w=G)})}return{index:w,j:D}}},{key:"getFirstActiveXArray",value:function(l){for(var u=this.w,f=0,m=l.map(function(y,w){return y.length>0?w:-1}),v=0;v<m.length;v++)if(-1!==m[v]&&-1===u.globals.collapsedSeriesIndices.indexOf(v)&&-1===u.globals.ancillaryCollapsedSeriesIndices.indexOf(v)){f=m[v];break}return f}},{key:"closestInArray",value:function(l,u){for(var m=null,v=Math.abs(l-u[0]),y=0;y<u.length;y++){var w=Math.abs(l-u[y]);w<v&&(v=w,m=y)}return{index:m}}},{key:"isXoverlap",value:function(l){var u=[],f=this.w.globals.seriesX.filter(function(v){return void 0!==v[0]});if(f.length>0)for(var m=0;m<f.length-1;m++)void 0!==f[m][l]&&void 0!==f[m+1][l]&&f[m][l]!==f[m+1][l]&&u.push("unEqual");return 0===u.length}},{key:"isInitialSeriesSameLen",value:function(){for(var l=!0,u=this.w.globals.initialSeries,f=0;f<u.length-1;f++)if(u[f].data.length!==u[f+1].data.length){l=!1;break}return l}},{key:"getBarsHeight",value:function(l){return At(l).reduce(function(u,f){return u+f.getBBox().height},0)}},{key:"getElMarkers",value:function(l){return this.w.globals.dom.baseEl.querySelectorAll("number"==typeof l?".apexcharts-series[data\\:realIndex='".concat(l,"'] .apexcharts-series-markers-wrap > *"):".apexcharts-series-markers-wrap > *")}},{key:"getAllMarkers",value:function(){var l=this.w.globals.dom.baseEl.querySelectorAll(".apexcharts-series-markers-wrap");(l=At(l)).sort(function(f,m){var v=Number(f.getAttribute("data:realIndex")),y=Number(m.getAttribute("data:realIndex"));return y<v?1:y>v?-1:0});var u=[];return l.forEach(function(f){u.push(f.querySelector(".apexcharts-marker"))}),u}},{key:"hasMarkers",value:function(l){return this.getElMarkers(l).length>0}},{key:"getElBars",value:function(){return this.w.globals.dom.baseEl.querySelectorAll(".apexcharts-bar-series,  .apexcharts-candlestick-series, .apexcharts-boxPlot-series, .apexcharts-rangebar-series")}},{key:"hasBars",value:function(){return this.getElBars().length>0}},{key:"getHoverMarkerSize",value:function(l){var u=this.w,f=u.config.markers.hover.size;return void 0===f&&(f=u.globals.markers.size[l]+u.config.markers.hover.sizeOffset),f}},{key:"toggleAllTooltipSeriesGroups",value:function(l){var u=this.w,f=this.ttCtx;0===f.allTooltipSeriesGroups.length&&(f.allTooltipSeriesGroups=u.globals.dom.baseEl.querySelectorAll(".apexcharts-tooltip-series-group"));for(var m=f.allTooltipSeriesGroups,v=0;v<m.length;v++)"enable"===l?(m[v].classList.add("apexcharts-active"),m[v].style.display=u.config.tooltip.items.display):(m[v].classList.remove("apexcharts-active"),m[v].style.display="none")}}]),J}(),ti=function(){function J(l){xe(this,J),this.w=l.w,this.ctx=l.ctx,this.ttCtx=l,this.tooltipUtil=new oo(l)}return ke(J,[{key:"drawSeriesTexts",value:function(l){var u=l.shared,f=void 0===u||u,m=l.ttItems,v=l.i,y=void 0===v?0:v,w=l.j,D=void 0===w?null:w,P=l.e,L=this.w;void 0!==L.config.tooltip.custom?this.handleCustomTooltip({i:y,j:D,y1:l.y1,y2:l.y2,w:L}):this.toggleActiveInactiveSeries(f);var U=this.getValuesToPrint({i:y,j:D});this.printLabels({i:y,j:D,values:U,ttItems:m,shared:f,e:P});var G=this.ttCtx.getElTooltip();this.ttCtx.tooltipRect.ttWidth=G.getBoundingClientRect().width,this.ttCtx.tooltipRect.ttHeight=G.getBoundingClientRect().height}},{key:"printLabels",value:function(l){var u,f=this,m=l.i,v=l.j,y=l.values,w=l.ttItems,D=l.shared,I=l.e,O=this.w,P=[],L=function($){return O.globals.seriesGoals[$]&&O.globals.seriesGoals[$][v]&&Array.isArray(O.globals.seriesGoals[$][v])},U=y.xVal,G=y.zVal,Y=y.xAxisTTVal,Q="",ie=O.globals.colors[m];null!==v&&O.config.plotOptions.bar.distributed&&(ie=O.globals.colors[v]);for(var le=function($,te){var de=f.getFormatters(m);Q=f.getSeriesName({fn:de.yLbTitleFormatter,index:m,seriesIndex:m,j:v}),"treemap"===O.config.chart.type&&(Q=de.yLbTitleFormatter(String(O.config.series[m].data[v].x),{series:O.globals.series,seriesIndex:m,dataPointIndex:v,w:O}));var he=O.config.tooltip.inverseOrder?te:$;if(O.globals.axisCharts){var Ie=function(yt){var ot,Lt,Pt,Mn;return O.globals.isRangeData?de.yLbFormatter(null===(ot=O.globals.seriesRangeStart)||void 0===ot||null===(Lt=ot[yt])||void 0===Lt?void 0:Lt[v],{series:O.globals.seriesRangeStart,seriesIndex:yt,dataPointIndex:v,w:O})+" - "+de.yLbFormatter(null===(Pt=O.globals.seriesRangeEnd)||void 0===Pt||null===(Mn=Pt[yt])||void 0===Mn?void 0:Mn[v],{series:O.globals.seriesRangeEnd,seriesIndex:yt,dataPointIndex:v,w:O}):de.yLbFormatter(O.globals.series[yt][v],{series:O.globals.series,seriesIndex:yt,dataPointIndex:v,w:O})};if(D)de=f.getFormatters(he),Q=f.getSeriesName({fn:de.yLbTitleFormatter,index:he,seriesIndex:m,j:v}),ie=O.globals.colors[he],u=Ie(he),L(he)&&(P=O.globals.seriesGoals[he][v].map(function(yt){return{attrs:yt,val:de.yLbFormatter(yt.value,{seriesIndex:he,dataPointIndex:v,w:O})}}));else{var De,$e=null==I||null===(De=I.target)||void 0===De?void 0:De.getAttribute("fill");$e&&(ie=-1!==$e.indexOf("url")?document.querySelector($e.substr(4).slice(0,-1)).childNodes[0].getAttribute("stroke"):$e),u=Ie(m),L(m)&&Array.isArray(O.globals.seriesGoals[m][v])&&(P=O.globals.seriesGoals[m][v].map(function(yt){return{attrs:yt,val:de.yLbFormatter(yt.value,{seriesIndex:m,dataPointIndex:v,w:O})}}))}}null===v&&(u=de.yLbFormatter(O.globals.series[m],re(re({},O),{},{seriesIndex:m,dataPointIndex:m}))),f.DOMHandling({i:m,t:he,j:v,ttItems:w,values:{val:u,goalVals:P,xVal:U,xAxisTTVal:Y,zVal:G},seriesName:Q,shared:D,pColor:ie})},S=0,R=O.globals.series.length-1;S<O.globals.series.length;S++,R--)le(S,R)}},{key:"getFormatters",value:function(l){var u,f=this.w,m=f.globals.yLabelFormatters[l];return void 0!==f.globals.ttVal?Array.isArray(f.globals.ttVal)?(m=f.globals.ttVal[l]&&f.globals.ttVal[l].formatter,u=f.globals.ttVal[l]&&f.globals.ttVal[l].title&&f.globals.ttVal[l].title.formatter):(m=f.globals.ttVal.formatter,"function"==typeof f.globals.ttVal.title.formatter&&(u=f.globals.ttVal.title.formatter)):u=f.config.tooltip.y.title.formatter,"function"!=typeof m&&(m=f.globals.yLabelFormatters[0]?f.globals.yLabelFormatters[0]:function(v){return v}),"function"!=typeof u&&(u=function(v){return v}),{yLbFormatter:m,yLbTitleFormatter:u}}},{key:"getSeriesName",value:function(l){var m=l.seriesIndex,v=l.j,y=this.w;return(0,l.fn)(String(y.globals.seriesNames[l.index]),{series:y.globals.series,seriesIndex:m,dataPointIndex:v,w:y})}},{key:"DOMHandling",value:function(l){var u=l.t,f=l.j,m=l.ttItems,v=l.values,y=l.seriesName,w=l.shared,D=l.pColor,I=this.w,O=this.ttCtx,P=v.val,L=v.goalVals,U=v.xVal,G=v.xAxisTTVal,Y=v.zVal,Q=null;Q=m[u].children,I.config.tooltip.fillSeriesColor&&(m[u].style.backgroundColor=D,Q[0].style.display="none"),O.showTooltipTitle&&(null===O.tooltipTitle&&(O.tooltipTitle=I.globals.dom.baseEl.querySelector(".apexcharts-tooltip-title")),O.tooltipTitle.innerHTML=U),O.isXAxisTooltipEnabled&&(O.xaxisTooltipText.innerHTML=""!==G?G:U);var ie=m[u].querySelector(".apexcharts-tooltip-text-y-label");ie&&(ie.innerHTML=y||"");var le=m[u].querySelector(".apexcharts-tooltip-text-y-value");le&&(le.innerHTML=void 0!==P?P:""),Q[0]&&Q[0].classList.contains("apexcharts-tooltip-marker")&&(I.config.tooltip.marker.fillColors&&Array.isArray(I.config.tooltip.marker.fillColors)&&(D=I.config.tooltip.marker.fillColors[u]),Q[0].style.backgroundColor=D),I.config.tooltip.marker.show||(Q[0].style.display="none");var S=m[u].querySelector(".apexcharts-tooltip-text-goals-label"),R=m[u].querySelector(".apexcharts-tooltip-text-goals-value");if(L.length&&I.globals.seriesGoals[u]){var $=function(){var te="<div >",de="<div>";L.forEach(function(he,Ie){te+=' <div style="display: flex"><span class="apexcharts-tooltip-marker" style="background-color: '.concat(he.attrs.strokeColor,'; height: 3px; border-radius: 0; top: 5px;"></span> ').concat(he.attrs.name,"</div>"),de+="<div>".concat(he.val,"</div>")}),S.innerHTML=te+"</div>",R.innerHTML=de+"</div>"};w?I.globals.seriesGoals[u][f]&&Array.isArray(I.globals.seriesGoals[u][f])?$():(S.innerHTML="",R.innerHTML=""):$()}else S.innerHTML="",R.innerHTML="";null!==Y&&(m[u].querySelector(".apexcharts-tooltip-text-z-label").innerHTML=I.config.tooltip.z.title,m[u].querySelector(".apexcharts-tooltip-text-z-value").innerHTML=void 0!==Y?Y:""),w&&Q[0]&&(Q[0].parentNode.style.display=null==P||I.globals.ancillaryCollapsedSeriesIndices.indexOf(u)>-1||I.globals.collapsedSeriesIndices.indexOf(u)>-1?"none":I.config.tooltip.items.display)}},{key:"toggleActiveInactiveSeries",value:function(l){var u=this.w;if(l)this.tooltipUtil.toggleAllTooltipSeriesGroups("enable");else{this.tooltipUtil.toggleAllTooltipSeriesGroups("disable");var f=u.globals.dom.baseEl.querySelector(".apexcharts-tooltip-series-group");f&&(f.classList.add("apexcharts-active"),f.style.display=u.config.tooltip.items.display)}}},{key:"getValuesToPrint",value:function(l){var u=l.i,f=l.j,m=this.w,v=this.ctx.series.filteredSeriesX(),y="",w="",D=null,I=null,O={series:m.globals.series,seriesIndex:u,dataPointIndex:f,w:m},P=m.globals.ttZFormatter;null===f?I=m.globals.series[u]:m.globals.isXNumeric&&"treemap"!==m.config.chart.type?(y=v[u][f],0===v[u].length&&(y=v[this.tooltipUtil.getFirstActiveXArray(v)][f])):y=void 0!==m.globals.labels[f]?m.globals.labels[f]:"";var L=y;return y=m.globals.isXNumeric&&"datetime"===m.config.xaxis.type?new vi(this.ctx).xLabelFormat(m.globals.ttKeyFormatter,L,L,{i:void 0,dateFormatter:new kn(this.ctx).formatDate,w:this.w}):m.globals.isBarHorizontal?m.globals.yLabelFormatters[0](L,O):m.globals.xLabelFormatter(L,O),void 0!==m.config.tooltip.x.formatter&&(y=m.globals.ttKeyFormatter(L,O)),m.globals.seriesZ.length>0&&m.globals.seriesZ[u].length>0&&(D=P(m.globals.seriesZ[u][f],m)),w="function"==typeof m.config.xaxis.tooltip.formatter?m.globals.xaxisTooltipFormatter(L,O):y,{val:Array.isArray(I)?I.join(" "):I,xVal:Array.isArray(y)?y.join(" "):y,xAxisTTVal:Array.isArray(w)?w.join(" "):w,zVal:D}}},{key:"handleCustomTooltip",value:function(l){var u=l.i,f=l.j,m=l.y1,v=l.y2,y=l.w,w=this.ttCtx.getElTooltip(),D=y.config.tooltip.custom;Array.isArray(D)&&D[u]&&(D=D[u]),w.innerHTML=D({ctx:this.ctx,series:y.globals.series,seriesIndex:u,dataPointIndex:f,y1:m,y2:v,w:y})}}]),J}(),Vr=function(){function J(l){xe(this,J),this.ttCtx=l,this.ctx=l.ctx,this.w=l.w}return ke(J,[{key:"moveXCrosshairs",value:function(l){var u=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,f=this.ttCtx,m=this.w,v=f.getElXCrosshairs(),y=l-f.xcrosshairsWidth/2,w=m.globals.labels.slice().length;if(null!==u&&(y=m.globals.gridWidth/w*u),null===v||m.globals.isBarHorizontal||(v.setAttribute("x",y),v.setAttribute("x1",y),v.setAttribute("x2",y),v.setAttribute("y2",m.globals.gridHeight),v.classList.add("apexcharts-active")),y<0&&(y=0),y>m.globals.gridWidth&&(y=m.globals.gridWidth),f.isXAxisTooltipEnabled){var D=y;"tickWidth"!==m.config.xaxis.crosshairs.width&&"barWidth"!==m.config.xaxis.crosshairs.width||(D=y+f.xcrosshairsWidth/2),this.moveXAxisTooltip(D)}}},{key:"moveYCrosshairs",value:function(l){var u=this.ttCtx;null!==u.ycrosshairs&&_e.setAttrs(u.ycrosshairs,{y1:l,y2:l}),null!==u.ycrosshairsHidden&&_e.setAttrs(u.ycrosshairsHidden,{y1:l,y2:l})}},{key:"moveXAxisTooltip",value:function(l){var u=this.w,f=this.ttCtx;if(null!==f.xaxisTooltip&&0!==f.xcrosshairsWidth){f.xaxisTooltip.classList.add("apexcharts-active");var v,m=f.xaxisOffY+u.config.xaxis.tooltip.offsetY+u.globals.translateY+1+u.config.xaxis.offsetY;l-=f.xaxisTooltip.getBoundingClientRect().width/2,isNaN(l)||(l+=u.globals.translateX,v=new _e(this.ctx).getTextRects(f.xaxisTooltipText.innerHTML),f.xaxisTooltipText.style.minWidth=v.width+"px",f.xaxisTooltip.style.left=l+"px",f.xaxisTooltip.style.top=m+"px")}}},{key:"moveYAxisTooltip",value:function(l){var u=this.w,f=this.ttCtx;null===f.yaxisTTEls&&(f.yaxisTTEls=u.globals.dom.baseEl.querySelectorAll(".apexcharts-yaxistooltip"));var m=parseInt(f.ycrosshairsHidden.getAttribute("y1"),10),v=u.globals.translateY+m,y=f.yaxisTTEls[l].getBoundingClientRect().height,w=u.globals.translateYAxisX[l]-2;u.config.yaxis[l].opposite&&(w-=26),v-=y/2,-1===u.globals.ignoreYAxisIndexes.indexOf(l)?(f.yaxisTTEls[l].classList.add("apexcharts-active"),f.yaxisTTEls[l].style.top=v+"px",f.yaxisTTEls[l].style.left=w+u.config.yaxis[l].tooltip.offsetX+"px"):f.yaxisTTEls[l].classList.remove("apexcharts-active")}},{key:"moveTooltip",value:function(l,u){var f=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null,m=this.w,v=this.ttCtx,y=v.getElTooltip(),w=v.tooltipRect,D=null!==f?parseFloat(f):1,I=parseFloat(l)+D+5,O=parseFloat(u)+D/2;if(I>m.globals.gridWidth/2&&(I=I-w.ttWidth-D-10),I>m.globals.gridWidth-w.ttWidth-10&&(I=m.globals.gridWidth-w.ttWidth),I<-20&&(I=-20),m.config.tooltip.followCursor){var P=v.getElGrid().getBoundingClientRect();(I=v.e.clientX-P.left)>m.globals.gridWidth/2&&(I-=v.tooltipRect.ttWidth),(O=v.e.clientY+m.globals.translateY-P.top)>m.globals.gridHeight/2&&(O-=v.tooltipRect.ttHeight)}else m.globals.isBarHorizontal||w.ttHeight/2+O>m.globals.gridHeight&&(O=m.globals.gridHeight-w.ttHeight+m.globals.translateY);isNaN(I)||(y.style.left=(I+=m.globals.translateX)+"px",y.style.top=O+"px")}},{key:"moveMarkers",value:function(l,u){var f=this.w,m=this.ttCtx;if(f.globals.markers.size[l]>0)for(var v=f.globals.dom.baseEl.querySelectorAll(" .apexcharts-series[data\\:realIndex='".concat(l,"'] .apexcharts-marker")),y=0;y<v.length;y++)parseInt(v[y].getAttribute("rel"),10)===u&&(m.marker.resetPointsSize(),m.marker.enlargeCurrentPoint(u,v[y]));else m.marker.resetPointsSize(),this.moveDynamicPointOnHover(u,l)}},{key:"moveDynamicPointOnHover",value:function(l,u){var f,m,v=this.w,y=this.ttCtx,w=v.globals.pointsArray,D=y.tooltipUtil.getHoverMarkerSize(u),I=v.config.series[u].type;if(!I||"column"!==I&&"candlestick"!==I&&"boxPlot"!==I){f=w[u][l][0],m=w[u][l][1]?w[u][l][1]:0;var O=v.globals.dom.baseEl.querySelector(".apexcharts-series[data\\:realIndex='".concat(u,"'] .apexcharts-series-markers circle"));O&&m<v.globals.gridHeight&&m>0&&(O.setAttribute("r",D),O.setAttribute("cx",f),O.setAttribute("cy",m)),this.moveXCrosshairs(f),y.fixedTooltip||this.moveTooltip(f,m,D)}}},{key:"moveDynamicPointsOnHover",value:function(l){var u,f=this.ttCtx,m=f.w,v=0,y=0,w=m.globals.pointsArray;u=new Ot(this.ctx).getActiveConfigSeriesIndex("asc",["line","area","scatter","bubble"]);var D=f.tooltipUtil.getHoverMarkerSize(u);w[u]&&(v=w[u][l][0],y=w[u][l][1]);var I=f.tooltipUtil.getAllMarkers();if(null!==I)for(var O=0;O<m.globals.series.length;O++){var P=w[O];if(m.globals.comboCharts&&void 0===P&&I.splice(O,0,null),P&&P.length){var L=w[O][l][1];I[O].setAttribute("cx",v),"rangeArea"!==m.config.chart.type||m.globals.comboCharts||(L-=Math.abs(L-w[O][l+m.globals.series[O].length][1])/2),null!==L&&!isNaN(L)&&L<m.globals.gridHeight+D&&L+D>0?(I[O]&&I[O].setAttribute("r",D),I[O]&&I[O].setAttribute("cy",L)):I[O]&&I[O].setAttribute("r",0)}}this.moveXCrosshairs(v),f.fixedTooltip||this.moveTooltip(v,y||m.globals.gridHeight,D)}},{key:"moveStickyTooltipOverBars",value:function(l,u){var f=this.w,m=this.ttCtx,v=f.globals.columnSeries?f.globals.columnSeries.length:f.globals.series.length,y=v>=2&&v%2==0?Math.floor(v/2):Math.floor(v/2)+1;f.globals.isBarHorizontal&&(y=new Ot(this.ctx).getActiveConfigSeriesIndex("desc")+1);var w=f.globals.dom.baseEl.querySelector(".apexcharts-bar-series .apexcharts-series[rel='".concat(y,"'] path[j='").concat(l,"'], .apexcharts-candlestick-series .apexcharts-series[rel='").concat(y,"'] path[j='").concat(l,"'], .apexcharts-boxPlot-series .apexcharts-series[rel='").concat(y,"'] path[j='").concat(l,"'], .apexcharts-rangebar-series .apexcharts-series[rel='").concat(y,"'] path[j='").concat(l,"']"));w||"number"!=typeof u||(w=f.globals.dom.baseEl.querySelector(".apexcharts-bar-series .apexcharts-series[data\\:realIndex='".concat(u,"'] path[j='").concat(l,"'],\n        .apexcharts-candlestick-series .apexcharts-series[data\\:realIndex='").concat(u,"'] path[j='").concat(l,"'],\n        .apexcharts-boxPlot-series .apexcharts-series[data\\:realIndex='").concat(u,"'] path[j='").concat(l,"'],\n        .apexcharts-rangebar-series .apexcharts-series[data\\:realIndex='").concat(u,"'] path[j='").concat(l,"']")));var D=w?parseFloat(w.getAttribute("cx")):0,I=w?parseFloat(w.getAttribute("cy")):0,O=w?parseFloat(w.getAttribute("barWidth")):0,P=m.getElGrid().getBoundingClientRect(),L=w&&(w.classList.contains("apexcharts-candlestick-area")||w.classList.contains("apexcharts-boxPlot-area"));f.globals.isXNumeric?(w&&!L&&(D-=v%2!=0?O/2:0),w&&L&&f.globals.comboCharts&&(D-=O/2)):f.globals.isBarHorizontal||(D=m.xAxisTicksPositions[l-1]+m.dataPointsDividedWidth/2,isNaN(D)&&(D=m.xAxisTicksPositions[l]-m.dataPointsDividedWidth/2)),f.globals.isBarHorizontal?I-=m.tooltipRect.ttHeight:f.config.tooltip.followCursor?I=m.e.clientY-P.top-m.tooltipRect.ttHeight/2:I+m.tooltipRect.ttHeight+15>f.globals.gridHeight&&(I=f.globals.gridHeight),f.globals.isBarHorizontal||this.moveXCrosshairs(D),m.fixedTooltip||this.moveTooltip(D,I||f.globals.gridHeight)}}]),J}(),si=function(){function J(l){xe(this,J),this.w=l.w,this.ttCtx=l,this.ctx=l.ctx,this.tooltipPosition=new Vr(l)}return ke(J,[{key:"drawDynamicPoints",value:function(){var l=this.w,u=new _e(this.ctx),f=new rt(this.ctx),m=l.globals.dom.baseEl.querySelectorAll(".apexcharts-series");m=At(m),l.config.chart.stacked&&m.sort(function(P,L){return parseFloat(P.getAttribute("data:realIndex"))-parseFloat(L.getAttribute("data:realIndex"))});for(var v=0;v<m.length;v++){var y=m[v].querySelector(".apexcharts-series-markers-wrap");if(null!==y){var w=void 0,D="apexcharts-marker w".concat((Math.random()+1).toString(36).substring(4));"line"!==l.config.chart.type&&"area"!==l.config.chart.type||l.globals.comboCharts||l.config.tooltip.intersect||(D+=" no-pointer-events");var I=f.getMarkerConfig({cssClass:D,seriesIndex:Number(y.getAttribute("data:realIndex"))});(w=u.drawMarker(0,0,I)).node.setAttribute("default-marker-size",0);var O=document.createElementNS(l.globals.SVGNS,"g");O.classList.add("apexcharts-series-markers"),O.appendChild(w.node),y.appendChild(O)}}}},{key:"enlargeCurrentPoint",value:function(l,u){var f=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null,m=arguments.length>3&&void 0!==arguments[3]?arguments[3]:null,v=this.w;"bubble"!==v.config.chart.type&&this.newPointSize(l,u);var y=u.getAttribute("cx"),w=u.getAttribute("cy");if(null!==f&&null!==m&&(y=f,w=m),this.tooltipPosition.moveXCrosshairs(y),!this.fixedTooltip){if("radar"===v.config.chart.type){var D=this.ttCtx.getElGrid().getBoundingClientRect();y=this.ttCtx.e.clientX-D.left}this.tooltipPosition.moveTooltip(y,w,v.config.markers.hover.size)}}},{key:"enlargePoints",value:function(l){for(var u=this.w,f=this,m=this.ttCtx,v=l,y=u.globals.dom.baseEl.querySelectorAll(".apexcharts-series:not(.apexcharts-series-collapsed) .apexcharts-marker"),w=u.config.markers.hover.size,D=0;D<y.length;D++){var I=y[D].getAttribute("rel"),O=y[D].getAttribute("index");if(void 0===w&&(w=u.globals.markers.size[O]+u.config.markers.hover.sizeOffset),v===parseInt(I,10)){f.newPointSize(v,y[D]);var P=y[D].getAttribute("cx"),L=y[D].getAttribute("cy");f.tooltipPosition.moveXCrosshairs(P),m.fixedTooltip||f.tooltipPosition.moveTooltip(P,L,w)}else f.oldPointSize(y[D])}}},{key:"newPointSize",value:function(l,u){var f=this.w,m=f.config.markers.hover.size,v=0===l?u.parentNode.firstChild:u.parentNode.lastChild;if("0"!==v.getAttribute("default-marker-size")){var y=parseInt(v.getAttribute("index"),10);void 0===m&&(m=f.globals.markers.size[y]+f.config.markers.hover.sizeOffset),m<0&&(m=0),v.setAttribute("r",m)}}},{key:"oldPointSize",value:function(l){var u=parseFloat(l.getAttribute("default-marker-size"));l.setAttribute("r",u)}},{key:"resetPointsSize",value:function(){for(var l=this.w.globals.dom.baseEl.querySelectorAll(".apexcharts-series:not(.apexcharts-series-collapsed) .apexcharts-marker"),u=0;u<l.length;u++){var f=parseFloat(l[u].getAttribute("default-marker-size"));me.isNumber(f)&&f>=0?l[u].setAttribute("r",f):l[u].setAttribute("r",0)}}}]),J}(),Ts=function(){function J(l){xe(this,J),this.w=l.w;var u=this.w;this.ttCtx=l,this.isVerticalGroupedRangeBar=!u.globals.isBarHorizontal&&"rangeBar"===u.config.chart.type&&u.config.plotOptions.bar.rangeBarGroupRows}return ke(J,[{key:"getAttr",value:function(l,u){return parseFloat(l.target.getAttribute(u))}},{key:"handleHeatTreeTooltip",value:function(l){var u=l.e,f=l.opt,m=l.x,v=l.y,w=this.ttCtx,D=this.w;if(u.target.classList.contains("apexcharts-".concat(l.type,"-rect"))){var I=this.getAttr(u,"i"),O=this.getAttr(u,"j"),P=this.getAttr(u,"cx"),L=this.getAttr(u,"cy"),U=this.getAttr(u,"width"),G=this.getAttr(u,"height");if(w.tooltipLabels.drawSeriesTexts({ttItems:f.ttItems,i:I,j:O,shared:!1,e:u}),D.globals.capturedSeriesIndex=I,D.globals.capturedDataPointIndex=O,m=P+w.tooltipRect.ttWidth/2+U,v=L+w.tooltipRect.ttHeight/2-G/2,w.tooltipPosition.moveXCrosshairs(P+U/2),m>D.globals.gridWidth/2&&(m=P-w.tooltipRect.ttWidth/2+U),w.w.config.tooltip.followCursor){var Y=D.globals.dom.elWrap.getBoundingClientRect();m=D.globals.clientX-Y.left-(m>D.globals.gridWidth/2?w.tooltipRect.ttWidth:0),v=D.globals.clientY-Y.top-(v>D.globals.gridHeight/2?w.tooltipRect.ttHeight:0)}}return{x:m,y:v}}},{key:"handleMarkerTooltip",value:function(l){var u,f,m=l.e,v=l.opt,y=l.x,w=l.y,D=this.w,I=this.ttCtx;if(m.target.classList.contains("apexcharts-marker")){var O=parseInt(v.paths.getAttribute("cx"),10),P=parseInt(v.paths.getAttribute("cy"),10),L=parseFloat(v.paths.getAttribute("val"));if(f=parseInt(v.paths.getAttribute("rel"),10),u=parseInt(v.paths.parentNode.parentNode.parentNode.getAttribute("rel"),10)-1,I.intersect){var U=me.findAncestor(v.paths,"apexcharts-series");U&&(u=parseInt(U.getAttribute("data:realIndex"),10))}if(I.tooltipLabels.drawSeriesTexts({ttItems:v.ttItems,i:u,j:f,shared:!I.showOnIntersect&&D.config.tooltip.shared,e:m}),"mouseup"===m.type&&I.markerClick(m,u,f),D.globals.capturedSeriesIndex=u,D.globals.capturedDataPointIndex=f,y=O,w=P+D.globals.translateY-1.4*I.tooltipRect.ttHeight,I.w.config.tooltip.followCursor){var G=I.getElGrid().getBoundingClientRect();w=I.e.clientY+D.globals.translateY-G.top}L<0&&(w=P),I.marker.enlargeCurrentPoint(f,v.paths,y,w)}return{x:y,y:w}}},{key:"handleBarTooltip",value:function(l){var u,f,m=l.e,v=l.opt,y=this.w,w=this.ttCtx,D=w.getElTooltip(),I=0,O=0,P=0,L=this.getBarTooltipXY({e:m,opt:v}),U=L.barHeight,G=L.j;y.globals.capturedSeriesIndex=u=L.i,y.globals.capturedDataPointIndex=G,y.globals.isBarHorizontal&&w.tooltipUtil.hasBars()||!y.config.tooltip.shared?(O=L.x,P=L.y,f=Array.isArray(y.config.stroke.width)?y.config.stroke.width[u]:y.config.stroke.width,I=O):y.globals.comboCharts||y.config.tooltip.shared||(I/=2),isNaN(P)&&(P=y.globals.svgHeight-w.tooltipRect.ttHeight);var Y=parseInt(v.paths.parentNode.getAttribute("data:realIndex"),10),Q=y.globals.isMultipleYAxis?y.config.yaxis[Y]&&y.config.yaxis[Y].reversed:y.config.yaxis[0].reversed;if(O+w.tooltipRect.ttWidth>y.globals.gridWidth&&!Q?O-=w.tooltipRect.ttWidth:O<0&&(O=0),w.w.config.tooltip.followCursor){var ie=w.getElGrid().getBoundingClientRect();P=w.e.clientY-ie.top}null===w.tooltip&&(w.tooltip=y.globals.dom.baseEl.querySelector(".apexcharts-tooltip")),y.config.tooltip.shared||w.tooltipPosition.moveXCrosshairs(y.globals.comboBarCount>0?I+f/2:I),!w.fixedTooltip&&(!y.config.tooltip.shared||y.globals.isBarHorizontal&&w.tooltipUtil.hasBars())&&(Q&&(O-=w.tooltipRect.ttWidth)<0&&(O=0),!Q||y.globals.isBarHorizontal&&w.tooltipUtil.hasBars()||(P=P+U-2*(y.globals.series[u][G]<0?U:0)),P=P+y.globals.translateY-w.tooltipRect.ttHeight/2,D.style.left=O+y.globals.translateX+"px",D.style.top=P+"px")}},{key:"getBarTooltipXY",value:function(l){var u=this,f=l.e,m=l.opt,v=this.w,y=null,w=this.ttCtx,D=0,I=0,O=0,P=0,L=0,U=f.target.classList;if(U.contains("apexcharts-bar-area")||U.contains("apexcharts-candlestick-area")||U.contains("apexcharts-boxPlot-area")||U.contains("apexcharts-rangebar-area")){var G=f.target,Y=G.getBoundingClientRect(),Q=m.elGrid.getBoundingClientRect(),ie=Y.height;L=Y.height;var le=Y.width,S=parseInt(G.getAttribute("cx"),10),R=parseInt(G.getAttribute("cy"),10);P=parseFloat(G.getAttribute("barWidth"));var $="touchmove"===f.type?f.touches[0].clientX:f.clientX;y=parseInt(G.getAttribute("j"),10),D=parseInt(G.parentNode.getAttribute("rel"),10)-1;var te=G.getAttribute("data-range-y1"),de=G.getAttribute("data-range-y2");v.globals.comboCharts&&(D=parseInt(G.parentNode.getAttribute("data:realIndex"),10));var he=function(De){return v.globals.isXNumeric?S-le/2:u.isVerticalGroupedRangeBar?S+le/2:S-w.dataPointsDividedWidth+le/2},Ie=function(){return R-w.dataPointsDividedHeight+ie/2-w.tooltipRect.ttHeight/2};w.tooltipLabels.drawSeriesTexts({ttItems:m.ttItems,i:D,j:y,y1:te?parseInt(te,10):null,y2:de?parseInt(de,10):null,shared:!w.showOnIntersect&&v.config.tooltip.shared,e:f}),v.config.tooltip.followCursor?v.globals.isBarHorizontal?(I=$-Q.left+15,O=Ie()):(I=he(),O=f.clientY-Q.top-w.tooltipRect.ttHeight/2-15):v.globals.isBarHorizontal?((I=S)<w.xyRatios.baseLineInvertedY&&(I=S-w.tooltipRect.ttWidth),O=Ie()):(I=he(),O=R)}return{x:I,y:O,barHeight:L,barWidth:P,i:D,j:y}}}]),J}(),Do=function(){function J(l){xe(this,J),this.w=l.w,this.ttCtx=l}return ke(J,[{key:"drawXaxisTooltip",value:function(){var l=this.w,u=this.ttCtx,f="bottom"===l.config.xaxis.position;u.xaxisOffY=f?l.globals.gridHeight+1:-l.globals.xAxisHeight-l.config.xaxis.axisTicks.height+3;var m=f?"apexcharts-xaxistooltip apexcharts-xaxistooltip-bottom":"apexcharts-xaxistooltip apexcharts-xaxistooltip-top",v=l.globals.dom.elWrap;u.isXAxisTooltipEnabled&&null===l.globals.dom.baseEl.querySelector(".apexcharts-xaxistooltip")&&(u.xaxisTooltip=document.createElement("div"),u.xaxisTooltip.setAttribute("class",m+" apexcharts-theme-"+l.config.tooltip.theme),v.appendChild(u.xaxisTooltip),u.xaxisTooltipText=document.createElement("div"),u.xaxisTooltipText.classList.add("apexcharts-xaxistooltip-text"),u.xaxisTooltipText.style.fontFamily=l.config.xaxis.tooltip.style.fontFamily||l.config.chart.fontFamily,u.xaxisTooltipText.style.fontSize=l.config.xaxis.tooltip.style.fontSize,u.xaxisTooltip.appendChild(u.xaxisTooltipText))}},{key:"drawYaxisTooltip",value:function(){for(var l=this.w,u=this.ttCtx,f=function(v){var y=l.config.yaxis[v].opposite||l.config.yaxis[v].crosshairs.opposite;u.yaxisOffX=y?l.globals.gridWidth+1:1;var w="apexcharts-yaxistooltip apexcharts-yaxistooltip-".concat(v,y?" apexcharts-yaxistooltip-right":" apexcharts-yaxistooltip-left");l.globals.yAxisSameScaleIndices.map(function(I,O){I.map(function(P,L){L===v&&(w+=l.config.yaxis[L].show?" ":" apexcharts-yaxistooltip-hidden")})});var D=l.globals.dom.elWrap;null===l.globals.dom.baseEl.querySelector(".apexcharts-yaxistooltip apexcharts-yaxistooltip-".concat(v))&&(u.yaxisTooltip=document.createElement("div"),u.yaxisTooltip.setAttribute("class",w+" apexcharts-theme-"+l.config.tooltip.theme),D.appendChild(u.yaxisTooltip),0===v&&(u.yaxisTooltipText=[]),u.yaxisTooltipText[v]=document.createElement("div"),u.yaxisTooltipText[v].classList.add("apexcharts-yaxistooltip-text"),u.yaxisTooltip.appendChild(u.yaxisTooltipText[v]))},m=0;m<l.config.yaxis.length;m++)f(m)}},{key:"setXCrosshairWidth",value:function(){var l=this.w,u=this.ttCtx,f=u.getElXCrosshairs();if(u.xcrosshairsWidth=parseInt(l.config.xaxis.crosshairs.width,10),l.globals.comboCharts){var m=l.globals.dom.baseEl.querySelector(".apexcharts-bar-area");if(null!==m&&"barWidth"===l.config.xaxis.crosshairs.width){var v=parseFloat(m.getAttribute("barWidth"));u.xcrosshairsWidth=v}else"tickWidth"===l.config.xaxis.crosshairs.width&&(u.xcrosshairsWidth=l.globals.gridWidth/l.globals.labels.length)}else if("tickWidth"===l.config.xaxis.crosshairs.width)u.xcrosshairsWidth=l.globals.gridWidth/l.globals.labels.length;else if("barWidth"===l.config.xaxis.crosshairs.width){var D=l.globals.dom.baseEl.querySelector(".apexcharts-bar-area");if(null!==D){var I=parseFloat(D.getAttribute("barWidth"));u.xcrosshairsWidth=I}else u.xcrosshairsWidth=1}l.globals.isBarHorizontal&&(u.xcrosshairsWidth=0),null!==f&&u.xcrosshairsWidth>0&&f.setAttribute("width",u.xcrosshairsWidth)}},{key:"handleYCrosshair",value:function(){var l=this.w,u=this.ttCtx;u.ycrosshairs=l.globals.dom.baseEl.querySelector(".apexcharts-ycrosshairs"),u.ycrosshairsHidden=l.globals.dom.baseEl.querySelector(".apexcharts-ycrosshairs-hidden")}},{key:"drawYaxisTooltipText",value:function(l,u,f){var m=this.ttCtx,v=this.w,y=v.globals.yLabelFormatters[l];if(m.yaxisTooltips[l]){var w=m.getElGrid().getBoundingClientRect(),O=v.globals.minYArr[l]+(v.globals.maxYArr[l]-v.globals.minYArr[l]-(u-w.top)*f.yRatio[l]);m.tooltipPosition.moveYCrosshairs(u-w.top),m.yaxisTooltipText[l].innerHTML=y(O),m.tooltipPosition.moveYAxisTooltip(l)}}}]),J}(),To=function(){function J(l){xe(this,J),this.ctx=l,this.w=l.w;var u=this.w;this.tConfig=u.config.tooltip,this.tooltipUtil=new oo(this),this.tooltipLabels=new ti(this),this.tooltipPosition=new Vr(this),this.marker=new si(this),this.intersect=new Ts(this),this.axesTooltip=new Do(this),this.showOnIntersect=this.tConfig.intersect,this.showTooltipTitle=this.tConfig.x.show,this.fixedTooltip=this.tConfig.fixed.enabled,this.xaxisTooltip=null,this.yaxisTTEls=null,this.isBarShared=!u.globals.isBarHorizontal&&this.tConfig.shared,this.lastHoverTime=Date.now()}return ke(J,[{key:"getElTooltip",value:function(l){return l||(l=this),l.w.globals.dom.baseEl?l.w.globals.dom.baseEl.querySelector(".apexcharts-tooltip"):null}},{key:"getElXCrosshairs",value:function(){return this.w.globals.dom.baseEl.querySelector(".apexcharts-xcrosshairs")}},{key:"getElGrid",value:function(){return this.w.globals.dom.baseEl.querySelector(".apexcharts-grid")}},{key:"drawTooltip",value:function(l){var u=this.w;this.xyRatios=l,this.isXAxisTooltipEnabled=u.config.xaxis.tooltip.enabled&&u.globals.axisCharts,this.yaxisTooltips=u.config.yaxis.map(function(y,w){return!!(y.show&&y.tooltip.enabled&&u.globals.axisCharts)}),this.allTooltipSeriesGroups=[],u.globals.axisCharts||(this.showTooltipTitle=!1);var f=document.createElement("div");if(f.classList.add("apexcharts-tooltip"),u.config.tooltip.cssClass&&f.classList.add(u.config.tooltip.cssClass),f.classList.add("apexcharts-theme-".concat(this.tConfig.theme)),u.globals.dom.elWrap.appendChild(f),u.globals.axisCharts){this.axesTooltip.drawXaxisTooltip(),this.axesTooltip.drawYaxisTooltip(),this.axesTooltip.setXCrosshairWidth(),this.axesTooltip.handleYCrosshair();var m=new Yn(this.ctx);this.xAxisTicksPositions=m.getXAxisTicksPositions()}if(!u.globals.comboCharts&&!this.tConfig.intersect&&"rangeBar"!==u.config.chart.type||this.tConfig.shared||(this.showOnIntersect=!0),0!==u.config.markers.size&&0!==u.globals.markers.largestSize||this.marker.drawDynamicPoints(this),u.globals.collapsedSeries.length!==u.globals.series.length){this.dataPointsDividedHeight=u.globals.gridHeight/u.globals.dataPoints,this.dataPointsDividedWidth=u.globals.gridWidth/u.globals.dataPoints,this.showTooltipTitle&&(this.tooltipTitle=document.createElement("div"),this.tooltipTitle.classList.add("apexcharts-tooltip-title"),this.tooltipTitle.style.fontFamily=this.tConfig.style.fontFamily||u.config.chart.fontFamily,this.tooltipTitle.style.fontSize=this.tConfig.style.fontSize,f.appendChild(this.tooltipTitle));var v=u.globals.series.length;(u.globals.xyCharts||u.globals.comboCharts)&&this.tConfig.shared&&(v=this.showOnIntersect?1:u.globals.series.length),this.legendLabels=u.globals.dom.baseEl.querySelectorAll(".apexcharts-legend-text"),this.ttItems=this.createTTElements(v),this.addSVGEvents()}}},{key:"createTTElements",value:function(l){for(var u=this,f=this.w,m=[],v=this.getElTooltip(),y=function(D){var I=document.createElement("div");I.classList.add("apexcharts-tooltip-series-group"),I.style.order=f.config.tooltip.inverseOrder?l-D:D+1,u.tConfig.shared&&u.tConfig.enabledOnSeries&&Array.isArray(u.tConfig.enabledOnSeries)&&u.tConfig.enabledOnSeries.indexOf(D)<0&&I.classList.add("apexcharts-tooltip-series-group-hidden");var O=document.createElement("span");O.classList.add("apexcharts-tooltip-marker"),O.style.backgroundColor=f.globals.colors[D],I.appendChild(O);var P=document.createElement("div");P.classList.add("apexcharts-tooltip-text"),P.style.fontFamily=u.tConfig.style.fontFamily||f.config.chart.fontFamily,P.style.fontSize=u.tConfig.style.fontSize,["y","goals","z"].forEach(function(L){var U=document.createElement("div");U.classList.add("apexcharts-tooltip-".concat(L,"-group"));var G=document.createElement("span");G.classList.add("apexcharts-tooltip-text-".concat(L,"-label")),U.appendChild(G);var Y=document.createElement("span");Y.classList.add("apexcharts-tooltip-text-".concat(L,"-value")),U.appendChild(Y),P.appendChild(U)}),I.appendChild(P),v.appendChild(I),m.push(I)},w=0;w<l;w++)y(w);return m}},{key:"addSVGEvents",value:function(){var l=this.w,u=l.config.chart.type,f=this.getElTooltip(),m=!("bar"!==u&&"candlestick"!==u&&"boxPlot"!==u&&"rangeBar"!==u),v="area"===u||"line"===u||"scatter"===u||"bubble"===u||"radar"===u,y=l.globals.dom.Paper.node,w=this.getElGrid();w&&(this.seriesBound=w.getBoundingClientRect());var D,I=[],O=[],P={hoverArea:y,elGrid:w,tooltipEl:f,tooltipY:I,tooltipX:O,ttItems:this.ttItems};if(l.globals.axisCharts&&(v?D=l.globals.dom.baseEl.querySelectorAll(".apexcharts-series[data\\:longestSeries='true'] .apexcharts-marker"):m?D=l.globals.dom.baseEl.querySelectorAll(".apexcharts-series .apexcharts-bar-area, .apexcharts-series .apexcharts-candlestick-area, .apexcharts-series .apexcharts-boxPlot-area, .apexcharts-series .apexcharts-rangebar-area"):"heatmap"!==u&&"treemap"!==u||(D=l.globals.dom.baseEl.querySelectorAll(".apexcharts-series .apexcharts-heatmap, .apexcharts-series .apexcharts-treemap")),D&&D.length))for(var L=0;L<D.length;L++)I.push(D[L].getAttribute("cy")),O.push(D[L].getAttribute("cx"));if(l.globals.xyCharts&&!this.showOnIntersect||l.globals.comboCharts&&!this.showOnIntersect||m&&this.tooltipUtil.hasBars()&&this.tConfig.shared)this.addPathsEventListeners([y],P);else if(m&&!l.globals.comboCharts||v&&this.showOnIntersect)this.addDatapointEventsListeners(P);else if(!l.globals.axisCharts||"heatmap"===u||"treemap"===u){var U=l.globals.dom.baseEl.querySelectorAll(".apexcharts-series");this.addPathsEventListeners(U,P)}if(this.showOnIntersect){var G=l.globals.dom.baseEl.querySelectorAll(".apexcharts-line-series .apexcharts-marker, .apexcharts-area-series .apexcharts-marker");G.length>0&&this.addPathsEventListeners(G,P),this.tooltipUtil.hasBars()&&!this.tConfig.shared&&this.addDatapointEventsListeners(P)}}},{key:"drawFixedTooltipRect",value:function(){var l=this.w,u=this.getElTooltip(),f=u.getBoundingClientRect(),m=f.width+10,v=f.height+10,y=this.tConfig.fixed.offsetX,w=this.tConfig.fixed.offsetY,D=this.tConfig.fixed.position.toLowerCase();return D.indexOf("right")>-1&&(y=y+l.globals.svgWidth-m+10),D.indexOf("bottom")>-1&&(w=w+l.globals.svgHeight-v-10),u.style.left=y+"px",u.style.top=w+"px",{x:y,y:w,ttWidth:m,ttHeight:v}}},{key:"addDatapointEventsListeners",value:function(l){var u=this.w.globals.dom.baseEl.querySelectorAll(".apexcharts-series-markers .apexcharts-marker, .apexcharts-bar-area, .apexcharts-candlestick-area, .apexcharts-boxPlot-area, .apexcharts-rangebar-area");this.addPathsEventListeners(u,l)}},{key:"addPathsEventListeners",value:function(l,u){for(var f=this,m=function(y){var w={paths:l[y],tooltipEl:u.tooltipEl,tooltipY:u.tooltipY,tooltipX:u.tooltipX,elGrid:u.elGrid,hoverArea:u.hoverArea,ttItems:u.ttItems};["mousemove","mouseup","touchmove","mouseout","touchend"].map(function(D){return l[y].addEventListener(D,f.onSeriesHover.bind(f,w),{capture:!1,passive:!0})})},v=0;v<l.length;v++)m(v)}},{key:"onSeriesHover",value:function(l,u){var f=this,m=Date.now()-this.lastHoverTime;m>=100?this.seriesHover(l,u):(clearTimeout(this.seriesHoverTimeout),this.seriesHoverTimeout=setTimeout(function(){f.seriesHover(l,u)},100-m))}},{key:"seriesHover",value:function(l,u){var f=this;this.lastHoverTime=Date.now();var m=[],v=this.w;v.config.chart.group&&(m=this.ctx.getGroupedCharts()),v.globals.axisCharts&&(v.globals.minX===-1/0&&v.globals.maxX===1/0||0===v.globals.dataPoints)||(m.length?m.forEach(function(y){var w=f.getElTooltip(y);y.w.globals.minX===f.w.globals.minX&&y.w.globals.maxX===f.w.globals.maxX&&y.w.globals.tooltip.seriesHoverByContext({chartCtx:y,ttCtx:y.w.globals.tooltip,opt:{paths:l.paths,tooltipEl:w,tooltipY:l.tooltipY,tooltipX:l.tooltipX,elGrid:l.elGrid,hoverArea:l.hoverArea,ttItems:y.w.globals.tooltip.ttItems},e:u})}):this.seriesHoverByContext({chartCtx:this.ctx,ttCtx:this.w.globals.tooltip,opt:l,e:u}))}},{key:"seriesHoverByContext",value:function(l){var u=l.chartCtx,f=l.ttCtx,m=l.opt,v=l.e,y=u.w,w=this.getElTooltip();w&&(f.tooltipRect={x:0,y:0,ttWidth:w.getBoundingClientRect().width,ttHeight:w.getBoundingClientRect().height},f.e=v,f.tooltipUtil.hasBars()&&!y.globals.comboCharts&&!f.isBarShared&&this.tConfig.onDatasetHover.highlightDataSeries&&new Ot(u).toggleSeriesOnHover(v,v.target.parentNode),f.fixedTooltip&&f.drawFixedTooltipRect(),y.globals.axisCharts?f.axisChartsTooltips({e:v,opt:m,tooltipRect:f.tooltipRect}):f.nonAxisChartsTooltips({e:v,opt:m,tooltipRect:f.tooltipRect}))}},{key:"axisChartsTooltips",value:function(l){var u,f,m=l.e,v=l.opt,y=this.w,w=v.elGrid.getBoundingClientRect(),D="touchmove"===m.type?m.touches[0].clientX:m.clientX,I="touchmove"===m.type?m.touches[0].clientY:m.clientY;if(this.clientY=I,this.clientX=D,y.globals.capturedSeriesIndex=-1,y.globals.capturedDataPointIndex=-1,I<w.top||I>w.top+w.height)this.handleMouseOut(v);else{if(Array.isArray(this.tConfig.enabledOnSeries)&&!y.config.tooltip.shared){var O=parseInt(v.paths.getAttribute("index"),10);if(this.tConfig.enabledOnSeries.indexOf(O)<0)return void this.handleMouseOut(v)}var P=this.getElTooltip(),L=this.getElXCrosshairs(),U=y.globals.xyCharts||"bar"===y.config.chart.type&&!y.globals.isBarHorizontal&&this.tooltipUtil.hasBars()&&this.tConfig.shared||y.globals.comboCharts&&this.tooltipUtil.hasBars();if("mousemove"===m.type||"touchmove"===m.type||"mouseup"===m.type){if(y.globals.collapsedSeries.length+y.globals.ancillaryCollapsedSeries.length===y.globals.series.length)return;null!==L&&L.classList.add("apexcharts-active");var G=this.yaxisTooltips.filter(function(ie){return!0===ie});if(null!==this.ycrosshairs&&G.length&&this.ycrosshairs.classList.add("apexcharts-active"),U&&!this.showOnIntersect)this.handleStickyTooltip(m,D,I,v);else if("heatmap"===y.config.chart.type||"treemap"===y.config.chart.type){var Y=this.intersect.handleHeatTreeTooltip({e:m,opt:v,x:u,y:f,type:y.config.chart.type});f=Y.y,P.style.left=(u=Y.x)+"px",P.style.top=f+"px"}else this.tooltipUtil.hasBars()&&this.intersect.handleBarTooltip({e:m,opt:v}),this.tooltipUtil.hasMarkers()&&this.intersect.handleMarkerTooltip({e:m,opt:v,x:u,y:f});if(this.yaxisTooltips.length)for(var Q=0;Q<y.config.yaxis.length;Q++)this.axesTooltip.drawYaxisTooltipText(Q,I,this.xyRatios);v.tooltipEl.classList.add("apexcharts-active")}else"mouseout"!==m.type&&"touchend"!==m.type||this.handleMouseOut(v)}}},{key:"nonAxisChartsTooltips",value:function(l){var u=l.e,f=l.opt,m=l.tooltipRect,v=this.w,y=f.paths.getAttribute("rel"),w=this.getElTooltip(),D=v.globals.dom.elWrap.getBoundingClientRect();if("mousemove"===u.type||"touchmove"===u.type){w.classList.add("apexcharts-active"),this.tooltipLabels.drawSeriesTexts({ttItems:f.ttItems,i:parseInt(y,10)-1,shared:!1});var O=v.globals.clientY-D.top-m.ttHeight-10;if(w.style.left=v.globals.clientX-D.left-m.ttWidth/2+"px",w.style.top=O+"px",v.config.legend.tooltipHoverFormatter){var P=y-1,L=(0,v.config.legend.tooltipHoverFormatter)(this.legendLabels[P].getAttribute("data:default-text"),{seriesIndex:P,dataPointIndex:P,w:v});this.legendLabels[P].innerHTML=L}}else"mouseout"!==u.type&&"touchend"!==u.type||(w.classList.remove("apexcharts-active"),v.config.legend.tooltipHoverFormatter&&this.legendLabels.forEach(function(U){var G=U.getAttribute("data:default-text");U.innerHTML=decodeURIComponent(G)}))}},{key:"handleStickyTooltip",value:function(l,u,f,m){var v=this.w,y=this.tooltipUtil.getNearestValues({context:this,hoverArea:m.hoverArea,elGrid:m.elGrid,clientX:u,clientY:f}),w=y.j,D=y.capturedSeries;v.globals.collapsedSeriesIndices.includes(D)&&(D=null);var I=m.elGrid.getBoundingClientRect();if(y.hoverX<0||y.hoverX>I.width)this.handleMouseOut(m);else if(null!==D)this.handleStickyCapturedSeries(l,D,m,w);else if(this.tooltipUtil.isXoverlap(w)||v.globals.isBarHorizontal){var O=v.globals.series.findIndex(function(P,L){return!v.globals.collapsedSeriesIndices.includes(L)});this.create(l,this,O,w,m.ttItems)}}},{key:"handleStickyCapturedSeries",value:function(l,u,f,m){var v=this.w;if(this.tConfig.shared||null!==v.globals.series[u][m]){if(void 0!==v.globals.series[u][m])this.tConfig.shared&&this.tooltipUtil.isXoverlap(m)&&this.tooltipUtil.isInitialSeriesSameLen()?this.create(l,this,u,m,f.ttItems):this.create(l,this,u,m,f.ttItems,!1);else if(this.tooltipUtil.isXoverlap(m)){var y=v.globals.series.findIndex(function(w,D){return!v.globals.collapsedSeriesIndices.includes(D)});this.create(l,this,y,m,f.ttItems)}}else this.handleMouseOut(f)}},{key:"deactivateHoverFilter",value:function(){for(var l=this.w,u=new _e(this.ctx),f=l.globals.dom.Paper.select(".apexcharts-bar-area"),m=0;m<f.length;m++)u.pathMouseLeave(f[m])}},{key:"handleMouseOut",value:function(l){var u=this.w,f=this.getElXCrosshairs();if(l.tooltipEl.classList.remove("apexcharts-active"),this.deactivateHoverFilter(),"bubble"!==u.config.chart.type&&this.marker.resetPointsSize(),null!==f&&f.classList.remove("apexcharts-active"),null!==this.ycrosshairs&&this.ycrosshairs.classList.remove("apexcharts-active"),this.isXAxisTooltipEnabled&&this.xaxisTooltip.classList.remove("apexcharts-active"),this.yaxisTooltips.length){null===this.yaxisTTEls&&(this.yaxisTTEls=u.globals.dom.baseEl.querySelectorAll(".apexcharts-yaxistooltip"));for(var m=0;m<this.yaxisTTEls.length;m++)this.yaxisTTEls[m].classList.remove("apexcharts-active")}u.config.legend.tooltipHoverFormatter&&this.legendLabels.forEach(function(v){var y=v.getAttribute("data:default-text");v.innerHTML=decodeURIComponent(y)})}},{key:"markerClick",value:function(l,u,f){var m=this.w;"function"==typeof m.config.chart.events.markerClick&&m.config.chart.events.markerClick(l,this.ctx,{seriesIndex:u,dataPointIndex:f,w:m}),this.ctx.events.fireEvent("markerClick",[l,this.ctx,{seriesIndex:u,dataPointIndex:f,w:m}])}},{key:"create",value:function(l,u,f,m,v){var y,w,D,I,O,P,L,U,G,Y,Q,ie,le,S,R,$,te=arguments.length>5&&void 0!==arguments[5]?arguments[5]:null,de=this.w,he=u;"mouseup"===l.type&&this.markerClick(l,f,m),null===te&&(te=this.tConfig.shared);var Ie=this.tooltipUtil.hasMarkers(f),De=this.tooltipUtil.getElBars();if(de.config.legend.tooltipHoverFormatter){var $e=de.config.legend.tooltipHoverFormatter,yt=Array.from(this.legendLabels);yt.forEach(function(Os){var Un=Os.getAttribute("data:default-text");Os.innerHTML=decodeURIComponent(Un)});for(var ot=0;ot<yt.length;ot++){var Lt=yt[ot],Pt=parseInt(Lt.getAttribute("i"),10),Mn=decodeURIComponent(Lt.getAttribute("data:default-text")),Wn=$e(Mn,{seriesIndex:te?Pt:f,dataPointIndex:m,w:de});if(te)Lt.innerHTML=de.globals.collapsedSeriesIndices.indexOf(Pt)<0?Wn:Mn;else if(Lt.innerHTML=Pt===f?Wn:Mn,f===Pt)break}}var Zn=re(re({ttItems:v,i:f,j:m},void 0!==(null===(y=de.globals.seriesRange)||void 0===y||null===(w=y[f])||void 0===w||null===(D=w[m])||void 0===D||null===(I=D.y[0])||void 0===I?void 0:I.y1)&&{y1:null===(O=de.globals.seriesRange)||void 0===O||null===(P=O[f])||void 0===P||null===(L=P[m])||void 0===L||null===(U=L.y[0])||void 0===U?void 0:U.y1}),void 0!==(null===(G=de.globals.seriesRange)||void 0===G||null===(Y=G[f])||void 0===Y||null===(Q=Y[m])||void 0===Q||null===(ie=Q.y[0])||void 0===ie?void 0:ie.y2)&&{y2:null===(le=de.globals.seriesRange)||void 0===le||null===(S=le[f])||void 0===S||null===(R=S[m])||void 0===R||null===($=R.y[0])||void 0===$?void 0:$.y2});if(te){if(he.tooltipLabels.drawSeriesTexts(re(re({},Zn),{},{shared:!this.showOnIntersect&&this.tConfig.shared})),Ie)de.globals.markers.largestSize>0?he.marker.enlargePoints(m):he.tooltipPosition.moveDynamicPointsOnHover(m);else if(this.tooltipUtil.hasBars()&&(this.barSeriesHeight=this.tooltipUtil.getBarsHeight(De),this.barSeriesHeight>0)){var ji=new _e(this.ctx),Ii=de.globals.dom.Paper.select(".apexcharts-bar-area[j='".concat(m,"']"));this.deactivateHoverFilter(),this.tooltipPosition.moveStickyTooltipOverBars(m,f);for(var Ri=0;Ri<Ii.length;Ri++)ji.pathMouseEnter(Ii[Ri])}}else he.tooltipLabels.drawSeriesTexts(re({shared:!1},Zn)),this.tooltipUtil.hasBars()&&he.tooltipPosition.moveStickyTooltipOverBars(m,f),Ie&&he.tooltipPosition.moveMarkers(f,m)}}]),J}(),Kr=function(){function J(l){xe(this,J),this.w=l.w,this.barCtx=l,this.totalFormatter=this.w.config.plotOptions.bar.dataLabels.total.formatter,this.totalFormatter||(this.totalFormatter=this.w.config.dataLabels.formatter)}return ke(J,[{key:"handleBarDataLabels",value:function(l){var u=l.x,f=l.y,m=l.y1,v=l.y2,y=l.i,w=l.j,D=l.realIndex,I=l.groupIndex,O=l.series,P=l.barHeight,L=l.barWidth,U=l.barXPosition,G=l.barYPosition,Y=l.visibleSeries,Q=l.renderedPath,ie=this.w,le=new _e(this.barCtx.ctx),S=Array.isArray(this.barCtx.strokeWidth)?this.barCtx.strokeWidth[D]:this.barCtx.strokeWidth,R=u+parseFloat(L*Y),$=f+parseFloat(P*Y);ie.globals.isXNumeric&&!ie.globals.isBarHorizontal&&(R=u+parseFloat(L*(Y+1)),$=f+parseFloat(P*(Y+1))-S);var te,De,de=null,he=u,Ie=f,$e=ie.config.dataLabels,yt=this.barCtx.barOptions.dataLabels,ot=this.barCtx.barOptions.dataLabels.total;void 0!==G&&this.barCtx.isRangeBar&&($=G,Ie=G),void 0!==U&&this.barCtx.isVerticalGroupedRangeBar&&(R=U,he=U);var Lt=$e.offsetX,Pt=$e.offsetY,Mn={width:0,height:0};ie.config.dataLabels.enabled&&(Mn=le.getTextRects(ie.globals.yLabelFormatters[0](this.barCtx.series[y][w]),parseFloat($e.style.fontSize)));var Zn={x:u,y:f,i:y,j:w,realIndex:D,groupIndex:I||-1,renderedPath:Q,bcx:R,bcy:$,barHeight:P,barWidth:L,textRects:Mn,strokeWidth:S,dataLabelsX:he,dataLabelsY:Ie,dataLabelsConfig:$e,barDataLabelsConfig:yt,barTotalDataLabelsConfig:ot,offX:Lt,offY:Pt};return De=this.barCtx.isHorizontal?this.calculateBarsDataLabelsPosition(Zn):this.calculateColumnsDataLabelsPosition(Zn),Q.attr({cy:De.bcy,cx:De.bcx,j:w,val:O[y][w],barHeight:P,barWidth:L}),te=this.drawCalculatedDataLabels({x:De.dataLabelsX,y:De.dataLabelsY,val:this.barCtx.isRangeBar?[m,v]:O[y][w],i:D,j:w,barWidth:L,barHeight:P,textRects:Mn,dataLabelsConfig:$e}),ie.config.chart.stacked&&ot.enabled&&(de=this.drawTotalDataLabels({x:De.totalDataLabelsX,y:De.totalDataLabelsY,realIndex:D,textAnchor:De.totalDataLabelsAnchor,val:this.getStackedTotalDataLabel({realIndex:D,j:w}),dataLabelsConfig:$e,barTotalDataLabelsConfig:ot})),{dataLabels:te,totalDataLabels:de}}},{key:"getStackedTotalDataLabel",value:function(l){var u=l.realIndex,f=l.j,m=this.w,v=this.barCtx.stackedSeriesTotals[f];return this.totalFormatter&&(v=this.totalFormatter(v,re(re({},m),{},{seriesIndex:u,dataPointIndex:f,w:m}))),v}},{key:"calculateColumnsDataLabelsPosition",value:function(l){var u,f,m=this.w,v=l.i,y=l.j,w=l.realIndex,D=l.groupIndex,I=l.y,O=l.bcx,P=l.barWidth,L=l.barHeight,U=l.textRects,G=l.dataLabelsX,Y=l.dataLabelsY,Q=l.dataLabelsConfig,ie=l.barDataLabelsConfig,le=l.barTotalDataLabelsConfig,S=l.strokeWidth,R=l.offX,$=l.offY;L=Math.abs(L);var te="vertical"===m.config.plotOptions.bar.dataLabels.orientation,de=this.barCtx.barHelpers.getZeroValueEncounters({i:v,j:y}).zeroEncounters;O=O-S/2+(-1!==D?D*P:0),this.barCtx.isVerticalGroupedRangeBar?G+=P/2:(G=m.globals.isXNumeric?O-P/2+R:O-m.globals.gridWidth/m.globals.dataPoints+P/2+R,de>0&&m.config.plotOptions.bar.hideZeroBarsWhenGrouped&&(G-=P*de)),te&&(G=G+U.height/2-S/2-2);var Ie=this.barCtx.series[v][y]<0,De=I;switch(this.barCtx.isReversed&&(De=I-L+(Ie?2*L:0),I-=L),ie.position){case"center":Y=te?Ie?De-L/2+$:De+L/2-$:Ie?De-L/2+U.height/2+$:De+L/2+U.height/2-$;break;case"bottom":Y=te?Ie?De-L+$:De+L-$:Ie?De-L+U.height+S+$:De+L-U.height/2+S-$;break;case"top":Y=te?Ie?De+$:De-$:Ie?De-U.height/2-$:De+U.height+$}if(this.barCtx.lastActiveBarSerieIndex===w&&le.enabled){var $e=new _e(this.barCtx.ctx).getTextRects(this.getStackedTotalDataLabel({realIndex:w,j:y}),Q.fontSize);u=Ie?De-$e.height/2-$-le.offsetY+18:De+$e.height+$+le.offsetY-18,f=G+le.offsetX}return m.config.chart.stacked||(Y<0?Y=0+S:Y+U.height/3>m.globals.gridHeight&&(Y=m.globals.gridHeight-S)),{bcx:O,bcy:I,dataLabelsX:G,dataLabelsY:Y,totalDataLabelsX:f,totalDataLabelsY:u,totalDataLabelsAnchor:"middle"}}},{key:"calculateBarsDataLabelsPosition",value:function(l){var u=this.w,f=l.x,m=l.i,v=l.j,y=l.realIndex,w=l.groupIndex,D=l.bcy,I=l.barHeight,O=l.barWidth,P=l.textRects,L=l.dataLabelsX,U=l.strokeWidth,G=l.dataLabelsConfig,Y=l.barDataLabelsConfig,Q=l.barTotalDataLabelsConfig,ie=l.offX,le=l.offY,S=u.globals.gridHeight/u.globals.dataPoints;O=Math.abs(O);var R,$,te=(D+=-1!==w?w*I:0)-(this.barCtx.isRangeBar?0:S)+I/2+P.height/2+le-3,de="start",he=this.barCtx.series[m][v]<0,Ie=f;switch(this.barCtx.isReversed&&(Ie=f+O-(he?2*O:0),f=u.globals.gridWidth-O),Y.position){case"center":L=he?Ie+O/2-ie:Math.max(P.width/2,Ie-O/2)+ie;break;case"bottom":L=he?Ie+O-U-Math.round(P.width/2)-ie:Ie-O+U+Math.round(P.width/2)+ie;break;case"top":L=he?Ie-U+Math.round(P.width/2)-ie:Ie-U-Math.round(P.width/2)+ie}if(this.barCtx.lastActiveBarSerieIndex===y&&Q.enabled){var De=new _e(this.barCtx.ctx).getTextRects(this.getStackedTotalDataLabel({realIndex:y,j:v}),G.fontSize);he?(R=Ie-U+Math.round(De.width/2)-ie-Q.offsetX-15,de="end"):R=Ie-U-Math.round(De.width/2)+ie+Q.offsetX+15,$=te+Q.offsetY}return u.config.chart.stacked||(L<0?L=L+P.width+U:L+P.width/2>u.globals.gridWidth&&(L=u.globals.gridWidth-P.width-U)),{bcx:f,bcy:D,dataLabelsX:L,dataLabelsY:te,totalDataLabelsX:R,totalDataLabelsY:$,totalDataLabelsAnchor:de}}},{key:"drawCalculatedDataLabels",value:function(l){var u=l.x,f=l.y,m=l.val,v=l.i,y=l.j,w=l.textRects,D=l.barHeight,I=l.barWidth,O=l.dataLabelsConfig,P=this.w,L="rotate(0)";"vertical"===P.config.plotOptions.bar.dataLabels.orientation&&(L="rotate(-90, ".concat(u,", ").concat(f,")"));var U=new vt(this.barCtx.ctx),G=new _e(this.barCtx.ctx),Y=O.formatter,Q=null,ie=P.globals.collapsedSeriesIndices.indexOf(v)>-1;if(O.enabled&&!ie){Q=G.group({class:"apexcharts-data-labels",transform:L});var le="";void 0!==m&&(le=Y(m,re(re({},P),{},{seriesIndex:v,dataPointIndex:y,w:P}))),!m&&P.config.plotOptions.bar.hideZeroBarsWhenGrouped&&(le="");var S=P.globals.series[v][y]<0,R=P.config.plotOptions.bar.dataLabels.position;"vertical"===P.config.plotOptions.bar.dataLabels.orientation&&("top"===R&&(O.textAnchor=S?"end":"start"),"center"===R&&(O.textAnchor="middle"),"bottom"===R&&(O.textAnchor=S?"end":"start")),this.barCtx.isRangeBar&&this.barCtx.barOptions.dataLabels.hideOverflowingLabels&&I<G.getTextRects(le,parseFloat(O.style.fontSize)).width&&(le=""),P.config.chart.stacked&&this.barCtx.barOptions.dataLabels.hideOverflowingLabels&&(this.barCtx.isHorizontal?w.width/1.6>Math.abs(I)&&(le=""):w.height/1.6>Math.abs(D)&&(le=""));var $=re({},O);this.barCtx.isHorizontal&&m<0&&("start"===O.textAnchor?$.textAnchor="end":"end"===O.textAnchor&&($.textAnchor="start")),U.plotDataLabelsText({x:u,y:f,text:le,i:v,j:y,parent:Q,dataLabelsConfig:$,alwaysDrawDataLabel:!0,offsetCorrection:!0})}return Q}},{key:"drawTotalDataLabels",value:function(l){var u,f=l.x,m=l.y,v=l.val,y=l.realIndex,w=l.textAnchor,D=l.barTotalDataLabelsConfig,I=new _e(this.barCtx.ctx);return D.enabled&&void 0!==f&&void 0!==m&&this.barCtx.lastActiveBarSerieIndex===y&&(u=I.drawText({x:f,y:m,foreColor:D.style.color,text:v,textAnchor:w,fontFamily:D.style.fontFamily,fontSize:D.style.fontSize,fontWeight:D.style.fontWeight})),u}}]),J}(),So=function(){function J(l){xe(this,J),this.w=l.w,this.barCtx=l}return ke(J,[{key:"initVariables",value:function(l){var u=this.w;this.barCtx.series=l,this.barCtx.totalItems=0,this.barCtx.seriesLen=0,this.barCtx.visibleI=-1,this.barCtx.visibleItems=1;for(var f=0;f<l.length;f++)if(l[f].length>0&&(this.barCtx.seriesLen=this.barCtx.seriesLen+1,this.barCtx.totalItems+=l[f].length),u.globals.isXNumeric)for(var m=0;m<l[f].length;m++)u.globals.seriesX[f][m]>u.globals.minX&&u.globals.seriesX[f][m]<u.globals.maxX&&this.barCtx.visibleItems++;else this.barCtx.visibleItems=u.globals.dataPoints;0===this.barCtx.seriesLen&&(this.barCtx.seriesLen=1),this.barCtx.zeroSerieses=[],u.globals.comboCharts||this.checkZeroSeries({series:l})}},{key:"initialPositions",value:function(){var l,u,f,m,v,y,w,D,I=this.w,O=I.globals.dataPoints;this.barCtx.isRangeBar&&(O=I.globals.labels.length);var P=this.barCtx.seriesLen;if(I.config.plotOptions.bar.rangeBarGroupRows&&(P=1),this.barCtx.isHorizontal)v=(f=I.globals.gridHeight/O)/P,I.globals.isXNumeric&&(v=(f=I.globals.gridHeight/this.barCtx.totalItems)/this.barCtx.seriesLen),v=v*parseInt(this.barCtx.barOptions.barHeight,10)/100,-1===String(this.barCtx.barOptions.barHeight).indexOf("%")&&(v=parseInt(this.barCtx.barOptions.barHeight,10)),D=this.barCtx.baseLineInvertedY+I.globals.padHorizontal+(this.barCtx.isReversed?I.globals.gridWidth:0)-(this.barCtx.isReversed?2*this.barCtx.baseLineInvertedY:0),this.barCtx.isFunnel&&(D=I.globals.gridWidth/2),u=(f-v*this.barCtx.seriesLen)/2;else{if(m=I.globals.gridWidth/this.barCtx.visibleItems,I.config.xaxis.convertedCatToNumeric&&(m=I.globals.gridWidth/I.globals.dataPoints),y=m/P*parseInt(this.barCtx.barOptions.columnWidth,10)/100,I.globals.isXNumeric){var L=this.barCtx.xRatio;I.config.xaxis.convertedCatToNumeric&&(L=this.barCtx.initialXRatio),I.globals.minXDiff&&.5!==I.globals.minXDiff&&I.globals.minXDiff/L>0&&(m=I.globals.minXDiff/L),(y=m/P*parseInt(this.barCtx.barOptions.columnWidth,10)/100)<1&&(y=1)}-1===String(this.barCtx.barOptions.columnWidth).indexOf("%")&&(y=parseInt(this.barCtx.barOptions.columnWidth,10)),w=I.globals.gridHeight-this.barCtx.baseLineY[this.barCtx.yaxisIndex]-(this.barCtx.isReversed?I.globals.gridHeight:0)+(this.barCtx.isReversed?2*this.barCtx.baseLineY[this.barCtx.yaxisIndex]:0),l=I.globals.padHorizontal+(m-y*this.barCtx.seriesLen)/2}return{x:l,y:u,yDivision:f,xDivision:m,barHeight:v,barWidth:y,zeroH:w,zeroW:D}}},{key:"initializeStackedPrevVars",value:function(l){var u=l.w;u.globals.hasSeriesGroups?u.globals.seriesGroups.forEach(function(f){l[f]||(l[f]={}),l[f].prevY=[],l[f].prevX=[],l[f].prevYF=[],l[f].prevXF=[],l[f].prevYVal=[],l[f].prevXVal=[]}):(l.prevY=[],l.prevX=[],l.prevYF=[],l.prevXF=[],l.prevYVal=[],l.prevXVal=[])}},{key:"initializeStackedXYVars",value:function(l){var u=l.w;u.globals.hasSeriesGroups?u.globals.seriesGroups.forEach(function(f){l[f]||(l[f]={}),l[f].xArrj=[],l[f].xArrjF=[],l[f].xArrjVal=[],l[f].yArrj=[],l[f].yArrjF=[],l[f].yArrjVal=[]}):(l.xArrj=[],l.xArrjF=[],l.xArrjVal=[],l.yArrj=[],l.yArrjF=[],l.yArrjVal=[])}},{key:"getPathFillColor",value:function(l,u,f,m){var v,y,w,D,I=this.w,O=new Je(this.barCtx.ctx),P=null,L=this.barCtx.barOptions.distributed?f:u;return this.barCtx.barOptions.colors.ranges.length>0&&this.barCtx.barOptions.colors.ranges.map(function(U){l[u][f]>=U.from&&l[u][f]<=U.to&&(P=U.color)}),I.config.series[u].data[f]&&I.config.series[u].data[f].fillColor&&(P=I.config.series[u].data[f].fillColor),O.fillPath({seriesNumber:this.barCtx.barOptions.distributed?L:m,dataPointIndex:f,color:P,value:l[u][f],fillConfig:null===(v=I.config.series[u].data[f])||void 0===v?void 0:v.fill,fillType:null!==(y=I.config.series[u].data[f])&&void 0!==y&&null!==(w=y.fill)&&void 0!==w&&w.type?null===(D=I.config.series[u].data[f])||void 0===D?void 0:D.fill.type:I.config.fill.type})}},{key:"getStrokeWidth",value:function(l,u,f){var m=0,v=this.w;return this.barCtx.isNullValue=!this.barCtx.series[l][u],v.config.stroke.show&&(this.barCtx.isNullValue||(m=Array.isArray(this.barCtx.strokeWidth)?this.barCtx.strokeWidth[f]:this.barCtx.strokeWidth)),m}},{key:"shouldApplyRadius",value:function(l){var u=this.w,f=!1;return u.config.plotOptions.bar.borderRadius>0&&(u.config.chart.stacked&&"last"===u.config.plotOptions.bar.borderRadiusWhenStacked?this.barCtx.lastActiveBarSerieIndex===l&&(f=!0):f=!0),f}},{key:"barBackground",value:function(l){var u=l.j,f=l.i,m=l.x1,v=l.x2,y=l.y1,w=l.y2,D=l.elSeries,I=this.w,O=new _e(this.barCtx.ctx),P=new Ot(this.barCtx.ctx).getActiveConfigSeriesIndex();if(this.barCtx.barOptions.colors.backgroundBarColors.length>0&&P===f){u>=this.barCtx.barOptions.colors.backgroundBarColors.length&&(u%=this.barCtx.barOptions.colors.backgroundBarColors.length);var U=O.drawRect(void 0!==m?m:0,void 0!==y?y:0,void 0!==v?v:I.globals.gridWidth,void 0!==w?w:I.globals.gridHeight,this.barCtx.barOptions.colors.backgroundBarRadius,this.barCtx.barOptions.colors.backgroundBarColors[u],this.barCtx.barOptions.colors.backgroundBarOpacity);D.add(U),U.node.classList.add("apexcharts-backgroundBar")}}},{key:"getColumnPaths",value:function(l){var u,f=l.barWidth,m=l.barXPosition,v=l.y1,y=l.y2,w=l.strokeWidth,D=l.seriesGroup,I=l.realIndex,O=l.i,P=l.j,L=l.w,U=new _e(this.barCtx.ctx);(w=Array.isArray(w)?w[I]:w)||(w=0);var G=f,Y=m;null!==(u=L.config.series[I].data[P])&&void 0!==u&&u.columnWidthOffset&&(Y=m-L.config.series[I].data[P].columnWidthOffset/2,G=f+L.config.series[I].data[P].columnWidthOffset);var Q=Y,ie=Y+G;y+=.001;var le=U.move(Q,v+=.001),S=U.move(Q,v),R=U.line(ie-w,v);if(L.globals.previousPaths.length>0&&(S=this.barCtx.getPreviousPath(I,P,!1)),le=le+U.line(Q,y)+U.line(ie-w,y)+U.line(ie-w,v)+("around"===L.config.plotOptions.bar.borderRadiusApplication?" Z":" z"),S=S+U.line(Q,v)+R+R+R+R+R+U.line(Q,v)+("around"===L.config.plotOptions.bar.borderRadiusApplication?" Z":" z"),this.shouldApplyRadius(I)&&(le=U.roundPathCorners(le,L.config.plotOptions.bar.borderRadius)),L.config.chart.stacked){var $=this.barCtx;L.globals.hasSeriesGroups&&D&&($=this.barCtx[D]),$.yArrj.push(y),$.yArrjF.push(Math.abs(v-y)),$.yArrjVal.push(this.barCtx.series[O][P])}return{pathTo:le,pathFrom:S}}},{key:"getBarpaths",value:function(l){var u,f=l.barYPosition,m=l.barHeight,v=l.x1,y=l.x2,w=l.strokeWidth,D=l.seriesGroup,I=l.realIndex,O=l.i,P=l.j,L=l.w,U=new _e(this.barCtx.ctx);(w=Array.isArray(w)?w[I]:w)||(w=0);var G=f,Y=m;null!==(u=L.config.series[I].data[P])&&void 0!==u&&u.barHeightOffset&&(G=f-L.config.series[I].data[P].barHeightOffset/2,Y=m+L.config.series[I].data[P].barHeightOffset);var Q=G,ie=G+Y;y+=.001;var le=U.move(v+=.001,Q),S=U.move(v,Q);L.globals.previousPaths.length>0&&(S=this.barCtx.getPreviousPath(I,P,!1));var R=U.line(v,ie-w);if(le=le+U.line(y,Q)+U.line(y,ie-w)+R+("around"===L.config.plotOptions.bar.borderRadiusApplication?" Z":" z"),S=S+U.line(v,Q)+R+R+R+R+R+U.line(v,Q)+("around"===L.config.plotOptions.bar.borderRadiusApplication?" Z":" z"),this.shouldApplyRadius(I)&&(le=U.roundPathCorners(le,L.config.plotOptions.bar.borderRadius)),L.config.chart.stacked){var $=this.barCtx;L.globals.hasSeriesGroups&&D&&($=this.barCtx[D]),$.xArrj.push(y),$.xArrjF.push(Math.abs(v-y)),$.xArrjVal.push(this.barCtx.series[O][P])}return{pathTo:le,pathFrom:S}}},{key:"checkZeroSeries",value:function(l){for(var u=l.series,f=this.w,m=0;m<u.length;m++){for(var v=0,y=0;y<u[f.globals.maxValsInArrayIndex].length;y++)v+=u[m][y];0===v&&this.barCtx.zeroSerieses.push(m)}}},{key:"getXForValue",value:function(l,u){var f=arguments.length>2&&void 0!==arguments[2]&&!arguments[2]?null:u;return null!=l&&(f=u+l/this.barCtx.invertedYRatio-2*(this.barCtx.isReversed?l/this.barCtx.invertedYRatio:0)),f}},{key:"getYForValue",value:function(l,u){var f=arguments.length>2&&void 0!==arguments[2]&&!arguments[2]?null:u;return null!=l&&(f=u-l/this.barCtx.yRatio[this.barCtx.yaxisIndex]+2*(this.barCtx.isReversed?l/this.barCtx.yRatio[this.barCtx.yaxisIndex]:0)),f}},{key:"getGoalValues",value:function(l,u,f,m,v){var y=this,w=this.w,D=[],I=function(L,U){var G;D.push((gt(G={},l,"x"===l?y.getXForValue(L,u,!1):y.getYForValue(L,f,!1)),gt(G,"attrs",U),G))};if(w.globals.seriesGoals[m]&&w.globals.seriesGoals[m][v]&&Array.isArray(w.globals.seriesGoals[m][v])&&w.globals.seriesGoals[m][v].forEach(function(L){I(L.value,L)}),this.barCtx.barOptions.isDumbbell&&w.globals.seriesRange.length){var O=this.barCtx.barOptions.dumbbellColors?this.barCtx.barOptions.dumbbellColors:w.globals.colors,P={strokeHeight:"x"===l?0:w.globals.markers.size[m],strokeWidth:"x"===l?w.globals.markers.size[m]:0,strokeDashArray:0,strokeLineCap:"round",strokeColor:Array.isArray(O[m])?O[m][0]:O[m]};I(w.globals.seriesRangeStart[m][v],P),I(w.globals.seriesRangeEnd[m][v],re(re({},P),{},{strokeColor:Array.isArray(O[m])?O[m][1]:O[m]}))}return D}},{key:"drawGoalLine",value:function(l){var u=l.barXPosition,f=l.barYPosition,m=l.goalX,v=l.goalY,y=l.barWidth,w=l.barHeight,D=new _e(this.barCtx.ctx),I=D.group({className:"apexcharts-bar-goals-groups"});I.node.classList.add("apexcharts-element-hidden"),this.barCtx.w.globals.delayedElements.push({el:I.node}),I.attr("clip-path","url(#gridRectMarkerMask".concat(this.barCtx.w.globals.cuid,")"));var O=null;return this.barCtx.isHorizontal?Array.isArray(m)&&m.forEach(function(P){var L=void 0!==P.attrs.strokeHeight?P.attrs.strokeHeight:w/2,U=f+L+w/2;O=D.drawLine(P.x,U-2*L,P.x,U,P.attrs.strokeColor?P.attrs.strokeColor:void 0,P.attrs.strokeDashArray,P.attrs.strokeWidth?P.attrs.strokeWidth:2,P.attrs.strokeLineCap),I.add(O)}):Array.isArray(v)&&v.forEach(function(P){var L=void 0!==P.attrs.strokeWidth?P.attrs.strokeWidth:y/2,U=u+L+y/2;O=D.drawLine(U-2*L,P.y,U,P.y,P.attrs.strokeColor?P.attrs.strokeColor:void 0,P.attrs.strokeDashArray,P.attrs.strokeHeight?P.attrs.strokeHeight:2,P.attrs.strokeLineCap),I.add(O)}),I}},{key:"drawBarShadow",value:function(l){var u=l.prevPaths,f=l.currPaths,m=l.color,v=this.w,y=u.x,w=u.x1,I=f.x,O=f.x1,P=f.barYPosition,L=u.barYPosition+f.barHeight,U=new _e(this.barCtx.ctx),G=new me,Y=U.move(w,L)+U.line(y,L)+U.line(I,P)+U.line(O,P)+U.line(w,L)+("around"===v.config.plotOptions.bar.borderRadiusApplication?" Z":" z");return U.drawPath({d:Y,fill:G.shadeColor(.5,me.rgb2hex(m)),stroke:"none",strokeWidth:0,fillOpacity:1,classes:"apexcharts-bar-shadows"})}},{key:"getZeroValueEncounters",value:function(l){var u=l.i,f=l.j,v=0,y=0;return this.w.globals.seriesPercent.forEach(function(w,D){w[f]&&v++,D<u&&0===w[f]&&y++}),{nonZeroColumns:v,zeroEncounters:y}}}]),J}(),st=function(){function J(l,u){xe(this,J),this.ctx=l,this.w=l.w;var f=this.w;this.barOptions=f.config.plotOptions.bar,this.isHorizontal=this.barOptions.horizontal,this.strokeWidth=f.config.stroke.width,this.isNullValue=!1,this.isRangeBar=f.globals.seriesRange.length&&this.isHorizontal,this.isVerticalGroupedRangeBar=!f.globals.isBarHorizontal&&f.globals.seriesRange.length&&f.config.plotOptions.bar.rangeBarGroupRows,this.isFunnel=this.barOptions.isFunnel,this.xyRatios=u,null!==this.xyRatios&&(this.xRatio=u.xRatio,this.initialXRatio=u.initialXRatio,this.yRatio=u.yRatio,this.invertedXRatio=u.invertedXRatio,this.invertedYRatio=u.invertedYRatio,this.baseLineY=u.baseLineY,this.baseLineInvertedY=u.baseLineInvertedY),this.yaxisIndex=0,this.seriesLen=0,this.pathArr=[];var m=new Ot(this.ctx);this.lastActiveBarSerieIndex=m.getActiveConfigSeriesIndex("desc",["bar","column"]);var v=m.getBarSeriesIndices(),y=new et(this.ctx);this.stackedSeriesTotals=y.getStackedSeriesTotals(this.w.config.series.map(function(w,D){return-1===v.indexOf(D)?D:-1}).filter(function(w){return-1!==w})),this.barHelpers=new So(this)}return ke(J,[{key:"draw",value:function(l,u){var f=this.w,m=new _e(this.ctx),v=new et(this.ctx,f);l=v.getLogSeries(l),this.series=l,this.yRatio=v.getLogYRatios(this.yRatio),this.barHelpers.initVariables(l);var y=m.group({class:"apexcharts-bar-series apexcharts-plot-series"});f.config.dataLabels.enabled&&this.totalItems>this.barOptions.dataLabels.maxItems&&console.warn("WARNING: DataLabels are enabled but there are too many to display. This may cause performance issue when rendering - ApexCharts");for(var w=0,D=0;w<l.length;w++,D++){var I,O,P,L,U=void 0,G=void 0,Y=[],Q=[],ie=f.globals.comboCharts?u[w]:w,le=m.group({class:"apexcharts-series",rel:w+1,seriesName:me.escapeString(f.globals.seriesNames[ie]),"data:realIndex":ie});this.ctx.series.addCollapsedClassToSeries(le,ie),l[w].length>0&&(this.visibleI=this.visibleI+1);var S=0,R=0;this.yRatio.length>1&&(this.yaxisIndex=ie),this.isReversed=f.config.yaxis[this.yaxisIndex]&&f.config.yaxis[this.yaxisIndex].reversed;var $=this.barHelpers.initialPositions();G=$.y,S=$.barHeight,O=$.yDivision,L=$.zeroW,U=$.x,R=$.barWidth,I=$.xDivision,P=$.zeroH,this.horizontal||Q.push(U+R/2);var te=m.group({class:"apexcharts-datalabels","data:realIndex":ie});f.globals.delayedElements.push({el:te.node}),te.node.classList.add("apexcharts-element-hidden");var de=m.group({class:"apexcharts-bar-goals-markers"}),he=m.group({class:"apexcharts-bar-shadows"});f.globals.delayedElements.push({el:he.node}),he.node.classList.add("apexcharts-element-hidden");for(var Ie=0;Ie<f.globals.dataPoints;Ie++){var De=this.barHelpers.getStrokeWidth(w,Ie,ie),$e=null,yt={indexes:{i:w,j:Ie,realIndex:ie,bc:D},x:U,y:G,strokeWidth:De,elSeries:le};this.isHorizontal?($e=this.drawBarPaths(re(re({},yt),{},{barHeight:S,zeroW:L,yDivision:O})),R=this.series[w][Ie]/this.invertedYRatio):($e=this.drawColumnPaths(re(re({},yt),{},{xDivision:I,barWidth:R,zeroH:P})),S=this.series[w][Ie]/this.yRatio[this.yaxisIndex]);var ot=this.barHelpers.getPathFillColor(l,w,Ie,ie);if(this.isFunnel&&this.barOptions.isFunnel3d&&this.pathArr.length&&Ie>0){var Lt=this.barHelpers.drawBarShadow({color:"string"==typeof ot&&-1===ot?.indexOf("url")?ot:me.hexToRgba(f.globals.colors[w]),prevPaths:this.pathArr[this.pathArr.length-1],currPaths:$e});Lt&&he.add(Lt)}this.pathArr.push($e);var Pt=this.barHelpers.drawGoalLine({barXPosition:$e.barXPosition,barYPosition:$e.barYPosition,goalX:$e.goalX,goalY:$e.goalY,barHeight:S,barWidth:R});Pt&&de.add(Pt),G=$e.y,U=$e.x,Ie>0&&Q.push(U+R/2),Y.push(G),this.renderSeries({realIndex:ie,pathFill:ot,j:Ie,i:w,pathFrom:$e.pathFrom,pathTo:$e.pathTo,strokeWidth:De,elSeries:le,x:U,y:G,series:l,barHeight:$e.barHeight?$e.barHeight:S,barWidth:$e.barWidth?$e.barWidth:R,elDataLabelsWrap:te,elGoalsMarkers:de,elBarShadows:he,visibleSeries:this.visibleI,type:"bar"})}f.globals.seriesXvalues[ie]=Q,f.globals.seriesYvalues[ie]=Y,y.add(le)}return y}},{key:"renderSeries",value:function(l){var u=l.realIndex,f=l.pathFill,m=l.lineFill,v=l.j,y=l.i,w=l.groupIndex,D=l.pathFrom,I=l.pathTo,O=l.strokeWidth,P=l.elSeries,L=l.x,U=l.y,G=l.y1,Y=l.y2,Q=l.series,ie=l.barHeight,le=l.barWidth,S=l.barXPosition,R=l.barYPosition,$=l.elDataLabelsWrap,te=l.elGoalsMarkers,de=l.elBarShadows,he=l.visibleSeries,Ie=l.type,De=this.w,$e=new _e(this.ctx);m||(m=this.barOptions.distributed?De.globals.stroke.colors[v]:De.globals.stroke.colors[u]),De.config.series[y].data[v]&&De.config.series[y].data[v].strokeColor&&(m=De.config.series[y].data[v].strokeColor),this.isNullValue&&(f="none");var ot=$e.renderPaths({i:y,j:v,realIndex:u,pathFrom:D,pathTo:I,stroke:m,strokeWidth:O,strokeLineCap:De.config.stroke.lineCap,fill:f,animationDelay:v/De.config.chart.animations.animateGradually.delay*(De.config.chart.animations.speed/De.globals.dataPoints)/2.4,initialSpeed:De.config.chart.animations.speed,dataChangeSpeed:De.config.chart.animations.dynamicAnimation.speed,className:"apexcharts-".concat(Ie,"-area")});ot.attr("clip-path","url(#gridRectMask".concat(De.globals.cuid,")"));var Lt=De.config.forecastDataPoints;Lt.count>0&&v>=De.globals.dataPoints-Lt.count&&(ot.node.setAttribute("stroke-dasharray",Lt.dashArray),ot.node.setAttribute("stroke-width",Lt.strokeWidth),ot.node.setAttribute("fill-opacity",Lt.fillOpacity)),void 0!==G&&void 0!==Y&&(ot.attr("data-range-y1",G),ot.attr("data-range-y2",Y)),new $t(this.ctx).setSelectionFilter(ot,u,v),P.add(ot);var Pt=new Kr(this).handleBarDataLabels({x:L,y:U,y1:G,y2:Y,i:y,j:v,series:Q,realIndex:u,groupIndex:w,barHeight:ie,barWidth:le,barXPosition:S,barYPosition:R,renderedPath:ot,visibleSeries:he});return null!==Pt.dataLabels&&$.add(Pt.dataLabels),Pt.totalDataLabels&&$.add(Pt.totalDataLabels),P.add($),te&&P.add(te),de&&P.add(de),P}},{key:"drawBarPaths",value:function(l){var u,w,f=l.indexes,m=l.barHeight,v=l.strokeWidth,y=l.zeroW,D=l.y,I=l.yDivision,O=l.elSeries,P=this.w,L=f.i,U=f.j;if(P.globals.isXNumeric)u=(D=(P.globals.seriesX[L][U]-P.globals.minX)/this.invertedXRatio-m)+m*this.visibleI;else if(P.config.plotOptions.bar.hideZeroBarsWhenGrouped){var G=0,Y=0;P.globals.seriesPercent.forEach(function(ie,le){ie[U]&&G++,le<L&&0===ie[U]&&Y++}),G>0&&(m=this.seriesLen*m/G),u=D+m*this.visibleI,u-=m*Y}else u=D+m*this.visibleI;this.isFunnel&&(y-=(this.barHelpers.getXForValue(this.series[L][U],y)-y)/2),w=this.barHelpers.getXForValue(this.series[L][U],y);var Q=this.barHelpers.getBarpaths({barYPosition:u,barHeight:m,x1:y,x2:w,strokeWidth:v,series:this.series,realIndex:f.realIndex,i:L,j:U,w:P});return P.globals.isXNumeric||(D+=I),this.barHelpers.barBackground({j:U,i:L,y1:u-m*this.visibleI,y2:m*this.seriesLen,elSeries:O}),{pathTo:Q.pathTo,pathFrom:Q.pathFrom,x1:y,x:w,y:D,goalX:this.barHelpers.getGoalValues("x",y,null,L,U),barYPosition:u,barHeight:m}}},{key:"drawColumnPaths",value:function(l){var u,v,f=l.indexes,m=l.x,y=l.xDivision,w=l.barWidth,D=l.zeroH,I=l.strokeWidth,O=l.elSeries,P=this.w,U=f.i,G=f.j,Y=f.bc;if(P.globals.isXNumeric){var Q=this.getBarXForNumericXAxis({x:m,j:G,realIndex:f.realIndex,barWidth:w});m=Q.x,u=Q.barXPosition}else if(P.config.plotOptions.bar.hideZeroBarsWhenGrouped){var ie=this.barHelpers.getZeroValueEncounters({i:U,j:G}),le=ie.nonZeroColumns;le>0&&(w=this.seriesLen*w/le),u=m+w*this.visibleI,u-=w*ie.zeroEncounters}else u=m+w*this.visibleI;v=this.barHelpers.getYForValue(this.series[U][G],D);var R=this.barHelpers.getColumnPaths({barXPosition:u,barWidth:w,y1:D,y2:v,strokeWidth:I,series:this.series,realIndex:f.realIndex,i:U,j:G,w:P});return P.globals.isXNumeric||(m+=y),this.barHelpers.barBackground({bc:Y,j:G,i:U,x1:u-I/2-w*this.visibleI,x2:w*this.seriesLen+I/2,elSeries:O}),{pathTo:R.pathTo,pathFrom:R.pathFrom,x:m,y:v,goalY:this.barHelpers.getGoalValues("y",null,D,U,G),barXPosition:u,barWidth:w}}},{key:"getBarXForNumericXAxis",value:function(l){var u=l.x,f=l.barWidth,m=l.realIndex,v=l.j,y=this.w,w=m;return y.globals.seriesX[m].length||(w=y.globals.maxValsInArrayIndex),y.globals.seriesX[w][v]&&(u=(y.globals.seriesX[w][v]-y.globals.minX)/this.xRatio-f*this.seriesLen/2),{barXPosition:u+f*this.visibleI,x:u}}},{key:"getPreviousPath",value:function(l,u){for(var f,m=this.w,v=0;v<m.globals.previousPaths.length;v++){var y=m.globals.previousPaths[v];y.paths&&y.paths.length>0&&parseInt(y.realIndex,10)===parseInt(l,10)&&void 0!==m.globals.previousPaths[v].paths[u]&&(f=m.globals.previousPaths[v].paths[u].d)}return f}}]),J}(),Ae=function(J){Qe(u,st);var l=St(u);function u(){return xe(this,u),l.apply(this,arguments)}return ke(u,[{key:"draw",value:function(f,m){var v=this,y=this.w;this.graphics=new _e(this.ctx),this.bar=new st(this.ctx,this.xyRatios);var w=new et(this.ctx,y);f=w.getLogSeries(f),this.yRatio=w.getLogYRatios(this.yRatio),this.barHelpers.initVariables(f),"100%"===y.config.chart.stackType&&(f=y.globals.seriesPercent.slice()),this.series=f,this.barHelpers.initializeStackedPrevVars(this);for(var D=this.graphics.group({class:"apexcharts-bar-series apexcharts-plot-series"}),I=0,O=0,P=function(G,Y){var Q=void 0,ie=void 0,le=void 0,S=void 0,R=-1;v.groupCtx=v,y.globals.seriesGroups.forEach(function(Ii,Ri){Ii.indexOf(y.config.series[G].name)>-1&&(R=Ri)}),-1!==R&&(v.groupCtx=v[y.globals.seriesGroups[R]]);var $=[],te=[],de=y.globals.comboCharts?m[G]:G;v.yRatio.length>1&&(v.yaxisIndex=de),v.isReversed=y.config.yaxis[v.yaxisIndex]&&y.config.yaxis[v.yaxisIndex].reversed;var he=v.graphics.group({class:"apexcharts-series",seriesName:me.escapeString(y.globals.seriesNames[de]),rel:G+1,"data:realIndex":de});v.ctx.series.addCollapsedClassToSeries(he,de);var Ie=v.graphics.group({class:"apexcharts-datalabels","data:realIndex":de}),De=v.graphics.group({class:"apexcharts-bar-goals-markers"}),$e=0,yt=0,ot=v.initialPositions(I,O,Q,ie,le,S);O=ot.y,$e=ot.barHeight,ie=ot.yDivision,S=ot.zeroW,I=ot.x,yt=ot.barWidth,Q=ot.xDivision,le=ot.zeroH,v.barHelpers.initializeStackedXYVars(v),1===v.groupCtx.prevY.length&&v.groupCtx.prevY[0].every(function(Ii){return isNaN(Ii)})&&(v.groupCtx.prevY[0]=v.groupCtx.prevY[0].map(function(Ii){return le}),v.groupCtx.prevYF[0]=v.groupCtx.prevYF[0].map(function(Ii){return 0}));for(var Lt=0;Lt<y.globals.dataPoints;Lt++){var Pt=v.barHelpers.getStrokeWidth(G,Lt,de),Mn={indexes:{i:G,j:Lt,realIndex:de,bc:Y},strokeWidth:Pt,x:I,y:O,elSeries:he,groupIndex:R,seriesGroup:y.globals.seriesGroups[R]},Wn=null;v.isHorizontal?(Wn=v.drawStackedBarPaths(re(re({},Mn),{},{zeroW:S,barHeight:$e,yDivision:ie})),yt=v.series[G][Lt]/v.invertedYRatio):(Wn=v.drawStackedColumnPaths(re(re({},Mn),{},{xDivision:Q,barWidth:yt,zeroH:le})),$e=v.series[G][Lt]/v.yRatio[v.yaxisIndex]);var Zn=v.barHelpers.drawGoalLine({barXPosition:Wn.barXPosition,barYPosition:Wn.barYPosition,goalX:Wn.goalX,goalY:Wn.goalY,barHeight:$e,barWidth:yt});Zn&&De.add(Zn),O=Wn.y,$.push(I=Wn.x),te.push(O);var ji=v.barHelpers.getPathFillColor(f,G,Lt,de);he=v.renderSeries({realIndex:de,pathFill:ji,j:Lt,i:G,groupIndex:R,pathFrom:Wn.pathFrom,pathTo:Wn.pathTo,strokeWidth:Pt,elSeries:he,x:I,y:O,series:f,barHeight:$e,barWidth:yt,elDataLabelsWrap:Ie,elGoalsMarkers:De,type:"bar",visibleSeries:0})}y.globals.seriesXvalues[de]=$,y.globals.seriesYvalues[de]=te,v.groupCtx.prevY.push(v.groupCtx.yArrj),v.groupCtx.prevYF.push(v.groupCtx.yArrjF),v.groupCtx.prevYVal.push(v.groupCtx.yArrjVal),v.groupCtx.prevX.push(v.groupCtx.xArrj),v.groupCtx.prevXF.push(v.groupCtx.xArrjF),v.groupCtx.prevXVal.push(v.groupCtx.xArrjVal),D.add(he)},L=0,U=0;L<f.length;L++,U++)P(L,U);return D}},{key:"initialPositions",value:function(f,m,v,y,w,D){var I,O,P,L,U=this.w;return this.isHorizontal?(P=(P=y=U.globals.gridHeight/U.globals.dataPoints)*parseInt(U.config.plotOptions.bar.barHeight,10)/100,-1===String(U.config.plotOptions.bar.barHeight).indexOf("%")&&(P=parseInt(U.config.plotOptions.bar.barHeight,10)),D=this.baseLineInvertedY+U.globals.padHorizontal+(this.isReversed?U.globals.gridWidth:0)-(this.isReversed?2*this.baseLineInvertedY:0),m=(y-P)/2):(L=v=U.globals.gridWidth/U.globals.dataPoints,L=U.globals.isXNumeric&&U.globals.dataPoints>1?(v=U.globals.minXDiff/this.xRatio)*parseInt(this.barOptions.columnWidth,10)/100:L*parseInt(U.config.plotOptions.bar.columnWidth,10)/100,-1===String(U.config.plotOptions.bar.columnWidth).indexOf("%")&&(L=parseInt(U.config.plotOptions.bar.columnWidth,10)),w=U.globals.gridHeight-this.baseLineY[this.yaxisIndex]-(this.isReversed?U.globals.gridHeight:0)+(this.isReversed?2*this.baseLineY[this.yaxisIndex]:0),f=U.globals.padHorizontal+(v-L)/2),{x:f,y:m,yDivision:y,xDivision:v,barHeight:null!==(I=U.globals.seriesGroups)&&void 0!==I&&I.length?P/U.globals.seriesGroups.length:P,barWidth:null!==(O=U.globals.seriesGroups)&&void 0!==O&&O.length?L/U.globals.seriesGroups.length:L,zeroH:w,zeroW:D}}},{key:"drawStackedBarPaths",value:function(f){for(var m,I,v=f.indexes,y=f.barHeight,w=f.strokeWidth,D=f.zeroW,O=f.y,P=f.groupIndex,L=f.seriesGroup,U=f.yDivision,G=f.elSeries,Y=this.w,Q=O+(-1!==P?P*y:0),ie=v.i,le=v.j,S=0,R=0;R<this.groupCtx.prevXF.length;R++)S+=this.groupCtx.prevXF[R][le];var $=ie;if(L&&($=L.indexOf(Y.config.series[ie].name)),$>0){var te=D;this.groupCtx.prevXVal[$-1][le]<0?te=this.series[ie][le]>=0?this.groupCtx.prevX[$-1][le]+S-2*(this.isReversed?S:0):this.groupCtx.prevX[$-1][le]:this.groupCtx.prevXVal[$-1][le]>=0&&(te=this.series[ie][le]>=0?this.groupCtx.prevX[$-1][le]:this.groupCtx.prevX[$-1][le]-S+2*(this.isReversed?S:0)),m=te}else m=D;var de=this.barHelpers.getBarpaths({barYPosition:Q,barHeight:y,x1:m,x2:I=null===this.series[ie][le]?m:m+this.series[ie][le]/this.invertedYRatio-2*(this.isReversed?this.series[ie][le]/this.invertedYRatio:0),strokeWidth:w,series:this.series,realIndex:v.realIndex,seriesGroup:L,i:ie,j:le,w:Y});return this.barHelpers.barBackground({j:le,i:ie,y1:Q,y2:y,elSeries:G}),O+=U,{pathTo:de.pathTo,pathFrom:de.pathFrom,goalX:this.barHelpers.getGoalValues("x",D,null,ie,le),barYPosition:Q,x:I,y:O}}},{key:"drawStackedColumnPaths",value:function(f){var y,m=f.indexes,v=f.x,w=f.xDivision,D=f.barWidth,I=f.zeroH,O=f.groupIndex,P=f.seriesGroup,L=f.elSeries,U=this.w,G=m.i,Y=m.j,Q=m.bc;if(U.globals.isXNumeric){var ie=U.globals.seriesX[G][Y];ie||(ie=0),v=(ie-U.globals.minX)/this.xRatio-D/2,U.globals.seriesGroups.length&&(v=(ie-U.globals.minX)/this.xRatio-D/2*U.globals.seriesGroups.length)}for(var le,S=v+(-1!==O?O*D:0),R=0,$=0;$<this.groupCtx.prevYF.length;$++)R+=isNaN(this.groupCtx.prevYF[$][Y])?0:this.groupCtx.prevYF[$][Y];var te=G;if(P&&(te=P.indexOf(U.config.series[G].name)),te>0&&!U.globals.isXNumeric||te>0&&U.globals.isXNumeric&&U.globals.seriesX[G-1][Y]===U.globals.seriesX[G][Y]){var de,he,Ie,De=Math.min(this.yRatio.length+1,G+1);if(void 0!==this.groupCtx.prevY[te-1]&&this.groupCtx.prevY[te-1].length)for(var $e=1;$e<De;$e++){var yt;if(!isNaN(null===(yt=this.groupCtx.prevY[te-$e])||void 0===yt?void 0:yt[Y])){Ie=this.groupCtx.prevY[te-$e][Y];break}}for(var ot=1;ot<De;ot++){var Lt,Pt;if((null===(Lt=this.groupCtx.prevYVal[te-ot])||void 0===Lt?void 0:Lt[Y])<0){he=this.series[G][Y]>=0?Ie-R+2*(this.isReversed?R:0):Ie;break}if((null===(Pt=this.groupCtx.prevYVal[te-ot])||void 0===Pt?void 0:Pt[Y])>=0){he=this.series[G][Y]>=0?Ie:Ie+R-2*(this.isReversed?R:0);break}}void 0===he&&(he=U.globals.gridHeight),le=null!==(de=this.groupCtx.prevYF[0])&&void 0!==de&&de.every(function(Wn){return 0===Wn})&&this.groupCtx.prevYF.slice(1,te).every(function(Wn){return Wn.every(function(Zn){return isNaN(Zn)})})?I:he}else le=I;var Mn=this.barHelpers.getColumnPaths({barXPosition:S,barWidth:D,y1:le,y2:y=this.series[G][Y]?le-this.series[G][Y]/this.yRatio[this.yaxisIndex]+2*(this.isReversed?this.series[G][Y]/this.yRatio[this.yaxisIndex]:0):le,yRatio:this.yRatio[this.yaxisIndex],strokeWidth:this.strokeWidth,series:this.series,seriesGroup:P,realIndex:m.realIndex,i:G,j:Y,w:U});return this.barHelpers.barBackground({bc:Q,j:Y,i:G,x1:S,x2:D,elSeries:L}),v+=w,{pathTo:Mn.pathTo,pathFrom:Mn.pathFrom,goalY:this.barHelpers.getGoalValues("y",null,I,G,Y),barXPosition:S,x:U.globals.isXNumeric?v-w:v,y}}}]),u}(),at=function(J){Qe(u,st);var l=St(u);function u(){return xe(this,u),l.apply(this,arguments)}return ke(u,[{key:"draw",value:function(f,m,v){var y=this,w=this.w,D=new _e(this.ctx),I=w.globals.comboCharts?m:w.config.chart.type,O=new Je(this.ctx);this.candlestickOptions=this.w.config.plotOptions.candlestick,this.boxOptions=this.w.config.plotOptions.boxPlot,this.isHorizontal=w.config.plotOptions.bar.horizontal;var P=new et(this.ctx,w);f=P.getLogSeries(f),this.series=f,this.yRatio=P.getLogYRatios(this.yRatio),this.barHelpers.initVariables(f);for(var L=D.group({class:"apexcharts-".concat(I,"-series apexcharts-plot-series")}),U=function(Y){y.isBoxPlot="boxPlot"===w.config.chart.type||"boxPlot"===w.config.series[Y].type;var Q,ie,le,S,De,$e,R=void 0,$=void 0,te=[],de=[],he=w.globals.comboCharts?v[Y]:Y,Ie=D.group({class:"apexcharts-series",seriesName:me.escapeString(w.globals.seriesNames[he]),rel:Y+1,"data:realIndex":he});y.ctx.series.addCollapsedClassToSeries(Ie,he),f[Y].length>0&&(y.visibleI=y.visibleI+1),y.yRatio.length>1&&(y.yaxisIndex=he);var yt=y.barHelpers.initialPositions();$=yt.y,De=yt.barHeight,ie=yt.yDivision,S=yt.zeroW,Q=yt.xDivision,le=yt.zeroH,de.push((R=yt.x)+($e=yt.barWidth)/2);for(var ot=D.group({class:"apexcharts-datalabels","data:realIndex":he}),Lt=function(Mn){var Wn=y.barHelpers.getStrokeWidth(Y,Mn,he),Zn=null,ji={indexes:{i:Y,j:Mn,realIndex:he},x:R,y:$,strokeWidth:Wn,elSeries:Ie};Zn=y.isHorizontal?y.drawHorizontalBoxPaths(re(re({},ji),{},{yDivision:ie,barHeight:De,zeroW:S})):y.drawVerticalBoxPaths(re(re({},ji),{},{xDivision:Q,barWidth:$e,zeroH:le})),$=Zn.y,R=Zn.x,Mn>0&&de.push(R+$e/2),te.push($),Zn.pathTo.forEach(function(Ii,Ri){var Os=!y.isBoxPlot&&y.candlestickOptions.wick.useFillColor?Zn.color[Ri]:w.globals.stroke.colors[Y],Un=O.fillPath({seriesNumber:he,dataPointIndex:Mn,color:Zn.color[Ri],value:f[Y][Mn]});y.renderSeries({realIndex:he,pathFill:Un,lineFill:Os,j:Mn,i:Y,pathFrom:Zn.pathFrom,pathTo:Ii,strokeWidth:Wn,elSeries:Ie,x:R,y:$,series:f,barHeight:De,barWidth:$e,elDataLabelsWrap:ot,visibleSeries:y.visibleI,type:w.config.chart.type})})},Pt=0;Pt<w.globals.dataPoints;Pt++)Lt(Pt);w.globals.seriesXvalues[he]=de,w.globals.seriesYvalues[he]=te,L.add(Ie)},G=0;G<f.length;G++)U(G);return L}},{key:"drawVerticalBoxPaths",value:function(f){var m=f.indexes,v=f.x,y=f.xDivision,w=f.barWidth,D=f.zeroH,I=f.strokeWidth,O=this.w,P=new _e(this.ctx),L=m.i,U=m.j,G=!0,Y=O.config.plotOptions.candlestick.colors.upward,Q=O.config.plotOptions.candlestick.colors.downward,ie="";this.isBoxPlot&&(ie=[this.boxOptions.colors.lower,this.boxOptions.colors.upper]);var le=this.yRatio[this.yaxisIndex],S=m.realIndex,R=this.getOHLCValue(S,U),$=D,te=D;R.o>R.c&&(G=!1);var de=Math.min(R.o,R.c),he=Math.max(R.o,R.c),Ie=R.m;O.globals.isXNumeric&&(v=(O.globals.seriesX[S][U]-O.globals.minX)/this.xRatio-w/2);var De=v+w*this.visibleI;null==this.series[L][U]?(de=D,he=D):(de=D-de/le,he=D-he/le,$=D-R.h/le,te=D-R.l/le,Ie=D-R.m/le);var $e=P.move(De,D),yt=P.move(De+w/2,de);return O.globals.previousPaths.length>0&&(yt=this.getPreviousPath(S,U,!0)),$e=this.isBoxPlot?[P.move(De,de)+P.line(De+w/2,de)+P.line(De+w/2,$)+P.line(De+w/4,$)+P.line(De+w-w/4,$)+P.line(De+w/2,$)+P.line(De+w/2,de)+P.line(De+w,de)+P.line(De+w,Ie)+P.line(De,Ie)+P.line(De,de+I/2),P.move(De,Ie)+P.line(De+w,Ie)+P.line(De+w,he)+P.line(De+w/2,he)+P.line(De+w/2,te)+P.line(De+w-w/4,te)+P.line(De+w/4,te)+P.line(De+w/2,te)+P.line(De+w/2,he)+P.line(De,he)+P.line(De,Ie)+"z"]:[P.move(De,he)+P.line(De+w/2,he)+P.line(De+w/2,$)+P.line(De+w/2,he)+P.line(De+w,he)+P.line(De+w,de)+P.line(De+w/2,de)+P.line(De+w/2,te)+P.line(De+w/2,de)+P.line(De,de)+P.line(De,he-I/2)],yt+=P.move(De,de),O.globals.isXNumeric||(v+=y),{pathTo:$e,pathFrom:yt,x:v,y:he,barXPosition:De,color:this.isBoxPlot?ie:G?[Y]:[Q]}}},{key:"drawHorizontalBoxPaths",value:function(f){var m=f.indexes,v=f.y,y=f.yDivision,w=f.barHeight,D=f.zeroW,I=f.strokeWidth,O=this.w,P=new _e(this.ctx),L=m.i,U=m.j,G=this.boxOptions.colors.lower;this.isBoxPlot&&(G=[this.boxOptions.colors.lower,this.boxOptions.colors.upper]);var Y=this.invertedYRatio,Q=m.realIndex,ie=this.getOHLCValue(Q,U),le=D,S=D,R=Math.min(ie.o,ie.c),$=Math.max(ie.o,ie.c),te=ie.m;O.globals.isXNumeric&&(v=(O.globals.seriesX[Q][U]-O.globals.minX)/this.invertedXRatio-w/2);var de=v+w*this.visibleI;null==this.series[L][U]?(R=D,$=D):(R=D+R/Y,$=D+$/Y,le=D+ie.h/Y,S=D+ie.l/Y,te=D+ie.m/Y);var he=P.move(D,de),Ie=P.move(R,de+w/2);return O.globals.previousPaths.length>0&&(Ie=this.getPreviousPath(Q,U,!0)),he=[P.move(R,de)+P.line(R,de+w/2)+P.line(le,de+w/2)+P.line(le,de+w/2-w/4)+P.line(le,de+w/2+w/4)+P.line(le,de+w/2)+P.line(R,de+w/2)+P.line(R,de+w)+P.line(te,de+w)+P.line(te,de)+P.line(R+I/2,de),P.move(te,de)+P.line(te,de+w)+P.line($,de+w)+P.line($,de+w/2)+P.line(S,de+w/2)+P.line(S,de+w-w/4)+P.line(S,de+w/4)+P.line(S,de+w/2)+P.line($,de+w/2)+P.line($,de)+P.line(te,de)+"z"],Ie+=P.move(R,de),O.globals.isXNumeric||(v+=y),{pathTo:he,pathFrom:Ie,x:$,y:v,barYPosition:de,color:G}}},{key:"getOHLCValue",value:function(f,m){var v=this.w;return{o:this.isBoxPlot?v.globals.seriesCandleH[f][m]:v.globals.seriesCandleO[f][m],h:this.isBoxPlot?v.globals.seriesCandleO[f][m]:v.globals.seriesCandleH[f][m],m:v.globals.seriesCandleM[f][m],l:this.isBoxPlot?v.globals.seriesCandleC[f][m]:v.globals.seriesCandleL[f][m],c:this.isBoxPlot?v.globals.seriesCandleL[f][m]:v.globals.seriesCandleC[f][m]}}}]),u}(),Nt=function(){function J(l){xe(this,J),this.ctx=l,this.w=l.w}return ke(J,[{key:"checkColorRange",value:function(){var l=this.w,u=!1,f=l.config.plotOptions[l.config.chart.type];return f.colorScale.ranges.length>0&&f.colorScale.ranges.map(function(m,v){m.from<=0&&(u=!0)}),u}},{key:"getShadeColor",value:function(l,u,f,m){var v=this.w,y=1,w=v.config.plotOptions[l].shadeIntensity,D=this.determineColor(l,u,f);v.globals.hasNegs||m?y=v.config.plotOptions[l].reverseNegativeShade?D.percent<0?D.percent/100*(1.25*w):1.25*w*(1-D.percent/100):D.percent<=0?1-(1+D.percent/100)*w:(1-D.percent/100)*w:(y=1-D.percent/100,"treemap"===l&&(y=1.25*w*(1-D.percent/100)));var I=D.color,O=new me;return v.config.plotOptions[l].enableShades&&(I=me.hexToRgba(O.shadeColor("dark"===this.w.config.theme.mode?-1*y:y,D.color),v.config.fill.opacity)),{color:I,colorProps:D}}},{key:"determineColor",value:function(l,u,f){var m=this.w,v=m.globals.series[u][f],y=m.config.plotOptions[l],w=y.colorScale.inverse?f:u;y.distributed&&"treemap"===m.config.chart.type&&(w=f);var D=m.globals.colors[w],I=null,O=Math.min.apply(Math,At(m.globals.series[u])),P=Math.max.apply(Math,At(m.globals.series[u]));y.distributed||"heatmap"!==l||(O=m.globals.minY,P=m.globals.maxY),void 0!==y.colorScale.min&&(O=y.colorScale.min<m.globals.minY?y.colorScale.min:m.globals.minY,P=y.colorScale.max>m.globals.maxY?y.colorScale.max:m.globals.maxY);var L=Math.abs(P)+Math.abs(O),U=100*v/(0===L?L-1e-6:L);return y.colorScale.ranges.length>0&&y.colorScale.ranges.map(function(G,Y){if(v>=G.from&&v<=G.to){D=G.color,I=G.foreColor?G.foreColor:null,O=G.from,P=G.to;var Q=Math.abs(P)+Math.abs(O);U=100*v/(0===Q?Q-1e-6:Q)}}),{color:D,foreColor:I,percent:U}}},{key:"calculateDataLabels",value:function(l){var u=l.text,f=l.x,m=l.y,v=l.i,y=l.j,w=l.colorProps,D=l.fontSize,I=this.w.config.dataLabels,O=new _e(this.ctx),P=new vt(this.ctx),L=null;if(I.enabled){L=O.group({class:"apexcharts-data-labels"});var G=I.offsetY,Y=f+I.offsetX,Q=m+parseFloat(I.style.fontSize)/3+G;P.plotDataLabelsText({x:Y,y:Q,text:u,i:v,j:y,color:w.foreColor,parent:L,fontSize:D,dataLabelsConfig:I})}return L}},{key:"addListeners",value:function(l){var u=new _e(this.ctx);l.node.addEventListener("mouseenter",u.pathMouseEnter.bind(this,l)),l.node.addEventListener("mouseleave",u.pathMouseLeave.bind(this,l)),l.node.addEventListener("mousedown",u.pathMouseDown.bind(this,l))}}]),J}(),Wt=function(){function J(l,u){xe(this,J),this.ctx=l,this.w=l.w,this.xRatio=u.xRatio,this.yRatio=u.yRatio,this.dynamicAnim=this.w.config.chart.animations.dynamicAnimation,this.helpers=new Nt(l),this.rectRadius=this.w.config.plotOptions.heatmap.radius,this.strokeWidth=this.w.config.stroke.show?this.w.config.stroke.width:0}return ke(J,[{key:"draw",value:function(l){var u=this.w,f=new _e(this.ctx),m=f.group({class:"apexcharts-heatmap"});m.attr("clip-path","url(#gridRectMask".concat(u.globals.cuid,")"));var v=u.globals.gridWidth/u.globals.dataPoints,y=u.globals.gridHeight/u.globals.series.length,w=0,D=!1;this.negRange=this.helpers.checkColorRange();var I=l.slice();u.config.yaxis[0].reversed&&(D=!0,I.reverse());for(var O=D?0:I.length-1;D?O<I.length:O>=0;D?O++:O--){var P=f.group({class:"apexcharts-series apexcharts-heatmap-series",seriesName:me.escapeString(u.globals.seriesNames[O]),rel:O+1,"data:realIndex":O});if(this.ctx.series.addCollapsedClassToSeries(P,O),u.config.chart.dropShadow.enabled){var L=u.config.chart.dropShadow;new $t(this.ctx).dropShadow(P,L,O)}for(var U=0,G=u.config.plotOptions.heatmap.shadeIntensity,Y=0;Y<I[O].length;Y++){var Q=this.helpers.getShadeColor(u.config.chart.type,O,Y,this.negRange),ie=Q.color,le=Q.colorProps;"image"===u.config.fill.type&&(ie=new Je(this.ctx).fillPath({seriesNumber:O,dataPointIndex:Y,opacity:u.globals.hasNegs?le.percent<0?1-(1+le.percent/100):G+le.percent/100:le.percent/100,patternID:me.randomId(),width:u.config.fill.image.width?u.config.fill.image.width:v,height:u.config.fill.image.height?u.config.fill.image.height:y}));var R=f.drawRect(U,w,v,y,this.rectRadius);if(R.attr({cx:U,cy:w}),R.node.classList.add("apexcharts-heatmap-rect"),P.add(R),R.attr({fill:ie,i:O,index:O,j:Y,val:I[O][Y],"stroke-width":this.strokeWidth,stroke:u.config.plotOptions.heatmap.useFillColorAsStroke?ie:u.globals.stroke.colors[0],color:ie}),this.helpers.addListeners(R),u.config.chart.animations.enabled&&!u.globals.dataChanged){var $=1;u.globals.resized||($=u.config.chart.animations.speed),this.animateHeatMap(R,U,w,v,y,$)}if(u.globals.dataChanged){var te=1;if(this.dynamicAnim.enabled&&u.globals.shouldAnimate){te=this.dynamicAnim.speed;var de=u.globals.previousPaths[O]&&u.globals.previousPaths[O][Y]&&u.globals.previousPaths[O][Y].color;de||(de="rgba(255, 255, 255, 0)"),this.animateHeatColor(R,me.isColorHex(de)?de:me.rgb2hex(de),me.isColorHex(ie)?ie:me.rgb2hex(ie),te)}}var he=(0,u.config.dataLabels.formatter)(u.globals.series[O][Y],{value:u.globals.series[O][Y],seriesIndex:O,dataPointIndex:Y,w:u}),Ie=this.helpers.calculateDataLabels({text:he,x:U+v/2,y:w+y/2,i:O,j:Y,colorProps:le,series:I});null!==Ie&&P.add(Ie),U+=v}w+=y,m.add(P)}var De=u.globals.yAxisScale[0].result.slice();return u.config.yaxis[0].reversed?De.unshift(""):De.push(""),u.globals.yAxisScale[0].result=De,m}},{key:"animateHeatMap",value:function(l,u,f,m,v,y){var w=new on(this.ctx);w.animateRect(l,{x:u+m/2,y:f+v/2,width:0,height:0},{x:u,y:f,width:m,height:v},y,function(){w.animationCompleted(l)})}},{key:"animateHeatColor",value:function(l,u,f,m){l.attr({fill:u}).animate(m).attr({fill:f})}}]),J}(),mn=function(){function J(l){xe(this,J),this.ctx=l,this.w=l.w}return ke(J,[{key:"drawYAxisTexts",value:function(l,u,f,m){var v=this.w,y=v.config.yaxis[0],w=v.globals.yLabelFormatters[0];return new _e(this.ctx).drawText({x:l+y.labels.offsetX,y:u+y.labels.offsetY,text:w(m,f),textAnchor:"middle",fontSize:y.labels.style.fontSize,fontFamily:y.labels.style.fontFamily,foreColor:Array.isArray(y.labels.style.colors)?y.labels.style.colors[f]:y.labels.style.colors})}}]),J}(),li=function(){function J(l){xe(this,J),this.ctx=l,this.w=l.w;var u=this.w;this.chartType=this.w.config.chart.type,this.initialAnim=this.w.config.chart.animations.enabled,this.dynamicAnim=this.initialAnim&&this.w.config.chart.animations.dynamicAnimation.enabled,this.animBeginArr=[0],this.animDur=0,this.donutDataLabels=this.w.config.plotOptions.pie.donut.labels,this.lineColorArr=void 0!==u.globals.stroke.colors?u.globals.stroke.colors:u.globals.colors,this.defaultSize=Math.min(u.globals.gridWidth,u.globals.gridHeight),this.centerY=this.defaultSize/2,this.centerX=u.globals.gridWidth/2,this.fullAngle="radialBar"===u.config.chart.type?360:Math.abs(u.config.plotOptions.pie.endAngle-u.config.plotOptions.pie.startAngle),this.initialAngle=u.config.plotOptions.pie.startAngle%this.fullAngle,u.globals.radialSize=this.defaultSize/2.05-u.config.stroke.width-(u.config.chart.sparkline.enabled?0:u.config.chart.dropShadow.blur),this.donutSize=u.globals.radialSize*parseInt(u.config.plotOptions.pie.donut.size,10)/100,this.maxY=0,this.sliceLabels=[],this.sliceSizes=[],this.prevSectorAngleArr=[]}return ke(J,[{key:"draw",value:function(l){var u=this,f=this.w,m=new _e(this.ctx);if(this.ret=m.group({class:"apexcharts-pie"}),f.globals.noData)return this.ret;for(var v=0,y=0;y<l.length;y++)v+=me.negToZero(l[y]);var w=[],D=m.group();0===v&&(v=1e-5),l.forEach(function(de){u.maxY=Math.max(u.maxY,de)}),f.config.yaxis[0].max&&(this.maxY=f.config.yaxis[0].max),"back"===f.config.grid.position&&"polarArea"===this.chartType&&this.drawPolarElements(this.ret);for(var I=0;I<l.length;I++){var O=this.fullAngle*me.negToZero(l[I])/v;w.push(O),"polarArea"===this.chartType?(w[I]=this.fullAngle/l.length,this.sliceSizes.push(f.globals.radialSize*l[I]/this.maxY)):this.sliceSizes.push(f.globals.radialSize)}if(f.globals.dataChanged){for(var P,L=0,U=0;U<f.globals.previousPaths.length;U++)L+=me.negToZero(f.globals.previousPaths[U]);for(var G=0;G<f.globals.previousPaths.length;G++)P=this.fullAngle*me.negToZero(f.globals.previousPaths[G])/L,this.prevSectorAngleArr.push(P)}this.donutSize<0&&(this.donutSize=0);var Y=f.config.plotOptions.pie.customScale,le=f.globals.gridWidth/2-f.globals.gridWidth/2*Y,S=f.globals.gridHeight/2-f.globals.gridHeight/2*Y;if("donut"===this.chartType){var R=m.drawCircle(this.donutSize);R.attr({cx:this.centerX,cy:this.centerY,fill:f.config.plotOptions.pie.donut.background?f.config.plotOptions.pie.donut.background:"transparent"}),D.add(R)}var $=this.drawArcs(w,l);if(this.sliceLabels.forEach(function(de){$.add(de)}),D.attr({transform:"translate(".concat(le,", ").concat(S,") scale(").concat(Y,")")}),D.add($),this.ret.add(D),this.donutDataLabels.show){var te=this.renderInnerDataLabels(this.donutDataLabels,{hollowSize:this.donutSize,centerX:this.centerX,centerY:this.centerY,opacity:this.donutDataLabels.show,translateX:le,translateY:S});this.ret.add(te)}return"front"===f.config.grid.position&&"polarArea"===this.chartType&&this.drawPolarElements(this.ret),this.ret}},{key:"drawArcs",value:function(l,u){var f=this.w,m=new $t(this.ctx),v=new _e(this.ctx),y=new Je(this.ctx),w=v.group({class:"apexcharts-slices"}),D=this.initialAngle,I=this.initialAngle,O=this.initialAngle,P=this.initialAngle;this.strokeWidth=f.config.stroke.show?f.config.stroke.width:0;for(var L=0;L<l.length;L++){var U=v.group({class:"apexcharts-series apexcharts-pie-series",seriesName:me.escapeString(f.globals.seriesNames[L]),rel:L+1,"data:realIndex":L});w.add(U),O=(D=O)+l[L],P=(I=P)+this.prevSectorAngleArr[L];var G=O<D?this.fullAngle+O-D:O-D,Y=y.fillPath({seriesNumber:L,size:this.sliceSizes[L],value:u[L]}),Q=this.getChangedPath(I,P),ie=v.drawPath({d:Q,stroke:Array.isArray(this.lineColorArr)?this.lineColorArr[L]:this.lineColorArr,strokeWidth:0,fill:Y,fillOpacity:f.config.fill.opacity,classes:"apexcharts-pie-area apexcharts-".concat(this.chartType.toLowerCase(),"-slice-").concat(L)});ie.attr({index:0,j:L}),m.setSelectionFilter(ie,0,L),f.config.chart.dropShadow.enabled&&m.dropShadow(ie,f.config.chart.dropShadow,L),this.addListeners(ie,this.donutDataLabels),_e.setAttrs(ie.node,{"data:angle":G,"data:startAngle":D,"data:strokeWidth":this.strokeWidth,"data:value":u[L]});var S={x:0,y:0};"pie"===this.chartType||"polarArea"===this.chartType?S=me.polarToCartesian(this.centerX,this.centerY,f.globals.radialSize/1.25+f.config.plotOptions.pie.dataLabels.offset,(D+G/2)%this.fullAngle):"donut"===this.chartType&&(S=me.polarToCartesian(this.centerX,this.centerY,(f.globals.radialSize+this.donutSize)/2+f.config.plotOptions.pie.dataLabels.offset,(D+G/2)%this.fullAngle)),U.add(ie);var R=0;if(!this.initialAnim||f.globals.resized||f.globals.dataChanged?this.animBeginArr.push(0):(0==(R=G/this.fullAngle*f.config.chart.animations.speed)&&(R=1),this.animDur=R+this.animDur,this.animBeginArr.push(this.animDur)),this.animatePaths(ie,this.dynamicAnim&&f.globals.dataChanged?{size:this.sliceSizes[L],endAngle:O,startAngle:D,prevStartAngle:I,prevEndAngle:P,animateStartingPos:!0,i:L,animBeginArr:this.animBeginArr,shouldSetPrevPaths:!0,dur:f.config.chart.animations.dynamicAnimation.speed}:{size:this.sliceSizes[L],endAngle:O,startAngle:D,i:L,totalItems:l.length-1,animBeginArr:this.animBeginArr,dur:R}),f.config.plotOptions.pie.expandOnClick&&"polarArea"!==this.chartType&&ie.click(this.pieClicked.bind(this,L)),void 0!==f.globals.selectedDataPoints[0]&&f.globals.selectedDataPoints[0].indexOf(L)>-1&&this.pieClicked(L),f.config.dataLabels.enabled){var $=S.x,te=S.y,de=100*G/this.fullAngle+"%";if(0!==G&&f.config.plotOptions.pie.dataLabels.minAngleToShowLabel<l[L]){var he=f.config.dataLabels.formatter;void 0!==he&&(de=he(f.globals.seriesPercent[L][0],{seriesIndex:L,w:f}));var Ie=f.globals.dataLabels.style.colors[L],De=v.group({class:"apexcharts-datalabels"}),$e=v.drawText({x:$,y:te,text:de,textAnchor:"middle",fontSize:f.config.dataLabels.style.fontSize,fontFamily:f.config.dataLabels.style.fontFamily,fontWeight:f.config.dataLabels.style.fontWeight,foreColor:Ie});De.add($e),f.config.dataLabels.dropShadow.enabled&&m.dropShadow($e,f.config.dataLabels.dropShadow),$e.node.classList.add("apexcharts-pie-label"),f.config.chart.animations.animate&&!1===f.globals.resized&&($e.node.classList.add("apexcharts-pie-label-delay"),$e.node.style.animationDelay=f.config.chart.animations.speed/940+"s"),this.sliceLabels.push(De)}}}return w}},{key:"addListeners",value:function(l,u){var f=new _e(this.ctx);l.node.addEventListener("mouseenter",f.pathMouseEnter.bind(this,l)),l.node.addEventListener("mouseleave",f.pathMouseLeave.bind(this,l)),l.node.addEventListener("mouseleave",this.revertDataLabelsInner.bind(this,l.node,u)),l.node.addEventListener("mousedown",f.pathMouseDown.bind(this,l)),this.donutDataLabels.total.showAlways||(l.node.addEventListener("mouseenter",this.printDataLabelsInner.bind(this,l.node,u)),l.node.addEventListener("mousedown",this.printDataLabelsInner.bind(this,l.node,u)))}},{key:"animatePaths",value:function(l,u){var m=u.endAngle<u.startAngle?this.fullAngle+u.endAngle-u.startAngle:u.endAngle-u.startAngle,v=m,y=u.startAngle,w=u.startAngle;void 0!==u.prevStartAngle&&void 0!==u.prevEndAngle&&(y=u.prevEndAngle,v=u.prevEndAngle<u.prevStartAngle?this.fullAngle+u.prevEndAngle-u.prevStartAngle:u.prevEndAngle-u.prevStartAngle),u.i===this.w.config.series.length-1&&(m+w>this.fullAngle?u.endAngle=u.endAngle-(m+w):m+w<this.fullAngle&&(u.endAngle=u.endAngle+(this.fullAngle-(m+w)))),m===this.fullAngle&&(m=this.fullAngle-.01),this.animateArc(l,y,w,m,v,u)}},{key:"animateArc",value:function(l,u,f,m,v,y){var w,D=this,I=this.w,O=new on(this.ctx),P=y.size;(isNaN(u)||isNaN(v))&&(u=f,v=m,y.dur=0);var L=m,U=f,G=u<f?this.fullAngle+u-f:u-f;I.globals.dataChanged&&y.shouldSetPrevPaths&&y.prevEndAngle&&(w=D.getPiePath({me:D,startAngle:y.prevStartAngle,angle:y.prevEndAngle<y.prevStartAngle?this.fullAngle+y.prevEndAngle-y.prevStartAngle:y.prevEndAngle-y.prevStartAngle,size:P}),l.attr({d:w})),0!==y.dur?l.animate(y.dur,I.globals.easing,y.animBeginArr[y.i]).afterAll(function(){"pie"!==D.chartType&&"donut"!==D.chartType&&"polarArea"!==D.chartType||this.animate(I.config.chart.animations.dynamicAnimation.speed).attr({"stroke-width":D.strokeWidth}),y.i===I.config.series.length-1&&O.animationCompleted(l)}).during(function(Y){L=G+(m-G)*Y,y.animateStartingPos&&(L=v+(m-v)*Y,U=u-v+(f-(u-v))*Y),w=D.getPiePath({me:D,startAngle:U,angle:L,size:P}),l.node.setAttribute("data:pathOrig",w),l.attr({d:w})}):(w=D.getPiePath({me:D,startAngle:U,angle:m,size:P}),y.isTrack||(I.globals.animationEnded=!0),l.node.setAttribute("data:pathOrig",w),l.attr({d:w,"stroke-width":D.strokeWidth}))}},{key:"pieClicked",value:function(l){var u,f=this.w,m=this,v=m.sliceSizes[l]+(f.config.plotOptions.pie.expandOnClick?4:0),y=f.globals.dom.Paper.select(".apexcharts-".concat(m.chartType.toLowerCase(),"-slice-").concat(l)).members[0];if("true"!==y.attr("data:pieClicked")){var w=f.globals.dom.baseEl.getElementsByClassName("apexcharts-pie-area");Array.prototype.forEach.call(w,function(P){P.setAttribute("data:pieClicked","false");var L=P.getAttribute("data:pathOrig");L&&P.setAttribute("d",L)}),y.attr("data:pieClicked","true");var D=parseInt(y.attr("data:startAngle"),10),I=parseInt(y.attr("data:angle"),10);u=m.getPiePath({me:m,startAngle:D,angle:I,size:v}),360!==I&&y.plot(u)}else{y.attr({"data:pieClicked":"false"}),this.revertDataLabelsInner(y.node,this.donutDataLabels);var O=y.attr("data:pathOrig");y.attr({d:O})}}},{key:"getChangedPath",value:function(l,u){var f="";return this.dynamicAnim&&this.w.globals.dataChanged&&(f=this.getPiePath({me:this,startAngle:l,angle:u-l,size:this.size})),f}},{key:"getPiePath",value:function(l){var u=l.me,f=l.startAngle,m=l.angle,v=l.size,y=f,w=Math.PI*(y-90)/180,D=m+f;Math.ceil(D)>=this.fullAngle+this.w.config.plotOptions.pie.startAngle%this.fullAngle&&(D=this.fullAngle+this.w.config.plotOptions.pie.startAngle%this.fullAngle-.01),Math.ceil(D)>this.fullAngle&&(D-=this.fullAngle);var I=Math.PI*(D-90)/180,O=u.centerX+v*Math.cos(w),P=u.centerY+v*Math.sin(w),L=u.centerX+v*Math.cos(I),U=u.centerY+v*Math.sin(I),G=me.polarToCartesian(u.centerX,u.centerY,u.donutSize,D),Y=me.polarToCartesian(u.centerX,u.centerY,u.donutSize,y),Q=m>180?1:0,ie=["M",O,P,"A",v,v,0,Q,1,L,U];return"donut"===u.chartType?[].concat(ie,["L",G.x,G.y,"A",u.donutSize,u.donutSize,0,Q,0,Y.x,Y.y,"L",O,P,"z"]).join(" "):"pie"===u.chartType||"polarArea"===u.chartType?[].concat(ie,["L",u.centerX,u.centerY,"L",O,P]).join(" "):[].concat(ie).join(" ")}},{key:"drawPolarElements",value:function(l){var u=this.w,f=new hi(this.ctx),m=new _e(this.ctx),v=new mn(this.ctx),y=m.group(),w=m.group(),D=f.niceScale(0,Math.ceil(this.maxY),u.config.yaxis[0].tickAmount,0,!0),I=D.result.reverse(),O=D.result.length;this.maxY=D.niceMax;for(var P=u.globals.radialSize,L=P/(O-1),U=0;U<O-1;U++){var G=m.drawCircle(P);if(G.attr({cx:this.centerX,cy:this.centerY,fill:"none","stroke-width":u.config.plotOptions.polarArea.rings.strokeWidth,stroke:u.config.plotOptions.polarArea.rings.strokeColor}),u.config.yaxis[0].show){var Y=v.drawYAxisTexts(this.centerX,this.centerY-P+parseInt(u.config.yaxis[0].labels.style.fontSize,10)/2,U,I[U]);w.add(Y)}y.add(G),P-=L}this.drawSpokes(l),l.add(y),l.add(w)}},{key:"renderInnerDataLabels",value:function(l,u){var f=this.w,m=new _e(this.ctx),v=m.group({class:"apexcharts-datalabels-group",transform:"translate(".concat(u.translateX?u.translateX:0,", ").concat(u.translateY?u.translateY:0,") scale(").concat(f.config.plotOptions.pie.customScale,")")}),y=l.total.show;v.node.style.opacity=u.opacity;var w,D,I=u.centerX,O=u.centerY;w=void 0===l.name.color?f.globals.colors[0]:l.name.color;var P=l.name.fontSize,L=l.name.fontFamily,U=l.name.fontWeight;D=void 0===l.value.color?f.config.chart.foreColor:l.value.color;var G=l.value.formatter,Y="",Q="";if(y?(w=l.total.color,P=l.total.fontSize,L=l.total.fontFamily,U=l.total.fontWeight,Q=l.total.label,Y=l.total.formatter(f)):1===f.globals.series.length&&(Y=G(f.globals.series[0],f),Q=f.globals.seriesNames[0]),Q&&(Q=l.name.formatter(Q,l.total.show,f)),l.name.show){var ie=m.drawText({x:I,y:O+parseFloat(l.name.offsetY),text:Q,textAnchor:"middle",foreColor:w,fontSize:P,fontWeight:U,fontFamily:L});ie.node.classList.add("apexcharts-datalabel-label"),v.add(ie)}if(l.value.show){var le=l.name.show?parseFloat(l.value.offsetY)+16:l.value.offsetY,S=m.drawText({x:I,y:O+le,text:Y,textAnchor:"middle",foreColor:D,fontWeight:l.value.fontWeight,fontSize:l.value.fontSize,fontFamily:l.value.fontFamily});S.node.classList.add("apexcharts-datalabel-value"),v.add(S)}return v}},{key:"printInnerLabels",value:function(l,u,f,m){var v,y=this.w;m?v=void 0===l.name.color?y.globals.colors[parseInt(m.parentNode.getAttribute("rel"),10)-1]:l.name.color:y.globals.series.length>1&&l.total.show&&(v=l.total.color);var w=y.globals.dom.baseEl.querySelector(".apexcharts-datalabel-label"),D=y.globals.dom.baseEl.querySelector(".apexcharts-datalabel-value");f=(0,l.value.formatter)(f,y),m||"function"!=typeof l.total.formatter||(f=l.total.formatter(y)),u=l.name.formatter(u,u===l.total.label,y),null!==w&&(w.textContent=u),null!==D&&(D.textContent=f),null!==w&&(w.style.fill=v)}},{key:"printDataLabelsInner",value:function(l,u){var f=this.w,m=l.getAttribute("data:value"),v=f.globals.seriesNames[parseInt(l.parentNode.getAttribute("rel"),10)-1];f.globals.series.length>1&&this.printInnerLabels(u,v,m,l);var y=f.globals.dom.baseEl.querySelector(".apexcharts-datalabels-group");null!==y&&(y.style.opacity=1)}},{key:"drawSpokes",value:function(l){var u=this,f=this.w,m=new _e(this.ctx),v=f.config.plotOptions.polarArea.spokes;if(0!==v.strokeWidth){for(var y=[],w=360/f.globals.series.length,D=0;D<f.globals.series.length;D++)y.push(me.polarToCartesian(this.centerX,this.centerY,f.globals.radialSize,f.config.plotOptions.pie.startAngle+w*D));y.forEach(function(I,O){var P=m.drawLine(I.x,I.y,u.centerX,u.centerY,Array.isArray(v.connectorColors)?v.connectorColors[O]:v.connectorColors);l.add(P)})}}},{key:"revertDataLabelsInner",value:function(l,u,f){var m=this,v=this.w,y=v.globals.dom.baseEl.querySelector(".apexcharts-datalabels-group"),w=!1,D=v.globals.dom.baseEl.getElementsByClassName("apexcharts-pie-area"),I=function(L){var U=L.makeSliceOut,G=L.printLabel;Array.prototype.forEach.call(D,function(Y){"true"===Y.getAttribute("data:pieClicked")&&(U&&(w=!0),G&&m.printDataLabelsInner(Y,u))})};if(I({makeSliceOut:!0,printLabel:!1}),u.total.show&&v.globals.series.length>1)w&&!u.total.showAlways?I({makeSliceOut:!1,printLabel:!0}):this.printInnerLabels(u,u.total.label,u.total.formatter(v));else if(I({makeSliceOut:!1,printLabel:!0}),!w)if(v.globals.selectedDataPoints.length&&v.globals.series.length>1)if(v.globals.selectedDataPoints[0].length>0){var O=v.globals.selectedDataPoints[0],P=v.globals.dom.baseEl.querySelector(".apexcharts-".concat(this.chartType.toLowerCase(),"-slice-").concat(O));this.printDataLabelsInner(P,u)}else y&&v.globals.selectedDataPoints.length&&0===v.globals.selectedDataPoints[0].length&&(y.style.opacity=0);else y&&v.globals.series.length>1&&(y.style.opacity=0)}}]),J}(),Ce=function(){function J(l){xe(this,J),this.ctx=l,this.w=l.w,this.chartType=this.w.config.chart.type,this.initialAnim=this.w.config.chart.animations.enabled,this.dynamicAnim=this.initialAnim&&this.w.config.chart.animations.dynamicAnimation.enabled,this.animDur=0;var u=this.w;this.graphics=new _e(this.ctx),this.lineColorArr=void 0!==u.globals.stroke.colors?u.globals.stroke.colors:u.globals.colors,this.defaultSize=u.globals.svgHeight<u.globals.svgWidth?u.globals.gridHeight+1.5*u.globals.goldenPadding:u.globals.gridWidth,this.isLog=u.config.yaxis[0].logarithmic,this.coreUtils=new et(this.ctx),this.maxValue=this.isLog?this.coreUtils.getLogVal(u.globals.maxY,0):u.globals.maxY,this.minValue=this.isLog?this.coreUtils.getLogVal(this.w.globals.minY,0):u.globals.minY,this.polygons=u.config.plotOptions.radar.polygons,this.strokeWidth=u.config.stroke.show?u.config.stroke.width:0,this.size=this.defaultSize/2.1-this.strokeWidth-u.config.chart.dropShadow.blur,u.config.xaxis.labels.show&&(this.size=this.size-u.globals.xAxisLabelsWidth/1.75),void 0!==u.config.plotOptions.radar.size&&(this.size=u.config.plotOptions.radar.size),this.dataRadiusOfPercent=[],this.dataRadius=[],this.angleArr=[],this.yaxisLabelsTextsPos=[]}return ke(J,[{key:"draw",value:function(l){var u=this,f=this.w,m=new Je(this.ctx),v=[],y=new vt(this.ctx);l.length&&(this.dataPointsLen=l[f.globals.maxValsInArrayIndex].length),this.disAngle=2*Math.PI/this.dataPointsLen;var O=f.globals.gridHeight/2+f.config.plotOptions.radar.offsetY,P=this.graphics.group({class:"apexcharts-radar-series apexcharts-plot-series",transform:"translate(".concat(f.globals.gridWidth/2+f.config.plotOptions.radar.offsetX||0,", ").concat(O||0,")")}),L=[],U=null,G=null;if(this.yaxisLabels=this.graphics.group({class:"apexcharts-yaxis"}),l.forEach(function(Q,ie){var le=Q.length===f.globals.dataPoints,S=u.graphics.group().attr({class:"apexcharts-series","data:longestSeries":le,seriesName:me.escapeString(f.globals.seriesNames[ie]),rel:ie+1,"data:realIndex":ie});u.dataRadiusOfPercent[ie]=[],u.dataRadius[ie]=[],u.angleArr[ie]=[],Q.forEach(function(ot,Lt){var Pt=Math.abs(u.maxValue-u.minValue);ot+=Math.abs(u.minValue),u.isLog&&(ot=u.coreUtils.getLogVal(ot,0)),u.dataRadiusOfPercent[ie][Lt]=ot/Pt,u.dataRadius[ie][Lt]=u.dataRadiusOfPercent[ie][Lt]*u.size,u.angleArr[ie][Lt]=Lt*u.disAngle}),L=u.getDataPointsPos(u.dataRadius[ie],u.angleArr[ie]);var R=u.createPaths(L,{x:0,y:0});U=u.graphics.group({class:"apexcharts-series-markers-wrap apexcharts-element-hidden"}),G=u.graphics.group({class:"apexcharts-datalabels","data:realIndex":ie}),f.globals.delayedElements.push({el:U.node,index:ie});var $={i:ie,realIndex:ie,animationDelay:ie,initialSpeed:f.config.chart.animations.speed,dataChangeSpeed:f.config.chart.animations.dynamicAnimation.speed,className:"apexcharts-radar",shouldClipToGrid:!1,bindEventsOnPaths:!1,stroke:f.globals.stroke.colors[ie],strokeLineCap:f.config.stroke.lineCap},te=null;f.globals.previousPaths.length>0&&(te=u.getPreviousPath(ie));for(var de=0;de<R.linePathsTo.length;de++){var he=u.graphics.renderPaths(re(re({},$),{},{pathFrom:null===te?R.linePathsFrom[de]:te,pathTo:R.linePathsTo[de],strokeWidth:Array.isArray(u.strokeWidth)?u.strokeWidth[ie]:u.strokeWidth,fill:"none",drawShadow:!1}));S.add(he);var Ie=m.fillPath({seriesNumber:ie}),De=u.graphics.renderPaths(re(re({},$),{},{pathFrom:null===te?R.areaPathsFrom[de]:te,pathTo:R.areaPathsTo[de],strokeWidth:0,fill:Ie,drawShadow:!1}));f.config.chart.dropShadow.enabled&&new $t(u.ctx).dropShadow(De,Object.assign({},f.config.chart.dropShadow,{noUserSpaceOnUse:!0}),ie),S.add(De)}Q.forEach(function(ot,Lt){var Pt=new rt(u.ctx).getMarkerConfig({cssClass:"apexcharts-marker",seriesIndex:ie,dataPointIndex:Lt}),Mn=u.graphics.drawMarker(L[Lt].x,L[Lt].y,Pt);Mn.attr("rel",Lt),Mn.attr("j",Lt),Mn.attr("index",ie),Mn.node.setAttribute("default-marker-size",Pt.pSize);var Wn=u.graphics.group({class:"apexcharts-series-markers"});Wn&&Wn.add(Mn),U.add(Wn),S.add(U);var Zn=f.config.dataLabels;if(Zn.enabled){var ji=Zn.formatter(f.globals.series[ie][Lt],{seriesIndex:ie,dataPointIndex:Lt,w:f});y.plotDataLabelsText({x:L[Lt].x,y:L[Lt].y,text:ji,textAnchor:"middle",i:ie,j:ie,parent:G,offsetCorrection:!1,dataLabelsConfig:re({},Zn)})}S.add(G)}),v.push(S)}),this.drawPolygons({parent:P}),f.config.xaxis.labels.show){var Y=this.drawXAxisTexts();P.add(Y)}return v.forEach(function(Q){P.add(Q)}),P.add(this.yaxisLabels),P}},{key:"drawPolygons",value:function(l){for(var u=this,f=this.w,m=l.parent,v=new mn(this.ctx),y=f.globals.yAxisScale[0].result.reverse(),w=y.length,D=[],I=this.size/(w-1),O=0;O<w;O++)D[O]=I*O;D.reverse();var P=[],L=[];D.forEach(function(U,G){var Y=me.getPolygonPos(U,u.dataPointsLen),Q="";Y.forEach(function(ie,le){if(0===G){var S=u.graphics.drawLine(ie.x,ie.y,0,0,Array.isArray(u.polygons.connectorColors)?u.polygons.connectorColors[le]:u.polygons.connectorColors);L.push(S)}0===le&&u.yaxisLabelsTextsPos.push({x:ie.x,y:ie.y}),Q+=ie.x+","+ie.y+" "}),P.push(Q)}),P.forEach(function(U,G){var Y=u.polygons.strokeColors,Q=u.polygons.strokeWidth,ie=u.graphics.drawPolygon(U,Array.isArray(Y)?Y[G]:Y,Array.isArray(Q)?Q[G]:Q,f.globals.radarPolygons.fill.colors[G]);m.add(ie)}),L.forEach(function(U){m.add(U)}),f.config.yaxis[0].show&&this.yaxisLabelsTextsPos.forEach(function(U,G){var Y=v.drawYAxisTexts(U.x,U.y,G,y[G]);u.yaxisLabels.add(Y)})}},{key:"drawXAxisTexts",value:function(){var l=this,u=this.w,f=u.config.xaxis.labels,m=this.graphics.group({class:"apexcharts-xaxis"}),v=me.getPolygonPos(this.size,this.dataPointsLen);return u.globals.labels.forEach(function(y,w){var D=u.config.xaxis.labels.formatter,I=new vt(l.ctx);if(v[w]){var O=l.getTextPos(v[w],l.size),P=D(y,{seriesIndex:-1,dataPointIndex:w,w:u});I.plotDataLabelsText({x:O.newX,y:O.newY,text:P,textAnchor:O.textAnchor,i:w,j:w,parent:m,color:Array.isArray(f.style.colors)&&f.style.colors[w]?f.style.colors[w]:"#a8a8a8",dataLabelsConfig:re({textAnchor:O.textAnchor,dropShadow:{enabled:!1}},f),offsetCorrection:!1})}}),m}},{key:"createPaths",value:function(l,u){var f=this,m=[],v=[],y=[],w=[];if(l.length){v=[this.graphics.move(u.x,u.y)],w=[this.graphics.move(u.x,u.y)];var D=this.graphics.move(l[0].x,l[0].y),I=this.graphics.move(l[0].x,l[0].y);l.forEach(function(O,P){D+=f.graphics.line(O.x,O.y),I+=f.graphics.line(O.x,O.y),P===l.length-1&&(D+="Z",I+="Z")}),m.push(D),y.push(I)}return{linePathsFrom:v,linePathsTo:m,areaPathsFrom:w,areaPathsTo:y}}},{key:"getTextPos",value:function(l,u){var f="middle",m=l.x,v=l.y;return Math.abs(l.x)>=10?l.x>0?(f="start",m+=10):l.x<0&&(f="end",m-=10):f="middle",Math.abs(l.y)>=u-10&&(l.y<0?v-=10:l.y>0&&(v+=10)),{textAnchor:f,newX:m,newY:v}}},{key:"getPreviousPath",value:function(l){for(var u=this.w,f=null,m=0;m<u.globals.previousPaths.length;m++){var v=u.globals.previousPaths[m];v.paths.length>0&&parseInt(v.realIndex,10)===parseInt(l,10)&&void 0!==u.globals.previousPaths[m].paths[0]&&(f=u.globals.previousPaths[m].paths[0].d)}return f}},{key:"getDataPointsPos",value:function(l,u){var f=arguments.length>2&&void 0!==arguments[2]?arguments[2]:this.dataPointsLen;l=l||[],u=u||[];for(var m=[],v=0;v<f;v++){var y={};y.x=l[v]*Math.sin(u[v]),y.y=-l[v]*Math.cos(u[v]),m.push(y)}return m}}]),J}(),we=function(J){Qe(u,li);var l=St(u);function u(f){var m;xe(this,u),(m=l.call(this,f)).ctx=f,m.w=f.w,m.animBeginArr=[0],m.animDur=0;var v=m.w;return m.startAngle=v.config.plotOptions.radialBar.startAngle,m.endAngle=v.config.plotOptions.radialBar.endAngle,m.totalAngle=Math.abs(v.config.plotOptions.radialBar.endAngle-v.config.plotOptions.radialBar.startAngle),m.trackStartAngle=v.config.plotOptions.radialBar.track.startAngle,m.trackEndAngle=v.config.plotOptions.radialBar.track.endAngle,m.donutDataLabels=m.w.config.plotOptions.radialBar.dataLabels,m.radialDataLabels=m.donutDataLabels,m.trackStartAngle||(m.trackStartAngle=m.startAngle),m.trackEndAngle||(m.trackEndAngle=m.endAngle),360===m.endAngle&&(m.endAngle=359.99),m.margin=parseInt(v.config.plotOptions.radialBar.track.margin,10),m}return ke(u,[{key:"draw",value:function(f){var m=this.w,v=new _e(this.ctx),y=v.group({class:"apexcharts-radialbar"});if(m.globals.noData)return y;var w=v.group(),D=this.defaultSize/2,I=m.globals.gridWidth/2,O=this.defaultSize/2.05;m.config.chart.sparkline.enabled||(O=O-m.config.stroke.width-m.config.chart.dropShadow.blur);var P=m.globals.fill.colors;if(m.config.plotOptions.radialBar.track.show){var L=this.drawTracks({size:O,centerX:I,centerY:D,colorArr:P,series:f});w.add(L)}var U=this.drawArcs({size:O,centerX:I,centerY:D,colorArr:P,series:f}),G=360;m.config.plotOptions.radialBar.startAngle<0&&(G=this.totalAngle);var Y=(360-G)/360;if(m.globals.radialSize=O-O*Y,this.radialDataLabels.value.show){var Q=Math.max(this.radialDataLabels.value.offsetY,this.radialDataLabels.name.offsetY);m.globals.radialSize+=Q*Y}return w.add(U.g),"front"===m.config.plotOptions.radialBar.hollow.position&&(U.g.add(U.elHollow),U.dataLabels&&U.g.add(U.dataLabels)),y.add(w),y}},{key:"drawTracks",value:function(f){var m=this.w,v=new _e(this.ctx),y=v.group({class:"apexcharts-tracks"}),w=new $t(this.ctx),D=new Je(this.ctx),I=this.getStrokeWidth(f);f.size=f.size-I/2;for(var O=0;O<f.series.length;O++){var P=v.group({class:"apexcharts-radialbar-track apexcharts-track"});y.add(P),P.attr({rel:O+1}),f.size=f.size-I-this.margin;var L=m.config.plotOptions.radialBar.track,U=D.fillPath({seriesNumber:0,size:f.size,fillColors:Array.isArray(L.background)?L.background[O]:L.background,solid:!0}),G=this.trackStartAngle,Y=this.trackEndAngle;Math.abs(Y)+Math.abs(G)>=360&&(Y=360-Math.abs(this.startAngle)-.1);var Q=v.drawPath({d:"",stroke:U,strokeWidth:I*parseInt(L.strokeWidth,10)/100,fill:"none",strokeOpacity:L.opacity,classes:"apexcharts-radialbar-area"});L.dropShadow.enabled&&w.dropShadow(Q,L.dropShadow),P.add(Q),Q.attr("id","apexcharts-radialbarTrack-"+O),this.animatePaths(Q,{centerX:f.centerX,centerY:f.centerY,endAngle:Y,startAngle:G,size:f.size,i:O,totalItems:2,animBeginArr:0,dur:0,isTrack:!0,easing:m.globals.easing})}return y}},{key:"drawArcs",value:function(f){var m=this.w,v=new _e(this.ctx),y=new Je(this.ctx),w=new $t(this.ctx),D=v.group(),I=this.getStrokeWidth(f);f.size=f.size-I/2;var O=m.config.plotOptions.radialBar.hollow.background,P=f.size-I*f.series.length-this.margin*f.series.length-I*parseInt(m.config.plotOptions.radialBar.track.strokeWidth,10)/100/2,L=P-m.config.plotOptions.radialBar.hollow.margin;void 0!==m.config.plotOptions.radialBar.hollow.image&&(O=this.drawHollowImage(f,D,P,O));var U=this.drawHollow({size:L,centerX:f.centerX,centerY:f.centerY,fill:O||"transparent"});m.config.plotOptions.radialBar.hollow.dropShadow.enabled&&w.dropShadow(U,m.config.plotOptions.radialBar.hollow.dropShadow);var Y=1;!this.radialDataLabels.total.show&&m.globals.series.length>1&&(Y=0);var Q=null;this.radialDataLabels.show&&(Q=this.renderInnerDataLabels(this.radialDataLabels,{hollowSize:P,centerX:f.centerX,centerY:f.centerY,opacity:Y})),"back"===m.config.plotOptions.radialBar.hollow.position&&(D.add(U),Q&&D.add(Q));var ie=!1;m.config.plotOptions.radialBar.inverseOrder&&(ie=!0);for(var le=ie?f.series.length-1:0;ie?le>=0:le<f.series.length;ie?le--:le++){var S=v.group({class:"apexcharts-series apexcharts-radial-series",seriesName:me.escapeString(m.globals.seriesNames[le])});D.add(S),S.attr({rel:le+1,"data:realIndex":le}),this.ctx.series.addCollapsedClassToSeries(S,le),f.size=f.size-I-this.margin;var R=y.fillPath({seriesNumber:le,size:f.size,value:f.series[le]}),$=this.startAngle,te=void 0,de=me.negToZero(f.series[le]>100?100:f.series[le])/100,he=Math.round(this.totalAngle*de)+this.startAngle,Ie=void 0;m.globals.dataChanged&&(te=this.startAngle,Ie=Math.round(this.totalAngle*me.negToZero(m.globals.previousPaths[le])/100)+te),Math.abs(he)+Math.abs($)>=360&&(he-=.01),Math.abs(Ie)+Math.abs(te)>=360&&(Ie-=.01);var De=he-$,$e=Array.isArray(m.config.stroke.dashArray)?m.config.stroke.dashArray[le]:m.config.stroke.dashArray,yt=v.drawPath({d:"",stroke:R,strokeWidth:I,fill:"none",fillOpacity:m.config.fill.opacity,classes:"apexcharts-radialbar-area apexcharts-radialbar-slice-"+le,strokeDashArray:$e});_e.setAttrs(yt.node,{"data:angle":De,"data:value":f.series[le]}),m.config.chart.dropShadow.enabled&&w.dropShadow(yt,m.config.chart.dropShadow,le),w.setSelectionFilter(yt,0,le),this.addListeners(yt,this.radialDataLabels),S.add(yt),yt.attr({index:0,j:le});var Lt=0;!this.initialAnim||m.globals.resized||m.globals.dataChanged||(Lt=m.config.chart.animations.speed),m.globals.dataChanged&&(Lt=m.config.chart.animations.dynamicAnimation.speed),this.animDur=Lt/(1.2*f.series.length)+this.animDur,this.animBeginArr.push(this.animDur),this.animatePaths(yt,{centerX:f.centerX,centerY:f.centerY,endAngle:he,startAngle:$,prevEndAngle:Ie,prevStartAngle:te,size:f.size,i:le,totalItems:2,animBeginArr:this.animBeginArr,dur:Lt,shouldSetPrevPaths:!0,easing:m.globals.easing})}return{g:D,elHollow:U,dataLabels:Q}}},{key:"drawHollow",value:function(f){var m=new _e(this.ctx).drawCircle(2*f.size);return m.attr({class:"apexcharts-radialbar-hollow",cx:f.centerX,cy:f.centerY,r:f.size,fill:f.fill}),m}},{key:"drawHollowImage",value:function(f,m,v,y){var w=this.w,D=new Je(this.ctx),I=me.randomId(),O=w.config.plotOptions.radialBar.hollow.image;if(w.config.plotOptions.radialBar.hollow.imageClipped)D.clippedImgArea({width:v,height:v,image:O,patternID:"pattern".concat(w.globals.cuid).concat(I)}),y="url(#pattern".concat(w.globals.cuid).concat(I,")");else{var P=w.config.plotOptions.radialBar.hollow.imageWidth,L=w.config.plotOptions.radialBar.hollow.imageHeight;if(void 0===P&&void 0===L){var U=w.globals.dom.Paper.image(O).loaded(function(Y){this.move(f.centerX-Y.width/2+w.config.plotOptions.radialBar.hollow.imageOffsetX,f.centerY-Y.height/2+w.config.plotOptions.radialBar.hollow.imageOffsetY)});m.add(U)}else{var G=w.globals.dom.Paper.image(O).loaded(function(Y){this.move(f.centerX-P/2+w.config.plotOptions.radialBar.hollow.imageOffsetX,f.centerY-L/2+w.config.plotOptions.radialBar.hollow.imageOffsetY),this.size(P,L)});m.add(G)}}return y}},{key:"getStrokeWidth",value:function(f){return f.size*(100-parseInt(this.w.config.plotOptions.radialBar.hollow.size,10))/100/(f.series.length+1)-this.margin}}]),u}(),Fe=function(J){Qe(u,st);var l=St(u);function u(){return xe(this,u),l.apply(this,arguments)}return ke(u,[{key:"draw",value:function(f,m){var v=this.w,y=new _e(this.ctx);this.rangeBarOptions=this.w.config.plotOptions.rangeBar,this.series=f,this.seriesRangeStart=v.globals.seriesRangeStart,this.seriesRangeEnd=v.globals.seriesRangeEnd,this.barHelpers.initVariables(f);for(var w=y.group({class:"apexcharts-rangebar-series apexcharts-plot-series"}),D=0;D<f.length;D++){var I,O,P,L,U=void 0,G=void 0,Y=v.globals.comboCharts?m[D]:D,Q=y.group({class:"apexcharts-series",seriesName:me.escapeString(v.globals.seriesNames[Y]),rel:D+1,"data:realIndex":Y});this.ctx.series.addCollapsedClassToSeries(Q,Y),f[D].length>0&&(this.visibleI=this.visibleI+1);var ie=0,le=0;this.yRatio.length>1&&(this.yaxisIndex=Y);var S=this.barHelpers.initialPositions();G=S.y,L=S.zeroW,U=S.x,le=S.barWidth,ie=S.barHeight,I=S.xDivision,O=S.yDivision,P=S.zeroH;for(var R=y.group({class:"apexcharts-datalabels","data:realIndex":Y}),$=y.group({class:"apexcharts-rangebar-goals-markers"}),te=0;te<v.globals.dataPoints;te++){var de,he=this.barHelpers.getStrokeWidth(D,te,Y),Ie=this.seriesRangeStart[D][te],De=this.seriesRangeEnd[D][te],$e=null,yt=null,ot=null,Lt={x:U,y:G,strokeWidth:he,elSeries:Q},Pt=this.seriesLen;if(v.config.plotOptions.bar.rangeBarGroupRows&&(Pt=1),void 0===v.config.series[D].data[te])break;if(this.isHorizontal){if(ot=G+ie*this.visibleI,v.config.series[D].data[te].x){var Wn=this.detectOverlappingBars({i:D,j:te,barYPosition:ot,srty:(O-ie*Pt)/2,barHeight:ie,yDivision:O,initPositions:S});ie=Wn.barHeight,ot=Wn.barYPosition}le=($e=this.drawRangeBarPaths(re({indexes:{i:D,j:te,realIndex:Y},barHeight:ie,barYPosition:ot,zeroW:L,yDivision:O,y1:Ie,y2:De},Lt))).barWidth}else{if(v.globals.isXNumeric&&(U=(v.globals.seriesX[D][te]-v.globals.minX)/this.xRatio-le/2),yt=U+le*this.visibleI,v.config.series[D].data[te].x){var ji=this.detectOverlappingBars({i:D,j:te,barXPosition:yt,srtx:(I-le*Pt)/2,barWidth:le,xDivision:I,initPositions:S});le=ji.barWidth,yt=ji.barXPosition}ie=($e=this.drawRangeColumnPaths(re({indexes:{i:D,j:te,realIndex:Y},barWidth:le,barXPosition:yt,zeroH:P,xDivision:I},Lt))).barHeight}var Ii=this.barHelpers.drawGoalLine({barXPosition:$e.barXPosition,barYPosition:ot,goalX:$e.goalX,goalY:$e.goalY,barHeight:ie,barWidth:le});Ii&&$.add(Ii),G=$e.y,U=$e.x;var Ri=this.barHelpers.getPathFillColor(f,D,te,Y);this.renderSeries((gt(de={realIndex:Y,pathFill:Ri,lineFill:v.globals.stroke.colors[Y],j:te,i:D,x:U,y:G,y1:Ie,y2:De,pathFrom:$e.pathFrom,pathTo:$e.pathTo,strokeWidth:he,elSeries:Q,series:f,barHeight:ie,barWidth:le,barXPosition:yt,barYPosition:ot},"barWidth",le),gt(de,"elDataLabelsWrap",R),gt(de,"elGoalsMarkers",$),gt(de,"visibleSeries",this.visibleI),gt(de,"type","rangebar"),de))}w.add(Q)}return w}},{key:"detectOverlappingBars",value:function(f){var m=f.i,v=f.j,y=f.barYPosition,w=f.barXPosition,D=f.srty,I=f.srtx,O=f.barHeight,P=f.barWidth,L=f.yDivision,U=f.xDivision,G=f.initPositions,Y=this.w,Q=[],ie=Y.config.series[m].data[v].rangeName,le=Y.config.series[m].data[v].x,S=Array.isArray(le)?le.join(" "):le,R=Y.globals.labels.map(function(te){return Array.isArray(te)?te.join(" "):te}).indexOf(S),$=Y.globals.seriesRange[m].findIndex(function(te){return te.x===S&&te.overlaps.length>0});return this.isHorizontal?(y=Y.config.plotOptions.bar.rangeBarGroupRows?D+L*R:D+O*this.visibleI+L*R,$>-1&&!Y.config.plotOptions.bar.rangeBarOverlap&&(Q=Y.globals.seriesRange[m][$].overlaps).indexOf(ie)>-1&&(y=(O=G.barHeight/Q.length)*this.visibleI+L*(100-parseInt(this.barOptions.barHeight,10))/100/2+O*(this.visibleI+Q.indexOf(ie))+L*R)):(R>-1&&(w=Y.config.plotOptions.bar.rangeBarGroupRows?I+U*R:I+P*this.visibleI+U*R),$>-1&&!Y.config.plotOptions.bar.rangeBarOverlap&&(Q=Y.globals.seriesRange[m][$].overlaps).indexOf(ie)>-1&&(w=(P=G.barWidth/Q.length)*this.visibleI+U*(100-parseInt(this.barOptions.barWidth,10))/100/2+P*(this.visibleI+Q.indexOf(ie))+U*R)),{barYPosition:y,barXPosition:w,barHeight:O,barWidth:P}}},{key:"drawRangeColumnPaths",value:function(f){var m=f.indexes,v=f.x,y=f.xDivision,w=f.barWidth,D=f.barXPosition,I=f.zeroH,O=this.w,P=m.i,L=m.j,U=this.yRatio[this.yaxisIndex],G=m.realIndex,Y=this.getRangeValue(G,L),Q=Math.min(Y.start,Y.end),ie=Math.max(Y.start,Y.end);null==this.series[P][L]?Q=I:(Q=I-Q/U,ie=I-ie/U);var le=Math.abs(ie-Q),S=this.barHelpers.getColumnPaths({barXPosition:D,barWidth:w,y1:Q,y2:ie,strokeWidth:this.strokeWidth,series:this.seriesRangeEnd,realIndex:m.realIndex,i:G,j:L,w:O});if(O.globals.isXNumeric){var R=this.getBarXForNumericXAxis({x:v,j:L,realIndex:G,barWidth:w});v=R.x,D=R.barXPosition}else v+=y;return{pathTo:S.pathTo,pathFrom:S.pathFrom,barHeight:le,x:v,y:ie,goalY:this.barHelpers.getGoalValues("y",null,I,P,L),barXPosition:D}}},{key:"drawRangeBarPaths",value:function(f){var m=f.indexes,v=f.y,D=f.yDivision,I=f.barHeight,O=f.barYPosition,P=f.zeroW,L=this.w,U=P+f.y1/this.invertedYRatio,G=P+f.y2/this.invertedYRatio,Y=Math.abs(G-U),Q=this.barHelpers.getBarpaths({barYPosition:O,barHeight:I,x1:U,x2:G,strokeWidth:this.strokeWidth,series:this.seriesRangeEnd,i:m.realIndex,realIndex:m.realIndex,j:m.j,w:L});return L.globals.isXNumeric||(v+=D),{pathTo:Q.pathTo,pathFrom:Q.pathFrom,barWidth:Y,x:G,goalX:this.barHelpers.getGoalValues("x",P,null,m.realIndex,m.j),y:v}}},{key:"getRangeValue",value:function(f,m){var v=this.w;return{start:v.globals.seriesRangeStart[f][m],end:v.globals.seriesRangeEnd[f][m]}}}]),u}(),mt=function(){function J(l){xe(this,J),this.w=l.w,this.lineCtx=l}return ke(J,[{key:"sameValueSeriesFix",value:function(l,u){var f=this.w;if(("gradient"===f.config.fill.type||"gradient"===f.config.fill.type[l])&&new et(this.lineCtx.ctx,f).seriesHaveSameValues(l)){var m=u[l].slice();m[m.length-1]=m[m.length-1]+1e-6,u[l]=m}return u}},{key:"calculatePoints",value:function(l){var u=l.series,m=l.x,v=l.y,y=l.i,w=l.j,D=l.prevY,I=this.w,O=[],P=[];if(0===w){var L=this.lineCtx.categoryAxisCorrection+I.config.markers.offsetX;I.globals.isXNumeric&&(L=(I.globals.seriesX[l.realIndex][0]-I.globals.minX)/this.lineCtx.xRatio+I.config.markers.offsetX),O.push(L),P.push(me.isNumber(u[y][0])?D+I.config.markers.offsetY:null),O.push(m+I.config.markers.offsetX),P.push(me.isNumber(u[y][w+1])?v+I.config.markers.offsetY:null)}else O.push(m+I.config.markers.offsetX),P.push(me.isNumber(u[y][w+1])?v+I.config.markers.offsetY:null);return{x:O,y:P}}},{key:"checkPreviousPaths",value:function(l){for(var u=l.pathFromLine,f=l.pathFromArea,m=l.realIndex,v=this.w,y=0;y<v.globals.previousPaths.length;y++){var w=v.globals.previousPaths[y];("line"===w.type||"area"===w.type)&&w.paths.length>0&&parseInt(w.realIndex,10)===parseInt(m,10)&&("line"===w.type?(this.lineCtx.appendPathFrom=!1,u=v.globals.previousPaths[y].paths[0].d):"area"===w.type&&(this.lineCtx.appendPathFrom=!1,f=v.globals.previousPaths[y].paths[0].d,v.config.stroke.show&&v.globals.previousPaths[y].paths[1]&&(u=v.globals.previousPaths[y].paths[1].d)))}return{pathFromLine:u,pathFromArea:f}}},{key:"determineFirstPrevY",value:function(l){var u,f=l.i,m=l.series,v=l.prevY,y=l.lineYPosition,w=this.w;if(void 0!==(null===(u=m[f])||void 0===u?void 0:u[0]))v=(y=w.config.chart.stacked&&f>0?this.lineCtx.prevSeriesY[f-1][0]:this.lineCtx.zeroY)-m[f][0]/this.lineCtx.yRatio[this.lineCtx.yaxisIndex]+2*(this.lineCtx.isReversed?m[f][0]/this.lineCtx.yRatio[this.lineCtx.yaxisIndex]:0);else if(w.config.chart.stacked&&f>0&&void 0===m[f][0])for(var D=f-1;D>=0;D--)if(null!=m[D][0]){v=y=this.lineCtx.prevSeriesY[D][0];break}return{prevY:v,lineYPosition:y}}}]),J}(),Kt=function(J){for(var l="",u=0;u<J.length;u++){var f=J[u],m=J[u-1],v=f.length,y=m?.length;u>1&&Math.abs(f[v-2]-m[y-2])<30?(l+="Q".concat(f[0],", ").concat(f[1]),l+=", ".concat(f[2],", ").concat(f[3])):v>4?(l+="C".concat(f[0],", ").concat(f[1]),l+=", ".concat(f[2],", ").concat(f[3]),l+=", ".concat(f[4],", ").concat(f[5])):v>2&&(l+="S".concat(f[0],", ").concat(f[1]),l+=", ".concat(f[2],", ").concat(f[3]))}return l},Ln=function(J){var l=function(J){for(var l,u,f,m,v=function(O){for(var P=[],L=O[0],U=O[1],G=P[0]=Tn(L,U),Y=1,Q=O.length-1;Y<Q;Y++)P[Y]=.5*(G+(G=Tn(L=U,U=O[Y+1])));return P[Y]=G,P}(J),y=J.length-1,w=[],D=0;D<y;D++)f=Tn(J[D],J[D+1]),Math.abs(f)<1e-6?v[D]=v[D+1]=0:(m=(l=v[D]/f)*l+(u=v[D+1]/f)*u)>9&&(m=3*f/Math.sqrt(m),v[D]=m*l,v[D+1]=m*u);for(var I=0;I<=y;I++)m=(J[Math.min(y,I+1)][0]-J[Math.max(0,I-1)][0])/(6*(1+v[I]*v[I])),w.push([m||0,v[I]*m||0]);return w}(J),u=J[1],f=J[0],m=[],v=l[1],y=l[0];m.push(f,[f[0]+y[0],f[1]+y[1],u[0]-v[0],u[1]-v[1],u[0],u[1]]);for(var w=2,D=l.length;w<D;w++){var I=J[w],O=l[w];m.push([I[0]-O[0],I[1]-O[1],I[0],I[1]])}return m};function Tn(J,l){return(l[1]-J[1])/(l[0]-J[0])}var kr=function(){function J(l,u,f){xe(this,J),this.ctx=l,this.w=l.w,this.xyRatios=u,this.pointsChart=!("bubble"!==this.w.config.chart.type&&"scatter"!==this.w.config.chart.type)||f,this.scatter=new dt(this.ctx),this.noNegatives=this.w.globals.minX===Number.MAX_VALUE,this.lineHelpers=new mt(this),this.markers=new rt(this.ctx),this.prevSeriesY=[],this.categoryAxisCorrection=0,this.yaxisIndex=0}return ke(J,[{key:"draw",value:function(l,u,f,m){var v,y=this.w,w=new _e(this.ctx),D=y.globals.comboCharts?u:y.config.chart.type,I=w.group({class:"apexcharts-".concat(D,"-series apexcharts-plot-series")}),O=new et(this.ctx,y);this.yRatio=this.xyRatios.yRatio,this.zRatio=this.xyRatios.zRatio,this.xRatio=this.xyRatios.xRatio,this.baseLineY=this.xyRatios.baseLineY,l=O.getLogSeries(l),this.yRatio=O.getLogYRatios(this.yRatio);for(var P=[],L=0;L<l.length;L++){l=this.lineHelpers.sameValueSeriesFix(L,l);var U=y.globals.comboCharts?f[L]:L;this._initSerieVariables(l,L,U);var G=[],Y=[],Q=[],ie=y.globals.padHorizontal+this.categoryAxisCorrection;this.ctx.series.addCollapsedClassToSeries(this.elSeries,U),y.globals.isXNumeric&&y.globals.seriesX.length>0&&(ie=(y.globals.seriesX[U][0]-y.globals.minX)/this.xRatio),Q.push(ie);var le=ie,S=this.zeroY,R=this.zeroY;S=this.lineHelpers.determineFirstPrevY({i:L,series:l,prevY:S,lineYPosition:0}).prevY,G.push("smooth"===y.config.stroke.curve&&null===l[L][0]?null:S),"rangeArea"===D&&(R=this.lineHelpers.determineFirstPrevY({i:L,series:m,prevY:R,lineYPosition:0}).prevY,Y.push(R));var $={type:D,series:l,realIndex:U,i:L,x:ie,y:1,pathsFrom:this._calculatePathsFrom({type:D,series:l,i:L,realIndex:U,prevX:le,prevY:S,prevY2:R}),linePaths:[],areaPaths:[],seriesIndex:f,lineYPosition:0,xArrj:Q,yArrj:G,y2Arrj:Y,seriesRangeEnd:m},te=this._iterateOverDataPoints(re(re({},$),{},{iterations:"rangeArea"===D?l[L].length-1:void 0,isRangeStart:!0}));if("rangeArea"===D){var de=this._calculatePathsFrom({series:m,i:L,realIndex:U,prevX:le,prevY:R}),he=this._iterateOverDataPoints(re(re({},$),{},{series:m,pathsFrom:de,iterations:m[L].length-1,isRangeStart:!1}));te.linePaths[0]=he.linePath+te.linePath,te.pathFromLine=he.pathFromLine+te.pathFromLine}this._handlePaths({type:D,realIndex:U,i:L,paths:te}),this.elSeries.add(this.elPointsMain),this.elSeries.add(this.elDataLabelsWrap),P.push(this.elSeries)}if(void 0!==(null===(v=y.config.series[0])||void 0===v?void 0:v.zIndex)&&P.sort(function($e,yt){return Number($e.node.getAttribute("zIndex"))-Number(yt.node.getAttribute("zIndex"))}),y.config.chart.stacked)for(var Ie=P.length;Ie>0;Ie--)I.add(P[Ie-1]);else for(var De=0;De<P.length;De++)I.add(P[De]);return I}},{key:"_initSerieVariables",value:function(l,u,f){var m=this.w,v=new _e(this.ctx);this.xDivision=m.globals.gridWidth/(m.globals.dataPoints-("on"===m.config.xaxis.tickPlacement?1:0)),this.strokeWidth=Array.isArray(m.config.stroke.width)?m.config.stroke.width[f]:m.config.stroke.width,this.yRatio.length>1&&(this.yaxisIndex=f),this.isReversed=m.config.yaxis[this.yaxisIndex]&&m.config.yaxis[this.yaxisIndex].reversed,this.zeroY=m.globals.gridHeight-this.baseLineY[this.yaxisIndex]-(this.isReversed?m.globals.gridHeight:0)+(this.isReversed?2*this.baseLineY[this.yaxisIndex]:0),this.areaBottomY=this.zeroY,(this.zeroY>m.globals.gridHeight||"end"===m.config.plotOptions.area.fillTo)&&(this.areaBottomY=m.globals.gridHeight),this.categoryAxisCorrection=this.xDivision/2,this.elSeries=v.group({class:"apexcharts-series",zIndex:void 0!==m.config.series[f].zIndex?m.config.series[f].zIndex:f,seriesName:me.escapeString(m.globals.seriesNames[f])}),this.elPointsMain=v.group({class:"apexcharts-series-markers-wrap","data:realIndex":f}),this.elDataLabelsWrap=v.group({class:"apexcharts-datalabels","data:realIndex":f}),this.elSeries.attr({"data:longestSeries":l[u].length===m.globals.dataPoints,rel:u+1,"data:realIndex":f}),this.appendPathFrom=!0}},{key:"_calculatePathsFrom",value:function(l){var u,f,m,v,y=l.type,w=l.series,D=l.i,I=l.realIndex,O=l.prevX,P=l.prevY,L=l.prevY2,U=this.w,G=new _e(this.ctx);if(null===w[D][0]){for(var Y=0;Y<w[D].length;Y++)if(null!==w[D][Y]){u=G.move(O=this.xDivision*Y,P=this.zeroY-w[D][Y]/this.yRatio[this.yaxisIndex]),f=G.move(O,this.areaBottomY);break}}else u=G.move(O,P),"rangeArea"===y&&(u=G.move(O,L)+G.line(O,P)),f=G.move(O,this.areaBottomY)+G.line(O,P);if(m=G.move(-1,this.zeroY)+G.line(-1,this.zeroY),v=G.move(-1,this.zeroY)+G.line(-1,this.zeroY),U.globals.previousPaths.length>0){var Q=this.lineHelpers.checkPreviousPaths({pathFromLine:m,pathFromArea:v,realIndex:I});m=Q.pathFromLine,v=Q.pathFromArea}return{prevX:O,prevY:P,linePath:u,areaPath:f,pathFromLine:m,pathFromArea:v}}},{key:"_handlePaths",value:function(l){var u=l.type,f=l.realIndex,m=l.i,v=l.paths,y=this.w,w=new _e(this.ctx),D=new Je(this.ctx);this.prevSeriesY.push(v.yArrj),y.globals.seriesXvalues[f]=v.xArrj,y.globals.seriesYvalues[f]=v.yArrj;var I=y.config.forecastDataPoints;if(I.count>0&&"rangeArea"!==u){var O=y.globals.seriesXvalues[f][y.globals.seriesXvalues[f].length-I.count-1],P=w.drawRect(O,0,y.globals.gridWidth,y.globals.gridHeight,0);y.globals.dom.elForecastMask.appendChild(P.node);var L=w.drawRect(0,0,O,y.globals.gridHeight,0);y.globals.dom.elNonForecastMask.appendChild(L.node)}this.pointsChart||y.globals.delayedElements.push({el:this.elPointsMain.node,index:f});var U={i:m,realIndex:f,animationDelay:m,initialSpeed:y.config.chart.animations.speed,dataChangeSpeed:y.config.chart.animations.dynamicAnimation.speed,className:"apexcharts-".concat(u)};if("area"===u)for(var G=D.fillPath({seriesNumber:f}),Y=0;Y<v.areaPaths.length;Y++){var Q=w.renderPaths(re(re({},U),{},{pathFrom:v.pathFromArea,pathTo:v.areaPaths[Y],stroke:"none",strokeWidth:0,strokeLineCap:null,fill:G}));this.elSeries.add(Q)}if(y.config.stroke.show&&!this.pointsChart){var ie=null;if("line"===u)ie=D.fillPath({seriesNumber:f,i:m});else if("solid"===y.config.stroke.fill.type)ie=y.globals.stroke.colors[f];else{var le=y.config.fill;y.config.fill=y.config.stroke.fill,ie=D.fillPath({seriesNumber:f,i:m}),y.config.fill=le}for(var S=0;S<v.linePaths.length;S++){var R=ie;"rangeArea"===u&&(R=D.fillPath({seriesNumber:f}));var $=re(re({},U),{},{pathFrom:v.pathFromLine,pathTo:v.linePaths[S],stroke:ie,strokeWidth:this.strokeWidth,strokeLineCap:y.config.stroke.lineCap,fill:"rangeArea"===u?R:"none"}),te=w.renderPaths($);if(this.elSeries.add(te),te.attr("fill-rule","evenodd"),I.count>0&&"rangeArea"!==u){var de=w.renderPaths($);de.node.setAttribute("stroke-dasharray",I.dashArray),I.strokeWidth&&de.node.setAttribute("stroke-width",I.strokeWidth),this.elSeries.add(de),de.attr("clip-path","url(#forecastMask".concat(y.globals.cuid,")")),te.attr("clip-path","url(#nonForecastMask".concat(y.globals.cuid,")"))}}}}},{key:"_iterateOverDataPoints",value:function(l){var u=this,f=l.type,m=l.series,v=l.iterations,y=l.realIndex,w=l.i,D=l.x,I=l.y,O=l.pathsFrom,P=l.linePaths,L=l.areaPaths,U=l.seriesIndex,G=l.lineYPosition,Y=l.xArrj,Q=l.yArrj,ie=l.y2Arrj,le=l.isRangeStart,S=l.seriesRangeEnd,R=this.w,$=new _e(this.ctx),te=this.yRatio,de=O.prevY,he=O.linePath,Ie=O.areaPath,De=O.pathFromLine,$e=O.pathFromArea,yt=me.isNumber(R.globals.minYArr[y])?R.globals.minYArr[y]:R.globals.minY;v||(v=R.globals.dataPoints>1?R.globals.dataPoints-1:R.globals.dataPoints);for(var ot=function(Ii,Ri){return Ri-Ii/te[u.yaxisIndex]+2*(u.isReversed?Ii/te[u.yaxisIndex]:0)},Lt=I,Pt=0;Pt<v;Pt++){var Mn=null==m[w][Pt+1];if(R.globals.isXNumeric){var Wn=R.globals.seriesX[y][Pt+1];void 0===R.globals.seriesX[y][Pt+1]&&(Wn=R.globals.seriesX[y][v-1]),D=(Wn-R.globals.minX)/this.xRatio}else D+=this.xDivision;G=R.config.chart.stacked&&w>0&&R.globals.collapsedSeries.length<R.config.series.length-1?this.prevSeriesY[function(Ii){for(var Ri=Ii,Os=0;Os<R.globals.series.length;Os++)if(R.globals.collapsedSeriesIndices.indexOf(Ii)>-1){Ri--;break}return Ri>=0?Ri:0}(w-1)][Pt+1]:this.zeroY,Mn?I=ot(yt,G):(I=ot(m[w][Pt+1],G),"rangeArea"===f&&(Lt=ot(S[w][Pt+1],G))),Y.push(D),Q.push(Mn&&"smooth"===R.config.stroke.curve?null:I),ie.push(Lt);var Zn=this.lineHelpers.calculatePoints({series:m,x:D,y:I,realIndex:y,i:w,j:Pt,prevY:de}),ji=this._createPaths({type:f,series:m,i:w,realIndex:y,j:Pt,x:D,y:I,y2:Lt,xArrj:Y,yArrj:Q,y2Arrj:ie,linePath:he,areaPath:Ie,linePaths:P,areaPaths:L,seriesIndex:U,isRangeStart:le});L=ji.areaPaths,P=ji.linePaths,Ie=ji.areaPath,he=ji.linePath,!this.appendPathFrom||"smooth"===R.config.stroke.curve&&"rangeArea"===f||(De+=$.line(D,this.zeroY),$e+=$.line(D,this.zeroY)),this.handleNullDataPoints(m,Zn,w,Pt,y),this._handleMarkersAndLabels({type:f,pointsPos:Zn,i:w,j:Pt,realIndex:y,isRangeStart:le})}return{yArrj:Q,xArrj:Y,pathFromArea:$e,areaPaths:L,pathFromLine:De,linePaths:P,linePath:he,areaPath:Ie}}},{key:"_handleMarkersAndLabels",value:function(l){var u=l.type,f=l.pointsPos,m=l.isRangeStart,v=l.i,y=l.j,w=l.realIndex,D=this.w,I=new vt(this.ctx);if(this.pointsChart)this.scatter.draw(this.elSeries,y,{realIndex:w,pointsPos:f,zRatio:this.zRatio,elParent:this.elPointsMain});else{D.globals.series[v].length>1&&this.elPointsMain.node.classList.add("apexcharts-element-hidden");var O=this.markers.plotChartMarkers(f,w,y+1);null!==O&&this.elPointsMain.add(O)}var P=I.drawDataLabel({type:u,isRangeStart:m,pos:f,i:w,j:y+1});null!==P&&this.elDataLabelsWrap.add(P)}},{key:"_createPaths",value:function(l){var u=l.type,f=l.series,m=l.i,v=l.realIndex,y=l.j,w=l.x,D=l.y,I=l.xArrj,O=l.yArrj,P=l.y2,L=l.y2Arrj,U=l.linePath,G=l.areaPath,Y=l.linePaths,Q=l.areaPaths,ie=l.seriesIndex,le=l.isRangeStart,S=this.w,R=new _e(this.ctx),$=S.config.stroke.curve,te=this.areaBottomY;if(Array.isArray(S.config.stroke.curve)&&($=Array.isArray(ie)?S.config.stroke.curve[ie[m]]:S.config.stroke.curve[m]),"rangeArea"===u&&(S.globals.hasNullValues||S.config.forecastDataPoints.count>0)&&"smooth"===$&&($="straight"),"smooth"===$){var de="rangeArea"===u?I.length===S.globals.dataPoints:y===f[m].length-2,he=I.map(function(Pt,Mn){return[I[Mn],O[Mn]]}).filter(function(Pt){return null!==Pt[1]});if(de&&he.length>1){var Ie=Ln(he);if(U+=Kt(Ie),null===f[m][0]?G=U:G+=Kt(Ie),"rangeArea"===u&&le){U+=R.line(I[I.length-1],L[L.length-1]);var De=I.slice().reverse(),$e=L.slice().reverse(),yt=De.map(function(Pt,Mn){return[De[Mn],$e[Mn]]}),ot=Ln(yt);G=U+=Kt(ot)}else G+=R.line(he[he.length-1][0],te)+R.line(he[0][0],te)+R.move(he[0][0],he[0][1])+"z";Y.push(U),Q.push(G)}}else null===f[m][y+1]&&(U+=R.move(w,D),G=G+R.line(S.globals.isXNumeric?(S.globals.seriesX[v][y]-S.globals.minX)/this.xRatio:w-this.xDivision,te)+R.move(w,D)+"z"),null===f[m][y]&&(U+=R.move(w,D),G+=R.move(w,te)),"stepline"===$?(U=U+R.line(w,null,"H")+R.line(null,D,"V"),G=G+R.line(w,null,"H")+R.line(null,D,"V")):"straight"===$&&(U+=R.line(w,D),G+=R.line(w,D)),y===f[m].length-2&&(G=G+R.line(w,te)+R.move(w,D)+"z","rangeArea"===u&&le?U=U+R.line(w,P)+R.move(w,P)+"z":(Y.push(U),Q.push(G)));return{linePaths:Y,areaPaths:Q,linePath:U,areaPath:G}}},{key:"handleNullDataPoints",value:function(l,u,f,m,v){var y=this.w;if(null===l[f][m]&&y.config.markers.showNullDataPoints||1===l[f].length){var w=this.markers.plotChartMarkers(u,v,m+1,this.strokeWidth-y.config.markers.strokeWidth/2,!0);null!==w&&this.elPointsMain.add(w)}}}]),J}();window.TreemapSquared={},window.TreemapSquared.generate=function(){function J(w,D,I,O){this.xoffset=w,this.yoffset=D,this.height=O,this.width=I,this.shortestEdge=function(){return Math.min(this.height,this.width)},this.getCoordinates=function(P){var L,U=[],G=this.xoffset,Y=this.yoffset,Q=v(P)/this.height,ie=v(P)/this.width;if(this.width>=this.height)for(L=0;L<P.length;L++)U.push([G,Y,G+Q,Y+P[L]/Q]),Y+=P[L]/Q;else for(L=0;L<P.length;L++)U.push([G,Y,G+P[L]/ie,Y+ie]),G+=P[L]/ie;return U},this.cutArea=function(P){var L;if(this.width>=this.height){var U=P/this.height;L=new J(this.xoffset+U,this.yoffset,this.width-U,this.height)}else{var Y=P/this.width;L=new J(this.xoffset,this.yoffset+Y,this.width,this.height-Y)}return L}}function l(w,D,I,O,P){return O=void 0===O?0:O,P=void 0===P?0:P,function(U){var G,Y,Q=[];for(G=0;G<U.length;G++)for(Y=0;Y<U[G].length;Y++)Q.push(U[G][Y]);return Q}(u(function(U,G){var Y,Q=[],ie=G/v(U);for(Y=0;Y<U.length;Y++)Q[Y]=U[Y]*ie;return Q}(w,D*I),[],new J(O,P,D,I),[]))}function u(w,D,I,O){var P,L,U,G,Y,Q,ie;if(0!==w.length)return P=I.shortestEdge(),Y=L=w[0],Q=P,0===(G=D).length||((ie=G.slice()).push(Y),f(G,Q)>=f(ie,Q))?(D.push(L),u(w.slice(1),D,I,O)):(U=I.cutArea(v(D),O),O.push(I.getCoordinates(D)),u(w,[],U,O)),O;O.push(I.getCoordinates(D))}function f(w,D){var I=Math.min.apply(Math,w),O=Math.max.apply(Math,w),P=v(w);return Math.max(Math.pow(D,2)*O/Math.pow(P,2),Math.pow(P,2)/(Math.pow(D,2)*I))}function m(w){return w&&w.constructor===Array}function v(w){var D,I=0;for(D=0;D<w.length;D++)I+=w[D];return I}function y(w){var D,I=0;if(m(w[0]))for(D=0;D<w.length;D++)I+=y(w[D]);else I=v(w);return I}return function w(D,I,O,P,L){P=void 0===P?0:P,L=void 0===L?0:L;var U,G,Y=[],Q=[];if(m(D[0])){for(G=0;G<D.length;G++)Y[G]=y(D[G]);for(U=l(Y,I,O,P,L),G=0;G<D.length;G++)Q.push(w(D[G],U[G][2]-U[G][0],U[G][3]-U[G][1],U[G][0],U[G][1]))}else Q=l(D,I,O,P,L);return Q}}();var Bn,gr,ci=function(){function J(l,u){xe(this,J),this.ctx=l,this.w=l.w,this.strokeWidth=this.w.config.stroke.width,this.helpers=new Nt(l),this.dynamicAnim=this.w.config.chart.animations.dynamicAnimation,this.labels=[]}return ke(J,[{key:"draw",value:function(l){var u=this,f=this.w,m=new _e(this.ctx),v=new Je(this.ctx),y=m.group({class:"apexcharts-treemap"});if(f.globals.noData)return y;var w=[];return l.forEach(function(D){var I=D.map(function(O){return Math.abs(O)});w.push(I)}),this.negRange=this.helpers.checkColorRange(),f.config.series.forEach(function(D,I){D.data.forEach(function(O){Array.isArray(u.labels[I])||(u.labels[I]=[]),u.labels[I].push(O.x)})}),window.TreemapSquared.generate(w,f.globals.gridWidth,f.globals.gridHeight).forEach(function(D,I){var O=m.group({class:"apexcharts-series apexcharts-treemap-series",seriesName:me.escapeString(f.globals.seriesNames[I]),rel:I+1,"data:realIndex":I});if(f.config.chart.dropShadow.enabled){var P=f.config.chart.dropShadow;new $t(u.ctx).dropShadow(y,P,I)}var L=m.group({class:"apexcharts-data-labels"});D.forEach(function(U,G){var Y=U[0],Q=U[1],ie=U[2],le=U[3],S=m.drawRect(Y,Q,ie-Y,le-Q,0,"#fff",1,u.strokeWidth,f.config.plotOptions.treemap.useFillColorAsStroke?$:f.globals.stroke.colors[I]);S.attr({cx:Y,cy:Q,index:I,i:I,j:G,width:ie-Y,height:le-Q});var R=u.helpers.getShadeColor(f.config.chart.type,I,G,u.negRange),$=R.color;void 0!==f.config.series[I].data[G]&&f.config.series[I].data[G].fillColor&&($=f.config.series[I].data[G].fillColor);var te=v.fillPath({color:$,seriesNumber:I,dataPointIndex:G});S.node.classList.add("apexcharts-treemap-rect"),S.attr({fill:te}),u.helpers.addListeners(S);var de={x:Y+(ie-Y)/2,y:Q+(le-Q)/2,width:0,height:0},he={x:Y,y:Q,width:ie-Y,height:le-Q};if(f.config.chart.animations.enabled&&!f.globals.dataChanged){var Ie=1;f.globals.resized||(Ie=f.config.chart.animations.speed),u.animateTreemap(S,de,he,Ie)}f.globals.dataChanged&&u.dynamicAnim.enabled&&f.globals.shouldAnimate&&(f.globals.previousPaths[I]&&f.globals.previousPaths[I][G]&&f.globals.previousPaths[I][G].rect&&(de=f.globals.previousPaths[I][G].rect),u.animateTreemap(S,de,he,u.dynamicAnim.speed));var $e=u.getFontSize(U),yt=f.config.dataLabels.formatter(u.labels[I][G],{value:f.globals.series[I][G],seriesIndex:I,dataPointIndex:G,w:f});"truncate"===f.config.plotOptions.treemap.dataLabels.format&&($e=parseInt(f.config.dataLabels.style.fontSize,10),yt=u.truncateLabels(yt,$e,Y,Q,ie,le));var ot=u.helpers.calculateDataLabels({text:yt,x:(Y+ie)/2,y:(Q+le)/2+u.strokeWidth/2+$e/3,i:I,j:G,colorProps:R,fontSize:$e,series:l});f.config.dataLabels.enabled&&ot&&u.rotateToFitLabel(ot,$e,yt,Y,Q,ie,le),O.add(S),null!==ot&&O.add(ot)}),O.add(L),y.add(O)}),y}},{key:"getFontSize",value:function(l){var y,u=this.w,w=function D(I){var O,P=0;if(Array.isArray(I[0]))for(O=0;O<I.length;O++)P+=D(I[O]);else for(O=0;O<I.length;O++)P+=I[O].length;return P}(this.labels)/function D(I){var O,P=0;if(Array.isArray(I[0]))for(O=0;O<I.length;O++)P+=D(I[O]);else for(O=0;O<I.length;O++)P+=1;return P}(this.labels);return y=Math.pow((l[2]-l[0])*(l[3]-l[1]),.5),Math.min(y/w,parseInt(u.config.dataLabels.style.fontSize,10))}},{key:"rotateToFitLabel",value:function(l,u,f,m,v,y,w){var D=new _e(this.ctx),I=D.getTextRects(f,u);if(I.width+this.w.config.stroke.width+5>y-m&&I.width<=w-v){var O=D.rotateAroundCenter(l.node);l.node.setAttribute("transform","rotate(-90 ".concat(O.x," ").concat(O.y,") translate(").concat(I.height/3,")"))}}},{key:"truncateLabels",value:function(l,u,f,m,v,y){var w=new _e(this.ctx),D=w.getTextRects(l,u).width+this.w.config.stroke.width+5>v-f&&y-m>v-f?y-m:v-f,I=w.getTextBasedOnMaxWidth({text:l,maxWidth:D,fontSize:u});return l.length!==I.length&&D/u<5?"":I}},{key:"animateTreemap",value:function(l,u,f,m){var v=new on(this.ctx);v.animateRect(l,{x:u.x,y:u.y,width:u.width,height:u.height},{x:f.x,y:f.y,width:f.width,height:f.height},m,function(){v.animationCompleted(l)})}}]),J}(),ta=function(){function J(l){xe(this,J),this.ctx=l,this.w=l.w,this.timeScaleArray=[],this.utc=this.w.config.xaxis.labels.datetimeUTC}return ke(J,[{key:"calculateTimeScaleTicks",value:function(l,u){var f=this,m=this.w;if(m.globals.allSeriesCollapsed)return m.globals.labels=[],m.globals.timescaleLabels=[],[];var v=new kn(this.ctx),y=(u-l)/864e5;this.determineInterval(y),m.globals.disableZoomIn=!1,m.globals.disableZoomOut=!1,y<.00011574074074074075?m.globals.disableZoomIn=!0:y>5e4&&(m.globals.disableZoomOut=!0);var w=v.getTimeUnitsfromTimestamp(l,u,this.utc),D=m.globals.gridWidth/y,I=D/24,O=I/60,P=O/60,L=Math.floor(24*y),U=Math.floor(1440*y),G=Math.floor(86400*y),Y=Math.floor(y),Q=Math.floor(y/30),ie=Math.floor(y/365),le={minMillisecond:w.minMillisecond,minSecond:w.minSecond,minMinute:w.minMinute,minHour:w.minHour,minDate:w.minDate,minMonth:w.minMonth,minYear:w.minYear},S={firstVal:le,currentMillisecond:le.minMillisecond,currentSecond:le.minSecond,currentMinute:le.minMinute,currentHour:le.minHour,currentMonthDate:le.minDate,currentDate:le.minDate,currentMonth:le.minMonth,currentYear:le.minYear,daysWidthOnXAxis:D,hoursWidthOnXAxis:I,minutesWidthOnXAxis:O,secondsWidthOnXAxis:P,numberOfSeconds:G,numberOfMinutes:U,numberOfHours:L,numberOfDays:Y,numberOfMonths:Q,numberOfYears:ie};switch(this.tickInterval){case"years":this.generateYearScale(S);break;case"months":case"half_year":this.generateMonthScale(S);break;case"months_days":case"months_fortnight":case"days":case"week_days":this.generateDayScale(S);break;case"hours":this.generateHourScale(S);break;case"minutes_fives":case"minutes":this.generateMinuteScale(S);break;case"seconds_tens":case"seconds_fives":case"seconds":this.generateSecondScale(S)}var R=this.timeScaleArray.map(function($){var te={position:$.position,unit:$.unit,year:$.year,day:$.day?$.day:1,hour:$.hour?$.hour:0,month:$.month+1};return"month"===$.unit?re(re({},te),{},{day:1,value:$.value+1}):"day"===$.unit||"hour"===$.unit?re(re({},te),{},{value:$.value}):"minute"===$.unit?re(re({},te),{},{value:$.value,minute:$.value}):"second"===$.unit?re(re({},te),{},{value:$.value,minute:$.minute,second:$.second}):$});return R.filter(function($){var te=1,de=Math.ceil(m.globals.gridWidth/120),he=$.value;void 0!==m.config.xaxis.tickAmount&&(de=m.config.xaxis.tickAmount),R.length>de&&(te=Math.floor(R.length/de));var Ie=!1,De=!1;switch(f.tickInterval){case"years":"year"===$.unit&&(Ie=!0);break;case"half_year":te=7,"year"===$.unit&&(Ie=!0);break;case"months":te=1,"year"===$.unit&&(Ie=!0);break;case"months_fortnight":te=15,"year"!==$.unit&&"month"!==$.unit||(Ie=!0),30===he&&(De=!0);break;case"months_days":te=10,"month"===$.unit&&(Ie=!0),30===he&&(De=!0);break;case"week_days":te=8,"month"===$.unit&&(Ie=!0);break;case"days":te=1,"month"===$.unit&&(Ie=!0);break;case"hours":"day"===$.unit&&(Ie=!0);break;case"minutes_fives":case"seconds_fives":he%5!=0&&(De=!0);break;case"seconds_tens":he%10!=0&&(De=!0)}if("hours"===f.tickInterval||"minutes_fives"===f.tickInterval||"seconds_tens"===f.tickInterval||"seconds_fives"===f.tickInterval){if(!De)return!0}else if((he%te==0||Ie)&&!De)return!0})}},{key:"recalcDimensionsBasedOnFormat",value:function(l,u){var f=this.w,m=this.formatDates(l),v=this.removeOverlappingTS(m);f.globals.timescaleLabels=v.slice(),new In(this.ctx).plotCoords()}},{key:"determineInterval",value:function(l){var u=24*l,f=60*u;switch(!0){case l/365>5:this.tickInterval="years";break;case l>800:this.tickInterval="half_year";break;case l>180:this.tickInterval="months";break;case l>90:this.tickInterval="months_fortnight";break;case l>60:this.tickInterval="months_days";break;case l>30:this.tickInterval="week_days";break;case l>2:this.tickInterval="days";break;case u>2.4:this.tickInterval="hours";break;case f>15:this.tickInterval="minutes_fives";break;case f>5:this.tickInterval="minutes";break;case f>1:this.tickInterval="seconds_tens";break;case 60*f>20:this.tickInterval="seconds_fives";break;default:this.tickInterval="seconds"}}},{key:"generateYearScale",value:function(l){var u=l.firstVal,f=l.currentMonth,m=l.currentYear,v=l.daysWidthOnXAxis,y=l.numberOfYears,w=u.minYear,D=0,I=new kn(this.ctx),O="year";if(u.minDate>1||u.minMonth>0){var P=I.determineRemainingDaysOfYear(u.minYear,u.minMonth,u.minDate);D=(I.determineDaysOfYear(u.minYear)-P+1)*v,this.timeScaleArray.push({position:D,value:w=u.minYear+1,unit:O,year:w,month:me.monthMod(f+1)})}else 1===u.minDate&&0===u.minMonth&&this.timeScaleArray.push({position:D,value:w,unit:O,year:m,month:me.monthMod(f+1)});for(var L=w,U=D,G=0;G<y;G++)L++,U=I.determineDaysOfYear(L-1)*v+U,this.timeScaleArray.push({position:U,value:L,unit:O,year:L,month:1})}},{key:"generateMonthScale",value:function(l){var u=l.firstVal,f=l.currentMonthDate,m=l.currentMonth,v=l.currentYear,y=l.daysWidthOnXAxis,w=l.numberOfMonths,D=m,I=0,O=new kn(this.ctx),P="month",L=0;if(u.minDate>1){I=(O.determineDaysOfMonths(m+1,u.minYear)-f+1)*y,D=me.monthMod(m+1);var U=v+L,G=me.monthMod(D),Y=D;0===D&&(P="year",Y=U,G=1,U+=L+=1),this.timeScaleArray.push({position:I,value:Y,unit:P,year:U,month:G})}else this.timeScaleArray.push({position:I,value:D,unit:P,year:v,month:me.monthMod(m)});for(var Q=D+1,ie=I,le=0,S=1;le<w;le++,S++){0===(Q=me.monthMod(Q))?(P="year",L+=1):P="month";var R=this._getYear(v,Q,L);ie=O.determineDaysOfMonths(Q,R)*y+ie,this.timeScaleArray.push({position:ie,value:0===Q?R:Q,unit:P,year:R,month:0===Q?1:Q}),Q++}}},{key:"generateDayScale",value:function(l){var u=l.firstVal,f=l.currentMonth,m=l.currentYear,v=l.hoursWidthOnXAxis,y=l.numberOfDays,w=new kn(this.ctx),D="day",I=u.minDate+1,O=I,P=function(S,R,$){return S>w.determineDaysOfMonths(R+1,$)&&(O=1,D="month",U=R+=1),R},L=(24-u.minHour)*v,U=I,G=P(O,f,m);0===u.minHour&&1===u.minDate?(L=0,U=me.monthMod(u.minMonth),D="month",O=u.minDate):1!==u.minDate&&0===u.minHour&&0===u.minMinute&&(L=0,U=I=u.minDate,G=P(O=I,f,m)),this.timeScaleArray.push({position:L,value:U,unit:D,year:this._getYear(m,G,0),month:me.monthMod(G),day:O});for(var Y=L,Q=0;Q<y;Q++){D="day",G=P(O+=1,G,this._getYear(m,G,0));var ie=this._getYear(m,G,0);Y=24*v+Y;var le=1===O?me.monthMod(G):O;this.timeScaleArray.push({position:Y,value:le,unit:D,year:ie,month:me.monthMod(G),day:le})}}},{key:"generateHourScale",value:function(l){var u=l.firstVal,f=l.currentDate,m=l.currentMonth,v=l.currentYear,y=l.minutesWidthOnXAxis,w=l.numberOfHours,D=new kn(this.ctx),I="hour",O=function(te,de){return te>D.determineDaysOfMonths(de+1,v)&&(Q=1,de+=1),{month:de,date:Q}},P=function(te,de){return te>D.determineDaysOfMonths(de+1,v)?de+=1:de},L=60-(u.minMinute+u.minSecond/60),U=L*y,G=u.minHour+1,Y=G;60===L&&(U=0,Y=(G=u.minHour)+1);var Q=f;Y>=24&&(Y=0,Q+=1,I="day");var ie=O(Q,m).month;ie=P(Q,ie),this.timeScaleArray.push({position:U,value:G,unit:I,day:Q,hour:Y,year:v,month:me.monthMod(ie)}),Y++;for(var le=U,S=0;S<w;S++){I="hour",Y>=24&&(Y=0,I="day",ie=O(Q+=1,ie).month,ie=P(Q,ie));var R=this._getYear(v,ie,0);this.timeScaleArray.push({position:le=60*y+le,value:0===Y?Q:Y,unit:I,hour:Y,day:Q,year:R,month:me.monthMod(ie)}),Y++}}},{key:"generateMinuteScale",value:function(l){for(var I=l.minutesWidthOnXAxis,P=l.numberOfMinutes,L=l.currentMinute+1,U=l.currentDate,G=l.currentMonth,Y=l.currentYear,Q=l.currentHour,ie=(60-l.currentSecond-l.currentMillisecond/1e3)*l.secondsWidthOnXAxis,le=0;le<P;le++)L>=60&&(L=0,24===(Q+=1)&&(Q=0)),this.timeScaleArray.push({position:ie,value:L,unit:"minute",hour:Q,minute:L,day:U,year:this._getYear(Y,G,0),month:me.monthMod(G)}),ie+=I,L++}},{key:"generateSecondScale",value:function(l){for(var I=l.secondsWidthOnXAxis,O=l.numberOfSeconds,P=l.currentSecond+1,L=l.currentMinute,U=l.currentDate,G=l.currentMonth,Y=l.currentYear,Q=l.currentHour,ie=(1e3-l.currentMillisecond)/1e3*I,le=0;le<O;le++)P>=60&&(P=0,++L>=60&&(L=0,24==++Q&&(Q=0))),this.timeScaleArray.push({position:ie,value:P,unit:"second",hour:Q,minute:L,second:P,day:U,year:this._getYear(Y,G,0),month:me.monthMod(G)}),ie+=I,P++}},{key:"createRawDateString",value:function(l,u){var f=l.year;return 0===l.month&&(l.month=1),f+="-"+("0"+l.month.toString()).slice(-2),f+="day"===l.unit?"day"===l.unit?"-"+("0"+u).slice(-2):"-01":"-"+("0"+(l.day?l.day:"1")).slice(-2),f+="hour"===l.unit?"hour"===l.unit?"T"+("0"+u).slice(-2):"T00":"T"+("0"+(l.hour?l.hour:"0")).slice(-2),f+="minute"===l.unit?":"+("0"+u).slice(-2):":"+(l.minute?("0"+l.minute).slice(-2):"00"),f+="second"===l.unit?":"+("0"+u).slice(-2):":00",this.utc&&(f+=".000Z"),f}},{key:"formatDates",value:function(l){var u=this,f=this.w;return l.map(function(m){var v=m.value.toString(),y=new kn(u.ctx),w=u.createRawDateString(m,v),D=y.getDate(y.parseDate(w));if(u.utc||(D=y.getDate(y.parseDateWithTimezone(w))),void 0===f.config.xaxis.labels.format){var I="dd MMM",O=f.config.xaxis.labels.datetimeFormatter;"year"===m.unit&&(I=O.year),"month"===m.unit&&(I=O.month),"day"===m.unit&&(I=O.day),"hour"===m.unit&&(I=O.hour),"minute"===m.unit&&(I=O.minute),"second"===m.unit&&(I=O.second),v=y.formatDate(D,I)}else v=y.formatDate(D,f.config.xaxis.labels.format);return{dateString:w,position:m.position,value:v,unit:m.unit,year:m.year,month:m.month}})}},{key:"removeOverlappingTS",value:function(l){var u,f=this,m=new _e(this.ctx),v=!1;l.length>0&&l[0].value&&l.every(function(D){return D.value.length===l[0].value.length})&&(v=!0,u=m.getTextRects(l[0].value).width);var y=0;return l.map(function(D,I){if(I>0&&f.w.config.xaxis.labels.hideOverlappingLabels){var O=v?u:m.getTextRects(l[y].value).width;return D.position>l[y].position+O+10?(y=I,D):null}return D}).filter(function(D){return null!==D})}},{key:"_getYear",value:function(l,u,f){return l+Math.floor(u/12)+f}}]),J}(),Va=function(){function J(l,u){xe(this,J),this.ctx=u,this.w=u.w,this.el=l}return ke(J,[{key:"setupElements",value:function(){var l=this.w.globals,u=this.w.config,f=u.chart.type;l.axisCharts=["line","area","bar","rangeBar","rangeArea","candlestick","boxPlot","scatter","bubble","radar","heatmap","treemap"].indexOf(f)>-1,l.xyCharts=["line","area","bar","rangeBar","rangeArea","candlestick","boxPlot","scatter","bubble"].indexOf(f)>-1,l.isBarHorizontal=("bar"===u.chart.type||"rangeBar"===u.chart.type||"boxPlot"===u.chart.type)&&u.plotOptions.bar.horizontal,l.chartClass=".apexcharts"+l.chartID,l.dom.baseEl=this.el,l.dom.elWrap=document.createElement("div"),_e.setAttrs(l.dom.elWrap,{id:l.chartClass.substring(1),class:"apexcharts-canvas "+l.chartClass.substring(1)}),this.el.appendChild(l.dom.elWrap),l.dom.Paper=new window.SVG.Doc(l.dom.elWrap),l.dom.Paper.attr({class:"apexcharts-svg","xmlns:data":"ApexChartsNS",transform:"translate(".concat(u.chart.offsetX,", ").concat(u.chart.offsetY,")")}),l.dom.Paper.node.style.background="dark"!==u.theme.mode||u.chart.background?u.chart.background:"rgba(0, 0, 0, 0.8)",this.setSVGDimensions(),l.dom.elLegendForeign=document.createElementNS(l.SVGNS,"foreignObject"),_e.setAttrs(l.dom.elLegendForeign,{x:0,y:0,width:l.svgWidth,height:l.svgHeight}),l.dom.elLegendWrap=document.createElement("div"),l.dom.elLegendWrap.classList.add("apexcharts-legend"),l.dom.elLegendWrap.setAttribute("xmlns","http://www.w3.org/1999/xhtml"),l.dom.elLegendForeign.appendChild(l.dom.elLegendWrap),l.dom.Paper.node.appendChild(l.dom.elLegendForeign),l.dom.elGraphical=l.dom.Paper.group().attr({class:"apexcharts-inner apexcharts-graphical"}),l.dom.elDefs=l.dom.Paper.defs(),l.dom.Paper.add(l.dom.elGraphical),l.dom.elGraphical.add(l.dom.elDefs)}},{key:"plotChartType",value:function(l,u){var f=this.w,m=f.config,v=f.globals,y={series:[],i:[]},w={series:[],i:[]},D={series:[],i:[]},I={series:[],i:[]},O={series:[],i:[]},P={series:[],i:[]},L={series:[],i:[]},U={series:[],i:[]},G={series:[],seriesRangeEnd:[],i:[]};v.series.map(function(de,he){var Ie=0;void 0!==l[he].type?("column"===l[he].type||"bar"===l[he].type?(v.series.length>1&&m.plotOptions.bar.horizontal&&console.warn("Horizontal bars are not supported in a mixed/combo chart. Please turn off `plotOptions.bar.horizontal`"),O.series.push(de),O.i.push(he),Ie++,f.globals.columnSeries=O.series):"area"===l[he].type?(w.series.push(de),w.i.push(he),Ie++):"line"===l[he].type?(y.series.push(de),y.i.push(he),Ie++):"scatter"===l[he].type?(D.series.push(de),D.i.push(he)):"bubble"===l[he].type?(I.series.push(de),I.i.push(he),Ie++):"candlestick"===l[he].type?(P.series.push(de),P.i.push(he),Ie++):"boxPlot"===l[he].type?(L.series.push(de),L.i.push(he),Ie++):"rangeBar"===l[he].type?(U.series.push(de),U.i.push(he),Ie++):"rangeArea"===l[he].type?(G.series.push(v.seriesRangeStart[he]),G.seriesRangeEnd.push(v.seriesRangeEnd[he]),G.i.push(he),Ie++):console.warn("You have specified an unrecognized chart type. Available types for this property are line/area/column/bar/scatter/bubble/candlestick/boxPlot/rangeBar/rangeArea"),Ie>1&&(v.comboCharts=!0)):(y.series.push(de),y.i.push(he))});var Y=new kr(this.ctx,u),Q=new at(this.ctx,u);this.ctx.pie=new li(this.ctx);var ie=new we(this.ctx);this.ctx.rangeBar=new Fe(this.ctx,u);var le=new Ce(this.ctx),S=[];if(v.comboCharts){if(w.series.length>0&&S.push(Y.draw(w.series,"area",w.i)),O.series.length>0)if(f.config.chart.stacked){var R=new Ae(this.ctx,u);S.push(R.draw(O.series,O.i))}else this.ctx.bar=new st(this.ctx,u),S.push(this.ctx.bar.draw(O.series,O.i));if(G.series.length>0&&S.push(Y.draw(G.series,"rangeArea",G.i,G.seriesRangeEnd)),y.series.length>0&&S.push(Y.draw(y.series,"line",y.i)),P.series.length>0&&S.push(Q.draw(P.series,"candlestick",P.i)),L.series.length>0&&S.push(Q.draw(L.series,"boxPlot",L.i)),U.series.length>0&&S.push(this.ctx.rangeBar.draw(U.series,U.i)),D.series.length>0){var $=new kr(this.ctx,u,!0);S.push($.draw(D.series,"scatter",D.i))}if(I.series.length>0){var te=new kr(this.ctx,u,!0);S.push(te.draw(I.series,"bubble",I.i))}}else switch(m.chart.type){case"line":S=Y.draw(v.series,"line");break;case"area":S=Y.draw(v.series,"area");break;case"bar":m.chart.stacked?S=new Ae(this.ctx,u).draw(v.series):(this.ctx.bar=new st(this.ctx,u),S=this.ctx.bar.draw(v.series));break;case"candlestick":S=new at(this.ctx,u).draw(v.series,"candlestick");break;case"boxPlot":S=new at(this.ctx,u).draw(v.series,m.chart.type);break;case"rangeBar":S=this.ctx.rangeBar.draw(v.series);break;case"rangeArea":S=Y.draw(v.seriesRangeStart,"rangeArea",void 0,v.seriesRangeEnd);break;case"heatmap":S=new Wt(this.ctx,u).draw(v.series);break;case"treemap":S=new ci(this.ctx,u).draw(v.series);break;case"pie":case"donut":case"polarArea":S=this.ctx.pie.draw(v.series);break;case"radialBar":S=ie.draw(v.series);break;case"radar":S=le.draw(v.series);break;default:S=Y.draw(v.series)}return S}},{key:"setSVGDimensions",value:function(){var l=this.w.globals,u=this.w.config;l.svgWidth=u.chart.width,l.svgHeight=u.chart.height;var f=me.getDimensions(this.el),m=u.chart.width.toString().split(/[0-9]+/g).pop();"%"===m?me.isNumber(f[0])&&(0===f[0].width&&(f=me.getDimensions(this.el.parentNode)),l.svgWidth=f[0]*parseInt(u.chart.width,10)/100):"px"!==m&&""!==m||(l.svgWidth=parseInt(u.chart.width,10));var v=u.chart.height.toString().split(/[0-9]+/g).pop();if("auto"!==l.svgHeight&&""!==l.svgHeight)if("%"===v){var y=me.getDimensions(this.el.parentNode);l.svgHeight=y[1]*parseInt(u.chart.height,10)/100}else l.svgHeight=parseInt(u.chart.height,10);else l.svgHeight=l.axisCharts?l.svgWidth/1.61:l.svgWidth/1.2;l.svgWidth<0&&(l.svgWidth=0),l.svgHeight<0&&(l.svgHeight=0),_e.setAttrs(l.dom.Paper.node,{width:l.svgWidth,height:l.svgHeight}),"%"!==v&&(l.dom.Paper.node.parentNode.parentNode.style.minHeight=l.svgHeight+(u.chart.sparkline.enabled?0:l.axisCharts?u.chart.parentHeightOffset:0)+"px"),l.dom.elWrap.style.width=l.svgWidth+"px",l.dom.elWrap.style.height=l.svgHeight+"px"}},{key:"shiftGraphPosition",value:function(){var l=this.w.globals;_e.setAttrs(l.dom.elGraphical.node,{transform:"translate("+l.translateX+", "+l.translateY+")"})}},{key:"resizeNonAxisCharts",value:function(){var l=this.w,u=l.globals,f=0,m=l.config.chart.sparkline.enabled?1:15;m+=l.config.grid.padding.bottom,"top"!==l.config.legend.position&&"bottom"!==l.config.legend.position||!l.config.legend.show||l.config.legend.floating||(f=new pr(this.ctx).legendHelpers.getLegendBBox().clwh+10);var v=l.globals.dom.baseEl.querySelector(".apexcharts-radialbar, .apexcharts-pie"),y=2.05*l.globals.radialSize;if(v&&!l.config.chart.sparkline.enabled&&0!==l.config.plotOptions.radialBar.startAngle){var w=me.getBoundingClientRect(v);y=w.bottom,y=Math.max(2.05*l.globals.radialSize,w.bottom-w.top)}var I=y+u.translateY+f+m;u.dom.elLegendForeign&&u.dom.elLegendForeign.setAttribute("height",I),l.config.chart.height&&String(l.config.chart.height).indexOf("%")>0||(u.dom.elWrap.style.height=I+"px",_e.setAttrs(u.dom.Paper.node,{height:I}),u.dom.Paper.node.parentNode.parentNode.style.minHeight=I+"px")}},{key:"coreCalculations",value:function(){new Oi(this.ctx).init()}},{key:"resetGlobals",value:function(){var l=this,u=function(){return l.w.config.series.map(function(v){return[]})},f=new qe,m=this.w.globals;f.initGlobalVars(m),m.seriesXvalues=u(),m.seriesYvalues=u()}},{key:"isMultipleY",value:function(){if(this.w.config.yaxis.constructor===Array&&this.w.config.yaxis.length>1)return this.w.globals.isMultipleYAxis=!0,!0}},{key:"xySettings",value:function(){var l=null,u=this.w;if(u.globals.axisCharts){if("back"===u.config.xaxis.crosshairs.position&&new Xr(this.ctx).drawXCrosshairs(),"back"===u.config.yaxis[0].crosshairs.position&&new Xr(this.ctx).drawYCrosshairs(),"datetime"===u.config.xaxis.type&&void 0===u.config.xaxis.labels.formatter){this.ctx.timeScale=new ta(this.ctx);var f=[];isFinite(u.globals.minX)&&isFinite(u.globals.maxX)&&!u.globals.isBarHorizontal?f=this.ctx.timeScale.calculateTimeScaleTicks(u.globals.minX,u.globals.maxX):u.globals.isBarHorizontal&&(f=this.ctx.timeScale.calculateTimeScaleTicks(u.globals.minY,u.globals.maxY)),this.ctx.timeScale.recalcDimensionsBasedOnFormat(f)}l=new et(this.ctx).getCalculatedRatios()}return l}},{key:"updateSourceChart",value:function(l){this.ctx.w.globals.selection=void 0,this.ctx.updateHelpers._updateOptions({chart:{selection:{xaxis:{min:l.w.globals.minX,max:l.w.globals.maxX}}}},!1,!1)}},{key:"setupBrushHandler",value:function(){var l=this,u=this.w;if(u.config.chart.brush.enabled&&"function"!=typeof u.config.chart.events.selection){var f=Array.isArray(u.config.chart.brush.targets)||[u.config.chart.brush.target];f.forEach(function(m){var v=ApexCharts.getChartByID(m);v.w.globals.brushSource=l.ctx,"function"!=typeof v.w.config.chart.events.zoomed&&(v.w.config.chart.events.zoomed=function(){l.updateSourceChart(v)}),"function"!=typeof v.w.config.chart.events.scrolled&&(v.w.config.chart.events.scrolled=function(){l.updateSourceChart(v)})}),u.config.chart.events.selection=function(m,v){f.forEach(function(y){var w=ApexCharts.getChartByID(y),D=me.clone(u.config.yaxis);if(u.config.chart.brush.autoScaleYaxis&&1===w.w.globals.series.length){var I=new hi(w);D=I.autoScaleY(w,D,v)}var O=w.w.config.yaxis.reduce(function(P,L,U){return[].concat(At(P),[re(re({},w.w.config.yaxis[U]),{},{min:D[0].min,max:D[0].max})])},[]);w.ctx.updateHelpers._updateOptions({xaxis:{min:v.xaxis.min,max:v.xaxis.max},yaxis:O},!1,!1,!1,!1)})}}}}]),J}(),Lc=function(){function J(l){xe(this,J),this.ctx=l,this.w=l.w}return ke(J,[{key:"_updateOptions",value:function(l){var u=this,f=arguments.length>1&&void 0!==arguments[1]&&arguments[1],m=!(arguments.length>2&&void 0!==arguments[2])||arguments[2],v=!(arguments.length>3&&void 0!==arguments[3])||arguments[3],y=arguments.length>4&&void 0!==arguments[4]&&arguments[4];return new Promise(function(w){var D=[u.ctx];v&&(D=u.ctx.getSyncedCharts()),u.ctx.w.globals.isExecCalled&&(D=[u.ctx],u.ctx.w.globals.isExecCalled=!1),D.forEach(function(I,O){var P=I.w;if(P.globals.shouldAnimate=m,f||(P.globals.resized=!0,P.globals.dataChanged=!0,m&&I.series.getPreviousPaths()),l&&"object"===Oe(l)&&(I.config=new tr(l),l=et.extendArrayProps(I.config,l,P),I.w.globals.chartID!==u.ctx.w.globals.chartID&&delete l.series,P.config=me.extend(P.config,l),y&&(P.globals.lastXAxis=l.xaxis?me.clone(l.xaxis):[],P.globals.lastYAxis=l.yaxis?me.clone(l.yaxis):[],P.globals.initialConfig=me.extend({},P.config),P.globals.initialSeries=me.clone(P.config.series),l.series))){for(var L=0;L<P.globals.collapsedSeriesIndices.length;L++){var U=P.config.series[P.globals.collapsedSeriesIndices[L]];P.globals.collapsedSeries[L].data=P.globals.axisCharts?U.data.slice():U}for(var G=0;G<P.globals.ancillaryCollapsedSeriesIndices.length;G++){var Y=P.config.series[P.globals.ancillaryCollapsedSeriesIndices[G]];P.globals.ancillaryCollapsedSeries[G].data=P.globals.axisCharts?Y.data.slice():Y}I.series.emptyCollapsedSeries(P.config.series)}return I.update(l).then(function(){O===D.length-1&&w(I)})})})}},{key:"_updateSeries",value:function(l,u){var f=this,m=arguments.length>2&&void 0!==arguments[2]&&arguments[2];return new Promise(function(v){var y,w=f.w;return w.globals.shouldAnimate=u,w.globals.dataChanged=!0,u&&f.ctx.series.getPreviousPaths(),w.globals.axisCharts?(0===(y=l.map(function(D,I){return f._extendSeries(D,I)})).length&&(y=[{data:[]}]),w.config.series=y):w.config.series=l.slice(),m&&(w.globals.initialConfig.series=me.clone(w.config.series),w.globals.initialSeries=me.clone(w.config.series)),f.ctx.update().then(function(){v(f.ctx)})})}},{key:"_extendSeries",value:function(l,u){var f=this.w,m=f.config.series[u];return re(re({},f.config.series[u]),{},{name:l.name?l.name:m?.name,color:l.color?l.color:m?.color,type:l.type?l.type:m?.type,group:l.group?l.group:m?.group,data:l.data?l.data:m?.data,zIndex:void 0!==l.zIndex?l.zIndex:u})}},{key:"toggleDataPointSelection",value:function(l,u){var f=this.w,m=null,v=".apexcharts-series[data\\:realIndex='".concat(l,"']");return f.globals.axisCharts?m=f.globals.dom.Paper.select("".concat(v," path[j='").concat(u,"'], ").concat(v," circle[j='").concat(u,"'], ").concat(v," rect[j='").concat(u,"']")).members[0]:void 0===u&&(m=f.globals.dom.Paper.select("".concat(v," path[j='").concat(l,"']")).members[0],"pie"!==f.config.chart.type&&"polarArea"!==f.config.chart.type&&"donut"!==f.config.chart.type||this.ctx.pie.pieClicked(l)),m?(new _e(this.ctx).pathMouseDown(m,null),m.node?m.node:null):(console.warn("toggleDataPointSelection: Element not found"),null)}},{key:"forceXAxisUpdate",value:function(l){var u=this.w;if(["min","max"].forEach(function(m){void 0!==l.xaxis[m]&&(u.config.xaxis[m]=l.xaxis[m],u.globals.lastXAxis[m]=l.xaxis[m])}),l.xaxis.categories&&l.xaxis.categories.length&&(u.config.xaxis.categories=l.xaxis.categories),u.config.xaxis.convertedCatToNumeric){var f=new ki(l);l=f.convertCatToNumericXaxis(l,this.ctx)}return l}},{key:"forceYAxisUpdate",value:function(l){return l.chart&&l.chart.stacked&&"100%"===l.chart.stackType&&(Array.isArray(l.yaxis)?l.yaxis.forEach(function(u,f){l.yaxis[f].min=0,l.yaxis[f].max=100}):(l.yaxis.min=0,l.yaxis.max=100)),l}},{key:"revertDefaultAxisMinMax",value:function(l){var u=this,f=this.w,m=f.globals.lastXAxis,v=f.globals.lastYAxis;l&&l.xaxis&&(m=l.xaxis),l&&l.yaxis&&(v=l.yaxis),f.config.xaxis.min=m.min,f.config.xaxis.max=m.max,f.config.yaxis.map(function(w,D){f.globals.zoomed||void 0!==v[D]?function(w){void 0!==v[w]&&(f.config.yaxis[w].min=v[w].min,f.config.yaxis[w].max=v[w].max)}(D):void 0!==u.ctx.opts.yaxis[D]&&(w.min=u.ctx.opts.yaxis[D].min,w.max=u.ctx.opts.yaxis[D].max)})}}]),J}();Bn=typeof window<"u"?window:void 0,gr=function(J,l){var u=(void 0!==this?this:J).SVG=function(S){if(u.supported)return S=new u.Doc(S),u.parser.draw||u.prepare(),S};if(u.ns="http://www.w3.org/2000/svg",u.xmlns="http://www.w3.org/2000/xmlns/",u.xlink="http://www.w3.org/1999/xlink",u.svgjs="http://svgjs.dev",u.supported=!0,!u.supported)return!1;u.did=1e3,u.eid=function(S){return"Svgjs"+O(S)+u.did++},u.create=function(S){var R=l.createElementNS(this.ns,S);return R.setAttribute("id",this.eid(S)),R},u.extend=function(){var S,R;R=(S=[].slice.call(arguments)).pop();for(var $=S.length-1;$>=0;$--)if(S[$])for(var te in R)S[$].prototype[te]=R[te];u.Set&&u.Set.inherit&&u.Set.inherit()},u.invent=function(S){var R="function"==typeof S.create?S.create:function(){this.constructor.call(this,u.create(S.create))};return S.inherit&&(R.prototype=new S.inherit),S.extend&&u.extend(R,S.extend),S.construct&&u.extend(S.parent||u.Container,S.construct),R},u.adopt=function(S){return S?S.instance?S.instance:((R="svg"==S.nodeName?S.parentNode instanceof J.SVGElement?new u.Nested:new u.Doc:"linearGradient"==S.nodeName?new u.Gradient("linear"):"radialGradient"==S.nodeName?new u.Gradient("radial"):u[O(S.nodeName)]?new(u[O(S.nodeName)]):new u.Element(S)).type=S.nodeName,R.node=S,S.instance=R,R instanceof u.Doc&&R.namespace().defs(),R.setData(JSON.parse(S.getAttribute("svgjs:data"))||{}),R):null;var R},u.prepare=function(){var S=l.getElementsByTagName("body")[0],R=(S?new u.Doc(S):u.adopt(l.documentElement).nested()).size(2,0);u.parser={body:S||l.documentElement,draw:R.style("opacity:0;position:absolute;left:-100%;top:-100%;overflow:hidden").node,poly:R.polyline().node,path:R.path().node,native:u.create("svg")}},u.parser={native:u.create("svg")},l.addEventListener("DOMContentLoaded",function(){u.parser.draw||u.prepare()},!1),u.regex={numberAndUnit:/^([+-]?(\d+(\.\d*)?|\.\d+)(e[+-]?\d+)?)([a-z%]*)$/i,hex:/^#?([a-f\d]{2})([a-f\d]{2})([a-f\d]{2})$/i,rgb:/rgb\((\d+),(\d+),(\d+)\)/,reference:/#([a-z0-9\-_]+)/i,transforms:/\)\s*,?\s*/,whitespace:/\s/g,isHex:/^#[a-f0-9]{3,6}$/i,isRgb:/^rgb\(/,isCss:/[^:]+:[^;]+;?/,isBlank:/^(\s+)?$/,isNumber:/^[+-]?(\d+(\.\d*)?|\.\d+)(e[+-]?\d+)?$/i,isPercent:/^-?[\d\.]+%$/,isImage:/\.(jpg|jpeg|png|gif|svg)(\?[^=]+.*)?/i,delimiter:/[\s,]+/,hyphen:/([^e])\-/gi,pathLetters:/[MLHVCSQTAZ]/gi,isPathLetter:/[MLHVCSQTAZ]/i,numbersWithDots:/((\d?\.\d+(?:e[+-]?\d+)?)((?:\.\d+(?:e[+-]?\d+)?)+))+/gi,dots:/\./g},u.utils={map:function(S,R){for(var $=S.length,te=[],de=0;de<$;de++)te.push(R(S[de]));return te},filter:function(S,R){for(var $=S.length,te=[],de=0;de<$;de++)R(S[de])&&te.push(S[de]);return te},filterSVGElements:function(S){return this.filter(S,function(R){return R instanceof J.SVGElement})}},u.defaults={attrs:{"fill-opacity":1,"stroke-opacity":1,"stroke-width":0,"stroke-linejoin":"miter","stroke-linecap":"butt",fill:"#000000",stroke:"#000000",opacity:1,x:0,y:0,cx:0,cy:0,width:0,height:0,r:0,rx:0,ry:0,offset:0,"stop-opacity":1,"stop-color":"#000000","font-size":16,"font-family":"Helvetica, Arial, sans-serif","text-anchor":"start"}},u.Color=function(S){var R,$;this.r=0,this.g=0,this.b=0,S&&("string"==typeof S?u.regex.isRgb.test(S)?(R=u.regex.rgb.exec(S.replace(u.regex.whitespace,"")),this.r=parseInt(R[1]),this.g=parseInt(R[2]),this.b=parseInt(R[3])):u.regex.isHex.test(S)&&(R=u.regex.hex.exec(4==($=S).length?["#",$.substring(1,2),$.substring(1,2),$.substring(2,3),$.substring(2,3),$.substring(3,4),$.substring(3,4)].join(""):$),this.r=parseInt(R[1],16),this.g=parseInt(R[2],16),this.b=parseInt(R[3],16)):"object"===Oe(S)&&(this.r=S.r,this.g=S.g,this.b=S.b))},u.extend(u.Color,{toString:function(){return this.toHex()},toHex:function(){return"#"+P(this.r)+P(this.g)+P(this.b)},toRgb:function(){return"rgb("+[this.r,this.g,this.b].join()+")"},brightness:function(){return this.r/255*.3+this.g/255*.59+this.b/255*.11},morph:function(S){return this.destination=new u.Color(S),this},at:function(S){return this.destination?new u.Color({r:~~(this.r+(this.destination.r-this.r)*(S=S<0?0:S>1?1:S)),g:~~(this.g+(this.destination.g-this.g)*S),b:~~(this.b+(this.destination.b-this.b)*S)}):this}}),u.Color.test=function(S){return u.regex.isHex.test(S+="")||u.regex.isRgb.test(S)},u.Color.isRgb=function(S){return S&&"number"==typeof S.r&&"number"==typeof S.g&&"number"==typeof S.b},u.Color.isColor=function(S){return u.Color.isRgb(S)||u.Color.test(S)},u.Array=function(S,R){0==(S=(S||[]).valueOf()).length&&R&&(S=R.valueOf()),this.value=this.parse(S)},u.extend(u.Array,{toString:function(){return this.value.join(" ")},valueOf:function(){return this.value},parse:function(S){return S=S.valueOf(),Array.isArray(S)?S:this.split(S)}}),u.PointArray=function(S,R){u.Array.call(this,S,R||[[0,0]])},u.PointArray.prototype=new u.Array,u.PointArray.prototype.constructor=u.PointArray;for(var f={M:function(S,R,$){return R.x=$.x=S[0],R.y=$.y=S[1],["M",R.x,R.y]},L:function(S,R){return R.x=S[0],R.y=S[1],["L",S[0],S[1]]},H:function(S,R){return R.x=S[0],["H",S[0]]},V:function(S,R){return R.y=S[0],["V",S[0]]},C:function(S,R){return R.x=S[4],R.y=S[5],["C",S[0],S[1],S[2],S[3],S[4],S[5]]},Q:function(S,R){return R.x=S[2],R.y=S[3],["Q",S[0],S[1],S[2],S[3]]},S:function(S,R){return R.x=S[2],R.y=S[3],["S",S[0],S[1],S[2],S[3]]},Z:function(S,R,$){return R.x=$.x,R.y=$.y,["Z"]}},m="mlhvqtcsaz".split(""),v=0,y=m.length;v<y;++v)f[m[v]]=function(S){return function(R,$,te){if("H"==S)R[0]=R[0]+$.x;else if("V"==S)R[0]=R[0]+$.y;else if("A"==S)R[5]=R[5]+$.x,R[6]=R[6]+$.y;else for(var de=0,he=R.length;de<he;++de)R[de]=R[de]+(de%2?$.y:$.x);if(f&&"function"==typeof f[S])return f[S](R,$,te)}}(m[v].toUpperCase());u.PathArray=function(S,R){u.Array.call(this,S,R||[["M",0,0]])},u.PathArray.prototype=new u.Array,u.PathArray.prototype.constructor=u.PathArray,u.extend(u.PathArray,{toString:function(){return function(S){for(var R=0,$=S.length,te="";R<$;R++)te+=S[R][0],null!=S[R][1]&&(te+=S[R][1],null!=S[R][2]&&(te+=" ",te+=S[R][2],null!=S[R][3]&&(te+=" ",te+=S[R][3],te+=" ",te+=S[R][4],null!=S[R][5]&&(te+=" ",te+=S[R][5],te+=" ",te+=S[R][6],null!=S[R][7]&&(te+=" ",te+=S[R][7])))));return te+" "}(this.value)},move:function(S,R){return this.bbox(),this},at:function(S){if(!this.destination)return this;for(var R=this.value,$=this.destination.value,te=[],de=new u.PathArray,he=0,Ie=R.length;he<Ie;he++){te[he]=[R[he][0]];for(var De=1,$e=R[he].length;De<$e;De++)te[he][De]=R[he][De]+($[he][De]-R[he][De])*S;"A"===te[he][0]&&(te[he][4]=+(0!=te[he][4]),te[he][5]=+(0!=te[he][5]))}return de.value=te,de},parse:function(S){if(S instanceof u.PathArray)return S.valueOf();var R,$={M:2,L:2,H:1,V:1,C:6,S:4,Q:4,T:2,A:7,Z:0};S="string"==typeof S?S.replace(u.regex.numbersWithDots,D).replace(u.regex.pathLetters," $& ").replace(u.regex.hyphen,"$1 -").trim().split(u.regex.delimiter):S.reduce(function($e,yt){return[].concat.call($e,yt)},[]);var te=[],de=new u.Point,he=new u.Point,Ie=0,De=S.length;do{u.regex.isPathLetter.test(S[Ie])?(R=S[Ie],++Ie):"M"==R?R="L":"m"==R&&(R="l"),te.push(f[R].call(null,S.slice(Ie,Ie+=$[R.toUpperCase()]).map(parseFloat),de,he))}while(De>Ie);return te},bbox:function(){return u.parser.draw||u.prepare(),u.parser.path.setAttribute("d",this.toString()),u.parser.path.getBBox()}}),u.Number=u.invent({create:function(S,R){this.value=0,this.unit=R||"","number"==typeof S?this.value=isNaN(S)?0:isFinite(S)?S:S<0?-34e37:34e37:"string"==typeof S?(R=S.match(u.regex.numberAndUnit))&&(this.value=parseFloat(R[1]),"%"==R[5]?this.value/=100:"s"==R[5]&&(this.value*=1e3),this.unit=R[5]):S instanceof u.Number&&(this.value=S.valueOf(),this.unit=S.unit)},extend:{toString:function(){return("%"==this.unit?~~(1e8*this.value)/1e6:"s"==this.unit?this.value/1e3:this.value)+this.unit},toJSON:function(){return this.toString()},valueOf:function(){return this.value},plus:function(S){return S=new u.Number(S),new u.Number(this+S,this.unit||S.unit)},minus:function(S){return S=new u.Number(S),new u.Number(this-S,this.unit||S.unit)},times:function(S){return S=new u.Number(S),new u.Number(this*S,this.unit||S.unit)},divide:function(S){return S=new u.Number(S),new u.Number(this/S,this.unit||S.unit)},to:function(S){var R=new u.Number(this);return"string"==typeof S&&(R.unit=S),R},morph:function(S){return this.destination=new u.Number(S),S.relative&&(this.destination.value+=this.value),this},at:function(S){return this.destination?new u.Number(this.destination).minus(this).times(S).plus(this):this}}}),u.Element=u.invent({create:function(S){this._stroke=u.defaults.attrs.stroke,this._event=null,this.dom={},(this.node=S)&&(this.type=S.nodeName,this.node.instance=this,this._stroke=S.getAttribute("stroke")||this._stroke)},extend:{x:function(S){return this.attr("x",S)},y:function(S){return this.attr("y",S)},cx:function(S){return null==S?this.x()+this.width()/2:this.x(S-this.width()/2)},cy:function(S){return null==S?this.y()+this.height()/2:this.y(S-this.height()/2)},move:function(S,R){return this.x(S).y(R)},center:function(S,R){return this.cx(S).cy(R)},width:function(S){return this.attr("width",S)},height:function(S){return this.attr("height",S)},size:function(S,R){var $=L(this,S,R);return this.width(new u.Number($.width)).height(new u.Number($.height))},clone:function(S){this.writeDataToDom();var R=Y(this.node.cloneNode(!0));return S?S.add(R):this.after(R),R},remove:function(){return this.parent()&&this.parent().removeElement(this),this},replace:function(S){return this.after(S).remove(),S},addTo:function(S){return S.put(this)},putIn:function(S){return S.add(this)},id:function(S){return this.attr("id",S)},show:function(){return this.style("display","")},hide:function(){return this.style("display","none")},visible:function(){return"none"!=this.style("display")},toString:function(){return this.attr("id")},classes:function(){var S=this.attr("class");return null==S?[]:S.trim().split(u.regex.delimiter)},hasClass:function(S){return-1!=this.classes().indexOf(S)},addClass:function(S){if(!this.hasClass(S)){var R=this.classes();R.push(S),this.attr("class",R.join(" "))}return this},removeClass:function(S){return this.hasClass(S)&&this.attr("class",this.classes().filter(function(R){return R!=S}).join(" ")),this},toggleClass:function(S){return this.hasClass(S)?this.removeClass(S):this.addClass(S)},reference:function(S){return u.get(this.attr(S))},parent:function(S){var R=this;if(!R.node.parentNode)return null;if(R=u.adopt(R.node.parentNode),!S)return R;for(;R&&R.node instanceof J.SVGElement;){if("string"==typeof S?R.matches(S):R instanceof S)return R;if(!R.node.parentNode||"#document"==R.node.parentNode.nodeName)return null;R=u.adopt(R.node.parentNode)}},doc:function(){return this instanceof u.Doc?this:this.parent(u.Doc)},parents:function(S){var R=[],$=this;do{if(!($=$.parent(S))||!$.node)break;R.push($)}while($.parent);return R},matches:function(S){return((R=this.node).matches||R.matchesSelector||R.msMatchesSelector||R.mozMatchesSelector||R.webkitMatchesSelector||R.oMatchesSelector).call(R,S);var R},native:function(){return this.node},svg:function(S){var R=l.createElement("svg");if(!(S&&this instanceof u.Parent))return R.appendChild(S=l.createElement("svg")),this.writeDataToDom(),S.appendChild(this.node.cloneNode(!0)),R.innerHTML.replace(/^<svg>/,"").replace(/<\/svg>$/,"");R.innerHTML="<svg>"+S.replace(/\n/,"").replace(/<([\w:-]+)([^<]+?)\/>/g,"<$1$2></$1>")+"</svg>";for(var $=0,te=R.firstChild.childNodes.length;$<te;$++)this.node.appendChild(R.firstChild.firstChild);return this},writeDataToDom:function(){return(this.each||this.lines)&&(this.each?this:this.lines()).each(function(){this.writeDataToDom()}),this.node.removeAttribute("svgjs:data"),Object.keys(this.dom).length&&this.node.setAttribute("svgjs:data",JSON.stringify(this.dom)),this},setData:function(S){return this.dom=S,this},is:function(S){return this instanceof S}}}),u.easing={"-":function(S){return S},"<>":function(S){return-Math.cos(S*Math.PI)/2+.5},">":function(S){return Math.sin(S*Math.PI/2)},"<":function(S){return 1-Math.cos(S*Math.PI/2)}},u.morph=function(S){return function(R,$){return new u.MorphObj(R,$).at(S)}},u.Situation=u.invent({create:function(S){this.init=!1,this.reversed=!1,this.reversing=!1,this.duration=new u.Number(S.duration).valueOf(),this.delay=new u.Number(S.delay).valueOf(),this.start=+new Date+this.delay,this.finish=this.start+this.duration,this.ease=S.ease,this.loop=0,this.loops=!1,this.animations={},this.attrs={},this.styles={},this.transforms=[],this.once={}}}),u.FX=u.invent({create:function(S){this._target=S,this.situations=[],this.active=!1,this.situation=null,this.paused=!1,this.lastPos=0,this.pos=0,this.absPos=0,this._speed=1},extend:{animate:function(S,R,$){"object"===Oe(S)&&(R=S.ease,$=S.delay,S=S.duration);var te=new u.Situation({duration:S||1e3,delay:$||0,ease:u.easing[R||"-"]||R});return this.queue(te),this},target:function(S){return S&&S instanceof u.Element?(this._target=S,this):this._target},timeToAbsPos:function(S){return(S-this.situation.start)/(this.situation.duration/this._speed)},absPosToTime:function(S){return this.situation.duration/this._speed*S+this.situation.start},startAnimFrame:function(){this.stopAnimFrame(),this.animationFrame=J.requestAnimationFrame(function(){this.step()}.bind(this))},stopAnimFrame:function(){J.cancelAnimationFrame(this.animationFrame)},start:function(){return!this.active&&this.situation&&(this.active=!0,this.startCurrent()),this},startCurrent:function(){return this.situation.start=+new Date+this.situation.delay/this._speed,this.situation.finish=this.situation.start+this.situation.duration/this._speed,this.initAnimations().step()},queue:function(S){return("function"==typeof S||S instanceof u.Situation)&&this.situations.push(S),this.situation||(this.situation=this.situations.shift()),this},dequeue:function(){return this.stop(),this.situation=this.situations.shift(),this.situation&&(this.situation instanceof u.Situation?this.start():this.situation.call(this)),this},initAnimations:function(){var S,R=this.situation;if(R.init)return this;for(var $ in R.animations){S=this.target()[$](),Array.isArray(S)||(S=[S]),Array.isArray(R.animations[$])||(R.animations[$]=[R.animations[$]]);for(var te=S.length;te--;)R.animations[$][te]instanceof u.Number&&(S[te]=new u.Number(S[te])),R.animations[$][te]=S[te].morph(R.animations[$][te])}for(var $ in R.attrs)R.attrs[$]=new u.MorphObj(this.target().attr($),R.attrs[$]);for(var $ in R.styles)R.styles[$]=new u.MorphObj(this.target().style($),R.styles[$]);return R.initialTransformation=this.target().matrixify(),R.init=!0,this},clearQueue:function(){return this.situations=[],this},clearCurrent:function(){return this.situation=null,this},stop:function(S,R){var $=this.active;return this.active=!1,R&&this.clearQueue(),S&&this.situation&&(!$&&this.startCurrent(),this.atEnd()),this.stopAnimFrame(),this.clearCurrent()},after:function(S){var R=this.last();return this.target().on("finished.fx",function $(te){te.detail.situation==R&&(S.call(this,R),this.off("finished.fx",$))}),this._callStart()},during:function(S){var R=this.last(),$=function(te){te.detail.situation==R&&S.call(this,te.detail.pos,u.morph(te.detail.pos),te.detail.eased,R)};return this.target().off("during.fx",$).on("during.fx",$),this.after(function(){this.off("during.fx",$)}),this._callStart()},afterAll:function(S){var R=function $(te){S.call(this),this.off("allfinished.fx",$)};return this.target().off("allfinished.fx",R).on("allfinished.fx",R),this._callStart()},last:function(){return this.situations.length?this.situations[this.situations.length-1]:this.situation},add:function(S,R,$){return this.last()[$||"animations"][S]=R,this._callStart()},step:function(S){var R,$,te;S||(this.absPos=this.timeToAbsPos(+new Date)),!1!==this.situation.loops?(R=Math.max(this.absPos,0),$=Math.floor(R),!0===this.situation.loops||$<this.situation.loops?(this.pos=R-$,te=this.situation.loop,this.situation.loop=$):(this.absPos=this.situation.loops,this.pos=1,te=this.situation.loop-1,this.situation.loop=this.situation.loops),this.situation.reversing&&(this.situation.reversed=this.situation.reversed!=!!((this.situation.loop-te)%2))):(this.absPos=Math.min(this.absPos,1),this.pos=this.absPos),this.pos<0&&(this.pos=0),this.situation.reversed&&(this.pos=1-this.pos);var de=this.situation.ease(this.pos);for(var he in this.situation.once)he>this.lastPos&&he<=de&&(this.situation.once[he].call(this.target(),this.pos,de),delete this.situation.once[he]);return this.active&&this.target().fire("during",{pos:this.pos,eased:de,fx:this,situation:this.situation}),this.situation?(this.eachAt(),1==this.pos&&!this.situation.reversed||this.situation.reversed&&0==this.pos?(this.stopAnimFrame(),this.target().fire("finished",{fx:this,situation:this.situation}),this.situations.length||(this.target().fire("allfinished"),this.situations.length||(this.target().off(".fx"),this.active=!1)),this.active?this.dequeue():this.clearCurrent()):!this.paused&&this.active&&this.startAnimFrame(),this.lastPos=de,this):this},eachAt:function(){var S,R=this,$=this.target(),te=this.situation;for(var de in te.animations)S=[].concat(te.animations[de]).map(function(De){return"string"!=typeof De&&De.at?De.at(te.ease(R.pos),R.pos):De}),$[de].apply($,S);for(var de in te.attrs)S=[de].concat(te.attrs[de]).map(function($e){return"string"!=typeof $e&&$e.at?$e.at(te.ease(R.pos),R.pos):$e}),$.attr.apply($,S);for(var de in te.styles)S=[de].concat(te.styles[de]).map(function($e){return"string"!=typeof $e&&$e.at?$e.at(te.ease(R.pos),R.pos):$e}),$.style.apply($,S);if(te.transforms.length){S=te.initialTransformation,de=0;for(var he=te.transforms.length;de<he;de++){var Ie=te.transforms[de];Ie instanceof u.Matrix?S=Ie.relative?S.multiply((new u.Matrix).morph(Ie).at(te.ease(this.pos))):S.morph(Ie).at(te.ease(this.pos)):(Ie.relative||Ie.undo(S.extract()),S=S.multiply(Ie.at(te.ease(this.pos))))}$.matrix(S)}return this},once:function(S,R,$){var te=this.last();return $||(S=te.ease(S)),te.once[S]=R,this},_callStart:function(){return setTimeout(function(){this.start()}.bind(this),0),this}},parent:u.Element,construct:{animate:function(S,R,$){return(this.fx||(this.fx=new u.FX(this))).animate(S,R,$)},delay:function(S){return(this.fx||(this.fx=new u.FX(this))).delay(S)},stop:function(S,R){return this.fx&&this.fx.stop(S,R),this},finish:function(){return this.fx&&this.fx.finish(),this}}}),u.MorphObj=u.invent({create:function(S,R){return u.Color.isColor(R)?new u.Color(S).morph(R):u.regex.delimiter.test(S)?u.regex.pathLetters.test(S)?new u.PathArray(S).morph(R):new u.Array(S).morph(R):u.regex.numberAndUnit.test(R)?new u.Number(S).morph(R):(this.value=S,void(this.destination=R))},extend:{at:function(S,R){return R<1?this.value:this.destination},valueOf:function(){return this.value}}}),u.extend(u.FX,{attr:function(S,R,$){if("object"===Oe(S))for(var te in S)this.attr(te,S[te]);else this.add(S,R,"attrs");return this},plot:function(S,R,$,te){return 4==arguments.length?this.plot([S,R,$,te]):this.add("plot",new(this.target().morphArray)(S))}}),u.Box=u.invent({create:function(S,R,$,te){if(!("object"!==Oe(S)||S instanceof u.Element))return u.Box.call(this,null!=S.left?S.left:S.x,null!=S.top?S.top:S.y,S.width,S.height);var de;4==arguments.length&&(this.x=S,this.y=R,this.width=$,this.height=te),null==(de=this).x&&(de.x=0,de.y=0,de.width=0,de.height=0),de.w=de.width,de.h=de.height,de.x2=de.x+de.width,de.y2=de.y+de.height,de.cx=de.x+de.width/2,de.cy=de.y+de.height/2}}),u.BBox=u.invent({create:function(S){if(u.Box.apply(this,[].slice.call(arguments)),S instanceof u.Element){var R;try{if(!l.documentElement.contains){for(var $=S.node;$.parentNode;)$=$.parentNode;if($!=l)throw new Error("Element not in the dom")}R=S.node.getBBox()}catch{if(S instanceof u.Shape){u.parser.draw||u.prepare();var te=S.clone(u.parser.draw.instance).show();te&&te.node&&"function"==typeof te.node.getBBox&&(R=te.node.getBBox()),te&&"function"==typeof te.remove&&te.remove()}else R={x:S.node.clientLeft,y:S.node.clientTop,width:S.node.clientWidth,height:S.node.clientHeight}}u.Box.call(this,R)}},inherit:u.Box,parent:u.Element,construct:{bbox:function(){return new u.BBox(this)}}}),u.BBox.prototype.constructor=u.BBox,u.Matrix=u.invent({create:function(S){var R=G([1,0,0,1,0,0]);S=null===S?R:S instanceof u.Element?S.matrixify():"string"==typeof S?G(S.split(u.regex.delimiter).map(parseFloat)):6==arguments.length?G([].slice.call(arguments)):Array.isArray(S)?G(S):S&&"object"===Oe(S)?S:R;for(var $=ie.length-1;$>=0;--$)this[ie[$]]=null!=S[ie[$]]?S[ie[$]]:R[ie[$]]},extend:{extract:function(){var S=U(this,0,1);U(this,1,0);var R=180/Math.PI*Math.atan2(S.y,S.x)-90;return{x:this.e,y:this.f,transformedX:(this.e*Math.cos(R*Math.PI/180)+this.f*Math.sin(R*Math.PI/180))/Math.sqrt(this.a*this.a+this.b*this.b),transformedY:(this.f*Math.cos(R*Math.PI/180)+this.e*Math.sin(-R*Math.PI/180))/Math.sqrt(this.c*this.c+this.d*this.d),rotation:R,a:this.a,b:this.b,c:this.c,d:this.d,e:this.e,f:this.f,matrix:new u.Matrix(this)}},clone:function(){return new u.Matrix(this)},morph:function(S){return this.destination=new u.Matrix(S),this},multiply:function(S){return new u.Matrix(this.native().multiply((R=S,R instanceof u.Matrix||(R=new u.Matrix(R)),R).native()));var R},inverse:function(){return new u.Matrix(this.native().inverse())},translate:function(S,R){return new u.Matrix(this.native().translate(S||0,R||0))},native:function(){for(var S=u.parser.native.createSVGMatrix(),R=ie.length-1;R>=0;R--)S[ie[R]]=this[ie[R]];return S},toString:function(){return"matrix("+Q(this.a)+","+Q(this.b)+","+Q(this.c)+","+Q(this.d)+","+Q(this.e)+","+Q(this.f)+")"}},parent:u.Element,construct:{ctm:function(){return new u.Matrix(this.node.getCTM())},screenCTM:function(){if(this instanceof u.Nested){var S=this.rect(1,1),R=S.node.getScreenCTM();return S.remove(),new u.Matrix(R)}return new u.Matrix(this.node.getScreenCTM())}}}),u.Point=u.invent({create:function(S,R){var $;$=Array.isArray(S)?{x:S[0],y:S[1]}:"object"===Oe(S)?{x:S.x,y:S.y}:null!=S?{x:S,y:R??S}:{x:0,y:0},this.x=$.x,this.y=$.y},extend:{clone:function(){return new u.Point(this)},morph:function(S,R){return this.destination=new u.Point(S,R),this}}}),u.extend(u.Element,{point:function(S,R){return new u.Point(S,R).transform(this.screenCTM().inverse())}}),u.extend(u.Element,{attr:function(S,R,$){if(null==S){for(S={},$=(R=this.node.attributes).length-1;$>=0;$--)S[R[$].nodeName]=u.regex.isNumber.test(R[$].nodeValue)?parseFloat(R[$].nodeValue):R[$].nodeValue;return S}if("object"===Oe(S))for(var te in S)this.attr(te,S[te]);else if(null===R)this.node.removeAttribute(S);else{if(null==R)return null==(R=this.node.getAttribute(S))?u.defaults.attrs[S]:u.regex.isNumber.test(R)?parseFloat(R):R;"stroke-width"==S?this.attr("stroke",parseFloat(R)>0?this._stroke:null):"stroke"==S&&(this._stroke=R),"fill"!=S&&"stroke"!=S||(u.regex.isImage.test(R)&&(R=this.doc().defs().image(R,0,0)),R instanceof u.Image&&(R=this.doc().defs().pattern(0,0,function(){this.add(R)}))),"number"==typeof R?R=new u.Number(R):u.Color.isColor(R)?R=new u.Color(R):Array.isArray(R)&&(R=new u.Array(R)),"leading"==S?this.leading&&this.leading(R):"string"==typeof $?this.node.setAttributeNS($,S,R.toString()):this.node.setAttribute(S,R.toString()),!this.rebuild||"font-size"!=S&&"x"!=S||this.rebuild(S,R)}return this}}),u.extend(u.Element,{transform:function(S,R){var $;return"object"!==Oe(S)?($=new u.Matrix(this).extract(),"string"==typeof S?$[S]:$):($=new u.Matrix(this),R=!!R||!!S.relative,null!=S.a&&($=R?$.multiply(new u.Matrix(S)):new u.Matrix(S)),this.attr("transform",$))}}),u.extend(u.Element,{untransform:function(){return this.attr("transform",null)},matrixify:function(){return(this.attr("transform")||"").split(u.regex.transforms).slice(0,-1).map(function(S){var R=S.trim().split("(");return[R[0],R[1].split(u.regex.delimiter).map(function($){return parseFloat($)})]}).reduce(function(S,R){return"matrix"==R[0]?S.multiply(G(R[1])):S[R[0]].apply(S,R[1])},new u.Matrix)},toParent:function(S){if(this==S)return this;var R=this.screenCTM(),$=S.screenCTM().inverse();return this.addTo(S).untransform().transform($.multiply(R)),this},toDoc:function(){return this.toParent(this.doc())}}),u.Transformation=u.invent({create:function(S,R){if(arguments.length>1&&"boolean"!=typeof R)return this.constructor.call(this,[].slice.call(arguments));if(Array.isArray(S))for(var $=0,te=this.arguments.length;$<te;++$)this[this.arguments[$]]=S[$];else if(S&&"object"===Oe(S))for($=0,te=this.arguments.length;$<te;++$)this[this.arguments[$]]=S[this.arguments[$]];this.inversed=!1,!0===R&&(this.inversed=!0)}}),u.Translate=u.invent({parent:u.Matrix,inherit:u.Transformation,create:function(S,R){this.constructor.apply(this,[].slice.call(arguments))},extend:{arguments:["transformedX","transformedY"],method:"translate"}}),u.extend(u.Element,{style:function(S,R){if(0==arguments.length)return this.node.style.cssText||"";if(arguments.length<2)if("object"===Oe(S))for(var $ in S)this.style($,S[$]);else{if(!u.regex.isCss.test(S))return this.node.style[I(S)];for(S=S.split(/\s*;\s*/).filter(function(te){return!!te}).map(function(te){return te.split(/\s*:\s*/)});R=S.pop();)this.style(R[0],R[1])}else this.node.style[I(S)]=null===R||u.regex.isBlank.test(R)?"":R;return this}}),u.Parent=u.invent({create:function(S){this.constructor.call(this,S)},inherit:u.Element,extend:{children:function(){return u.utils.map(u.utils.filterSVGElements(this.node.childNodes),function(S){return u.adopt(S)})},add:function(S,R){return null==R?this.node.appendChild(S.node):S.node!=this.node.childNodes[R]&&this.node.insertBefore(S.node,this.node.childNodes[R]),this},put:function(S,R){return this.add(S,R),S},has:function(S){return this.index(S)>=0},index:function(S){return[].slice.call(this.node.childNodes).indexOf(S.node)},get:function(S){return u.adopt(this.node.childNodes[S])},first:function(){return this.get(0)},last:function(){return this.get(this.node.childNodes.length-1)},each:function(S,R){for(var $=this.children(),te=0,de=$.length;te<de;te++)$[te]instanceof u.Element&&S.apply($[te],[te,$]),R&&$[te]instanceof u.Container&&$[te].each(S,R);return this},removeElement:function(S){return this.node.removeChild(S.node),this},clear:function(){for(;this.node.hasChildNodes();)this.node.removeChild(this.node.lastChild);return delete this._defs,this},defs:function(){return this.doc().defs()}}}),u.extend(u.Parent,{ungroup:function(S,R){return 0===R||this instanceof u.Defs||this.node==u.parser.draw||(S=S||(this instanceof u.Doc?this:this.parent(u.Parent)),R=R||1/0,this.each(function(){return this instanceof u.Defs?this:this instanceof u.Parent?this.ungroup(S,R-1):this.toParent(S)}),this.node.firstChild||this.remove()),this},flatten:function(S,R){return this.ungroup(S,R)}}),u.Container=u.invent({create:function(S){this.constructor.call(this,S)},inherit:u.Parent}),u.ViewBox=u.invent({parent:u.Container,construct:{}}),["click","dblclick","mousedown","mouseup","mouseover","mouseout","mousemove","touchstart","touchmove","touchleave","touchend","touchcancel"].forEach(function(S){u.Element.prototype[S]=function(R){return u.on(this.node,S,R),this}}),u.listeners=[],u.handlerMap=[],u.listenerId=0,u.on=function(S,R,$,te,de){var he=$.bind(te||S.instance||S),Ie=(u.handlerMap.indexOf(S)+1||u.handlerMap.push(S))-1,De=R.split(".")[0],$e=R.split(".")[1]||"*";u.listeners[Ie]=u.listeners[Ie]||{},u.listeners[Ie][De]=u.listeners[Ie][De]||{},u.listeners[Ie][De][$e]=u.listeners[Ie][De][$e]||{},$._svgjsListenerId||($._svgjsListenerId=++u.listenerId),u.listeners[Ie][De][$e][$._svgjsListenerId]=he,S.addEventListener(De,he,de||{passive:!0})},u.off=function(S,R,$){var te=u.handlerMap.indexOf(S),de=R&&R.split(".")[0],he=R&&R.split(".")[1],Ie="";if(-1!=te)if($){if("function"==typeof $&&($=$._svgjsListenerId),!$)return;u.listeners[te][de]&&u.listeners[te][de][he||"*"]&&(S.removeEventListener(de,u.listeners[te][de][he||"*"][$],!1),delete u.listeners[te][de][he||"*"][$])}else if(he&&de){if(u.listeners[te][de]&&u.listeners[te][de][he]){for(var De in u.listeners[te][de][he])u.off(S,[de,he].join("."),De);delete u.listeners[te][de][he]}}else if(he)for(var $e in u.listeners[te])for(var Ie in u.listeners[te][$e])he===Ie&&u.off(S,[$e,he].join("."));else if(de){if(u.listeners[te][de]){for(var Ie in u.listeners[te][de])u.off(S,[de,Ie].join("."));delete u.listeners[te][de]}}else{for(var $e in u.listeners[te])u.off(S,$e);delete u.listeners[te],delete u.handlerMap[te]}},u.extend(u.Element,{on:function(S,R,$,te){return u.on(this.node,S,R,$,te),this},off:function(S,R){return u.off(this.node,S,R),this},fire:function(S,R){return this.node.dispatchEvent(S instanceof J.Event?S:S=new u.CustomEvent(S,{detail:R,cancelable:!0})),this._event=S,this},event:function(){return this._event}}),u.Defs=u.invent({create:"defs",inherit:u.Container}),u.G=u.invent({create:"g",inherit:u.Container,extend:{x:function(S){return null==S?this.transform("x"):this.transform({x:S-this.x()},!0)}},construct:{group:function(){return this.put(new u.G)}}}),u.Doc=u.invent({create:function(S){S&&("svg"==(S="string"==typeof S?l.getElementById(S):S).nodeName?this.constructor.call(this,S):(this.constructor.call(this,u.create("svg")),S.appendChild(this.node),this.size("100%","100%")),this.namespace().defs())},inherit:u.Container,extend:{namespace:function(){return this.attr({xmlns:u.ns,version:"1.1"}).attr("xmlns:xlink",u.xlink,u.xmlns).attr("xmlns:svgjs",u.svgjs,u.xmlns)},defs:function(){var S;return this._defs||(this._defs=(S=this.node.getElementsByTagName("defs")[0])?u.adopt(S):new u.Defs,this.node.appendChild(this._defs.node)),this._defs},parent:function(){return this.node.parentNode&&"#document"!=this.node.parentNode.nodeName?this.node.parentNode:null},remove:function(){return this.parent()&&this.parent().removeChild(this.node),this},clear:function(){for(;this.node.hasChildNodes();)this.node.removeChild(this.node.lastChild);return delete this._defs,u.parser.draw&&!u.parser.draw.parentNode&&this.node.appendChild(u.parser.draw),this},clone:function(S){this.writeDataToDom();var R=this.node,$=Y(R.cloneNode(!0));return S?(S.node||S).appendChild($.node):R.parentNode.insertBefore($.node,R.nextSibling),$}}}),u.extend(u.Element,{}),u.Gradient=u.invent({create:function(S){this.constructor.call(this,u.create(S+"Gradient")),this.type=S},inherit:u.Container,extend:{at:function(S,R,$){return this.put(new u.Stop).update(S,R,$)},update:function(S){return this.clear(),"function"==typeof S&&S.call(this,this),this},fill:function(){return"url(#"+this.id()+")"},toString:function(){return this.fill()},attr:function(S,R,$){return"transform"==S&&(S="gradientTransform"),u.Container.prototype.attr.call(this,S,R,$)}},construct:{gradient:function(S,R){return this.defs().gradient(S,R)}}}),u.extend(u.Gradient,u.FX,{from:function(S,R){return this.attr("radial"==(this._target||this).type?{fx:new u.Number(S),fy:new u.Number(R)}:{x1:new u.Number(S),y1:new u.Number(R)})},to:function(S,R){return this.attr("radial"==(this._target||this).type?{cx:new u.Number(S),cy:new u.Number(R)}:{x2:new u.Number(S),y2:new u.Number(R)})}}),u.extend(u.Defs,{gradient:function(S,R){return this.put(new u.Gradient(S)).update(R)}}),u.Stop=u.invent({create:"stop",inherit:u.Element,extend:{update:function(S){return("number"==typeof S||S instanceof u.Number)&&(S={offset:arguments[0],color:arguments[1],opacity:arguments[2]}),null!=S.opacity&&this.attr("stop-opacity",S.opacity),null!=S.color&&this.attr("stop-color",S.color),null!=S.offset&&this.attr("offset",new u.Number(S.offset)),this}}}),u.Pattern=u.invent({create:"pattern",inherit:u.Container,extend:{fill:function(){return"url(#"+this.id()+")"},update:function(S){return this.clear(),"function"==typeof S&&S.call(this,this),this},toString:function(){return this.fill()},attr:function(S,R,$){return"transform"==S&&(S="patternTransform"),u.Container.prototype.attr.call(this,S,R,$)}},construct:{pattern:function(S,R,$){return this.defs().pattern(S,R,$)}}}),u.extend(u.Defs,{pattern:function(S,R,$){return this.put(new u.Pattern).update($).attr({x:0,y:0,width:S,height:R,patternUnits:"userSpaceOnUse"})}}),u.Shape=u.invent({create:function(S){this.constructor.call(this,S)},inherit:u.Element}),u.Symbol=u.invent({create:"symbol",inherit:u.Container,construct:{symbol:function(){return this.put(new u.Symbol)}}}),u.Use=u.invent({create:"use",inherit:u.Shape,extend:{element:function(S,R){return this.attr("href",(R||"")+"#"+S,u.xlink)}},construct:{use:function(S,R){return this.put(new u.Use).element(S,R)}}}),u.Rect=u.invent({create:"rect",inherit:u.Shape,construct:{rect:function(S,R){return this.put(new u.Rect).size(S,R)}}}),u.Circle=u.invent({create:"circle",inherit:u.Shape,construct:{circle:function(S){return this.put(new u.Circle).rx(new u.Number(S).divide(2)).move(0,0)}}}),u.extend(u.Circle,u.FX,{rx:function(S){return this.attr("r",S)},ry:function(S){return this.rx(S)}}),u.Ellipse=u.invent({create:"ellipse",inherit:u.Shape,construct:{ellipse:function(S,R){return this.put(new u.Ellipse).size(S,R).move(0,0)}}}),u.extend(u.Ellipse,u.Rect,u.FX,{rx:function(S){return this.attr("rx",S)},ry:function(S){return this.attr("ry",S)}}),u.extend(u.Circle,u.Ellipse,{x:function(S){return null==S?this.cx()-this.rx():this.cx(S+this.rx())},y:function(S){return null==S?this.cy()-this.ry():this.cy(S+this.ry())},cx:function(S){return null==S?this.attr("cx"):this.attr("cx",S)},cy:function(S){return null==S?this.attr("cy"):this.attr("cy",S)},width:function(S){return null==S?2*this.rx():this.rx(new u.Number(S).divide(2))},height:function(S){return null==S?2*this.ry():this.ry(new u.Number(S).divide(2))},size:function(S,R){var $=L(this,S,R);return this.rx(new u.Number($.width).divide(2)).ry(new u.Number($.height).divide(2))}}),u.Line=u.invent({create:"line",inherit:u.Shape,extend:{array:function(){return new u.PointArray([[this.attr("x1"),this.attr("y1")],[this.attr("x2"),this.attr("y2")]])},plot:function(S,R,$,te){return null==S?this.array():(S=void 0!==R?{x1:S,y1:R,x2:$,y2:te}:new u.PointArray(S).toLine(),this.attr(S))},move:function(S,R){return this.attr(this.array().move(S,R).toLine())},size:function(S,R){var $=L(this,S,R);return this.attr(this.array().size($.width,$.height).toLine())}},construct:{line:function(S,R,$,te){return u.Line.prototype.plot.apply(this.put(new u.Line),null!=S?[S,R,$,te]:[0,0,0,0])}}}),u.Polyline=u.invent({create:"polyline",inherit:u.Shape,construct:{polyline:function(S){return this.put(new u.Polyline).plot(S||new u.PointArray)}}}),u.Polygon=u.invent({create:"polygon",inherit:u.Shape,construct:{polygon:function(S){return this.put(new u.Polygon).plot(S||new u.PointArray)}}}),u.extend(u.Polyline,u.Polygon,{array:function(){return this._array||(this._array=new u.PointArray(this.attr("points")))},plot:function(S){return null==S?this.array():this.clear().attr("points","string"==typeof S?S:this._array=new u.PointArray(S))},clear:function(){return delete this._array,this},move:function(S,R){return this.attr("points",this.array().move(S,R))},size:function(S,R){var $=L(this,S,R);return this.attr("points",this.array().size($.width,$.height))}}),u.extend(u.Line,u.Polyline,u.Polygon,{morphArray:u.PointArray,x:function(S){return null==S?this.bbox().x:this.move(S,this.bbox().y)},y:function(S){return null==S?this.bbox().y:this.move(this.bbox().x,S)},width:function(S){var R=this.bbox();return null==S?R.width:this.size(S,R.height)},height:function(S){var R=this.bbox();return null==S?R.height:this.size(R.width,S)}}),u.Path=u.invent({create:"path",inherit:u.Shape,extend:{morphArray:u.PathArray,array:function(){return this._array||(this._array=new u.PathArray(this.attr("d")))},plot:function(S){return null==S?this.array():this.clear().attr("d","string"==typeof S?S:this._array=new u.PathArray(S))},clear:function(){return delete this._array,this}},construct:{path:function(S){return this.put(new u.Path).plot(S||new u.PathArray)}}}),u.Image=u.invent({create:"image",inherit:u.Shape,extend:{load:function(S){if(!S)return this;var R=this,$=new J.Image;return u.on($,"load",function(){u.off($);var te=R.parent(u.Pattern);null!==te&&(0==R.width()&&0==R.height()&&R.size($.width,$.height),te&&0==te.width()&&0==te.height()&&te.size(R.width(),R.height()),"function"==typeof R._loaded&&R._loaded.call(R,{width:$.width,height:$.height,ratio:$.width/$.height,url:S}))}),u.on($,"error",function(te){u.off($),"function"==typeof R._error&&R._error.call(R,te)}),this.attr("href",$.src=this.src=S,u.xlink)},loaded:function(S){return this._loaded=S,this},error:function(S){return this._error=S,this}},construct:{image:function(S,R,$){return this.put(new u.Image).load(S).size(R||0,$||R||0)}}}),u.Text=u.invent({create:function(){this.constructor.call(this,u.create("text")),this.dom.leading=new u.Number(1.3),this._rebuild=!0,this._build=!1,this.attr("font-family",u.defaults.attrs["font-family"])},inherit:u.Shape,extend:{x:function(S){return null==S?this.attr("x"):this.attr("x",S)},text:function(S){if(void 0===S){S="";for(var R=this.node.childNodes,$=0,te=R.length;$<te;++$)0!=$&&3!=R[$].nodeType&&1==u.adopt(R[$]).dom.newLined&&(S+="\n"),S+=R[$].textContent;return S}if(this.clear().build(!0),"function"==typeof S)S.call(this,this);else{$=0;for(var de=(S=S.split("\n")).length;$<de;$++)this.tspan(S[$]).newLine()}return this.build(!1).rebuild()},size:function(S){return this.attr("font-size",S).rebuild()},leading:function(S){return null==S?this.dom.leading:(this.dom.leading=new u.Number(S),this.rebuild())},lines:function(){var S=(this.textPath&&this.textPath()||this).node,R=u.utils.map(u.utils.filterSVGElements(S.childNodes),function($){return u.adopt($)});return new u.Set(R)},rebuild:function(S){if("boolean"==typeof S&&(this._rebuild=S),this._rebuild){var R=this,$=0,te=this.dom.leading*new u.Number(this.attr("font-size"));this.lines().each(function(){this.dom.newLined&&(R.textPath()||this.attr("x",R.attr("x")),"\n"==this.text()?$+=te:(this.attr("dy",te+$),$=0))}),this.fire("rebuild")}return this},build:function(S){return this._build=!!S,this},setData:function(S){return this.dom=S,this.dom.leading=new u.Number(S.leading||1.3),this}},construct:{text:function(S){return this.put(new u.Text).text(S)},plain:function(S){return this.put(new u.Text).plain(S)}}}),u.Tspan=u.invent({create:"tspan",inherit:u.Shape,extend:{text:function(S){return null==S?this.node.textContent+(this.dom.newLined?"\n":""):("function"==typeof S?S.call(this,this):this.plain(S),this)},dx:function(S){return this.attr("dx",S)},dy:function(S){return this.attr("dy",S)},newLine:function(){var S=this.parent(u.Text);return this.dom.newLined=!0,this.dy(S.dom.leading*S.attr("font-size")).attr("x",S.x())}}}),u.extend(u.Text,u.Tspan,{plain:function(S){return!1===this._build&&this.clear(),this.node.appendChild(l.createTextNode(S)),this},tspan:function(S){var R=(this.textPath&&this.textPath()||this).node,$=new u.Tspan;return!1===this._build&&this.clear(),R.appendChild($.node),$.text(S)},clear:function(){for(var S=(this.textPath&&this.textPath()||this).node;S.hasChildNodes();)S.removeChild(S.lastChild);return this},length:function(){return this.node.getComputedTextLength()}}),u.TextPath=u.invent({create:"textPath",inherit:u.Parent,parent:u.Text,construct:{morphArray:u.PathArray,array:function(){var S=this.track();return S?S.array():null},plot:function(S){var R=this.track(),$=null;return R&&($=R.plot(S)),null==S?$:this},track:function(){var S=this.textPath();if(S)return S.reference("href")},textPath:function(){if(this.node.firstChild&&"textPath"==this.node.firstChild.nodeName)return u.adopt(this.node.firstChild)}}}),u.Nested=u.invent({create:function(){this.constructor.call(this,u.create("svg")),this.style("overflow","visible")},inherit:u.Container,construct:{nested:function(){return this.put(new u.Nested)}}});var w={stroke:["color","width","opacity","linecap","linejoin","miterlimit","dasharray","dashoffset"],fill:["color","opacity","rule"],prefix:function(S,R){return"color"==R?S:S+"-"+R}};function D(S,R,$,te){return $+te.replace(u.regex.dots," .")}function I(S){return S.toLowerCase().replace(/-(.)/g,function(R,$){return $.toUpperCase()})}function O(S){return S.charAt(0).toUpperCase()+S.slice(1)}function P(S){var R=S.toString(16);return 1==R.length?"0"+R:R}function L(S,R,$){if(null==R||null==$){var te=S.bbox();null==R?R=te.width/te.height*$:null==$&&($=te.height/te.width*R)}return{width:R,height:$}}function U(S,R,$){return{x:R*S.a+$*S.c+0,y:R*S.b+$*S.d+0}}function G(S){return{a:S[0],b:S[1],c:S[2],d:S[3],e:S[4],f:S[5]}}function Y(S){for(var R=S.childNodes.length-1;R>=0;R--)S.childNodes[R]instanceof J.SVGElement&&Y(S.childNodes[R]);return u.adopt(S).id(u.eid(S.nodeName))}function Q(S){return Math.abs(S)>1e-37?S:0}["fill","stroke"].forEach(function(S){var R={};R[S]=function($){if(void 0===$)return this;if("string"==typeof $||u.Color.isRgb($)||$&&"function"==typeof $.fill)this.attr(S,$);else for(var te=w[S].length-1;te>=0;te--)null!=$[w[S][te]]&&this.attr(w.prefix(S,w[S][te]),$[w[S][te]]);return this},u.extend(u.Element,u.FX,R)}),u.extend(u.Element,u.FX,{translate:function(S,R){return this.transform({x:S,y:R})},matrix:function(S){return this.attr("transform",new u.Matrix(6==arguments.length?[].slice.call(arguments):S))},opacity:function(S){return this.attr("opacity",S)},dx:function(S){return this.x(new u.Number(S).plus(this instanceof u.FX?0:this.x()),!0)},dy:function(S){return this.y(new u.Number(S).plus(this instanceof u.FX?0:this.y()),!0)}}),u.extend(u.Path,{length:function(){return this.node.getTotalLength()},pointAt:function(S){return this.node.getPointAtLength(S)}}),u.Set=u.invent({create:function(S){Array.isArray(S)?this.members=S:this.clear()},extend:{add:function(){for(var S=[].slice.call(arguments),R=0,$=S.length;R<$;R++)this.members.push(S[R]);return this},remove:function(S){var R=this.index(S);return R>-1&&this.members.splice(R,1),this},each:function(S){for(var R=0,$=this.members.length;R<$;R++)S.apply(this.members[R],[R,this.members]);return this},clear:function(){return this.members=[],this},length:function(){return this.members.length},has:function(S){return this.index(S)>=0},index:function(S){return this.members.indexOf(S)},get:function(S){return this.members[S]},first:function(){return this.get(0)},last:function(){return this.get(this.members.length-1)},valueOf:function(){return this.members}},construct:{set:function(S){return new u.Set(S)}}}),u.FX.Set=u.invent({create:function(S){this.set=S}}),u.Set.inherit=function(){var S=[];for(var R in u.Shape.prototype)"function"==typeof u.Shape.prototype[R]&&"function"!=typeof u.Set.prototype[R]&&S.push(R);for(var R in S.forEach(function(te){u.Set.prototype[te]=function(){for(var de=0,he=this.members.length;de<he;de++)this.members[de]&&"function"==typeof this.members[de][te]&&this.members[de][te].apply(this.members[de],arguments);return"animate"==te?this.fx||(this.fx=new u.FX.Set(this)):this}}),S=[],u.FX.prototype)"function"==typeof u.FX.prototype[R]&&"function"!=typeof u.FX.Set.prototype[R]&&S.push(R);S.forEach(function($){u.FX.Set.prototype[$]=function(){for(var te=0,de=this.set.members.length;te<de;te++)this.set.members[te].fx[$].apply(this.set.members[te].fx,arguments);return this}})},u.extend(u.Element,{}),u.extend(u.Element,{remember:function(S,R){if("object"===Oe(arguments[0]))for(var $ in S)this.remember($,S[$]);else{if(1==arguments.length)return this.memory()[S];this.memory()[S]=R}return this},forget:function(){if(0==arguments.length)this._memory={};else for(var S=arguments.length-1;S>=0;S--)delete this.memory()[arguments[S]];return this},memory:function(){return this._memory||(this._memory={})}}),u.get=function(S){var R=l.getElementById(function($){var te=($||"").toString().match(u.regex.reference);if(te)return te[1]}(S)||S);return u.adopt(R)},u.select=function(S,R){return new u.Set(u.utils.map((R||l).querySelectorAll(S),function($){return u.adopt($)}))},u.extend(u.Parent,{select:function(S){return u.select(S,this.node)}});var ie="abcdef".split("");if("function"!=typeof J.CustomEvent){var le=function(S,R){R=R||{bubbles:!1,cancelable:!1,detail:void 0};var $=l.createEvent("CustomEvent");return $.initCustomEvent(S,R.bubbles,R.cancelable,R.detail),$};le.prototype=J.Event.prototype,u.CustomEvent=le}else u.CustomEvent=J.CustomEvent;return u},void 0!==(a=function(){return gr(Bn,Bn.document)}.call(ct,ce,ct,nn))&&(nn.exports=a),
/*! svg.filter.js - v2.0.2 - 2016-02-24
        * https://github.com/wout/svg.filter.js
        * Copyright (c) 2016 Wout Fierens; Licensed MIT */
function(){SVG.Filter=SVG.invent({create:"filter",inherit:SVG.Parent,extend:{source:"SourceGraphic",sourceAlpha:"SourceAlpha",background:"BackgroundImage",backgroundAlpha:"BackgroundAlpha",fill:"FillPaint",stroke:"StrokePaint",autoSetIn:!0,put:function(y,w){return this.add(y,w),!y.attr("in")&&this.autoSetIn&&y.attr("in",this.source),y.attr("result")||y.attr("result",y),y},blend:function(y,w,D){return this.put(new SVG.BlendEffect(y,w,D))},colorMatrix:function(y,w){return this.put(new SVG.ColorMatrixEffect(y,w))},convolveMatrix:function(y){return this.put(new SVG.ConvolveMatrixEffect(y))},componentTransfer:function(y){return this.put(new SVG.ComponentTransferEffect(y))},composite:function(y,w,D){return this.put(new SVG.CompositeEffect(y,w,D))},flood:function(y,w){return this.put(new SVG.FloodEffect(y,w))},offset:function(y,w){return this.put(new SVG.OffsetEffect(y,w))},image:function(y){return this.put(new SVG.ImageEffect(y))},merge:function(){var y=[void 0];for(var w in arguments)y.push(arguments[w]);return this.put(new(SVG.MergeEffect.bind.apply(SVG.MergeEffect,y)))},gaussianBlur:function(y,w){return this.put(new SVG.GaussianBlurEffect(y,w))},morphology:function(y,w){return this.put(new SVG.MorphologyEffect(y,w))},diffuseLighting:function(y,w,D){return this.put(new SVG.DiffuseLightingEffect(y,w,D))},displacementMap:function(y,w,D,I,O){return this.put(new SVG.DisplacementMapEffect(y,w,D,I,O))},specularLighting:function(y,w,D,I){return this.put(new SVG.SpecularLightingEffect(y,w,D,I))},tile:function(){return this.put(new SVG.TileEffect)},turbulence:function(y,w,D,I,O){return this.put(new SVG.TurbulenceEffect(y,w,D,I,O))},toString:function(){return"url(#"+this.attr("id")+")"}}}),SVG.extend(SVG.Defs,{filter:function(y){var w=this.put(new SVG.Filter);return"function"==typeof y&&y.call(w,w),w}}),SVG.extend(SVG.Container,{filter:function(y){return this.defs().filter(y)}}),SVG.extend(SVG.Element,SVG.G,SVG.Nested,{filter:function(y){return this.filterer=y instanceof SVG.Element?y:this.doc().filter(y),this.doc()&&this.filterer.doc()!==this.doc()&&this.doc().defs().add(this.filterer),this.attr("filter",this.filterer),this.filterer},unfilter:function(y){return this.filterer&&!0===y&&this.filterer.remove(),delete this.filterer,this.attr("filter",null)}}),SVG.Effect=SVG.invent({create:function(){this.constructor.call(this)},inherit:SVG.Element,extend:{in:function(y){return null==y?this.parent()&&this.parent().select('[result="'+this.attr("in")+'"]').get(0)||this.attr("in"):this.attr("in",y)},result:function(y){return null==y?this.attr("result"):this.attr("result",y)},toString:function(){return this.result()}}}),SVG.ParentEffect=SVG.invent({create:function(){this.constructor.call(this)},inherit:SVG.Parent,extend:{in:function(y){return null==y?this.parent()&&this.parent().select('[result="'+this.attr("in")+'"]').get(0)||this.attr("in"):this.attr("in",y)},result:function(y){return null==y?this.attr("result"):this.attr("result",y)},toString:function(){return this.result()}}});var J={blend:function(y,w){return this.parent()&&this.parent().blend(this,y,w)},colorMatrix:function(y,w){return this.parent()&&this.parent().colorMatrix(y,w).in(this)},convolveMatrix:function(y){return this.parent()&&this.parent().convolveMatrix(y).in(this)},componentTransfer:function(y){return this.parent()&&this.parent().componentTransfer(y).in(this)},composite:function(y,w){return this.parent()&&this.parent().composite(this,y,w)},flood:function(y,w){return this.parent()&&this.parent().flood(y,w)},offset:function(y,w){return this.parent()&&this.parent().offset(y,w).in(this)},image:function(y){return this.parent()&&this.parent().image(y)},merge:function(){return this.parent()&&this.parent().merge.apply(this.parent(),[this].concat(arguments))},gaussianBlur:function(y,w){return this.parent()&&this.parent().gaussianBlur(y,w).in(this)},morphology:function(y,w){return this.parent()&&this.parent().morphology(y,w).in(this)},diffuseLighting:function(y,w,D){return this.parent()&&this.parent().diffuseLighting(y,w,D).in(this)},displacementMap:function(y,w,D,I){return this.parent()&&this.parent().displacementMap(this,y,w,D,I)},specularLighting:function(y,w,D,I){return this.parent()&&this.parent().specularLighting(y,w,D,I).in(this)},tile:function(){return this.parent()&&this.parent().tile().in(this)},turbulence:function(y,w,D,I,O){return this.parent()&&this.parent().turbulence(y,w,D,I,O).in(this)}};SVG.extend(SVG.Effect,J),SVG.extend(SVG.ParentEffect,J),SVG.ChildEffect=SVG.invent({create:function(){this.constructor.call(this)},inherit:SVG.Element,extend:{in:function(y){this.attr("in",y)}}});var l={blend:function(y,w,D){this.attr({in:y,in2:w,mode:D||"normal"})},colorMatrix:function(y,w){"matrix"==y&&(w=m(w)),this.attr({type:y,values:void 0===w?null:w})},convolveMatrix:function(y){y=m(y),this.attr({order:Math.sqrt(y.split(" ").length),kernelMatrix:y})},composite:function(y,w,D){this.attr({in:y,in2:w,operator:D})},flood:function(y,w){this.attr("flood-color",y),null!=w&&this.attr("flood-opacity",w)},offset:function(y,w){this.attr({dx:y,dy:w})},image:function(y){this.attr("href",y,SVG.xlink)},displacementMap:function(y,w,D,I,O){this.attr({in:y,in2:w,scale:D,xChannelSelector:I,yChannelSelector:O})},gaussianBlur:function(y,w){this.attr("stdDeviation",null!=y||null!=w?function(D){if(!Array.isArray(D))return D;for(var I=0,O=D.length,P=[];I<O;I++)P.push(D[I]);return P.join(" ")}(Array.prototype.slice.call(arguments)):"0 0")},morphology:function(y,w){this.attr({operator:y,radius:w})},tile:function(){},turbulence:function(y,w,D,I,O){this.attr({numOctaves:w,seed:D,stitchTiles:I,baseFrequency:y,type:O})}},u={merge:function(){var y;if(arguments[0]instanceof SVG.Set){var w=this;arguments[0].each(function(I){this instanceof SVG.MergeNode?w.put(this):(this instanceof SVG.Effect||this instanceof SVG.ParentEffect)&&w.put(new SVG.MergeNode(this))})}else{y=Array.isArray(arguments[0])?arguments[0]:arguments;for(var D=0;D<y.length;D++)y[D]instanceof SVG.MergeNode?this.put(y[D]):this.put(new SVG.MergeNode(y[D]))}},componentTransfer:function(y){if(this.rgb=new SVG.Set,["r","g","b","a"].forEach(function(D){this[D]=new(SVG["Func"+D.toUpperCase()])("identity"),this.rgb.add(this[D]),this.node.appendChild(this[D].node)}.bind(this)),y)for(var w in y.rgb&&(["r","g","b"].forEach(function(D){this[D].attr(y.rgb)}.bind(this)),delete y.rgb),y)this[w].attr(y[w])},diffuseLighting:function(y,w,D){this.attr({surfaceScale:y,diffuseConstant:w,kernelUnitLength:D})},specularLighting:function(y,w,D,I){this.attr({surfaceScale:y,diffuseConstant:w,specularExponent:D,kernelUnitLength:I})}},f={distantLight:function(y,w){this.attr({azimuth:y,elevation:w})},pointLight:function(y,w,D){this.attr({x:y,y:w,z:D})},spotLight:function(y,w,D,I,O,P){this.attr({x:y,y:w,z:D,pointsAtX:I,pointsAtY:O,pointsAtZ:P})},mergeNode:function(y){this.attr("in",y)}};function m(y){return Array.isArray(y)&&(y=new SVG.Array(y)),y.toString().replace(/^\s+/,"").replace(/\s+$/,"").replace(/\s+/g," ")}function v(){var y=function(){};for(var w in"function"==typeof arguments[arguments.length-1]&&(y=arguments[arguments.length-1],Array.prototype.splice.call(arguments,arguments.length-1,1)),arguments)for(var D in arguments[w])y(arguments[w][D],D,arguments[w])}["r","g","b","a"].forEach(function(y){f["Func"+y.toUpperCase()]=function(w){switch(this.attr("type",w),w){case"table":this.attr("tableValues",arguments[1]);break;case"linear":this.attr("slope",arguments[1]),this.attr("intercept",arguments[2]);break;case"gamma":this.attr("amplitude",arguments[1]),this.attr("exponent",arguments[2]),this.attr("offset",arguments[2])}}}),v(l,function(y,w){var D=w.charAt(0).toUpperCase()+w.slice(1);SVG[D+"Effect"]=SVG.invent({create:function(){this.constructor.call(this,SVG.create("fe"+D)),y.apply(this,arguments),this.result(this.attr("id")+"Out")},inherit:SVG.Effect,extend:{}})}),v(u,function(y,w){var D=w.charAt(0).toUpperCase()+w.slice(1);SVG[D+"Effect"]=SVG.invent({create:function(){this.constructor.call(this,SVG.create("fe"+D)),y.apply(this,arguments),this.result(this.attr("id")+"Out")},inherit:SVG.ParentEffect,extend:{}})}),v(f,function(y,w){var D=w.charAt(0).toUpperCase()+w.slice(1);SVG[D]=SVG.invent({create:function(){this.constructor.call(this,SVG.create("fe"+D)),y.apply(this,arguments)},inherit:SVG.ChildEffect,extend:{}})}),SVG.extend(SVG.MergeEffect,{in:function(y){return y instanceof SVG.MergeNode?this.add(y,0):this.add(new SVG.MergeNode(y),0),this}}),SVG.extend(SVG.CompositeEffect,SVG.BlendEffect,SVG.DisplacementMapEffect,{in2:function(y){return null==y?this.parent()&&this.parent().select('[result="'+this.attr("in2")+'"]').get(0)||this.attr("in2"):this.attr("in2",y)}}),SVG.filter={sepiatone:[.343,.669,.119,0,0,.249,.626,.13,0,0,.172,.334,.111,0,0,0,0,0,1,0]}}.call(void 0),function(){function J(v,y,w,D,I,O,P){for(var L=v.slice(y,w||P),U=D.slice(I,O||P),G=0,Y={pos:[0,0],start:[0,0]},Q={pos:[0,0],start:[0,0]};L[G]=l.call(Y,L[G]),U[G]=l.call(Q,U[G]),L[G][0]!=U[G][0]||"M"==L[G][0]||"A"==L[G][0]&&(L[G][4]!=U[G][4]||L[G][5]!=U[G][5])?(Array.prototype.splice.apply(L,[G,1].concat(f.call(Y,L[G]))),Array.prototype.splice.apply(U,[G,1].concat(f.call(Q,U[G])))):(L[G]=u.call(Y,L[G]),U[G]=u.call(Q,U[G])),++G!=L.length||G!=U.length;)G==L.length&&L.push(["C",Y.pos[0],Y.pos[1],Y.pos[0],Y.pos[1],Y.pos[0],Y.pos[1]]),G==U.length&&U.push(["C",Q.pos[0],Q.pos[1],Q.pos[0],Q.pos[1],Q.pos[0],Q.pos[1]]);return{start:L,dest:U}}function l(v){switch(v[0]){case"z":case"Z":v[0]="L",v[1]=this.start[0],v[2]=this.start[1];break;case"H":v[0]="L",v[2]=this.pos[1];break;case"V":v[0]="L",v[2]=v[1],v[1]=this.pos[0];break;case"T":v[0]="Q",v[3]=v[1],v[4]=v[2],v[1]=this.reflection[1],v[2]=this.reflection[0];break;case"S":v[0]="C",v[6]=v[4],v[5]=v[3],v[4]=v[2],v[3]=v[1],v[2]=this.reflection[1],v[1]=this.reflection[0]}return v}function u(v){var y=v.length;return this.pos=[v[y-2],v[y-1]],-1!="SCQT".indexOf(v[0])&&(this.reflection=[2*this.pos[0]-v[y-4],2*this.pos[1]-v[y-3]]),v}function f(v){var y=[v];switch(v[0]){case"M":return this.pos=this.start=[v[1],v[2]],y;case"L":v[5]=v[3]=v[1],v[6]=v[4]=v[2],v[1]=this.pos[0],v[2]=this.pos[1];break;case"Q":v[6]=v[4],v[5]=v[3],v[4]=1*v[4]/3+2*v[2]/3,v[3]=1*v[3]/3+2*v[1]/3,v[2]=1*this.pos[1]/3+2*v[2]/3,v[1]=1*this.pos[0]/3+2*v[1]/3;break;case"A":v=(y=function(w,D){var I,O,P,L,U,G,Y,Q,ie,le,S,R,$,te,de,he,Ie,De,$e,yt,ot,Lt,Pt,Mn,Wn,Zn,ji=Math.abs(D[1]),Ii=Math.abs(D[2]),Ri=D[3]%360,Os=D[4],Un=D[5],Zi=D[6],Ur=D[7],mr=new SVG.Point(w),_i=new SVG.Point(Zi,Ur),Ha=[];if(0===ji||0===Ii||mr.x===_i.x&&mr.y===_i.y)return[["C",mr.x,mr.y,_i.x,_i.y,_i.x,_i.y]];for((O=(I=new SVG.Point((mr.x-_i.x)/2,(mr.y-_i.y)/2).transform((new SVG.Matrix).rotate(Ri))).x*I.x/(ji*ji)+I.y*I.y/(Ii*Ii))>1&&(ji*=O=Math.sqrt(O),Ii*=O),P=(new SVG.Matrix).rotate(Ri).scale(1/ji,1/Ii).rotate(-Ri),mr=mr.transform(P),G=(L=[(_i=_i.transform(P)).x-mr.x,_i.y-mr.y])[0]*L[0]+L[1]*L[1],U=Math.sqrt(G),L[0]/=U,L[1]/=U,Y=G<4?Math.sqrt(1-G/4):0,Os===Un&&(Y*=-1),Q=new SVG.Point((_i.x+mr.x)/2+Y*-L[1],(_i.y+mr.y)/2+Y*L[0]),ie=new SVG.Point(mr.x-Q.x,mr.y-Q.y),le=new SVG.Point(_i.x-Q.x,_i.y-Q.y),S=Math.acos(ie.x/Math.sqrt(ie.x*ie.x+ie.y*ie.y)),ie.y<0&&(S*=-1),R=Math.acos(le.x/Math.sqrt(le.x*le.x+le.y*le.y)),le.y<0&&(R*=-1),Un&&S>R&&(R+=2*Math.PI),!Un&&S<R&&(R-=2*Math.PI),he=[],Ie=S,$=(R-S)/(te=Math.ceil(2*Math.abs(S-R)/Math.PI)),de=4*Math.tan($/4)/3,ot=0;ot<=te;ot++)$e=Math.cos(Ie),De=Math.sin(Ie),yt=new SVG.Point(Q.x+$e,Q.y+De),he[ot]=[new SVG.Point(yt.x+de*De,yt.y-de*$e),yt,new SVG.Point(yt.x-de*De,yt.y+de*$e)],Ie+=$;for(he[0][0]=he[0][1].clone(),he[he.length-1][2]=he[he.length-1][1].clone(),P=(new SVG.Matrix).rotate(Ri).scale(ji,Ii).rotate(-Ri),ot=0,Lt=he.length;ot<Lt;ot++)he[ot][0]=he[ot][0].transform(P),he[ot][1]=he[ot][1].transform(P),he[ot][2]=he[ot][2].transform(P);for(ot=1,Lt=he.length;ot<Lt;ot++)Pt=(yt=he[ot-1][2]).x,Mn=yt.y,Wn=(yt=he[ot][0]).x,Zn=yt.y,Zi=(yt=he[ot][1]).x,Ha.push(["C",Pt,Mn,Wn,Zn,Zi,Ur=yt.y]);return Ha}(this.pos,v))[0]}return v[0]="C",this.pos=[v[5],v[6]],this.reflection=[2*v[5]-v[3],2*v[6]-v[4]],y}function m(v,y){if(!1===y)return!1;for(var w=y,D=v.length;w<D;++w)if("M"==v[w][0])return w;return!1}SVG.extend(SVG.PathArray,{morph:function(v){for(var y=this.value,w=this.parse(v),D=0,I=0,O=!1,P=!1;!1!==D||!1!==I;){var L;O=m(y,!1!==D&&D+1),P=m(w,!1!==I&&I+1),!1===D&&(D=0==(L=new SVG.PathArray(U.start).bbox()).height||0==L.width?y.push(y[0])-1:y.push(["M",L.x+L.width/2,L.y+L.height/2])-1),!1===I&&(I=0==(L=new SVG.PathArray(U.dest).bbox()).height||0==L.width?w.push(w[0])-1:w.push(["M",L.x+L.width/2,L.y+L.height/2])-1);var U=J(y,D,O,w,I,P);y=y.slice(0,D).concat(U.start,!1===O?[]:y.slice(O)),w=w.slice(0,I).concat(U.dest,!1===P?[]:w.slice(P)),D=!1!==O&&D+U.start.length,I=!1!==P&&I+U.dest.length}return this.value=y,this.destination=new SVG.PathArray,this.destination.value=w,this}})}(),
/*! svg.draggable.js - v2.2.2 - 2019-01-08
        * https://github.com/svgdotjs/svg.draggable.js
        * Copyright (c) 2019 Wout Fierens; Licensed MIT */
function(){function J(l){l.remember("_draggable",this),this.el=l}J.prototype.init=function(l,u){var f=this;this.constraint=l,this.value=u,this.el.on("mousedown.drag",function(m){f.start(m)}),this.el.on("touchstart.drag",function(m){f.start(m)})},J.prototype.transformPoint=function(l,u){var f=(l=l||window.event).changedTouches&&l.changedTouches[0]||l;return this.p.x=f.clientX-(u||0),this.p.y=f.clientY,this.p.matrixTransform(this.m)},J.prototype.getBBox=function(){var l=this.el.bbox();return this.el instanceof SVG.Nested&&(l=this.el.rbox()),(this.el instanceof SVG.G||this.el instanceof SVG.Use||this.el instanceof SVG.Nested)&&(l.x=this.el.x(),l.y=this.el.y()),l},J.prototype.start=function(l){if("click"!=l.type&&"mousedown"!=l.type&&"mousemove"!=l.type||1==(l.which||l.buttons)){var u=this;if(this.el.fire("beforedrag",{event:l,handler:this}),!this.el.event().defaultPrevented){l.preventDefault(),l.stopPropagation(),this.parent=this.parent||this.el.parent(SVG.Nested)||this.el.parent(SVG.Doc),this.p=this.parent.node.createSVGPoint(),this.m=this.el.node.getScreenCTM().inverse();var f,m=this.getBBox();if(this.el instanceof SVG.Text)switch(f=this.el.node.getComputedTextLength(),this.el.attr("text-anchor")){case"middle":f/=2;break;case"start":f=0}this.startPoints={point:this.transformPoint(l,f),box:m,transform:this.el.transform()},SVG.on(window,"mousemove.drag",function(v){u.drag(v)}),SVG.on(window,"touchmove.drag",function(v){u.drag(v)}),SVG.on(window,"mouseup.drag",function(v){u.end(v)}),SVG.on(window,"touchend.drag",function(v){u.end(v)}),this.el.fire("dragstart",{event:l,p:this.startPoints.point,m:this.m,handler:this})}}},J.prototype.drag=function(l){var u=this.getBBox(),f=this.transformPoint(l),m=this.startPoints.box.x+f.x-this.startPoints.point.x,v=this.startPoints.box.y+f.y-this.startPoints.point.y,y=this.constraint,w=f.x-this.startPoints.point.x,D=f.y-this.startPoints.point.y;if(this.el.fire("dragmove",{event:l,p:f,m:this.m,handler:this}),this.el.event().defaultPrevented)return f;if("function"==typeof y){var I=y.call(this.el,m,v,this.m);"boolean"==typeof I&&(I={x:I,y:I}),!0===I.x?this.el.x(m):!1!==I.x&&this.el.x(I.x),!0===I.y?this.el.y(v):!1!==I.y&&this.el.y(I.y)}else"object"==typeof y&&(null!=y.minX&&m<y.minX?w=(m=y.minX)-this.startPoints.box.x:null!=y.maxX&&m>y.maxX-u.width&&(w=(m=y.maxX-u.width)-this.startPoints.box.x),null!=y.minY&&v<y.minY?D=(v=y.minY)-this.startPoints.box.y:null!=y.maxY&&v>y.maxY-u.height&&(D=(v=y.maxY-u.height)-this.startPoints.box.y),null!=y.snapToGrid&&(m-=m%y.snapToGrid,v-=v%y.snapToGrid,w-=w%y.snapToGrid,D-=D%y.snapToGrid),this.el instanceof SVG.G?this.el.matrix(this.startPoints.transform).transform({x:w,y:D},!0):this.el.move(m,v));return f},J.prototype.end=function(l){var u=this.drag(l);this.el.fire("dragend",{event:l,p:u,m:this.m,handler:this}),SVG.off(window,"mousemove.drag"),SVG.off(window,"touchmove.drag"),SVG.off(window,"mouseup.drag"),SVG.off(window,"touchend.drag")},SVG.extend(SVG.Element,{draggable:function(l,u){"function"!=typeof l&&"object"!=typeof l||(u=l,l=!0);var f=this.remember("_draggable")||new J(this);return(l=void 0===l||l)?f.init(u||{},l):(this.off("mousedown.drag"),this.off("touchstart.drag")),this}})}.call(void 0),function(){function J(l){this.el=l,l.remember("_selectHandler",this),this.pointSelection={isSelected:!1},this.rectSelection={isSelected:!1},this.pointsList={lt:[0,0],rt:["width",0],rb:["width","height"],lb:[0,"height"],t:["width",0],r:["width","height"],b:["width","height"],l:[0,"height"]},this.pointCoord=function(u,f,m){var v="string"!=typeof u?u:f[u];return m?v/2:v},this.pointCoords=function(u,f){var m=this.pointsList[u];return{x:this.pointCoord(m[0],f,"t"===u||"b"===u),y:this.pointCoord(m[1],f,"r"===u||"l"===u)}}}J.prototype.init=function(l,u){var f=this.el.bbox();this.options={};var m=this.el.selectize.defaults.points;for(var v in this.el.selectize.defaults)this.options[v]=this.el.selectize.defaults[v],void 0!==u[v]&&(this.options[v]=u[v]);var y=["points","pointsExclude"];for(var v in y){var w=this.options[y[v]];"string"==typeof w?w=w.length>0?w.split(/\s*,\s*/i):[]:"boolean"==typeof w&&"points"===y[v]&&(w=w?m:[]),this.options[y[v]]=w}this.options.points=[m,this.options.points].reduce(function(D,I){return D.filter(function(O){return I.indexOf(O)>-1})}),this.options.points=[this.options.points,this.options.pointsExclude].reduce(function(D,I){return D.filter(function(O){return I.indexOf(O)<0})}),this.parent=this.el.parent(),this.nested=this.nested||this.parent.group(),this.nested.matrix(new SVG.Matrix(this.el).translate(f.x,f.y)),this.options.deepSelect&&-1!==["line","polyline","polygon"].indexOf(this.el.type)?this.selectPoints(l):this.selectRect(l),this.observe(),this.cleanup()},J.prototype.selectPoints=function(l){return this.pointSelection.isSelected=l,this.pointSelection.set||(this.pointSelection.set=this.parent.set(),this.drawPoints()),this},J.prototype.getPointArray=function(){var l=this.el.bbox();return this.el.array().valueOf().map(function(u){return[u[0]-l.x,u[1]-l.y]})},J.prototype.drawPoints=function(){for(var l=this,u=this.getPointArray(),f=0,m=u.length;f<m;++f){var v=function(w){return function(D){(D=D||window.event).preventDefault?D.preventDefault():D.returnValue=!1,D.stopPropagation(),l.el.fire("point",{x:D.pageX||D.touches[0].pageX,y:D.pageY||D.touches[0].pageY,i:w,event:D})}}(f),y=this.drawPoint(u[f][0],u[f][1]).addClass(this.options.classPoints).addClass(this.options.classPoints+"_point").on("touchstart",v).on("mousedown",v);this.pointSelection.set.add(y)}},J.prototype.drawPoint=function(l,u){var f=this.options.pointType;switch(f){case"circle":return this.drawCircle(l,u);case"rect":return this.drawRect(l,u);default:if("function"==typeof f)return f.call(this,l,u);throw new Error("Unknown "+f+" point type!")}},J.prototype.drawCircle=function(l,u){return this.nested.circle(this.options.pointSize).center(l,u)},J.prototype.drawRect=function(l,u){return this.nested.rect(this.options.pointSize,this.options.pointSize).center(l,u)},J.prototype.updatePointSelection=function(){var l=this.getPointArray();this.pointSelection.set.each(function(u){this.cx()===l[u][0]&&this.cy()===l[u][1]||this.center(l[u][0],l[u][1])})},J.prototype.updateRectSelection=function(){var l=this,u=this.el.bbox();if(this.rectSelection.set.get(0).attr({width:u.width,height:u.height}),this.options.points.length&&this.options.points.map(function(m,v){var y=l.pointCoords(m,u);l.rectSelection.set.get(v+1).center(y.x,y.y)}),this.options.rotationPoint){var f=this.rectSelection.set.length();this.rectSelection.set.get(f-1).center(u.width/2,20)}},J.prototype.selectRect=function(l){var u=this,f=this.el.bbox();function m(w){return function(D){(D=D||window.event).preventDefault?D.preventDefault():D.returnValue=!1,D.stopPropagation(),u.el.fire(w,{x:D.pageX||D.touches[0].pageX,y:D.pageY||D.touches[0].pageY,event:D})}}if(this.rectSelection.isSelected=l,this.rectSelection.set=this.rectSelection.set||this.parent.set(),this.rectSelection.set.get(0)||this.rectSelection.set.add(this.nested.rect(f.width,f.height).addClass(this.options.classRect)),this.options.points.length&&this.rectSelection.set.length()<2&&(this.options.points.map(function(w,D){var I=u.pointCoords(w,f),O=u.drawPoint(I.x,I.y).attr("class",u.options.classPoints+"_"+w).on("mousedown",m(w)).on("touchstart",m(w));u.rectSelection.set.add(O)}),this.rectSelection.set.each(function(){this.addClass(u.options.classPoints)})),this.options.rotationPoint&&(this.options.points&&!this.rectSelection.set.get(9)||!this.options.points&&!this.rectSelection.set.get(1))){var v=function(w){(w=w||window.event).preventDefault?w.preventDefault():w.returnValue=!1,w.stopPropagation(),u.el.fire("rot",{x:w.pageX||w.touches[0].pageX,y:w.pageY||w.touches[0].pageY,event:w})},y=this.drawPoint(f.width/2,20).attr("class",this.options.classPoints+"_rot").on("touchstart",v).on("mousedown",v);this.rectSelection.set.add(y)}},J.prototype.handler=function(){var l=this.el.bbox();this.nested.matrix(new SVG.Matrix(this.el).translate(l.x,l.y)),this.rectSelection.isSelected&&this.updateRectSelection(),this.pointSelection.isSelected&&this.updatePointSelection()},J.prototype.observe=function(){var l=this;if(MutationObserver)if(this.rectSelection.isSelected||this.pointSelection.isSelected)this.observerInst=this.observerInst||new MutationObserver(function(){l.handler()}),this.observerInst.observe(this.el.node,{attributes:!0});else try{this.observerInst.disconnect(),delete this.observerInst}catch{}else this.el.off("DOMAttrModified.select"),(this.rectSelection.isSelected||this.pointSelection.isSelected)&&this.el.on("DOMAttrModified.select",function(){l.handler()})},J.prototype.cleanup=function(){!this.rectSelection.isSelected&&this.rectSelection.set&&(this.rectSelection.set.each(function(){this.remove()}),this.rectSelection.set.clear(),delete this.rectSelection.set),!this.pointSelection.isSelected&&this.pointSelection.set&&(this.pointSelection.set.each(function(){this.remove()}),this.pointSelection.set.clear(),delete this.pointSelection.set),this.pointSelection.isSelected||this.rectSelection.isSelected||(this.nested.remove(),delete this.nested)},SVG.extend(SVG.Element,{selectize:function(l,u){return"object"==typeof l&&(u=l,l=!0),(this.remember("_selectHandler")||new J(this)).init(void 0===l||l,u||{}),this}}),SVG.Element.prototype.selectize.defaults={points:["lt","rt","rb","lb","t","r","b","l"],pointsExclude:[],classRect:"svg_select_boundingRect",classPoints:"svg_select_points",pointSize:7,rotationPoint:!0,deepSelect:!1,pointType:"circle"}}(),function(){(function(){function J(l){l.remember("_resizeHandler",this),this.el=l,this.parameters={},this.lastUpdateCall=null,this.p=l.doc().node.createSVGPoint()}J.prototype.transformPoint=function(l,u,f){return this.p.x=l-(this.offset.x-window.pageXOffset),this.p.y=u-(this.offset.y-window.pageYOffset),this.p.matrixTransform(f||this.m)},J.prototype._extractPosition=function(l){return{x:null!=l.clientX?l.clientX:l.touches[0].clientX,y:null!=l.clientY?l.clientY:l.touches[0].clientY}},J.prototype.init=function(l){var u=this;if(this.stop(),"stop"!==l){for(var f in this.options={},this.el.resize.defaults)this.options[f]=this.el.resize.defaults[f],void 0!==l[f]&&(this.options[f]=l[f]);this.el.on("lt.resize",function(m){u.resize(m||window.event)}),this.el.on("rt.resize",function(m){u.resize(m||window.event)}),this.el.on("rb.resize",function(m){u.resize(m||window.event)}),this.el.on("lb.resize",function(m){u.resize(m||window.event)}),this.el.on("t.resize",function(m){u.resize(m||window.event)}),this.el.on("r.resize",function(m){u.resize(m||window.event)}),this.el.on("b.resize",function(m){u.resize(m||window.event)}),this.el.on("l.resize",function(m){u.resize(m||window.event)}),this.el.on("rot.resize",function(m){u.resize(m||window.event)}),this.el.on("point.resize",function(m){u.resize(m||window.event)}),this.update()}},J.prototype.stop=function(){return this.el.off("lt.resize"),this.el.off("rt.resize"),this.el.off("rb.resize"),this.el.off("lb.resize"),this.el.off("t.resize"),this.el.off("r.resize"),this.el.off("b.resize"),this.el.off("l.resize"),this.el.off("rot.resize"),this.el.off("point.resize"),this},J.prototype.resize=function(l){var u=this;this.m=this.el.node.getScreenCTM().inverse(),this.offset={x:window.pageXOffset,y:window.pageYOffset};var f=this._extractPosition(l.detail.event);if(this.parameters={type:this.el.type,p:this.transformPoint(f.x,f.y),x:l.detail.x,y:l.detail.y,box:this.el.bbox(),rotation:this.el.transform().rotation},"text"===this.el.type&&(this.parameters.fontSize=this.el.attr()["font-size"]),void 0!==l.detail.i){var m=this.el.array().valueOf();this.parameters.i=l.detail.i,this.parameters.pointCoords=[m[l.detail.i][0],m[l.detail.i][1]]}switch(l.type){case"lt":this.calc=function(v,y){var w=this.snapToGrid(v,y);if(this.parameters.box.width-w[0]>0&&this.parameters.box.height-w[1]>0){if("text"===this.parameters.type)return this.el.move(this.parameters.box.x+w[0],this.parameters.box.y),void this.el.attr("font-size",this.parameters.fontSize-w[0]);w=this.checkAspectRatio(w),this.el.move(this.parameters.box.x+w[0],this.parameters.box.y+w[1]).size(this.parameters.box.width-w[0],this.parameters.box.height-w[1])}};break;case"rt":this.calc=function(v,y){var w=this.snapToGrid(v,y,2);if(this.parameters.box.width+w[0]>0&&this.parameters.box.height-w[1]>0){if("text"===this.parameters.type)return this.el.move(this.parameters.box.x-w[0],this.parameters.box.y),void this.el.attr("font-size",this.parameters.fontSize+w[0]);w=this.checkAspectRatio(w,!0),this.el.move(this.parameters.box.x,this.parameters.box.y+w[1]).size(this.parameters.box.width+w[0],this.parameters.box.height-w[1])}};break;case"rb":this.calc=function(v,y){var w=this.snapToGrid(v,y,0);if(this.parameters.box.width+w[0]>0&&this.parameters.box.height+w[1]>0){if("text"===this.parameters.type)return this.el.move(this.parameters.box.x-w[0],this.parameters.box.y),void this.el.attr("font-size",this.parameters.fontSize+w[0]);w=this.checkAspectRatio(w),this.el.move(this.parameters.box.x,this.parameters.box.y).size(this.parameters.box.width+w[0],this.parameters.box.height+w[1])}};break;case"lb":this.calc=function(v,y){var w=this.snapToGrid(v,y,1);if(this.parameters.box.width-w[0]>0&&this.parameters.box.height+w[1]>0){if("text"===this.parameters.type)return this.el.move(this.parameters.box.x+w[0],this.parameters.box.y),void this.el.attr("font-size",this.parameters.fontSize-w[0]);w=this.checkAspectRatio(w,!0),this.el.move(this.parameters.box.x+w[0],this.parameters.box.y).size(this.parameters.box.width-w[0],this.parameters.box.height+w[1])}};break;case"t":this.calc=function(v,y){var w=this.snapToGrid(v,y,2);if(this.parameters.box.height-w[1]>0){if("text"===this.parameters.type)return;this.el.move(this.parameters.box.x,this.parameters.box.y+w[1]).height(this.parameters.box.height-w[1])}};break;case"r":this.calc=function(v,y){var w=this.snapToGrid(v,y,0);if(this.parameters.box.width+w[0]>0){if("text"===this.parameters.type)return;this.el.move(this.parameters.box.x,this.parameters.box.y).width(this.parameters.box.width+w[0])}};break;case"b":this.calc=function(v,y){var w=this.snapToGrid(v,y,0);if(this.parameters.box.height+w[1]>0){if("text"===this.parameters.type)return;this.el.move(this.parameters.box.x,this.parameters.box.y).height(this.parameters.box.height+w[1])}};break;case"l":this.calc=function(v,y){var w=this.snapToGrid(v,y,1);if(this.parameters.box.width-w[0]>0){if("text"===this.parameters.type)return;this.el.move(this.parameters.box.x+w[0],this.parameters.box.y).width(this.parameters.box.width-w[0])}};break;case"rot":this.calc=function(v,y){var w=v+this.parameters.p.x,D=y+this.parameters.p.y,I=Math.atan2(this.parameters.p.y-this.parameters.box.y-this.parameters.box.height/2,this.parameters.p.x-this.parameters.box.x-this.parameters.box.width/2),O=Math.atan2(D-this.parameters.box.y-this.parameters.box.height/2,w-this.parameters.box.x-this.parameters.box.width/2),P=this.parameters.rotation+180*(O-I)/Math.PI+this.options.snapToAngle/2;this.el.center(this.parameters.box.cx,this.parameters.box.cy).rotate(P-P%this.options.snapToAngle,this.parameters.box.cx,this.parameters.box.cy)};break;case"point":this.calc=function(v,y){var w=this.snapToGrid(v,y,this.parameters.pointCoords[0],this.parameters.pointCoords[1]),D=this.el.array().valueOf();D[this.parameters.i][0]=this.parameters.pointCoords[0]+w[0],D[this.parameters.i][1]=this.parameters.pointCoords[1]+w[1],this.el.plot(D)}}this.el.fire("resizestart",{dx:this.parameters.x,dy:this.parameters.y,event:l}),SVG.on(window,"touchmove.resize",function(v){u.update(v||window.event)}),SVG.on(window,"touchend.resize",function(){u.done()}),SVG.on(window,"mousemove.resize",function(v){u.update(v||window.event)}),SVG.on(window,"mouseup.resize",function(){u.done()})},J.prototype.update=function(l){if(l){var u=this._extractPosition(l),f=this.transformPoint(u.x,u.y),m=f.x-this.parameters.p.x,v=f.y-this.parameters.p.y;this.lastUpdateCall=[m,v],this.calc(m,v),this.el.fire("resizing",{dx:m,dy:v,event:l})}else this.lastUpdateCall&&this.calc(this.lastUpdateCall[0],this.lastUpdateCall[1])},J.prototype.done=function(){this.lastUpdateCall=null,SVG.off(window,"mousemove.resize"),SVG.off(window,"mouseup.resize"),SVG.off(window,"touchmove.resize"),SVG.off(window,"touchend.resize"),this.el.fire("resizedone")},J.prototype.snapToGrid=function(l,u,f,m){var v;return v=void 0!==m?[(f+l)%this.options.snapToGrid,(m+u)%this.options.snapToGrid]:[(this.parameters.box.x+l+(1&(f=f??3)?0:this.parameters.box.width))%this.options.snapToGrid,(this.parameters.box.y+u+(2&f?0:this.parameters.box.height))%this.options.snapToGrid],l<0&&(v[0]-=this.options.snapToGrid),u<0&&(v[1]-=this.options.snapToGrid),l-=Math.abs(v[0])<this.options.snapToGrid/2?v[0]:v[0]-(l<0?-this.options.snapToGrid:this.options.snapToGrid),u-=Math.abs(v[1])<this.options.snapToGrid/2?v[1]:v[1]-(u<0?-this.options.snapToGrid:this.options.snapToGrid),this.constraintToBox(l,u,f,m)},J.prototype.constraintToBox=function(l,u,f,m){var v,y,w=this.options.constraint||{};return void 0!==m?(v=f,y=m):(v=this.parameters.box.x+(1&f?0:this.parameters.box.width),y=this.parameters.box.y+(2&f?0:this.parameters.box.height)),void 0!==w.minX&&v+l<w.minX&&(l=w.minX-v),void 0!==w.maxX&&v+l>w.maxX&&(l=w.maxX-v),void 0!==w.minY&&y+u<w.minY&&(u=w.minY-y),void 0!==w.maxY&&y+u>w.maxY&&(u=w.maxY-y),[l,u]},J.prototype.checkAspectRatio=function(l,u){if(!this.options.saveAspectRatio)return l;var f=l.slice(),m=this.parameters.box.width/this.parameters.box.height,v=this.parameters.box.width+l[0],y=this.parameters.box.height-l[1],w=v/y;return w<m?(f[1]=v/m-this.parameters.box.height,u&&(f[1]=-f[1])):w>m&&(f[0]=this.parameters.box.width-y*m,u&&(f[0]=-f[0])),f},SVG.extend(SVG.Element,{resize:function(l){return(this.remember("_resizeHandler")||new J(this)).init(l||{}),this}}),SVG.Element.prototype.resize.defaults={snapToAngle:.1,snapToGrid:1,constraint:{},saveAspectRatio:!1}}).call(this)}(),void 0===window.Apex&&(window.Apex={});var ao=function(){function J(l){xe(this,J),this.ctx=l,this.w=l.w}return ke(J,[{key:"initModules",value:function(){this.ctx.publicMethods=["updateOptions","updateSeries","appendData","appendSeries","isSeriesHidden","toggleSeries","showSeries","hideSeries","setLocale","resetSeries","zoomX","toggleDataPointSelection","dataURI","exportToCSV","addXaxisAnnotation","addYaxisAnnotation","addPointAnnotation","clearAnnotations","removeAnnotation","paper","destroy"],this.ctx.eventList=["click","mousedown","mousemove","mouseleave","touchstart","touchmove","touchleave","mouseup","touchend"],this.ctx.animations=new on(this.ctx),this.ctx.axes=new ds(this.ctx),this.ctx.core=new Va(this.ctx.el,this.ctx),this.ctx.config=new tr({}),this.ctx.data=new Rt(this.ctx),this.ctx.grid=new dn(this.ctx),this.ctx.graphics=new _e(this.ctx),this.ctx.coreUtils=new et(this.ctx),this.ctx.crosshairs=new Xr(this.ctx),this.ctx.events=new fi(this.ctx),this.ctx.exports=new pn(this.ctx),this.ctx.localization=new Mr(this.ctx),this.ctx.options=new It,this.ctx.responsive=new fr(this.ctx),this.ctx.series=new Ot(this.ctx),this.ctx.theme=new hs(this.ctx),this.ctx.formatters=new vi(this.ctx),this.ctx.titleSubtitle=new Eo(this.ctx),this.ctx.legend=new pr(this.ctx),this.ctx.toolbar=new di(this.ctx),this.ctx.tooltip=new To(this.ctx),this.ctx.dimensions=new In(this.ctx),this.ctx.updateHelpers=new Lc(this.ctx),this.ctx.zoomPanSelection=new nr(this.ctx),this.ctx.w.globals.tooltip=new To(this.ctx)}}]),J}(),Ro=function(){function J(l){xe(this,J),this.ctx=l,this.w=l.w}return ke(J,[{key:"clear",value:function(l){var u=l.isUpdating;this.ctx.zoomPanSelection&&this.ctx.zoomPanSelection.destroy(),this.ctx.toolbar&&this.ctx.toolbar.destroy(),this.ctx.animations=null,this.ctx.axes=null,this.ctx.annotations=null,this.ctx.core=null,this.ctx.data=null,this.ctx.grid=null,this.ctx.series=null,this.ctx.responsive=null,this.ctx.theme=null,this.ctx.formatters=null,this.ctx.titleSubtitle=null,this.ctx.legend=null,this.ctx.dimensions=null,this.ctx.options=null,this.ctx.crosshairs=null,this.ctx.zoomPanSelection=null,this.ctx.updateHelpers=null,this.ctx.toolbar=null,this.ctx.localization=null,this.ctx.w.globals.tooltip=null,this.clearDomElements({isUpdating:u})}},{key:"killSVG",value:function(l){l.each(function(u,f){this.removeClass("*"),this.off(),this.stop()},!0),l.ungroup(),l.clear()}},{key:"clearDomElements",value:function(l){var u=this,m=this.w.globals.dom.Paper.node;m.parentNode&&m.parentNode.parentNode&&!l.isUpdating&&(m.parentNode.parentNode.style.minHeight="unset");var v=this.w.globals.dom.baseEl;v&&this.ctx.eventList.forEach(function(w){v.removeEventListener(w,u.ctx.events.documentEvent)});var y=this.w.globals.dom;if(null!==this.ctx.el)for(;this.ctx.el.firstChild;)this.ctx.el.removeChild(this.ctx.el.firstChild);this.killSVG(y.Paper),y.Paper.remove(),y.elWrap=null,y.elGraphical=null,y.elLegendWrap=null,y.elLegendForeign=null,y.baseEl=null,y.elGridRect=null,y.elGridRectMask=null,y.elGridRectMarkerMask=null,y.elForecastMask=null,y.elNonForecastMask=null,y.elDefs=null}}]),J}(),ks=new WeakMap,lo=function(){function J(l,u){xe(this,J),this.opts=u,this.ctx=this,this.w=new nt(u).init(),this.el=l,this.w.globals.cuid=me.randomId(),this.w.globals.chartID=this.w.config.chart.id?me.escapeString(this.w.config.chart.id):this.w.globals.cuid,new ao(this).initModules(),this.create=me.bind(this.create,this),this.windowResizeHandler=this._windowResizeHandler.bind(this),this.parentResizeHandler=this._parentResizeCallback.bind(this)}return ke(J,[{key:"render",value:function(){var l=this;return new Promise(function(u,f){if(null!==l.el){void 0===Apex._chartInstances&&(Apex._chartInstances=[]),l.w.config.chart.id&&Apex._chartInstances.push({id:l.w.globals.chartID,group:l.w.config.chart.group,chart:l}),l.setLocale(l.w.config.chart.defaultLocale);var m=l.w.config.chart.events.beforeMount;if("function"==typeof m&&m(l,l.w),l.events.fireEvent("beforeMount",[l,l.w]),window.addEventListener("resize",l.windowResizeHandler),function(O,P){var L=!1;if(O.nodeType!==Node.DOCUMENT_FRAGMENT_NODE){var U=O.getBoundingClientRect();"none"!==O.style.display&&0!==U.width||(L=!0)}var G=new ResizeObserver(function(Y){L&&P.call(O,Y),L=!0});O.nodeType===Node.DOCUMENT_FRAGMENT_NODE?Array.from(O.children).forEach(function(Y){return G.observe(Y)}):G.observe(O),ks.set(P,G)}(l.el.parentNode,l.parentResizeHandler),!l.css){var v=l.el.getRootNode&&l.el.getRootNode(),y=me.is("ShadowRoot",v),w=l.el.ownerDocument,D=w.getElementById("apexcharts-css");!y&&D||(l.css=document.createElement("style"),l.css.id="apexcharts-css",l.css.textContent='@keyframes opaque {\n  0% {\n      opacity: 0\n  }\n\n  to {\n      opacity: 1\n  }\n}\n\n@keyframes resizeanim {\n  0%,to {\n      opacity: 0\n  }\n}\n\n.apexcharts-canvas {\n  position: relative;\n  user-select: none\n}\n\n.apexcharts-canvas ::-webkit-scrollbar {\n  -webkit-appearance: none;\n  width: 6px\n}\n\n.apexcharts-canvas ::-webkit-scrollbar-thumb {\n  border-radius: 4px;\n  background-color: rgba(0,0,0,.5);\n  box-shadow: 0 0 1px rgba(255,255,255,.5);\n  -webkit-box-shadow: 0 0 1px rgba(255,255,255,.5)\n}\n\n.apexcharts-inner {\n  position: relative\n}\n\n.apexcharts-text tspan {\n  font-family: inherit\n}\n\n.legend-mouseover-inactive {\n  transition: .15s ease all;\n  opacity: .2\n}\n\n.apexcharts-legend-text {\n  padding-left: 15px;\n  margin-left: -15px;\n}\n\n.apexcharts-series-collapsed {\n  opacity: 0\n}\n\n.apexcharts-tooltip {\n  border-radius: 5px;\n  box-shadow: 2px 2px 6px -4px #999;\n  cursor: default;\n  font-size: 14px;\n  left: 62px;\n  opacity: 0;\n  pointer-events: none;\n  position: absolute;\n  top: 20px;\n  display: flex;\n  flex-direction: column;\n  overflow: hidden;\n  white-space: nowrap;\n  z-index: 12;\n  transition: .15s ease all\n}\n\n.apexcharts-tooltip.apexcharts-active {\n  opacity: 1;\n  transition: .15s ease all\n}\n\n.apexcharts-tooltip.apexcharts-theme-light {\n  border: 1px solid #e3e3e3;\n  background: rgba(255,255,255,.96)\n}\n\n.apexcharts-tooltip.apexcharts-theme-dark {\n  color: #fff;\n  background: rgba(30,30,30,.8)\n}\n\n.apexcharts-tooltip * {\n  font-family: inherit\n}\n\n.apexcharts-tooltip-title {\n  padding: 6px;\n  font-size: 15px;\n  margin-bottom: 4px\n}\n\n.apexcharts-tooltip.apexcharts-theme-light .apexcharts-tooltip-title {\n  background: #eceff1;\n  border-bottom: 1px solid #ddd\n}\n\n.apexcharts-tooltip.apexcharts-theme-dark .apexcharts-tooltip-title {\n  background: rgba(0,0,0,.7);\n  border-bottom: 1px solid #333\n}\n\n.apexcharts-tooltip-text-goals-value,.apexcharts-tooltip-text-y-value,.apexcharts-tooltip-text-z-value {\n  display: inline-block;\n  margin-left: 5px;\n  font-weight: 600\n}\n\n.apexcharts-tooltip-text-goals-label:empty,.apexcharts-tooltip-text-goals-value:empty,.apexcharts-tooltip-text-y-label:empty,.apexcharts-tooltip-text-y-value:empty,.apexcharts-tooltip-text-z-value:empty,.apexcharts-tooltip-title:empty {\n  display: none\n}\n\n.apexcharts-tooltip-text-goals-label,.apexcharts-tooltip-text-goals-value {\n  padding: 6px 0 5px\n}\n\n.apexcharts-tooltip-goals-group,.apexcharts-tooltip-text-goals-label,.apexcharts-tooltip-text-goals-value {\n  display: flex\n}\n\n.apexcharts-tooltip-text-goals-label:not(:empty),.apexcharts-tooltip-text-goals-value:not(:empty) {\n  margin-top: -6px\n}\n\n.apexcharts-tooltip-marker {\n  width: 12px;\n  height: 12px;\n  position: relative;\n  top: 0;\n  margin-right: 10px;\n  border-radius: 50%\n}\n\n.apexcharts-tooltip-series-group {\n  padding: 0 10px;\n  display: none;\n  text-align: left;\n  justify-content: left;\n  align-items: center\n}\n\n.apexcharts-tooltip-series-group.apexcharts-active .apexcharts-tooltip-marker {\n  opacity: 1\n}\n\n.apexcharts-tooltip-series-group.apexcharts-active,.apexcharts-tooltip-series-group:last-child {\n  padding-bottom: 4px\n}\n\n.apexcharts-tooltip-series-group-hidden {\n  opacity: 0;\n  height: 0;\n  line-height: 0;\n  padding: 0!important\n}\n\n.apexcharts-tooltip-y-group {\n  padding: 6px 0 5px\n}\n\n.apexcharts-custom-tooltip,.apexcharts-tooltip-box {\n  padding: 4px 8px\n}\n\n.apexcharts-tooltip-boxPlot {\n  display: flex;\n  flex-direction: column-reverse\n}\n\n.apexcharts-tooltip-box>div {\n  margin: 4px 0\n}\n\n.apexcharts-tooltip-box span.value {\n  font-weight: 700\n}\n\n.apexcharts-tooltip-rangebar {\n  padding: 5px 8px\n}\n\n.apexcharts-tooltip-rangebar .category {\n  font-weight: 600;\n  color: #777\n}\n\n.apexcharts-tooltip-rangebar .series-name {\n  font-weight: 700;\n  display: block;\n  margin-bottom: 5px\n}\n\n.apexcharts-xaxistooltip,.apexcharts-yaxistooltip {\n  opacity: 0;\n  pointer-events: none;\n  color: #373d3f;\n  font-size: 13px;\n  text-align: center;\n  border-radius: 2px;\n  position: absolute;\n  z-index: 10;\n  background: #eceff1;\n  border: 1px solid #90a4ae\n}\n\n.apexcharts-xaxistooltip {\n  padding: 9px 10px;\n  transition: .15s ease all\n}\n\n.apexcharts-xaxistooltip.apexcharts-theme-dark {\n  background: rgba(0,0,0,.7);\n  border: 1px solid rgba(0,0,0,.5);\n  color: #fff\n}\n\n.apexcharts-xaxistooltip:after,.apexcharts-xaxistooltip:before {\n  left: 50%;\n  border: solid transparent;\n  content: " ";\n  height: 0;\n  width: 0;\n  position: absolute;\n  pointer-events: none\n}\n\n.apexcharts-xaxistooltip:after {\n  border-color: transparent;\n  border-width: 6px;\n  margin-left: -6px\n}\n\n.apexcharts-xaxistooltip:before {\n  border-color: transparent;\n  border-width: 7px;\n  margin-left: -7px\n}\n\n.apexcharts-xaxistooltip-bottom:after,.apexcharts-xaxistooltip-bottom:before {\n  bottom: 100%\n}\n\n.apexcharts-xaxistooltip-top:after,.apexcharts-xaxistooltip-top:before {\n  top: 100%\n}\n\n.apexcharts-xaxistooltip-bottom:after {\n  border-bottom-color: #eceff1\n}\n\n.apexcharts-xaxistooltip-bottom:before {\n  border-bottom-color: #90a4ae\n}\n\n.apexcharts-xaxistooltip-bottom.apexcharts-theme-dark:after,.apexcharts-xaxistooltip-bottom.apexcharts-theme-dark:before {\n  border-bottom-color: rgba(0,0,0,.5)\n}\n\n.apexcharts-xaxistooltip-top:after {\n  border-top-color: #eceff1\n}\n\n.apexcharts-xaxistooltip-top:before {\n  border-top-color: #90a4ae\n}\n\n.apexcharts-xaxistooltip-top.apexcharts-theme-dark:after,.apexcharts-xaxistooltip-top.apexcharts-theme-dark:before {\n  border-top-color: rgba(0,0,0,.5)\n}\n\n.apexcharts-xaxistooltip.apexcharts-active {\n  opacity: 1;\n  transition: .15s ease all\n}\n\n.apexcharts-yaxistooltip {\n  padding: 4px 10px\n}\n\n.apexcharts-yaxistooltip.apexcharts-theme-dark {\n  background: rgba(0,0,0,.7);\n  border: 1px solid rgba(0,0,0,.5);\n  color: #fff\n}\n\n.apexcharts-yaxistooltip:after,.apexcharts-yaxistooltip:before {\n  top: 50%;\n  border: solid transparent;\n  content: " ";\n  height: 0;\n  width: 0;\n  position: absolute;\n  pointer-events: none\n}\n\n.apexcharts-yaxistooltip:after {\n  border-color: transparent;\n  border-width: 6px;\n  margin-top: -6px\n}\n\n.apexcharts-yaxistooltip:before {\n  border-color: transparent;\n  border-width: 7px;\n  margin-top: -7px\n}\n\n.apexcharts-yaxistooltip-left:after,.apexcharts-yaxistooltip-left:before {\n  left: 100%\n}\n\n.apexcharts-yaxistooltip-right:after,.apexcharts-yaxistooltip-right:before {\n  right: 100%\n}\n\n.apexcharts-yaxistooltip-left:after {\n  border-left-color: #eceff1\n}\n\n.apexcharts-yaxistooltip-left:before {\n  border-left-color: #90a4ae\n}\n\n.apexcharts-yaxistooltip-left.apexcharts-theme-dark:after,.apexcharts-yaxistooltip-left.apexcharts-theme-dark:before {\n  border-left-color: rgba(0,0,0,.5)\n}\n\n.apexcharts-yaxistooltip-right:after {\n  border-right-color: #eceff1\n}\n\n.apexcharts-yaxistooltip-right:before {\n  border-right-color: #90a4ae\n}\n\n.apexcharts-yaxistooltip-right.apexcharts-theme-dark:after,.apexcharts-yaxistooltip-right.apexcharts-theme-dark:before {\n  border-right-color: rgba(0,0,0,.5)\n}\n\n.apexcharts-yaxistooltip.apexcharts-active {\n  opacity: 1\n}\n\n.apexcharts-yaxistooltip-hidden {\n  display: none\n}\n\n.apexcharts-xcrosshairs,.apexcharts-ycrosshairs {\n  pointer-events: none;\n  opacity: 0;\n  transition: .15s ease all\n}\n\n.apexcharts-xcrosshairs.apexcharts-active,.apexcharts-ycrosshairs.apexcharts-active {\n  opacity: 1;\n  transition: .15s ease all\n}\n\n.apexcharts-ycrosshairs-hidden {\n  opacity: 0\n}\n\n.apexcharts-selection-rect {\n  cursor: move\n}\n\n.svg_select_boundingRect,.svg_select_points_rot {\n  pointer-events: none;\n  opacity: 0;\n  visibility: hidden\n}\n\n.apexcharts-selection-rect+g .svg_select_boundingRect,.apexcharts-selection-rect+g .svg_select_points_rot {\n  opacity: 0;\n  visibility: hidden\n}\n\n.apexcharts-selection-rect+g .svg_select_points_l,.apexcharts-selection-rect+g .svg_select_points_r {\n  cursor: ew-resize;\n  opacity: 1;\n  visibility: visible\n}\n\n.svg_select_points {\n  fill: #efefef;\n  stroke: #333;\n  rx: 2\n}\n\n.apexcharts-svg.apexcharts-zoomable.hovering-zoom {\n  cursor: crosshair\n}\n\n.apexcharts-svg.apexcharts-zoomable.hovering-pan {\n  cursor: move\n}\n\n.apexcharts-menu-icon,.apexcharts-pan-icon,.apexcharts-reset-icon,.apexcharts-selection-icon,.apexcharts-toolbar-custom-icon,.apexcharts-zoom-icon,.apexcharts-zoomin-icon,.apexcharts-zoomout-icon {\n  cursor: pointer;\n  width: 20px;\n  height: 20px;\n  line-height: 24px;\n  color: #6e8192;\n  text-align: center\n}\n\n.apexcharts-menu-icon svg,.apexcharts-reset-icon svg,.apexcharts-zoom-icon svg,.apexcharts-zoomin-icon svg,.apexcharts-zoomout-icon svg {\n  fill: #6e8192\n}\n\n.apexcharts-selection-icon svg {\n  fill: #444;\n  transform: scale(.76)\n}\n\n.apexcharts-theme-dark .apexcharts-menu-icon svg,.apexcharts-theme-dark .apexcharts-pan-icon svg,.apexcharts-theme-dark .apexcharts-reset-icon svg,.apexcharts-theme-dark .apexcharts-selection-icon svg,.apexcharts-theme-dark .apexcharts-toolbar-custom-icon svg,.apexcharts-theme-dark .apexcharts-zoom-icon svg,.apexcharts-theme-dark .apexcharts-zoomin-icon svg,.apexcharts-theme-dark .apexcharts-zoomout-icon svg {\n  fill: #f3f4f5\n}\n\n.apexcharts-canvas .apexcharts-reset-zoom-icon.apexcharts-selected svg,.apexcharts-canvas .apexcharts-selection-icon.apexcharts-selected svg,.apexcharts-canvas .apexcharts-zoom-icon.apexcharts-selected svg {\n  fill: #008ffb\n}\n\n.apexcharts-theme-light .apexcharts-menu-icon:hover svg,.apexcharts-theme-light .apexcharts-reset-icon:hover svg,.apexcharts-theme-light .apexcharts-selection-icon:not(.apexcharts-selected):hover svg,.apexcharts-theme-light .apexcharts-zoom-icon:not(.apexcharts-selected):hover svg,.apexcharts-theme-light .apexcharts-zoomin-icon:hover svg,.apexcharts-theme-light .apexcharts-zoomout-icon:hover svg {\n  fill: #333\n}\n\n.apexcharts-menu-icon,.apexcharts-selection-icon {\n  position: relative\n}\n\n.apexcharts-reset-icon {\n  margin-left: 5px\n}\n\n.apexcharts-menu-icon,.apexcharts-reset-icon,.apexcharts-zoom-icon {\n  transform: scale(.85)\n}\n\n.apexcharts-zoomin-icon,.apexcharts-zoomout-icon {\n  transform: scale(.7)\n}\n\n.apexcharts-zoomout-icon {\n  margin-right: 3px\n}\n\n.apexcharts-pan-icon {\n  transform: scale(.62);\n  position: relative;\n  left: 1px;\n  top: 0\n}\n\n.apexcharts-pan-icon svg {\n  fill: #fff;\n  stroke: #6e8192;\n  stroke-width: 2\n}\n\n.apexcharts-pan-icon.apexcharts-selected svg {\n  stroke: #008ffb\n}\n\n.apexcharts-pan-icon:not(.apexcharts-selected):hover svg {\n  stroke: #333\n}\n\n.apexcharts-toolbar {\n  position: absolute;\n  z-index: 11;\n  max-width: 176px;\n  text-align: right;\n  border-radius: 3px;\n  padding: 0 6px 2px;\n  display: flex;\n  justify-content: space-between;\n  align-items: center\n}\n\n.apexcharts-menu {\n  background: #fff;\n  position: absolute;\n  top: 100%;\n  border: 1px solid #ddd;\n  border-radius: 3px;\n  padding: 3px;\n  right: 10px;\n  opacity: 0;\n  min-width: 110px;\n  transition: .15s ease all;\n  pointer-events: none\n}\n\n.apexcharts-menu.apexcharts-menu-open {\n  opacity: 1;\n  pointer-events: all;\n  transition: .15s ease all\n}\n\n.apexcharts-menu-item {\n  padding: 6px 7px;\n  font-size: 12px;\n  cursor: pointer\n}\n\n.apexcharts-theme-light .apexcharts-menu-item:hover {\n  background: #eee\n}\n\n.apexcharts-theme-dark .apexcharts-menu {\n  background: rgba(0,0,0,.7);\n  color: #fff\n}\n\n@media screen and (min-width:768px) {\n  .apexcharts-canvas:hover .apexcharts-toolbar {\n      opacity: 1\n  }\n}\n\n.apexcharts-canvas .apexcharts-element-hidden,.apexcharts-datalabel.apexcharts-element-hidden,.apexcharts-hide .apexcharts-series-points {\n  opacity: 0\n}\n\n.apexcharts-hidden-element-shown {\n  opacity: 1;\n  transition: 0.25s ease all;\n}\n.apexcharts-datalabel,.apexcharts-datalabel-label,.apexcharts-datalabel-value,.apexcharts-datalabels,.apexcharts-pie-label {\n  cursor: default;\n  pointer-events: none\n}\n\n.apexcharts-pie-label-delay {\n  opacity: 0;\n  animation-name: opaque;\n  animation-duration: .3s;\n  animation-fill-mode: forwards;\n  animation-timing-function: ease\n}\n\n.apexcharts-annotation-rect,.apexcharts-area-series .apexcharts-area,.apexcharts-area-series .apexcharts-series-markers .apexcharts-marker.no-pointer-events,.apexcharts-gridline,.apexcharts-line,.apexcharts-line-series .apexcharts-series-markers .apexcharts-marker.no-pointer-events,.apexcharts-point-annotation-label,.apexcharts-radar-series path,.apexcharts-radar-series polygon,.apexcharts-toolbar svg,.apexcharts-tooltip .apexcharts-marker,.apexcharts-xaxis-annotation-label,.apexcharts-yaxis-annotation-label,.apexcharts-zoom-rect {\n  pointer-events: none\n}\n\n.apexcharts-marker {\n  transition: .15s ease all\n}\n\n.resize-triggers {\n  animation: 1ms resizeanim;\n  visibility: hidden;\n  opacity: 0;\n  height: 100%;\n  width: 100%;\n  overflow: hidden\n}\n\n.contract-trigger:before,.resize-triggers,.resize-triggers>div {\n  content: " ";\n  display: block;\n  position: absolute;\n  top: 0;\n  left: 0\n}\n\n.resize-triggers>div {\n  height: 100%;\n  width: 100%;\n  background: #eee;\n  overflow: auto\n}\n\n.contract-trigger:before {\n  overflow: hidden;\n  width: 200%;\n  height: 200%\n}\n\n.apexcharts-bar-goals-markers{\n  pointer-events: none\n}\n\n.apexcharts-bar-shadows{\n  pointer-events: none\n}\n\n.apexcharts-rangebar-goals-markers{\n  pointer-events: none\n}',y?v.prepend(l.css):w.head.appendChild(l.css))}var I=l.create(l.w.config.series,{});if(!I)return u(l);l.mount(I).then(function(){"function"==typeof l.w.config.chart.events.mounted&&l.w.config.chart.events.mounted(l,l.w),l.events.fireEvent("mounted",[l,l.w]),u(I)}).catch(function(O){f(O)})}else f(new Error("Element not found"))})}},{key:"create",value:function(l,u){var f=this.w;new ao(this).initModules();var m=this.w.globals;if(m.noData=!1,m.animationEnded=!1,this.responsive.checkResponsiveConfig(u),f.config.xaxis.convertedCatToNumeric&&new ki(f.config).convertCatToNumericXaxis(f.config,this.ctx),null===this.el||(this.core.setupElements(),"treemap"===f.config.chart.type&&(f.config.grid.show=!1,f.config.yaxis[0].show=!1),0===m.svgWidth))return m.animationEnded=!0,null;var v=et.checkComboSeries(l);m.comboCharts=v.comboCharts,m.comboBarCount=v.comboBarCount;var y=l.every(function(O){return O.data&&0===O.data.length});(0===l.length||y)&&this.series.handleNoData(),this.events.setupEventHandlers(),this.data.parseData(l),this.theme.init(),new rt(this).setGlobalMarkerSize(),this.formatters.setLabelFormatters(),this.titleSubtitle.draw(),m.noData&&m.collapsedSeries.length!==m.series.length&&!f.config.legend.showForSingleSeries||this.legend.init(),this.series.hasAllSeriesEqualX(),m.axisCharts&&(this.core.coreCalculations(),"category"!==f.config.xaxis.type&&this.formatters.setLabelFormatters(),this.ctx.toolbar.minX=f.globals.minX,this.ctx.toolbar.maxX=f.globals.maxX),this.formatters.heatmapLabelFormatters(),new et(this).getLargestMarkerSize(),this.dimensions.plotCoords();var w=this.core.xySettings();this.grid.createGridMask();var D=this.core.plotChartType(l,w),I=new vt(this);return I.bringForward(),f.config.dataLabels.background.enabled&&I.dataLabelsBackground(),this.core.shiftGraphPosition(),{elGraph:D,xyRatios:w,dimensions:{plot:{left:f.globals.translateX,top:f.globals.translateY,width:f.globals.gridWidth,height:f.globals.gridHeight}}}}},{key:"mount",value:function(){var l=this,u=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null,f=this,m=f.w;return new Promise(function(v,y){if(null===f.el)return y(new Error("Not enough data to display or target element not found"));(null===u||m.globals.allSeriesCollapsed)&&f.series.handleNoData(),f.grid=new dn(f);var w,D,I=f.grid.drawGrid();if(f.annotations=new gn(f),f.annotations.drawImageAnnos(),f.annotations.drawTextAnnos(),"back"===m.config.grid.position&&(I&&m.globals.dom.elGraphical.add(I.el),null!=I&&null!==(w=I.elGridBorders)&&void 0!==w&&w.node&&m.globals.dom.elGraphical.add(I.elGridBorders)),Array.isArray(u.elGraph))for(var O=0;O<u.elGraph.length;O++)m.globals.dom.elGraphical.add(u.elGraph[O]);else m.globals.dom.elGraphical.add(u.elGraph);"front"===m.config.grid.position&&(I&&m.globals.dom.elGraphical.add(I.el),null!=I&&null!==(D=I.elGridBorders)&&void 0!==D&&D.node&&m.globals.dom.elGraphical.add(I.elGridBorders)),"front"===m.config.xaxis.crosshairs.position&&f.crosshairs.drawXCrosshairs(),"front"===m.config.yaxis[0].crosshairs.position&&f.crosshairs.drawYCrosshairs(),"treemap"!==m.config.chart.type&&f.axes.drawAxis(m.config.chart.type,I);var P=new Yn(l.ctx,I),L=new Ui(l.ctx,I);if(null!==I&&(P.xAxisLabelCorrections(I.xAxisTickWidth),L.setYAxisTextAlignments(),m.config.yaxis.map(function(G,Y){-1===m.globals.ignoreYAxisIndexes.indexOf(Y)&&L.yAxisTitleRotate(Y,G.opposite)})),f.annotations.drawAxesAnnotations(),!m.globals.noData){if(m.config.tooltip.enabled&&!m.globals.noData&&f.w.globals.tooltip.drawTooltip(u.xyRatios),m.globals.axisCharts&&(m.globals.isXNumeric||m.config.xaxis.convertedCatToNumeric||m.globals.isRangeBar))(m.config.chart.zoom.enabled||m.config.chart.selection&&m.config.chart.selection.enabled||m.config.chart.pan&&m.config.chart.pan.enabled)&&f.zoomPanSelection.init({xyRatios:u.xyRatios});else{var U=m.config.chart.toolbar.tools;["zoom","zoomin","zoomout","selection","pan","reset"].forEach(function(G){U[G]=!1})}m.config.chart.toolbar.show&&!m.globals.allSeriesCollapsed&&f.toolbar.createToolbar()}m.globals.memory.methodsToExec.length>0&&m.globals.memory.methodsToExec.forEach(function(G){G.method(G.params,!1,G.context)}),m.globals.axisCharts||m.globals.noData||f.core.resizeNonAxisCharts(),v(f)})}},{key:"destroy",value:function(){var l,u;window.removeEventListener("resize",this.windowResizeHandler),(u=ks.get(l=this.parentResizeHandler))&&(u.disconnect(),ks.delete(l));var f=this.w.config.chart.id;f&&Apex._chartInstances.forEach(function(m,v){m.id===me.escapeString(f)&&Apex._chartInstances.splice(v,1)}),new Ro(this.ctx).clear({isUpdating:!1})}},{key:"updateOptions",value:function(l){var u=this,f=arguments.length>1&&void 0!==arguments[1]&&arguments[1],m=!(arguments.length>2&&void 0!==arguments[2])||arguments[2],v=!(arguments.length>3&&void 0!==arguments[3])||arguments[3],y=!(arguments.length>4&&void 0!==arguments[4])||arguments[4],w=this.w;return w.globals.selection=void 0,l.series&&(this.series.resetSeries(!1,!0,!1),l.series.length&&l.series[0].data&&(l.series=l.series.map(function(D,I){return u.updateHelpers._extendSeries(D,I)})),this.updateHelpers.revertDefaultAxisMinMax()),l.xaxis&&(l=this.updateHelpers.forceXAxisUpdate(l)),l.yaxis&&(l=this.updateHelpers.forceYAxisUpdate(l)),w.globals.collapsedSeriesIndices.length>0&&this.series.clearPreviousPaths(),l.theme&&(l=this.theme.updateThemeOptions(l)),this.updateHelpers._updateOptions(l,f,m,v,y)}},{key:"updateSeries",value:function(){var l=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],u=!(arguments.length>1&&void 0!==arguments[1])||arguments[1],f=!(arguments.length>2&&void 0!==arguments[2])||arguments[2];return this.series.resetSeries(!1),this.updateHelpers.revertDefaultAxisMinMax(),this.updateHelpers._updateSeries(l,u,f)}},{key:"appendSeries",value:function(l){var u=!(arguments.length>1&&void 0!==arguments[1])||arguments[1],f=!(arguments.length>2&&void 0!==arguments[2])||arguments[2],m=this.w.config.series.slice();return m.push(l),this.series.resetSeries(!1),this.updateHelpers.revertDefaultAxisMinMax(),this.updateHelpers._updateSeries(m,u,f)}},{key:"appendData",value:function(l){var u=!(arguments.length>1&&void 0!==arguments[1])||arguments[1],f=this;f.w.globals.dataChanged=!0,f.series.getPreviousPaths();for(var m=f.w.config.series.slice(),v=0;v<m.length;v++)if(null!=l[v])for(var y=0;y<l[v].data.length;y++)m[v].data.push(l[v].data[y]);return f.w.config.series=m,u&&(f.w.globals.initialSeries=me.clone(f.w.config.series)),this.update()}},{key:"update",value:function(l){var u=this;return new Promise(function(f,m){new Ro(u.ctx).clear({isUpdating:!0});var v=u.create(u.w.config.series,l);if(!v)return f(u);u.mount(v).then(function(){"function"==typeof u.w.config.chart.events.updated&&u.w.config.chart.events.updated(u,u.w),u.events.fireEvent("updated",[u,u.w]),u.w.globals.isDirty=!0,f(u)}).catch(function(y){m(y)})})}},{key:"getSyncedCharts",value:function(){var l=this.getGroupedCharts(),u=[this];return l.length&&(u=[],l.forEach(function(f){u.push(f)})),u}},{key:"getGroupedCharts",value:function(){var l=this;return Apex._chartInstances.filter(function(u){if(u.group)return!0}).map(function(u){return l.w.config.chart.group===u.group?u.chart:l})}},{key:"toggleSeries",value:function(l){return this.series.toggleSeries(l)}},{key:"highlightSeriesOnLegendHover",value:function(l,u){return this.series.toggleSeriesOnHover(l,u)}},{key:"showSeries",value:function(l){this.series.showSeries(l)}},{key:"hideSeries",value:function(l){this.series.hideSeries(l)}},{key:"isSeriesHidden",value:function(l){this.series.isSeriesHidden(l)}},{key:"resetSeries",value:function(){this.series.resetSeries(!(arguments.length>0&&void 0!==arguments[0])||arguments[0],!(arguments.length>1&&void 0!==arguments[1])||arguments[1])}},{key:"addEventListener",value:function(l,u){this.events.addEventListener(l,u)}},{key:"removeEventListener",value:function(l,u){this.events.removeEventListener(l,u)}},{key:"addXaxisAnnotation",value:function(l){var f=arguments.length>2&&void 0!==arguments[2]?arguments[2]:void 0,m=this;f&&(m=f),m.annotations.addXaxisAnnotationExternal(l,!(arguments.length>1&&void 0!==arguments[1])||arguments[1],m)}},{key:"addYaxisAnnotation",value:function(l){var f=arguments.length>2&&void 0!==arguments[2]?arguments[2]:void 0,m=this;f&&(m=f),m.annotations.addYaxisAnnotationExternal(l,!(arguments.length>1&&void 0!==arguments[1])||arguments[1],m)}},{key:"addPointAnnotation",value:function(l){var f=arguments.length>2&&void 0!==arguments[2]?arguments[2]:void 0,m=this;f&&(m=f),m.annotations.addPointAnnotationExternal(l,!(arguments.length>1&&void 0!==arguments[1])||arguments[1],m)}},{key:"clearAnnotations",value:function(){var l=arguments.length>0&&void 0!==arguments[0]?arguments[0]:void 0,u=this;l&&(u=l),u.annotations.clearAnnotations(u)}},{key:"removeAnnotation",value:function(l){var u=arguments.length>1&&void 0!==arguments[1]?arguments[1]:void 0,f=this;u&&(f=u),f.annotations.removeAnnotation(f,l)}},{key:"getChartArea",value:function(){return this.w.globals.dom.baseEl.querySelector(".apexcharts-inner")}},{key:"getSeriesTotalXRange",value:function(l,u){return this.coreUtils.getSeriesTotalsXRange(l,u)}},{key:"getHighestValueInSeries",value:function(){var l=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0;return new Oi(this.ctx).getMinYMaxY(l).highestY}},{key:"getLowestValueInSeries",value:function(){var l=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0;return new Oi(this.ctx).getMinYMaxY(l).lowestY}},{key:"getSeriesTotal",value:function(){return this.w.globals.seriesTotals}},{key:"toggleDataPointSelection",value:function(l,u){return this.updateHelpers.toggleDataPointSelection(l,u)}},{key:"zoomX",value:function(l,u){this.ctx.toolbar.zoomUpdateOptions(l,u)}},{key:"setLocale",value:function(l){this.localization.setCurrentLocaleValues(l)}},{key:"dataURI",value:function(l){return new pn(this.ctx).dataURI(l)}},{key:"exportToCSV",value:function(){var l=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return new pn(this.ctx).exportToCSV(l)}},{key:"paper",value:function(){return this.w.globals.dom.Paper}},{key:"_parentResizeCallback",value:function(){this.w.globals.animationEnded&&this.w.config.chart.redrawOnParentResize&&this._windowResize()}},{key:"_windowResize",value:function(){var l=this;clearTimeout(this.w.globals.resizeTimer),this.w.globals.resizeTimer=window.setTimeout(function(){l.w.globals.resized=!0,l.w.globals.dataChanged=!1,l.ctx.update()},150)}},{key:"_windowResizeHandler",value:function(){var l=this.w.config.chart.redrawOnWindowResize;"function"==typeof l&&(l=l()),l&&this._windowResize()}}],[{key:"getChartByID",value:function(l){var u=me.escapeString(l);if(Apex._chartInstances){var f=Apex._chartInstances.filter(function(m){return m.id===u})[0];return f&&f.chart}}},{key:"initOnLoad",value:function(){for(var l=document.querySelectorAll("[data-apexcharts]"),u=0;u<l.length;u++)new J(l[u],JSON.parse(l[u].getAttribute("data-options"))).render()}},{key:"exec",value:function(l,u){var f=this.getChartByID(l);if(f){f.w.globals.isExecCalled=!0;var m=null;if(-1!==f.publicMethods.indexOf(u)){for(var v=arguments.length,y=new Array(v>2?v-2:0),w=2;w<v;w++)y[w-2]=arguments[w];m=f[u].apply(f,y)}return m}}},{key:"merge",value:function(l,u){return me.extend(l,u)}}]),J}();nn.exports=lo},9706:()=>{"function"!=typeof Object.assign&&(Object.assign=function(nn){for(var ct=[],ce=1;ce<arguments.length;ce++)ct[ce-1]=arguments[ce];if(!nn)throw TypeError("Cannot convert undefined or null to object");for(var a=function(xe){xe&&Object.keys(xe).forEach(function(Ye){return nn[Ye]=xe[Ye]})},Le=0,re=ct;Le<re.length;Le++)a(re[Le]);return nn})},5619:(nn,ct,ce)=>{ce.d(ct,{X:()=>Le});var a=ce(8645);class Le extends a.x{constructor(Oe){super(),this._value=Oe}get value(){return this.getValue()}_subscribe(Oe){const xe=super._subscribe(Oe);return!xe.closed&&Oe.next(this._value),xe}getValue(){const{hasError:Oe,thrownError:xe,_value:Ye}=this;if(Oe)throw xe;return this._throwIfClosed(),Ye}next(Oe){super.next(this._value=Oe)}}},5592:(nn,ct,ce)=>{ce.d(ct,{y:()=>gt});var a=ce(305),Le=ce(7394),re=ce(4850),Oe=ce(8407),xe=ce(2653),Ye=ce(4674),ke=ce(1441);let gt=(()=>{class He{constructor(_t){_t&&(this._subscribe=_t)}lift(_t){const At=new He;return At.source=this,At.operator=_t,At}subscribe(_t,At,xt){const Ut=function Ee(He){return He&&He instanceof a.Lv||function ye(He){return He&&(0,Ye.m)(He.next)&&(0,Ye.m)(He.error)&&(0,Ye.m)(He.complete)}(He)&&(0,Le.Nn)(He)}(_t)?_t:new a.Hp(_t,At,xt);return(0,ke.x)(()=>{const{operator:me,source:on}=this;Ut.add(me?me.call(Ut,on):on?this._subscribe(Ut):this._trySubscribe(Ut))}),Ut}_trySubscribe(_t){try{return this._subscribe(_t)}catch(At){_t.error(At)}}forEach(_t,At){return new(At=Qe(At))((xt,Ut)=>{const me=new a.Hp({next:on=>{try{_t(on)}catch($t){Ut($t),me.unsubscribe()}},error:Ut,complete:xt});this.subscribe(me)})}_subscribe(_t){var At;return null===(At=this.source)||void 0===At?void 0:At.subscribe(_t)}[re.L](){return this}pipe(..._t){return(0,Oe.U)(_t)(this)}toPromise(_t){return new(_t=Qe(_t))((At,xt)=>{let Ut;this.subscribe(me=>Ut=me,me=>xt(me),()=>At(Ut))})}}return He.create=St=>new He(St),He})();function Qe(He){var St;return null!==(St=He??xe.config.Promise)&&void 0!==St?St:Promise}},8645:(nn,ct,ce)=>{ce.d(ct,{x:()=>ke});var a=ce(5592),Le=ce(7394);const Oe=(0,ce(2306).d)(Qe=>function(){Qe(this),this.name="ObjectUnsubscribedError",this.message="object unsubscribed"});var xe=ce(9039),Ye=ce(1441);let ke=(()=>{class Qe extends a.y{constructor(){super(),this.closed=!1,this.currentObservers=null,this.observers=[],this.isStopped=!1,this.hasError=!1,this.thrownError=null}lift(Ee){const He=new gt(this,this);return He.operator=Ee,He}_throwIfClosed(){if(this.closed)throw new Oe}next(Ee){(0,Ye.x)(()=>{if(this._throwIfClosed(),!this.isStopped){this.currentObservers||(this.currentObservers=Array.from(this.observers));for(const He of this.currentObservers)He.next(Ee)}})}error(Ee){(0,Ye.x)(()=>{if(this._throwIfClosed(),!this.isStopped){this.hasError=this.isStopped=!0,this.thrownError=Ee;const{observers:He}=this;for(;He.length;)He.shift().error(Ee)}})}complete(){(0,Ye.x)(()=>{if(this._throwIfClosed(),!this.isStopped){this.isStopped=!0;const{observers:Ee}=this;for(;Ee.length;)Ee.shift().complete()}})}unsubscribe(){this.isStopped=this.closed=!0,this.observers=this.currentObservers=null}get observed(){var Ee;return(null===(Ee=this.observers)||void 0===Ee?void 0:Ee.length)>0}_trySubscribe(Ee){return this._throwIfClosed(),super._trySubscribe(Ee)}_subscribe(Ee){return this._throwIfClosed(),this._checkFinalizedStatuses(Ee),this._innerSubscribe(Ee)}_innerSubscribe(Ee){const{hasError:He,isStopped:St,observers:_t}=this;return He||St?Le.Lc:(this.currentObservers=null,_t.push(Ee),new Le.w0(()=>{this.currentObservers=null,(0,xe.P)(_t,Ee)}))}_checkFinalizedStatuses(Ee){const{hasError:He,thrownError:St,isStopped:_t}=this;He?Ee.error(St):_t&&Ee.complete()}asObservable(){const Ee=new a.y;return Ee.source=this,Ee}}return Qe.create=(ye,Ee)=>new gt(ye,Ee),Qe})();class gt extends ke{constructor(ye,Ee){super(),this.destination=ye,this.source=Ee}next(ye){var Ee,He;null===(He=null===(Ee=this.destination)||void 0===Ee?void 0:Ee.next)||void 0===He||He.call(Ee,ye)}error(ye){var Ee,He;null===(He=null===(Ee=this.destination)||void 0===Ee?void 0:Ee.error)||void 0===He||He.call(Ee,ye)}complete(){var ye,Ee;null===(Ee=null===(ye=this.destination)||void 0===ye?void 0:ye.complete)||void 0===Ee||Ee.call(ye)}_subscribe(ye){var Ee,He;return null!==(He=null===(Ee=this.source)||void 0===Ee?void 0:Ee.subscribe(ye))&&void 0!==He?He:Le.Lc}}},305:(nn,ct,ce)=>{ce.d(ct,{Hp:()=>xt,Lv:()=>He});var a=ce(4674),Le=ce(7394),re=ce(2653),Oe=ce(3894),xe=ce(2420);const Ye=Qe("C",void 0,void 0);function Qe(_e,et,Ge){return{kind:_e,value:et,error:Ge}}var ye=ce(7599),Ee=ce(1441);class He extends Le.w0{constructor(et){super(),this.isStopped=!1,et?(this.destination=et,(0,Le.Nn)(et)&&et.add(this)):this.destination=$t}static create(et,Ge,ht){return new xt(et,Ge,ht)}next(et){this.isStopped?on(function gt(_e){return Qe("N",_e,void 0)}(et),this):this._next(et)}error(et){this.isStopped?on(function ke(_e){return Qe("E",void 0,_e)}(et),this):(this.isStopped=!0,this._error(et))}complete(){this.isStopped?on(Ye,this):(this.isStopped=!0,this._complete())}unsubscribe(){this.closed||(this.isStopped=!0,super.unsubscribe(),this.destination=null)}_next(et){this.destination.next(et)}_error(et){try{this.destination.error(et)}finally{this.unsubscribe()}}_complete(){try{this.destination.complete()}finally{this.unsubscribe()}}}const St=Function.prototype.bind;function _t(_e,et){return St.call(_e,et)}class At{constructor(et){this.partialObserver=et}next(et){const{partialObserver:Ge}=this;if(Ge.next)try{Ge.next(et)}catch(ht){Ut(ht)}}error(et){const{partialObserver:Ge}=this;if(Ge.error)try{Ge.error(et)}catch(ht){Ut(ht)}else Ut(et)}complete(){const{partialObserver:et}=this;if(et.complete)try{et.complete()}catch(Ge){Ut(Ge)}}}class xt extends He{constructor(et,Ge,ht){let Et;if(super(),(0,a.m)(et)||!et)Et={next:et??void 0,error:Ge??void 0,complete:ht??void 0};else{let Ze;this&&re.config.useDeprecatedNextContext?(Ze=Object.create(et),Ze.unsubscribe=()=>this.unsubscribe(),Et={next:et.next&&_t(et.next,Ze),error:et.error&&_t(et.error,Ze),complete:et.complete&&_t(et.complete,Ze)}):Et=et}this.destination=new At(Et)}}function Ut(_e){re.config.useDeprecatedSynchronousErrorHandling?(0,Ee.O)(_e):(0,Oe.h)(_e)}function on(_e,et){const{onStoppedNotification:Ge}=re.config;Ge&&ye.z.setTimeout(()=>Ge(_e,et))}const $t={closed:!0,next:xe.Z,error:function me(_e){throw _e},complete:xe.Z}},7394:(nn,ct,ce)=>{ce.d(ct,{Lc:()=>Ye,w0:()=>xe,Nn:()=>ke});var a=ce(4674);const re=(0,ce(2306).d)(Qe=>function(Ee){Qe(this),this.message=Ee?`${Ee.length} errors occurred during unsubscription:\n${Ee.map((He,St)=>`${St+1}) ${He.toString()}`).join("\n  ")}`:"",this.name="UnsubscriptionError",this.errors=Ee});var Oe=ce(9039);class xe{constructor(ye){this.initialTeardown=ye,this.closed=!1,this._parentage=null,this._finalizers=null}unsubscribe(){let ye;if(!this.closed){this.closed=!0;const{_parentage:Ee}=this;if(Ee)if(this._parentage=null,Array.isArray(Ee))for(const _t of Ee)_t.remove(this);else Ee.remove(this);const{initialTeardown:He}=this;if((0,a.m)(He))try{He()}catch(_t){ye=_t instanceof re?_t.errors:[_t]}const{_finalizers:St}=this;if(St){this._finalizers=null;for(const _t of St)try{gt(_t)}catch(At){ye=ye??[],At instanceof re?ye=[...ye,...At.errors]:ye.push(At)}}if(ye)throw new re(ye)}}add(ye){var Ee;if(ye&&ye!==this)if(this.closed)gt(ye);else{if(ye instanceof xe){if(ye.closed||ye._hasParent(this))return;ye._addParent(this)}(this._finalizers=null!==(Ee=this._finalizers)&&void 0!==Ee?Ee:[]).push(ye)}}_hasParent(ye){const{_parentage:Ee}=this;return Ee===ye||Array.isArray(Ee)&&Ee.includes(ye)}_addParent(ye){const{_parentage:Ee}=this;this._parentage=Array.isArray(Ee)?(Ee.push(ye),Ee):Ee?[Ee,ye]:ye}_removeParent(ye){const{_parentage:Ee}=this;Ee===ye?this._parentage=null:Array.isArray(Ee)&&(0,Oe.P)(Ee,ye)}remove(ye){const{_finalizers:Ee}=this;Ee&&(0,Oe.P)(Ee,ye),ye instanceof xe&&ye._removeParent(this)}}xe.EMPTY=(()=>{const Qe=new xe;return Qe.closed=!0,Qe})();const Ye=xe.EMPTY;function ke(Qe){return Qe instanceof xe||Qe&&"closed"in Qe&&(0,a.m)(Qe.remove)&&(0,a.m)(Qe.add)&&(0,a.m)(Qe.unsubscribe)}function gt(Qe){(0,a.m)(Qe)?Qe():Qe.unsubscribe()}},2653:(nn,ct,ce)=>{ce.d(ct,{config:()=>a});const a={onUnhandledError:null,onStoppedNotification:null,Promise:void 0,useDeprecatedSynchronousErrorHandling:!1,useDeprecatedNextContext:!1}},6232:(nn,ct,ce)=>{ce.d(ct,{E:()=>Le});const Le=new(ce(5592).y)(xe=>xe.complete())},2459:(nn,ct,ce)=>{ce.d(ct,{D:()=>et});var a=ce(4829),Le=ce(3093),re=ce(5137),Ye=ce(5592),gt=ce(4971),Qe=ce(4674),ye=ce(7103);function He(Ge,ht){if(!Ge)throw new Error("Iterable cannot be null");return new Ye.y(Et=>{(0,ye.f)(Et,ht,()=>{const Ze=Ge[Symbol.asyncIterator]();(0,ye.f)(Et,ht,()=>{Ze.next().then(Ne=>{Ne.done?Et.complete():Et.next(Ne.value)})},0,!0)})})}var St=ce(8382),_t=ce(4026),At=ce(4266),xt=ce(3664),Ut=ce(5726),me=ce(9853),on=ce(541);function et(Ge,ht){return ht?function _e(Ge,ht){if(null!=Ge){if((0,St.c)(Ge))return function Oe(Ge,ht){return(0,a.Xf)(Ge).pipe((0,re.R)(ht),(0,Le.Q)(ht))}(Ge,ht);if((0,At.z)(Ge))return function ke(Ge,ht){return new Ye.y(Et=>{let Ze=0;return ht.schedule(function(){Ze===Ge.length?Et.complete():(Et.next(Ge[Ze++]),Et.closed||this.schedule())})})}(Ge,ht);if((0,_t.t)(Ge))return function xe(Ge,ht){return(0,a.Xf)(Ge).pipe((0,re.R)(ht),(0,Le.Q)(ht))}(Ge,ht);if((0,Ut.D)(Ge))return He(Ge,ht);if((0,xt.T)(Ge))return function Ee(Ge,ht){return new Ye.y(Et=>{let Ze;return(0,ye.f)(Et,ht,()=>{Ze=Ge[gt.h](),(0,ye.f)(Et,ht,()=>{let Ne,It;try{({value:Ne,done:It}=Ze.next())}catch(gn){return void Et.error(gn)}It?Et.complete():Et.next(Ne)},0,!0)}),()=>(0,Qe.m)(Ze?.return)&&Ze.return()})}(Ge,ht);if((0,on.L)(Ge))return function $t(Ge,ht){return He((0,on.Q)(Ge),ht)}(Ge,ht)}throw(0,me.z)(Ge)}(Ge,ht):(0,a.Xf)(Ge)}},4829:(nn,ct,ce)=>{ce.d(ct,{Xf:()=>St});var a=ce(7582),Le=ce(4266),re=ce(4026),Oe=ce(5592),xe=ce(8382),Ye=ce(5726),ke=ce(9853),gt=ce(3664),Qe=ce(541),ye=ce(4674),Ee=ce(3894),He=ce(4850);function St(_e){if(_e instanceof Oe.y)return _e;if(null!=_e){if((0,xe.c)(_e))return function _t(_e){return new Oe.y(et=>{const Ge=_e[He.L]();if((0,ye.m)(Ge.subscribe))return Ge.subscribe(et);throw new TypeError("Provided object does not correctly implement Symbol.observable")})}(_e);if((0,Le.z)(_e))return function At(_e){return new Oe.y(et=>{for(let Ge=0;Ge<_e.length&&!et.closed;Ge++)et.next(_e[Ge]);et.complete()})}(_e);if((0,re.t)(_e))return function xt(_e){return new Oe.y(et=>{_e.then(Ge=>{et.closed||(et.next(Ge),et.complete())},Ge=>et.error(Ge)).then(null,Ee.h)})}(_e);if((0,Ye.D)(_e))return me(_e);if((0,gt.T)(_e))return function Ut(_e){return new Oe.y(et=>{for(const Ge of _e)if(et.next(Ge),et.closed)return;et.complete()})}(_e);if((0,Qe.L)(_e))return function on(_e){return me((0,Qe.Q)(_e))}(_e)}throw(0,ke.z)(_e)}function me(_e){return new Oe.y(et=>{(function $t(_e,et){var Ge,ht,Et,Ze;return(0,a.mG)(this,void 0,void 0,function*(){try{for(Ge=(0,a.KL)(_e);!(ht=yield Ge.next()).done;)if(et.next(ht.value),et.closed)return}catch(Ne){Et={error:Ne}}finally{try{ht&&!ht.done&&(Ze=Ge.return)&&(yield Ze.call(Ge))}finally{if(Et)throw Et.error}}et.complete()})})(_e,et).catch(Ge=>et.error(Ge))})}},3019:(nn,ct,ce)=>{ce.d(ct,{T:()=>Ye});var a=ce(7537),Le=ce(4829),re=ce(6232),Oe=ce(9940),xe=ce(2459);function Ye(...ke){const gt=(0,Oe.yG)(ke),Qe=(0,Oe._6)(ke,1/0),ye=ke;return ye.length?1===ye.length?(0,Le.Xf)(ye[0]):(0,a.J)(Qe)((0,xe.D)(ye,gt)):re.E}},2096:(nn,ct,ce)=>{ce.d(ct,{of:()=>re});var a=ce(9940),Le=ce(2459);function re(...Oe){const xe=(0,a.yG)(Oe);return(0,Le.D)(Oe,xe)}},8251:(nn,ct,ce)=>{ce.d(ct,{x:()=>Le});var a=ce(305);function Le(Oe,xe,Ye,ke,gt){return new re(Oe,xe,Ye,ke,gt)}class re extends a.Lv{constructor(xe,Ye,ke,gt,Qe,ye){super(xe),this.onFinalize=Qe,this.shouldUnsubscribe=ye,this._next=Ye?function(Ee){try{Ye(Ee)}catch(He){xe.error(He)}}:super._next,this._error=gt?function(Ee){try{gt(Ee)}catch(He){xe.error(He)}finally{this.unsubscribe()}}:super._error,this._complete=ke?function(){try{ke()}catch(Ee){xe.error(Ee)}finally{this.unsubscribe()}}:super._complete}unsubscribe(){var xe;if(!this.shouldUnsubscribe||this.shouldUnsubscribe()){const{closed:Ye}=this;super.unsubscribe(),!Ye&&(null===(xe=this.onFinalize)||void 0===xe||xe.call(this))}}}},3997:(nn,ct,ce)=>{ce.d(ct,{x:()=>Oe});var a=ce(2737),Le=ce(9360),re=ce(8251);function Oe(Ye,ke=a.y){return Ye=Ye??xe,(0,Le.e)((gt,Qe)=>{let ye,Ee=!0;gt.subscribe((0,re.x)(Qe,He=>{const St=ke(He);(Ee||!Ye(ye,St))&&(Ee=!1,ye=St,Qe.next(He))}))})}function xe(Ye,ke){return Ye===ke}},7398:(nn,ct,ce)=>{ce.d(ct,{U:()=>re});var a=ce(9360),Le=ce(8251);function re(Oe,xe){return(0,a.e)((Ye,ke)=>{let gt=0;Ye.subscribe((0,Le.x)(ke,Qe=>{ke.next(Oe.call(xe,Qe,gt++))}))})}},7537:(nn,ct,ce)=>{ce.d(ct,{J:()=>re});var a=ce(1631),Le=ce(2737);function re(Oe=1/0){return(0,a.z)(Le.y,Oe)}},1631:(nn,ct,ce)=>{ce.d(ct,{z:()=>gt});var a=ce(7398),Le=ce(4829),re=ce(9360),Oe=ce(7103),xe=ce(8251),ke=ce(4674);function gt(Qe,ye,Ee=1/0){return(0,ke.m)(ye)?gt((He,St)=>(0,a.U)((_t,At)=>ye(He,_t,St,At))((0,Le.Xf)(Qe(He,St))),Ee):("number"==typeof ye&&(Ee=ye),(0,re.e)((He,St)=>function Ye(Qe,ye,Ee,He,St,_t,At,xt){const Ut=[];let me=0,on=0,$t=!1;const _e=()=>{$t&&!Ut.length&&!me&&ye.complete()},et=ht=>me<He?Ge(ht):Ut.push(ht),Ge=ht=>{_t&&ye.next(ht),me++;let Et=!1;(0,Le.Xf)(Ee(ht,on++)).subscribe((0,xe.x)(ye,Ze=>{St?.(Ze),_t?et(Ze):ye.next(Ze)},()=>{Et=!0},void 0,()=>{if(Et)try{for(me--;Ut.length&&me<He;){const Ze=Ut.shift();At?(0,Oe.f)(ye,At,()=>Ge(Ze)):Ge(Ze)}_e()}catch(Ze){ye.error(Ze)}}))};return Qe.subscribe((0,xe.x)(ye,et,()=>{$t=!0,_e()})),()=>{xt?.()}}(He,St,Qe,Ee)))}},3093:(nn,ct,ce)=>{ce.d(ct,{Q:()=>Oe});var a=ce(7103),Le=ce(9360),re=ce(8251);function Oe(xe,Ye=0){return(0,Le.e)((ke,gt)=>{ke.subscribe((0,re.x)(gt,Qe=>(0,a.f)(gt,xe,()=>gt.next(Qe),Ye),()=>(0,a.f)(gt,xe,()=>gt.complete(),Ye),Qe=>(0,a.f)(gt,xe,()=>gt.error(Qe),Ye)))})}},3020:(nn,ct,ce)=>{ce.d(ct,{B:()=>xe});var a=ce(4829),Le=ce(8645),re=ce(305),Oe=ce(9360);function xe(ke={}){const{connector:gt=(()=>new Le.x),resetOnError:Qe=!0,resetOnComplete:ye=!0,resetOnRefCountZero:Ee=!0}=ke;return He=>{let St,_t,At,xt=0,Ut=!1,me=!1;const on=()=>{_t?.unsubscribe(),_t=void 0},$t=()=>{on(),St=At=void 0,Ut=me=!1},_e=()=>{const et=St;$t(),et?.unsubscribe()};return(0,Oe.e)((et,Ge)=>{xt++,!me&&!Ut&&on();const ht=At=At??gt();Ge.add(()=>{xt--,0===xt&&!me&&!Ut&&(_t=Ye(_e,Ee))}),ht.subscribe(Ge),!St&&xt>0&&(St=new re.Hp({next:Et=>ht.next(Et),error:Et=>{me=!0,on(),_t=Ye($t,Qe,Et),ht.error(Et)},complete:()=>{Ut=!0,on(),_t=Ye($t,ye),ht.complete()}}),(0,a.Xf)(et).subscribe(St))})(He)}}function Ye(ke,gt,...Qe){if(!0===gt)return void ke();if(!1===gt)return;const ye=new re.Hp({next:()=>{ye.unsubscribe(),ke()}});return(0,a.Xf)(gt(...Qe)).subscribe(ye)}},5137:(nn,ct,ce)=>{ce.d(ct,{R:()=>Le});var a=ce(9360);function Le(re,Oe=0){return(0,a.e)((xe,Ye)=>{Ye.add(re.schedule(()=>xe.subscribe(Ye),Oe))})}},4664:(nn,ct,ce)=>{ce.d(ct,{w:()=>Oe});var a=ce(4829),Le=ce(9360),re=ce(8251);function Oe(xe,Ye){return(0,Le.e)((ke,gt)=>{let Qe=null,ye=0,Ee=!1;const He=()=>Ee&&!Qe&&gt.complete();ke.subscribe((0,re.x)(gt,St=>{Qe?.unsubscribe();let _t=0;const At=ye++;(0,a.Xf)(xe(St,At)).subscribe(Qe=(0,re.x)(gt,xt=>gt.next(Ye?Ye(St,xt,At,_t++):xt),()=>{Qe=null,He()}))},()=>{Ee=!0,He()}))})}},9397:(nn,ct,ce)=>{ce.d(ct,{b:()=>xe});var a=ce(4674),Le=ce(9360),re=ce(8251),Oe=ce(2737);function xe(Ye,ke,gt){const Qe=(0,a.m)(Ye)||ke||gt?{next:Ye,error:ke,complete:gt}:Ye;return Qe?(0,Le.e)((ye,Ee)=>{var He;null===(He=Qe.subscribe)||void 0===He||He.call(Qe);let St=!0;ye.subscribe((0,re.x)(Ee,_t=>{var At;null===(At=Qe.next)||void 0===At||At.call(Qe,_t),Ee.next(_t)},()=>{var _t;St=!1,null===(_t=Qe.complete)||void 0===_t||_t.call(Qe),Ee.complete()},_t=>{var At;St=!1,null===(At=Qe.error)||void 0===At||At.call(Qe,_t),Ee.error(_t)},()=>{var _t,At;St&&(null===(_t=Qe.unsubscribe)||void 0===_t||_t.call(Qe)),null===(At=Qe.finalize)||void 0===At||At.call(Qe)}))}):Oe.y}},1954:(nn,ct,ce)=>{ce.d(ct,{o:()=>xe});var a=ce(7394);class Le extends a.w0{constructor(ke,gt){super()}schedule(ke,gt=0){return this}}const re={setInterval(Ye,ke,...gt){const{delegate:Qe}=re;return Qe?.setInterval?Qe.setInterval(Ye,ke,...gt):setInterval(Ye,ke,...gt)},clearInterval(Ye){const{delegate:ke}=re;return(ke?.clearInterval||clearInterval)(Ye)},delegate:void 0};var Oe=ce(9039);class xe extends Le{constructor(ke,gt){super(ke,gt),this.scheduler=ke,this.work=gt,this.pending=!1}schedule(ke,gt=0){var Qe;if(this.closed)return this;this.state=ke;const ye=this.id,Ee=this.scheduler;return null!=ye&&(this.id=this.recycleAsyncId(Ee,ye,gt)),this.pending=!0,this.delay=gt,this.id=null!==(Qe=this.id)&&void 0!==Qe?Qe:this.requestAsyncId(Ee,this.id,gt),this}requestAsyncId(ke,gt,Qe=0){return re.setInterval(ke.flush.bind(ke,this),Qe)}recycleAsyncId(ke,gt,Qe=0){if(null!=Qe&&this.delay===Qe&&!1===this.pending)return gt;null!=gt&&re.clearInterval(gt)}execute(ke,gt){if(this.closed)return new Error("executing a cancelled action");this.pending=!1;const Qe=this._execute(ke,gt);if(Qe)return Qe;!1===this.pending&&null!=this.id&&(this.id=this.recycleAsyncId(this.scheduler,this.id,null))}_execute(ke,gt){let ye,Qe=!1;try{this.work(ke)}catch(Ee){Qe=!0,ye=Ee||new Error("Scheduled action threw falsy error")}if(Qe)return this.unsubscribe(),ye}unsubscribe(){if(!this.closed){const{id:ke,scheduler:gt}=this,{actions:Qe}=gt;this.work=this.state=this.scheduler=null,this.pending=!1,(0,Oe.P)(Qe,this),null!=ke&&(this.id=this.recycleAsyncId(gt,ke,null)),this.delay=null,super.unsubscribe()}}}},2631:(nn,ct,ce)=>{ce.d(ct,{v:()=>re});var a=ce(4552);class Le{constructor(xe,Ye=Le.now){this.schedulerActionCtor=xe,this.now=Ye}schedule(xe,Ye=0,ke){return new this.schedulerActionCtor(this,xe).schedule(ke,Ye)}}Le.now=a.l.now;class re extends Le{constructor(xe,Ye=Le.now){super(xe,Ye),this.actions=[],this._active=!1}flush(xe){const{actions:Ye}=this;if(this._active)return void Ye.push(xe);let ke;this._active=!0;do{if(ke=xe.execute(xe.state,xe.delay))break}while(xe=Ye.shift());if(this._active=!1,ke){for(;xe=Ye.shift();)xe.unsubscribe();throw ke}}}},6321:(nn,ct,ce)=>{ce.d(ct,{P:()=>Oe,z:()=>re});var a=ce(1954);const re=new(ce(2631).v)(a.o),Oe=re},4552:(nn,ct,ce)=>{ce.d(ct,{l:()=>a});const a={now:()=>(a.delegate||Date).now(),delegate:void 0}},7599:(nn,ct,ce)=>{ce.d(ct,{z:()=>a});const a={setTimeout(Le,re,...Oe){const{delegate:xe}=a;return xe?.setTimeout?xe.setTimeout(Le,re,...Oe):setTimeout(Le,re,...Oe)},clearTimeout(Le){const{delegate:re}=a;return(re?.clearTimeout||clearTimeout)(Le)},delegate:void 0}},4971:(nn,ct,ce)=>{ce.d(ct,{h:()=>Le});const Le=function a(){return"function"==typeof Symbol&&Symbol.iterator?Symbol.iterator:"@@iterator"}()},4850:(nn,ct,ce)=>{ce.d(ct,{L:()=>a});const a="function"==typeof Symbol&&Symbol.observable||"@@observable"},9940:(nn,ct,ce)=>{ce.d(ct,{_6:()=>Ye,jO:()=>Oe,yG:()=>xe});var a=ce(4674),Le=ce(671);function re(ke){return ke[ke.length-1]}function Oe(ke){return(0,a.m)(re(ke))?ke.pop():void 0}function xe(ke){return(0,Le.K)(re(ke))?ke.pop():void 0}function Ye(ke,gt){return"number"==typeof re(ke)?ke.pop():gt}},9039:(nn,ct,ce)=>{function a(Le,re){if(Le){const Oe=Le.indexOf(re);0<=Oe&&Le.splice(Oe,1)}}ce.d(ct,{P:()=>a})},2306:(nn,ct,ce)=>{function a(Le){const Oe=Le(xe=>{Error.call(xe),xe.stack=(new Error).stack});return Oe.prototype=Object.create(Error.prototype),Oe.prototype.constructor=Oe,Oe}ce.d(ct,{d:()=>a})},1441:(nn,ct,ce)=>{ce.d(ct,{O:()=>Oe,x:()=>re});var a=ce(2653);let Le=null;function re(xe){if(a.config.useDeprecatedSynchronousErrorHandling){const Ye=!Le;if(Ye&&(Le={errorThrown:!1,error:null}),xe(),Ye){const{errorThrown:ke,error:gt}=Le;if(Le=null,ke)throw gt}}else xe()}function Oe(xe){a.config.useDeprecatedSynchronousErrorHandling&&Le&&(Le.errorThrown=!0,Le.error=xe)}},7103:(nn,ct,ce)=>{function a(Le,re,Oe,xe=0,Ye=!1){const ke=re.schedule(function(){Oe(),Ye?Le.add(this.schedule(null,xe)):this.unsubscribe()},xe);if(Le.add(ke),!Ye)return ke}ce.d(ct,{f:()=>a})},2737:(nn,ct,ce)=>{function a(Le){return Le}ce.d(ct,{y:()=>a})},4266:(nn,ct,ce)=>{ce.d(ct,{z:()=>a});const a=Le=>Le&&"number"==typeof Le.length&&"function"!=typeof Le},5726:(nn,ct,ce)=>{ce.d(ct,{D:()=>Le});var a=ce(4674);function Le(re){return Symbol.asyncIterator&&(0,a.m)(re?.[Symbol.asyncIterator])}},4674:(nn,ct,ce)=>{function a(Le){return"function"==typeof Le}ce.d(ct,{m:()=>a})},8382:(nn,ct,ce)=>{ce.d(ct,{c:()=>re});var a=ce(4850),Le=ce(4674);function re(Oe){return(0,Le.m)(Oe[a.L])}},3664:(nn,ct,ce)=>{ce.d(ct,{T:()=>re});var a=ce(4971),Le=ce(4674);function re(Oe){return(0,Le.m)(Oe?.[a.h])}},4026:(nn,ct,ce)=>{ce.d(ct,{t:()=>Le});var a=ce(4674);function Le(re){return(0,a.m)(re?.then)}},541:(nn,ct,ce)=>{ce.d(ct,{L:()=>Oe,Q:()=>re});var a=ce(7582),Le=ce(4674);function re(xe){return(0,a.FC)(this,arguments,function*(){const ke=xe.getReader();try{for(;;){const{value:gt,done:Qe}=yield(0,a.qq)(ke.read());if(Qe)return yield(0,a.qq)(void 0);yield yield(0,a.qq)(gt)}}finally{ke.releaseLock()}})}function Oe(xe){return(0,Le.m)(xe?.getReader)}},671:(nn,ct,ce)=>{ce.d(ct,{K:()=>Le});var a=ce(4674);function Le(re){return re&&(0,a.m)(re.schedule)}},9360:(nn,ct,ce)=>{ce.d(ct,{A:()=>Le,e:()=>re});var a=ce(4674);function Le(Oe){return(0,a.m)(Oe?.lift)}function re(Oe){return xe=>{if(Le(xe))return xe.lift(function(Ye){try{return Oe(Ye,this)}catch(ke){this.error(ke)}});throw new TypeError("Unable to lift unknown Observable type")}}},2420:(nn,ct,ce)=>{function a(){}ce.d(ct,{Z:()=>a})},8407:(nn,ct,ce)=>{ce.d(ct,{U:()=>re,z:()=>Le});var a=ce(2737);function Le(...Oe){return re(Oe)}function re(Oe){return 0===Oe.length?a.y:1===Oe.length?Oe[0]:function(Ye){return Oe.reduce((ke,gt)=>gt(ke),Ye)}}},3894:(nn,ct,ce)=>{ce.d(ct,{h:()=>re});var a=ce(2653),Le=ce(7599);function re(Oe){Le.z.setTimeout(()=>{const{onUnhandledError:xe}=a.config;if(!xe)throw Oe;xe(Oe)})}},9853:(nn,ct,ce)=>{function a(Le){return new TypeError(`You provided ${null!==Le&&"object"==typeof Le?"an invalid object":`'${Le}'`} where a stream was expected. You can provide an Observable, Promise, ReadableStream, Array, AsyncIterable, or Iterable.`)}ce.d(ct,{z:()=>a})},5879:(nn,ct,ce)=>{ce.d(ct,{$8M:()=>ru,$WT:()=>mr,$Z:()=>ag,AFp:()=>gC,ALo:()=>uM,AaK:()=>He,AsE:()=>w0,BQk:()=>Hd,CHM:()=>Lo,CRH:()=>CM,DdM:()=>Qd,Dn7:()=>dM,EJc:()=>Ty,EiD:()=>BS,EpF:()=>h1,F$t:()=>Ud,F4k:()=>wu,FYo:()=>Sv,FiY:()=>Up,Gf:()=>xM,GfV:()=>sA,GkF:()=>h0,Gpc:()=>At,HDt:()=>uw,HTZ:()=>hE,Hh0:()=>oM,Hsn:()=>f1,Ikx:()=>F1,JOm:()=>cu,JVY:()=>oP,JZr:()=>$t,KtG:()=>sd,L6k:()=>aP,LAX:()=>vv,LFG:()=>Tn,LMc:()=>Tr,Lbi:()=>mC,Lck:()=>JI,MAs:()=>bn,MGl:()=>g0,MMx:()=>nE,MR2:()=>dC,NdJ:()=>ey,O4$:()=>ss,Ojb:()=>xP,OlP:()=>Vi,Oqu:()=>ny,P3R:()=>uC,PXZ:()=>eD,Q6J:()=>Ef,QGY:()=>f0,QbO:()=>wP,Qsj:()=>_c,R0b:()=>Vs,RDi:()=>jo,Rgc:()=>vy,SBq:()=>Dv,SDv:()=>ZI,Sil:()=>HM,Suo:()=>SE,TTD:()=>Ju,TgZ:()=>Cr,Tol:()=>Sf,Udp:()=>Dg,VKq:()=>Vg,VuI:()=>pk,W1O:()=>DM,WLB:()=>uE,X6Q:()=>YR,XFs:()=>yn,Xpm:()=>Lt,Xq5:()=>Rd,Xts:()=>Kp,Y36:()=>pf,YKP:()=>J1,YNc:()=>rI,Yjl:()=>Os,Yz7:()=>dn,Z0I:()=>fi,ZZ4:()=>Ew,_Bn:()=>Lg,_UZ:()=>bg,_Vd:()=>df,_c5:()=>Dw,_uU:()=>Af,aQg:()=>nm,c2e:()=>jf,cJS:()=>Oi,cg1:()=>C0,d8E:()=>L1,dDg:()=>Xg,dqk:()=>di,dwT:()=>x0,eBb:()=>Zp,eFA:()=>tD,eJc:()=>wy,ekj:()=>Us,eoX:()=>XE,f3M:()=>Bn,g9A:()=>JS,h0i:()=>Zd,hGG:()=>mD,hij:()=>Yd,iGM:()=>TE,ifc:()=>ks,ip1:()=>qg,jDz:()=>rE,kEZ:()=>H0,kL8:()=>Ec,kcU:()=>fo,l5B:()=>U0,lG2:()=>Ri,lcZ:()=>ku,lqb:()=>vc,lri:()=>gw,mCW:()=>yb,n5z:()=>la,oAB:()=>Zn,oJD:()=>HS,oxw:()=>xu,pB0:()=>kS,q3G:()=>Aa,q4F:()=>hf,qFp:()=>wo,qLn:()=>bc,qOj:()=>Wv,qZA:()=>qt,qbA:()=>dE,qzn:()=>Go,rFY:()=>fE,rWj:()=>$f,rg0:()=>Ph,s9C:()=>ty,sBO:()=>aD,s_b:()=>Fl,soG:()=>Gf,tb:()=>My,tp0:()=>gd,uIk:()=>Hi,vHH:()=>_e,vpe:()=>Qa,wAp:()=>kf,xi3:()=>gE,xp6:()=>VC,ynx:()=>d0,z2F:()=>Qg,z3N:()=>Zs,zSh:()=>hC,zW0:()=>s0,zs3:()=>Wo});var a=ce(8645),Le=ce(7394),re=ce(5592),Oe=ce(3019),xe=ce(5619),Ye=ce(2096),ke=ce(3020),gt=ce(4664),Qe=ce(3997);function ye(o){for(let d in o)if(o[d]===ye)return d;throw Error("Could not find renamed property on target object.")}function Ee(o,d){for(const h in d)d.hasOwnProperty(h)&&!o.hasOwnProperty(h)&&(o[h]=d[h])}function He(o){if("string"==typeof o)return o;if(Array.isArray(o))return"["+o.map(He).join(", ")+"]";if(null==o)return""+o;if(o.overriddenName)return`${o.overriddenName}`;if(o.name)return`${o.name}`;const d=o.toString();if(null==d)return""+d;const h=d.indexOf("\n");return-1===h?d:d.substring(0,h)}function St(o,d){return null==o||""===o?null===d?"":d:null==d||""===d?o:o+" "+d}const _t=ye({__forward_ref__:ye});function At(o){return o.__forward_ref__=At,o.toString=function(){return He(this())},o}function xt(o){return Ut(o)?o():o}function Ut(o){return"function"==typeof o&&o.hasOwnProperty(_t)&&o.__forward_ref__===At}function me(o){return o&&!!o.\u0275providers}const $t="https://g.co/ng/security#xss";class _e extends Error{constructor(d,h){super(function et(o,d){return`NG0${Math.abs(o)}${d?": "+d:""}`}(d,h)),this.code=d}}function Ge(o){return"string"==typeof o?o:null==o?"":String(o)}function It(o,d){throw new _e(-201,!1)}function Rt(o,d,h,g){throw new Error(`ASSERTION ERROR: ${o}`+(null==g?"":` [Expected=> ${h} ${g} ${d} <=Actual]`))}function dn(o){return{token:o.token,providedIn:o.providedIn||null,factory:o.factory,value:void 0}}function Oi(o){return{providers:o.providers||[],imports:o.imports||[]}}function Ui(o){return Mr(o,fr)||Mr(o,Eo)}function fi(o){return null!==Ui(o)}function Mr(o,d){return o.hasOwnProperty(d)?o[d]:null}function Xr(o){return o&&(o.hasOwnProperty(hs)||o.hasOwnProperty(ya))?o[hs]:null}const fr=ye({\u0275prov:ye}),hs=ye({\u0275inj:ye}),Eo=ye({ngInjectableDef:ye}),ya=ye({ngInjectorDef:ye});var yn=function(o){return o[o.Default=0]="Default",o[o.Host=1]="Host",o[o.Self=2]="Self",o[o.SkipSelf=4]="SkipSelf",o[o.Optional=8]="Optional",o}(yn||{});let An;function In(o){const d=An;return An=o,d}function zi(o,d,h){const g=Ui(o);return g&&"root"==g.providedIn?void 0===g.value?g.value=g.factory():g.value:h&yn.Optional?null:void 0!==d?d:void It(He(o))}const di=globalThis,Nt={},Wt="__NG_DI_FLAG__",mn="ngTempTokenPath",Ce=/\n/gm,Fe="__source";let mt;function Kt(o){const d=mt;return mt=o,d}function Ln(o,d=yn.Default){if(void 0===mt)throw new _e(-203,!1);return null===mt?zi(o,void 0,d):mt.get(o,d&yn.Optional?null:void 0,d)}function Tn(o,d=yn.Default){return(function Fn(){return An}()||Ln)(xt(o),d)}function Bn(o,d=yn.Default){return Tn(o,gr(d))}function gr(o){return typeof o>"u"||"number"==typeof o?o:0|(o.optional&&8)|(o.host&&1)|(o.self&&2)|(o.skipSelf&&4)}function ci(o){const d=[];for(let h=0;h<o.length;h++){const g=xt(o[h]);if(Array.isArray(g)){if(0===g.length)throw new _e(900,!1);let b,E=yn.Default;for(let k=0;k<g.length;k++){const B=g[k],z=ta(B);"number"==typeof z?-1===z?b=B.token:E|=z:b=B}d.push(Tn(b,E))}else d.push(Tn(g))}return d}function Hr(o,d){return o[Wt]=d,o.prototype[Wt]=d,o}function ta(o){return o[Wt]}function ao(o){return{toString:o}.toString()}var Ro=function(o){return o[o.OnPush=0]="OnPush",o[o.Default=1]="Default",o}(Ro||{}),ks=function(o){return o[o.Emulated=0]="Emulated",o[o.None=2]="None",o[o.ShadowDom=3]="ShadowDom",o}(ks||{});const lo={},J=[],l=ye({\u0275cmp:ye}),u=ye({\u0275dir:ye}),f=ye({\u0275pipe:ye}),m=ye({\u0275mod:ye}),v=ye({\u0275fac:ye}),y=ye({__NG_ELEMENT_ID__:ye}),w=ye({__NG_ENV_ID__:ye});function D(o,d,h){let g=o.length;for(;;){const b=o.indexOf(d,h);if(-1===b)return b;if(0===b||o.charCodeAt(b-1)<=32){const E=d.length;if(b+E===g||o.charCodeAt(b+E)<=32)return b}h=b+1}}function I(o,d,h){let g=0;for(;g<h.length;){const b=h[g];if("number"==typeof b){if(0!==b)break;g++;const E=h[g++],k=h[g++],B=h[g++];o.setAttribute(d,k,B,E)}else{const E=b,k=h[++g];P(E)?o.setProperty(d,E,k):o.setAttribute(d,E,k),g++}}return g}function O(o){return 3===o||4===o||6===o}function P(o){return 64===o.charCodeAt(0)}function L(o,d){if(null!==d&&0!==d.length)if(null===o||0===o.length)o=d.slice();else{let h=-1;for(let g=0;g<d.length;g++){const b=d[g];"number"==typeof b?h=b:0===h||U(o,h,b,null,-1===h||2===h?d[++g]:null)}}return o}function U(o,d,h,g,b){let E=0,k=o.length;if(-1===d)k=-1;else for(;E<o.length;){const B=o[E++];if("number"==typeof B){if(B===d){k=-1;break}if(B>d){k=E-1;break}}}for(;E<o.length;){const B=o[E];if("number"==typeof B)break;if(B===h){if(null===g)return void(null!==b&&(o[E+1]=b));if(g===o[E+1])return void(o[E+2]=b)}E++,null!==g&&E++,null!==b&&E++}-1!==k&&(o.splice(k,0,d),E=k+1),o.splice(E++,0,h),null!==g&&o.splice(E++,0,g),null!==b&&o.splice(E++,0,b)}const G="ng-template";function Y(o,d,h){let g=0,b=!0;for(;g<o.length;){let E=o[g++];if("string"==typeof E&&b){const k=o[g++];if(h&&"class"===E&&-1!==D(k.toLowerCase(),d,0))return!0}else{if(1===E){for(;g<o.length&&"string"==typeof(E=o[g++]);)if(E.toLowerCase()===d)return!0;return!1}"number"==typeof E&&(b=!1)}}return!1}function Q(o){return 4===o.type&&o.value!==G}function ie(o,d,h){return d===(4!==o.type||h?o.value:G)}function le(o,d,h){let g=4;const b=o.attrs||[],E=function de(o){for(let d=0;d<o.length;d++)if(O(o[d]))return d;return o.length}(b);let k=!1;for(let B=0;B<d.length;B++){const z=d[B];if("number"!=typeof z){if(!k)if(4&g){if(g=2|1&g,""!==z&&!ie(o,z,h)||""===z&&1===d.length){if(S(g))return!1;k=!0}}else{const X=8&g?z:d[++B];if(8&g&&null!==o.attrs){if(!Y(o.attrs,X,h)){if(S(g))return!1;k=!0}continue}const ve=R(8&g?"class":z,b,Q(o),h);if(-1===ve){if(S(g))return!1;k=!0;continue}if(""!==X){let Se;Se=ve>E?"":b[ve+1].toLowerCase();const Ue=8&g?Se:null;if(Ue&&-1!==D(Ue,X,0)||2&g&&X!==Se){if(S(g))return!1;k=!0}}}}else{if(!k&&!S(g)&&!S(z))return!1;if(k&&S(z))continue;k=!1,g=z|1&g}}return S(g)||k}function S(o){return 0==(1&o)}function R(o,d,h,g){if(null===d)return-1;let b=0;if(g||!h){let E=!1;for(;b<d.length;){const k=d[b];if(k===o)return b;if(3===k||6===k)E=!0;else{if(1===k||2===k){let B=d[++b];for(;"string"==typeof B;)B=d[++b];continue}if(4===k)break;if(0===k){b+=4;continue}}b+=E?1:2}return-1}return function he(o,d){let h=o.indexOf(4);if(h>-1)for(h++;h<o.length;){const g=o[h];if("number"==typeof g)return-1;if(g===d)return h;h++}return-1}(d,o)}function $(o,d,h=!1){for(let g=0;g<d.length;g++)if(le(o,d[g],h))return!0;return!1}function Ie(o,d){e:for(let h=0;h<d.length;h++){const g=d[h];if(o.length===g.length){for(let b=0;b<o.length;b++)if(o[b]!==g[b])continue e;return!0}}return!1}function De(o,d){return o?":not("+d.trim()+")":d}function $e(o){let d=o[0],h=1,g=2,b="",E=!1;for(;h<o.length;){let k=o[h];if("string"==typeof k)if(2&g){const B=o[++h];b+="["+k+(B.length>0?'="'+B+'"':"")+"]"}else 8&g?b+="."+k:4&g&&(b+=" "+k);else""!==b&&!S(k)&&(d+=De(E,b),b=""),g=k,E=E||!S(g);h++}return""!==b&&(d+=De(E,b)),d}function Lt(o){return ao(()=>{const d=Ha(o),h={...d,decls:o.decls,vars:o.vars,template:o.template,consts:o.consts||null,ngContentSelectors:o.ngContentSelectors,onPush:o.changeDetection===Ro.OnPush,directiveDefs:null,pipeDefs:null,dependencies:d.standalone&&o.dependencies||null,getStandaloneInjector:null,signals:o.signals??!1,data:o.data||{},encapsulation:o.encapsulation||ks.Emulated,styles:o.styles||J,_:null,schemas:o.schemas||null,tView:null,id:""};Nm(h);const g=o.dependencies;return h.directiveDefs=Bc(g,!1),h.pipeDefs=Bc(g,!0),h.id=function Ao(o){let d=0;const h=[o.selectors,o.ngContentSelectors,o.hostVars,o.hostAttrs,o.consts,o.vars,o.decls,o.encapsulation,o.standalone,o.signals,o.exportAs,JSON.stringify(o.inputs),JSON.stringify(o.outputs),Object.getOwnPropertyNames(o.type.prototype),!!o.contentQueries,!!o.viewQuery].join("|");for(const b of h)d=Math.imul(31,d)+b.charCodeAt(0)<<0;return d+=2147483648,"c"+d}(h),h})}function Mn(o){return Un(o)||Zi(o)}function Wn(o){return null!==o}function Zn(o){return ao(()=>({type:o.type,bootstrap:o.bootstrap||J,declarations:o.declarations||J,imports:o.imports||J,exports:o.exports||J,transitiveCompileScopes:null,schemas:o.schemas||null,id:o.id||null}))}function Ii(o,d){if(null==o)return lo;const h={};for(const g in o)if(o.hasOwnProperty(g)){let b=o[g],E=b;Array.isArray(b)&&(E=b[1],b=b[0]),h[b]=g,d&&(d[b]=E)}return h}function Ri(o){return ao(()=>{const d=Ha(o);return Nm(d),d})}function Os(o){return{type:o.type,name:o.name,factory:null,pure:!1!==o.pure,standalone:!0===o.standalone,onDestroy:o.type.prototype.ngOnDestroy||null}}function Un(o){return o[l]||null}function Zi(o){return o[u]||null}function Ur(o){return o[f]||null}function mr(o){const d=Un(o)||Zi(o)||Ur(o);return null!==d&&d.standalone}function _i(o,d){const h=o[m]||null;if(!h&&!0===d)throw new Error(`Type ${He(o)} does not have '\u0275mod' property.`);return h}function Ha(o){const d={};return{type:o.type,providersResolver:null,factory:null,hostBindings:o.hostBindings||null,hostVars:o.hostVars||0,hostAttrs:o.hostAttrs||null,contentQueries:o.contentQueries||null,declaredInputs:d,inputTransforms:null,inputConfig:o.inputs||lo,exportAs:o.exportAs||null,standalone:!0===o.standalone,signals:!0===o.signals,selectors:o.selectors||J,viewQuery:o.viewQuery||null,features:o.features||null,setInput:null,findHostDirectiveDefs:null,hostDirectives:null,inputs:Ii(o.inputs,d),outputs:Ii(o.outputs)}}function Nm(o){o.features?.forEach(d=>d(o))}function Bc(o,d){if(!o)return null;const h=d?Ur:Mn;return()=>("function"==typeof o?o():o).map(g=>h(g)).filter(Wn)}const ir=0,en=1,Sn=2,rr=3,Ns=4,cl=5,zr=6,Vc=7,Fi=8,_a=9,Xl=10,On=11,fs=12,wh=13,ba=14,sr=15,xh=16,ul=17,Qr=18,wa=19,xa=20,Ua=21,co=22,Hc=23,za=24,$n=25,Kl=1,Yu=2,Jr=7,es=9,ps=11;function ts(o){return Array.isArray(o)&&"object"==typeof o[Kl]}function Ss(o){return Array.isArray(o)&&!0===o[Kl]}function qu(o){return 0!=(4&o.flags)}function hl(o){return o.componentOffset>-1}function uo(o){return 1==(1&o.flags)}function Gs(o){return!!o.template}function Ql(o){return 0!=(512&o[Sn])}function fl(o,d){return o.hasOwnProperty(v)?o[v]:null}let jr=null,pl=!1;function Ws(o){const d=jr;return jr=o,d}const gl={version:0,dirty:!1,producerNode:void 0,producerLastReadVersion:void 0,producerIndexOfThis:void 0,nextProducerIndex:0,liveConsumerNode:void 0,liveConsumerIndexOfThis:void 0,consumerAllowSignalWrites:!1,consumerIsAlwaysLive:!1,producerMustRecompute:()=>!1,producerRecomputeValue:()=>{},consumerMarkedDirty:()=>{}};function jc(o){if(!ml(o)||o.dirty){if(!o.producerMustRecompute(o)&&!Ih(o))return void(o.dirty=!1);o.producerRecomputeValue(o),o.dirty=!1}}function Gc(o){o.dirty=!0,function fp(o){if(void 0===o.liveConsumerNode)return;const d=pl;pl=!0;try{for(const h of o.liveConsumerNode)h.dirty||Gc(h)}finally{pl=d}}(o),o.consumerMarkedDirty?.(o)}function pp(o){return o&&(o.nextProducerIndex=0),Ws(o)}function ns(o,d){if(Ws(d),o&&void 0!==o.producerNode&&void 0!==o.producerIndexOfThis&&void 0!==o.producerLastReadVersion){if(ml(o))for(let h=o.nextProducerIndex;h<o.producerNode.length;h++)Wc(o.producerNode[h],o.producerIndexOfThis[h]);for(;o.producerNode.length>o.nextProducerIndex;)o.producerNode.pop(),o.producerLastReadVersion.pop(),o.producerIndexOfThis.pop()}}function Ih(o){Ga(o);for(let d=0;d<o.producerNode.length;d++){const h=o.producerNode[d],g=o.producerLastReadVersion[d];if(g!==h.version||(jc(h),g!==h.version))return!0}return!1}function Mh(o){if(Ga(o),ml(o))for(let d=0;d<o.producerNode.length;d++)Wc(o.producerNode[d],o.producerIndexOfThis[d]);o.producerNode.length=o.producerLastReadVersion.length=o.producerIndexOfThis.length=0,o.liveConsumerNode&&(o.liveConsumerNode.length=o.liveConsumerIndexOfThis.length=0)}function Wc(o,d){if(function $c(o){o.liveConsumerNode??=[],o.liveConsumerIndexOfThis??=[]}(o),Ga(o),1===o.liveConsumerNode.length)for(let g=0;g<o.producerNode.length;g++)Wc(o.producerNode[g],o.producerIndexOfThis[g]);const h=o.liveConsumerNode.length-1;if(o.liveConsumerNode[d]=o.liveConsumerNode[h],o.liveConsumerIndexOfThis[d]=o.liveConsumerIndexOfThis[h],o.liveConsumerNode.length--,o.liveConsumerIndexOfThis.length--,d<o.liveConsumerNode.length){const g=o.liveConsumerIndexOfThis[d],b=o.liveConsumerNode[d];Ga(b),b.producerIndexOfThis[g]=d}}function ml(o){return o.consumerIsAlwaysLive||(o?.liveConsumerNode?.length??0)>0}function Ga(o){o.producerNode??=[],o.producerIndexOfThis??=[],o.producerLastReadVersion??=[]}let vp=null;function Ph(o){const d=Ws(null);try{return o()}finally{Ws(d)}}const Rh=()=>{},Vm=(()=>({...gl,consumerIsAlwaysLive:!0,consumerAllowSignalWrites:!1,consumerMarkedDirty:o=>{o.schedule(o.ref)},hasRun:!1,cleanupFn:Rh}))();class Hm{constructor(d,h,g){this.previousValue=d,this.currentValue=h,this.firstChange=g}isFirstChange(){return this.firstChange}}function Ju(){return Zc}function Zc(o){return o.type.prototype.ngOnChanges&&(o.setInput=vl),Um}function Um(){const o=yl(this),d=o?.current;if(d){const h=o.previous;if(h===lo)o.previous=d;else for(let g in d)h[g]=d[g];o.current=null,this.ngOnChanges(d)}}function vl(o,d,h,g){const b=this.declaredInputs[h],E=yl(o)||function _p(o,d){return o[ia]=d}(o,{previous:lo,current:null}),k=E.current||(E.current={}),B=E.previous,z=B[b];k[b]=new Hm(z&&z.currentValue,d,B===lo),o[g]=d}Ju.ngInherit=!0;const ia="__ngSimpleChanges__";function yl(o){return o[ia]||null}const Fo=function(o,d,h){},bp="svg";function Mi(o){for(;Array.isArray(o);)o=o[ir];return o}function _l(o,d){return Mi(d[o])}function gs(o,d){return Mi(d[o.index])}function Lh(o,d){return o.data[d]}function bl(o,d){return o[d]}function ms(o,d){const h=d[o];return ts(h)?h:h[ir]}function $s(o,d){return null==d?null:o[d]}function $m(o){o[ul]=0}function Bh(o){1024&o[Sn]||(o[Sn]|=1024,U_(o,1))}function ed(o){1024&o[Sn]&&(o[Sn]&=-1025,U_(o,-1))}function U_(o,d){let h=o[rr];if(null===h)return;h[cl]+=d;let g=h;for(h=h[rr];null!==h&&(1===d&&1===g[cl]||-1===d&&0===g[cl]);)h[cl]+=d,g=h,h=h[rr]}const Nn={lFrame:hn(null),bindingsEnabled:!0,skipHydrationRootTNode:null};function vs(){return Nn.bindingsEnabled}function ra(){return null!==Nn.skipHydrationRootTNode}function wt(){return Nn.lFrame.lView}function ni(){return Nn.lFrame.tView}function Lo(o){return Nn.lFrame.contextLView=o,o[Fi]}function sd(o){return Nn.lFrame.contextLView=null,o}function rs(){let o=od();for(;null!==o&&64===o.type;)o=o.parent;return o}function od(){return Nn.lFrame.currentTNode}function sc(){const o=Nn.lFrame,d=o.currentTNode;return o.isParent?d:d.parent}function $a(o,d){const h=Nn.lFrame;h.currentTNode=o,h.isParent=d}function wl(){return Nn.lFrame.isParent}function Hh(){Nn.lFrame.isParent=!1}function Ys(){const o=Nn.lFrame;let d=o.bindingRootIndex;return-1===d&&(d=o.bindingRootIndex=o.tView.bindingStartIndex),d}function xl(){return Nn.lFrame.bindingIndex++}function sa(o){const d=Nn.lFrame,h=d.bindingIndex;return d.bindingIndex=d.bindingIndex+o,h}function jh(o){Nn.lFrame.inI18n=o}function ad(o,d){const h=Nn.lFrame;h.bindingIndex=h.bindingRootIndex=o,ld(d)}function ld(o){Nn.lFrame.currentDirectiveIndex=o}function Tp(o){const d=Nn.lFrame.currentDirectiveIndex;return-1===d?null:o[d]}function cd(){return Nn.lFrame.currentQueryIndex}function Sp(o){Nn.lFrame.currentQueryIndex=o}function Ap(o){const d=o[en];return 2===d.type?d.declTNode:1===d.type?o[zr]:null}function qm(o,d,h){if(h&yn.SkipSelf){let b=d,E=o;for(;!(b=b.parent,null!==b||h&yn.Host||(b=Ap(E),null===b||(E=E[ba],10&b.type))););if(null===b)return!1;d=b,o=E}const g=Nn.lFrame=Pn();return g.currentTNode=d,g.lView=o,!0}function Ki(o){const d=Pn(),h=o[en];Nn.lFrame=d,d.currentTNode=h.firstChild,d.lView=o,d.tView=h,d.contextLView=o,d.bindingIndex=h.bindingStartIndex,d.inI18n=!1}function Pn(){const o=Nn.lFrame,d=null===o?null:o.child;return null===d?hn(o):d}function hn(o){const d={currentTNode:null,isParent:!0,lView:null,tView:null,selectedIndex:-1,contextLView:null,elementDepthCount:0,currentNamespace:null,currentDirectiveIndex:-1,bindingRootIndex:-1,bindingIndex:-1,currentQueryIndex:0,parent:o,child:null,inI18n:!1};return null!==o&&(o.child=d),d}function ar(){const o=Nn.lFrame;return Nn.lFrame=o.parent,o.currentTNode=null,o.lView=null,o}const bi=ar;function ys(){const o=ar();o.isParent=!0,o.tView=null,o.selectedIndex=-1,o.contextLView=null,o.elementDepthCount=0,o.currentDirectiveIndex=-1,o.currentNamespace=null,o.bindingRootIndex=-1,o.bindingIndex=-1,o.currentQueryIndex=0}function Bt(){return Nn.lFrame.selectedIndex}function Ea(o){Nn.lFrame.selectedIndex=o}function Gi(){const o=Nn.lFrame;return Lh(o.tView,o.selectedIndex)}function ss(){Nn.lFrame.currentNamespace=bp}function fo(){!function Kc(){Nn.lFrame.currentNamespace=null}()}let lr=!0;function Kn(){return lr}function Gr(o){lr=o}function Da(o,d){for(let h=d.directiveStart,g=d.directiveEnd;h<g;h++){const E=o.data[h].type.prototype,{ngAfterContentInit:k,ngAfterContentChecked:B,ngAfterViewInit:z,ngAfterViewChecked:X,ngOnDestroy:se}=E;k&&(o.contentHooks??=[]).push(-h,k),B&&((o.contentHooks??=[]).push(h,B),(o.contentCheckHooks??=[]).push(h,B)),z&&(o.viewHooks??=[]).push(-h,z),X&&((o.viewHooks??=[]).push(h,X),(o.viewCheckHooks??=[]).push(h,X)),null!=se&&(o.destroyHooks??=[]).push(h,se)}}function oc(o,d,h){qa(o,d,3,h)}function ud(o,d,h,g){(3&o[Sn])===h&&qa(o,d,h,g)}function Ta(o,d){let h=o[Sn];(3&h)===d&&(h&=8191,h+=1,o[Sn]=h)}function qa(o,d,h,g){const E=g??-1,k=d.length-1;let B=0;for(let z=void 0!==g?65535&o[ul]:0;z<k;z++)if("number"==typeof d[z+1]){if(B=d[z],null!=g&&B>=g)break}else d[z]<0&&(o[ul]+=65536),(B<E||-1==E)&&(Qc(o,h,d,z),o[ul]=(4294901760&o[ul])+z+2),z++}function Ps(o,d){Fo(4,o,d);const h=Ws(null);try{d.call(o)}finally{Ws(h),Fo(5,o,d)}}function Qc(o,d,h,g){const b=h[g]<0,E=h[g+1],B=o[b?-h[g]:h[g]];b?o[Sn]>>13<o[ul]>>16&&(3&o[Sn])===d&&(o[Sn]+=8192,Ps(B,E)):Ps(B,E)}const oa=-1;class Qn{constructor(d,h,g){this.factory=d,this.resolving=!1,this.canSeeViewProviders=h,this.injectImpl=g}}function eu(o){return o!==oa}function ac(o){return 32767&o}function lc(o,d){let h=function $_(o){return o>>16}(o),g=d;for(;h>0;)g=g[ba],h--;return g}let kp=!0;function Gh(o){const d=kp;return kp=o,d}const Qm=255,Y_=5;let Op=0;const it={};function os(o,d){const h=As(o,d);if(-1!==h)return h;const g=d[en];g.firstCreatePass&&(o.injectorIndex=d.length,ue(g.data,o),ue(d,null),ue(g.blueprint,null));const b=aa(o,d),E=o.injectorIndex;if(eu(b)){const k=ac(b),B=lc(b,d),z=B[en].data;for(let X=0;X<8;X++)d[E+X]=B[k+X]|z[k+X]}return d[E+8]=b,E}function ue(o,d){o.push(0,0,0,0,0,0,0,0,d)}function As(o,d){return-1===o.injectorIndex||o.parent&&o.parent.injectorIndex===o.injectorIndex||null===d[o.injectorIndex+8]?-1:o.injectorIndex}function aa(o,d){if(o.parent&&-1!==o.parent.injectorIndex)return o.parent.injectorIndex;let h=0,g=null,b=d;for(;null!==b;){if(g=uc(b),null===g)return oa;if(h++,b=b[ba],-1!==g.injectorIndex)return g.injectorIndex|h<<16}return oa}function cc(o,d,h){!function Qi(o,d,h){let g;"string"==typeof h?g=h.charCodeAt(0)||0:h.hasOwnProperty(y)&&(g=h[y]),null==g&&(g=h[y]=Op++);const b=g&Qm;d.data[o+(b>>Y_)]|=1<<b}(o,d,h)}function Wi(o,d,h){if(h&yn.Optional||void 0!==o)return o;It()}function tu(o,d,h,g){if(h&yn.Optional&&void 0===g&&(g=null),!(h&(yn.Self|yn.Host))){const b=o[_a],E=In(void 0);try{return b?b.get(d,g,h&yn.Optional):zi(d,g,h&yn.Optional)}finally{In(E)}}return Wi(g,0,h)}function El(o,d,h,g=yn.Default,b){if(null!==o){if(2048&d[Sn]&&!(g&yn.Self)){const k=function Yh(o,d,h,g,b){let E=o,k=d;for(;null!==E&&null!==k&&2048&k[Sn]&&!(512&k[Sn]);){const B=fd(E,k,h,g|yn.Self,it);if(B!==it)return B;let z=E.parent;if(!z){const X=k[xa];if(X){const se=X.get(h,it,g);if(se!==it)return se}z=uc(k),k=k[ba]}E=z}return b}(o,d,h,g,it);if(k!==it)return k}const E=fd(o,d,h,g,it);if(E!==it)return E}return tu(d,h,g,b)}function fd(o,d,h,g,b){const E=function Pp(o){if("string"==typeof o)return o.charCodeAt(0)||0;const d=o.hasOwnProperty(y)?o[y]:void 0;return"number"==typeof d?d>=0?d&Qm:Tl:d}(h);if("function"==typeof E){if(!qm(d,o,g))return g&yn.Host?Wi(b,0,g):tu(d,h,g,b);try{let k;if(k=E(g),null!=k||g&yn.Optional)return k;It()}finally{bi()}}else if("number"==typeof E){let k=null,B=As(o,d),z=oa,X=g&yn.Host?d[sr][zr]:null;for((-1===B||g&yn.SkipSelf)&&(z=-1===B?aa(o,d):d[B+8],z!==oa&&$h(g,!1)?(k=d[en],B=ac(z),d=lc(z,d)):B=-1);-1!==B;){const se=d[en];if(Sa(E,B,se.data)){const ve=Np(B,d,h,k,g,X);if(ve!==it)return ve}z=d[B+8],z!==oa&&$h(g,d[en].data[B+8]===X)&&Sa(E,B,d)?(k=se,B=ac(z),d=lc(z,d)):B=-1}}return b}function Np(o,d,h,g,b,E){const k=d[en],B=k.data[o+8],se=Wh(B,k,h,null==g?hl(B)&&kp:g!=k&&0!=(3&B.type),b&yn.Host&&E===B);return null!==se?Dl(d,k,se,B):it}function Wh(o,d,h,g,b){const E=o.providerIndexes,k=d.data,B=1048575&E,z=o.directiveStart,se=E>>20,Se=b?B+se:o.directiveEnd;for(let Ue=g?B:B+se;Ue<Se;Ue++){const ft=k[Ue];if(Ue<z&&h===ft||Ue>=z&&ft.type===h)return Ue}if(b){const Ue=k[z];if(Ue&&Gs(Ue)&&Ue.type===h)return z}return null}function Dl(o,d,h,g){let b=o[h];const E=d.data;if(function Zm(o){return o instanceof Qn}(b)){const k=b;k.resolving&&function Et(o,d){const h=d?`. Dependency path: ${d.join(" > ")} > ${o}`:"";throw new _e(-200,`Circular dependency in DI detected for ${o}${h}`)}(function ht(o){return"function"==typeof o?o.name||o.toString():"object"==typeof o&&null!=o&&"function"==typeof o.type?o.type.name||o.type.toString():Ge(o)}(E[h]));const B=Gh(k.canSeeViewProviders);k.resolving=!0;const X=k.injectImpl?In(k.injectImpl):null;qm(o,g,yn.Default);try{b=o[h]=k.factory(void 0,E,o,g),d.firstCreatePass&&h>=g.directiveStart&&function wi(o,d,h){const{ngOnChanges:g,ngOnInit:b,ngDoCheck:E}=d.type.prototype;if(g){const k=Zc(d);(h.preOrderHooks??=[]).push(o,k),(h.preOrderCheckHooks??=[]).push(o,k)}b&&(h.preOrderHooks??=[]).push(0-o,b),E&&((h.preOrderHooks??=[]).push(o,E),(h.preOrderCheckHooks??=[]).push(o,E))}(h,E[h],d)}finally{null!==X&&In(X),Gh(B),k.resolving=!1,bi()}}return b}function Sa(o,d,h){return!!(h[d+(o>>Y_)]&1<<o)}function $h(o,d){return!(o&yn.Self||o&yn.Host&&d)}class ii{constructor(d,h){this._tNode=d,this._lView=h}get(d,h,g){return El(this._tNode,this._lView,d,gr(g),h)}}function Tl(){return new ii(rs(),wt())}function la(o){return ao(()=>{const d=o.prototype.constructor,h=d[v]||iu(d),g=Object.prototype;let b=Object.getPrototypeOf(o.prototype).constructor;for(;b&&b!==g;){const E=b[v]||iu(b);if(E&&E!==h)return E;b=Object.getPrototypeOf(b)}return E=>new E})}function iu(o){return Ut(o)?()=>{const d=iu(xt(o));return d&&d()}:fl(o)}function uc(o){const d=o[en],h=d.type;return 2===h?d.declTNode:1===h?o[zr]:null}function ru(o){return function hd(o,d){if("class"===d)return o.classes;if("style"===d)return o.styles;const h=o.attrs;if(h){const g=h.length;let b=0;for(;b<g;){const E=h[b];if(O(E))break;if(0===E)b+=2;else if("number"==typeof E)for(b++;b<g&&"string"==typeof h[b];)b++;else{if(E===d)return h[b+1];b+=2}}}return null}(rs(),o)}const su="__parameters__";function pe(o,d,h){return ao(()=>{const g=function ee(o){return function(...h){if(o){const g=o(...h);for(const b in g)this[b]=g[b]}}}(d);function b(...E){if(this instanceof b)return g.apply(this,E),this;const k=new b(...E);return B.annotation=k,B;function B(z,X,se){const ve=z.hasOwnProperty(su)?z[su]:Object.defineProperty(z,su,{value:[]})[su];for(;ve.length<=se;)ve.push(null);return(ve[se]=ve[se]||[]).push(k),z}}return h&&(b.prototype=Object.create(h.prototype)),b.prototype.ngMetadataName=o,b.annotationCls=b,b})}function hc(o,d){o.forEach(h=>Array.isArray(h)?hc(h,d):d(h))}function Fp(o,d,h){d>=o.length?o.push(h):o.splice(d,0,h)}function qh(o,d){return d>=o.length-1?o.pop():o.splice(d,1)[0]}function Sl(o,d){const h=[];for(let g=0;g<o;g++)h.push(d);return h}function qs(o,d,h){let g=ou(o,d);return g>=0?o[1|g]=h:(g=~g,function q_(o,d,h,g){let b=o.length;if(b==d)o.push(h,g);else if(1===b)o.push(g,o[0]),o[0]=h;else{for(b--,o.push(o[b-1],o[b]);b>d;)o[b]=o[b-2],b--;o[d]=h,o[d+1]=g}}(o,g,d,h)),g}function Zh(o,d){const h=ou(o,d);if(h>=0)return o[1|h]}function ou(o,d){return function Bp(o,d,h){let g=0,b=o.length>>h;for(;b!==g;){const E=g+(b-g>>1),k=o[E<<h];if(d===k)return E<<h;k>d?b=E:g=E+1}return~(b<<h)}(o,d,1)}const Up=Hr(pe("Optional"),8),gd=Hr(pe("SkipSelf"),4);function wd(o){return 128==(128&o.flags)}var cu=function(o){return o[o.Important=1]="Important",o[o.DashCase=2]="DashCase",o}(cu||{});const cv=/^>|^->|<!--|-->|--!>|<!-$/g,Xa=/(<|>)/g,Gp="\u200b$1\u200b";const nf=new Map;let Cd=0;const Yp="__ngContext__";function Ls(o,d){ts(d)?(o[Yp]=d[wa],function _s(o){nf.set(o[wa],o)}(d)):o[Yp]=d}let Te;function je(o,d){return Te(o,d)}function Ft(o){const d=o[rr];return Ss(d)?d[rr]:d}function _r(o){return Ed(o[fs])}function Uo(o){return Ed(o[Ns])}function Ed(o){for(;null!==o&&!Ss(o);)o=o[Ns];return o}function hu(o,d,h,g,b){if(null!=g){let E,k=!1;Ss(g)?E=g:ts(g)&&(k=!0,g=g[ir]);const B=Mi(g);0===o&&null!==h?null==b?Yx(d,h,B):gc(d,h,B,b||null,!0):1===o&&null!==h?gc(d,h,B,b||null,!0):2===o?function fb(o,d,h){const g=pv(o,d);g&&function qx(o,d,h,g){o.removeChild(d,h,g)}(o,g,d,h)}(d,B,k):3===o&&d.destroyNode(B),null!=E&&function CS(o,d,h,g,b){const E=h[Jr];E!==Mi(h)&&hu(d,o,g,E,b);for(let B=ps;B<h.length;B++){const z=h[B];po(z[en],z,o,d,g,E)}}(d,o,E,h,b)}}function Dd(o,d){return o.createText(d)}function sf(o,d){return o.createComment(function Wp(o){return o.replace(cv,d=>d.replace(Xa,Gp))}(d))}function Td(o,d,h){return o.createElement(d,h)}function Sd(o,d){const h=o[es],g=h.indexOf(d);ed(d),h.splice(g,1)}function Bs(o,d){if(o.length<=ps)return;const h=ps+d,g=o[h];if(g){const b=g[xh];null!==b&&b!==o&&Sd(b,g),d>0&&(o[h-1][Ns]=g[Ns]);const E=qh(o,ps+d);!function lb(o,d){po(o,d,d[On],2,null,null),d[ir]=null,d[zr]=null}(g[en],g);const k=E[Qr];null!==k&&k.detachView(E[en]),g[rr]=null,g[Ns]=null,g[Sn]&=-129}return g}function Gx(o,d){if(!(256&d[Sn])){const h=d[On];d[Hc]&&Mh(d[Hc]),d[za]&&Mh(d[za]),h.destroyNode&&po(o,d,h,3,null,null),function fv(o){let d=o[fs];if(!d)return Wx(o[en],o);for(;d;){let h=null;if(ts(d))h=d[fs];else{const g=d[ps];g&&(h=g)}if(!h){for(;d&&!d[Ns]&&d!==o;)ts(d)&&Wx(d[en],d),d=d[rr];null===d&&(d=o),ts(d)&&Wx(d[en],d),h=d&&d[Ns]}d=h}}(d)}}function Wx(o,d){if(!(256&d[Sn])){d[Sn]&=-129,d[Sn]|=256,function tP(o,d){let h;if(null!=o&&null!=(h=o.destroyHooks))for(let g=0;g<h.length;g+=2){const b=d[h[g]];if(!(b instanceof Qn)){const E=h[g+1];if(Array.isArray(E))for(let k=0;k<E.length;k+=2){const B=b[E[k]],z=E[k+1];Fo(4,B,z);try{z.call(B)}finally{Fo(5,B,z)}}else{Fo(4,b,E);try{E.call(b)}finally{Fo(5,b,E)}}}}}(o,d),function eP(o,d){const h=o.cleanup,g=d[Vc];if(null!==h)for(let E=0;E<h.length-1;E+=2)if("string"==typeof h[E]){const k=h[E+3];k>=0?g[k]():g[-k].unsubscribe(),E+=2}else h[E].call(g[h[E+1]]);null!==g&&(d[Vc]=null);const b=d[Ua];if(null!==b){d[Ua]=null;for(let E=0;E<b.length;E++)(0,b[E])()}}(o,d),1===d[en].type&&d[On].destroy();const h=d[xh];if(null!==h&&Ss(d[rr])){h!==d[rr]&&Sd(h,d);const g=d[Qr];null!==g&&g.detachView(o)}!function uv(o){nf.delete(o[wa])}(d)}}function $x(o,d,h){return yS(o,d.parent,h)}function yS(o,d,h){let g=d;for(;null!==g&&40&g.type;)g=(d=g).parent;if(null===g)return h[ir];{const{componentOffset:b}=g;if(b>-1){const{encapsulation:E}=o.data[g.directiveStart+b];if(E===ks.None||E===ks.Emulated)return null}return gs(g,h)}}function gc(o,d,h,g,b){o.insertBefore(d,h,g,b)}function Yx(o,d,h){o.appendChild(d,h)}function db(o,d,h,g,b){null!==g?gc(o,d,h,g,b):Yx(o,d,h)}function pv(o,d){return o.parentNode(d)}function Zx(o,d,h){return gv(o,d,h)}function _S(o,d,h){return 40&o.type?gs(o,h):null}let Xx,gb,iC,mb,gv=_S;function bS(o,d){gv=o,Xx=d}function hb(o,d,h,g){const b=$x(o,g,d),E=d[On],B=Zx(g.parent||d[zr],g,d);if(null!=b)if(Array.isArray(h))for(let z=0;z<h.length;z++)db(E,b,h[z],B,!1);else db(E,b,h,B,!1);void 0!==Xx&&Xx(E,g,d,h,b)}function mv(o,d){if(null!==d){const h=d.type;if(3&h)return gs(d,o);if(4&h)return Kx(-1,o[d.index]);if(8&h){const g=d.child;if(null!==g)return mv(o,g);{const b=o[d.index];return Ss(b)?Kx(-1,b):Mi(b)}}if(32&h)return je(d,o)()||Mi(o[d.index]);{const g=wS(o,d);return null!==g?Array.isArray(g)?g[0]:mv(Ft(o[sr]),g):mv(o,d.next)}}return null}function wS(o,d){return null!==d?o[sr][zr].projection[d.projection]:null}function Kx(o,d){const h=ps+o+1;if(h<d.length){const g=d[h],b=g[en].firstChild;if(null!==b)return mv(g,b)}return d[Jr]}function Qx(o,d,h,g,b,E,k){for(;null!=h;){const B=g[h.index],z=h.type;if(k&&0===d&&(B&&Ls(Mi(B),g),h.flags|=2),32!=(32&h.flags))if(8&z)Qx(o,d,h.child,g,b,E,!1),hu(d,o,b,B,E);else if(32&z){const X=je(h,g);let se;for(;se=X();)hu(d,o,b,se,E);hu(d,o,b,B,E)}else 16&z?pb(o,d,g,h,b,E):hu(d,o,b,B,E);h=k?h.projectionNext:h.next}}function po(o,d,h,g,b,E){Qx(h,g,o.firstChild,d,b,E,!1)}function pb(o,d,h,g,b,E){const k=h[sr],z=k[zr].projection[g.projection];if(Array.isArray(z))for(let X=0;X<z.length;X++)hu(d,o,b,z[X],E);else{let X=z;const se=k[rr];wd(g)&&(X.flags|=128),Qx(o,d,X,se,b,E,!0)}}function eC(o,d,h){""===h?o.removeAttribute(d,"class"):o.setAttribute(d,"class",h)}function DS(o,d,h){const{mergedAttrs:g,classes:b,styles:E}=h;null!==g&&I(o,d,g),null!==b&&eC(o,d,b),null!==E&&function ES(o,d,h){o.setAttribute(d,"style",h)}(o,d,E)}function zo(o){return function tC(){if(void 0===gb&&(gb=null,di.trustedTypes))try{gb=di.trustedTypes.createPolicy("angular",{createHTML:o=>o,createScript:o=>o,createScriptURL:o=>o})}catch{}return gb}()?.createHTML(o)||o}function jo(o){iC=o}function pu(){if(void 0!==iC)return iC;if(typeof document<"u")return document;throw new _e(210,!1)}function af(){if(void 0===mb&&(mb=null,di.trustedTypes))try{mb=di.trustedTypes.createPolicy("angular#unsafe-bypass",{createHTML:o=>o,createScript:o=>o,createScriptURL:o=>o})}catch{}return mb}function SS(o){return af()?.createHTML(o)||o}function rC(o){return af()?.createScriptURL(o)||o}class lf{constructor(d){this.changingThisBreaksApplicationSecurity=d}toString(){return`SafeValue must use [property]=binding: ${this.changingThisBreaksApplicationSecurity} (see ${$t})`}}class sC extends lf{getTypeName(){return"HTML"}}class IS extends lf{getTypeName(){return"Style"}}class MS extends lf{getTypeName(){return"Script"}}class rP extends lf{getTypeName(){return"URL"}}class sP extends lf{getTypeName(){return"ResourceURL"}}function Zs(o){return o instanceof lf?o.changingThisBreaksApplicationSecurity:o}function Go(o,d){const h=function vb(o){return o instanceof lf&&o.getTypeName()||null}(o);if(null!=h&&h!==d){if("ResourceURL"===h&&"URL"===d)return!0;throw new Error(`Required a safe ${d}, got a ${h} (see ${$t})`)}return h===d}function oP(o){return new sC(o)}function aP(o){return new IS(o)}function Zp(o){return new MS(o)}function vv(o){return new rP(o)}function kS(o){return new sP(o)}function OS(o){const d=new lP(o);return function cP(){try{return!!(new window.DOMParser).parseFromString(zo(""),"text/html")}catch{return!1}}()?new NS(d):d}class NS{constructor(d){this.inertDocumentHelper=d}getInertBodyElement(d){d="<body><remove></remove>"+d;try{const h=(new window.DOMParser).parseFromString(zo(d),"text/html").body;return null===h?this.inertDocumentHelper.getInertBodyElement(d):(h.removeChild(h.firstChild),h)}catch{return null}}}class lP{constructor(d){this.defaultDoc=d,this.inertDocument=this.defaultDoc.implementation.createHTMLDocument("sanitization-inert")}getInertBodyElement(d){const h=this.inertDocument.createElement("template");return h.innerHTML=zo(d),h}}const uP=/^(?!javascript:)(?:[a-z0-9+.-]+:|[^&:\/?#]*(?:[\/?#]|$))/i;function yb(o){return(o=String(o)).match(uP)?o:"unsafe:"+o}function mc(o){const d={};for(const h of o.split(","))d[h]=!0;return d}function Xp(...o){const d={};for(const h of o)for(const g in h)h.hasOwnProperty(g)&&(d[g]=!0);return d}const yv=mc("area,br,col,hr,img,wbr"),_b=mc("colgroup,dd,dt,li,p,tbody,td,tfoot,th,thead,tr"),PS=mc("rp,rt"),oC=Xp(yv,Xp(_b,mc("address,article,aside,blockquote,caption,center,del,details,dialog,dir,div,dl,figure,figcaption,footer,h1,h2,h3,h4,h5,h6,header,hgroup,hr,ins,main,map,menu,nav,ol,pre,section,summary,table,ul")),Xp(PS,mc("a,abbr,acronym,audio,b,bdi,bdo,big,br,cite,code,del,dfn,em,font,i,img,ins,kbd,label,map,mark,picture,q,ruby,rp,rt,s,samp,small,source,span,strike,strong,sub,sup,time,track,tt,u,var,video")),Xp(PS,_b)),go=mc("background,cite,href,itemtype,longdesc,poster,src,xlink:href"),cf=Xp(go,mc("abbr,accesskey,align,alt,autoplay,axis,bgcolor,border,cellpadding,cellspacing,class,clear,color,cols,colspan,compact,controls,coords,datetime,default,dir,download,face,headers,height,hidden,hreflang,hspace,ismap,itemscope,itemprop,kind,label,lang,language,loop,media,muted,nohref,nowrap,open,preload,rel,rev,role,rows,rowspan,rules,scope,scrolling,shape,size,sizes,span,srclang,srcset,start,summary,tabindex,target,title,translate,type,usemap,valign,value,vspace,width"),mc("aria-activedescendant,aria-atomic,aria-autocomplete,aria-busy,aria-checked,aria-colcount,aria-colindex,aria-colspan,aria-controls,aria-current,aria-describedby,aria-details,aria-disabled,aria-dropeffect,aria-errormessage,aria-expanded,aria-flowto,aria-grabbed,aria-haspopup,aria-hidden,aria-invalid,aria-keyshortcuts,aria-label,aria-labelledby,aria-level,aria-live,aria-modal,aria-multiline,aria-multiselectable,aria-orientation,aria-owns,aria-placeholder,aria-posinset,aria-pressed,aria-readonly,aria-relevant,aria-required,aria-roledescription,aria-rowcount,aria-rowindex,aria-rowspan,aria-selected,aria-setsize,aria-sort,aria-valuemax,aria-valuemin,aria-valuenow,aria-valuetext")),FS=mc("script,style,template");class hP{constructor(){this.sanitizedSomething=!1,this.buf=[]}sanitizeChildren(d){let h=d.firstChild,g=!0;for(;h;)if(h.nodeType===Node.ELEMENT_NODE?g=this.startElement(h):h.nodeType===Node.TEXT_NODE?this.chars(h.nodeValue):this.sanitizedSomething=!0,g&&h.firstChild)h=h.firstChild;else for(;h;){h.nodeType===Node.ELEMENT_NODE&&this.endElement(h);let b=this.checkClobberedElement(h,h.nextSibling);if(b){h=b;break}h=this.checkClobberedElement(h,h.parentNode)}return this.buf.join("")}startElement(d){const h=d.nodeName.toLowerCase();if(!oC.hasOwnProperty(h))return this.sanitizedSomething=!0,!FS.hasOwnProperty(h);this.buf.push("<"),this.buf.push(h);const g=d.attributes;for(let b=0;b<g.length;b++){const E=g.item(b),k=E.name,B=k.toLowerCase();if(!cf.hasOwnProperty(B)){this.sanitizedSomething=!0;continue}let z=E.value;go[B]&&(z=yb(z)),this.buf.push(" ",k,'="',LS(z),'"')}return this.buf.push(">"),!0}endElement(d){const h=d.nodeName.toLowerCase();oC.hasOwnProperty(h)&&!yv.hasOwnProperty(h)&&(this.buf.push("</"),this.buf.push(h),this.buf.push(">"))}chars(d){this.buf.push(LS(d))}checkClobberedElement(d,h){if(h&&(d.compareDocumentPosition(h)&Node.DOCUMENT_POSITION_CONTAINED_BY)===Node.DOCUMENT_POSITION_CONTAINED_BY)throw new Error(`Failed to sanitize html because the element is clobbered: ${d.outerHTML}`);return h}}const fP=/[\uD800-\uDBFF][\uDC00-\uDFFF]/g,Al=/([^\#-~ |!])/g;function LS(o){return o.replace(/&/g,"&amp;").replace(fP,function(d){return"&#"+(1024*(d.charCodeAt(0)-55296)+(d.charCodeAt(1)-56320)+65536)+";"}).replace(Al,function(d){return"&#"+d.charCodeAt(0)+";"}).replace(/</g,"&lt;").replace(/>/g,"&gt;")}let bb;function BS(o,d){let h=null;try{bb=bb||OS(o);let g=d?String(d):"";h=bb.getInertBodyElement(g);let b=5,E=g;do{if(0===b)throw new Error("Failed to sanitize html because the input is unstable");b--,g=E,E=h.innerHTML,h=bb.getInertBodyElement(g)}while(g!==E);return zo((new hP).sanitizeChildren(aC(h)||h))}finally{if(h){const g=aC(h)||h;for(;g.firstChild;)g.removeChild(g.firstChild)}}}function aC(o){return"content"in o&&function VS(o){return o.nodeType===Node.ELEMENT_NODE&&"TEMPLATE"===o.nodeName}(o)?o.content:null}var Aa=function(o){return o[o.NONE=0]="NONE",o[o.HTML=1]="HTML",o[o.STYLE=2]="STYLE",o[o.SCRIPT=3]="SCRIPT",o[o.URL=4]="URL",o[o.RESOURCE_URL=5]="RESOURCE_URL",o}(Aa||{});function HS(o){const d=_v();return d?SS(d.sanitize(Aa.HTML,o)||""):Go(o,"HTML")?SS(Zs(o)):BS(pu(),Ge(o))}function lC(o){const d=_v();return d?d.sanitize(Aa.URL,o)||"":Go(o,"URL")?Zs(o):yb(Ge(o))}function US(o){const d=_v();if(d)return rC(d.sanitize(Aa.RESOURCE_URL,o)||"");if(Go(o,"ResourceURL"))return rC(Zs(o));throw new _e(904,!1)}function uC(o,d,h){return function cC(o,d){return"src"===d&&("embed"===o||"frame"===o||"iframe"===o||"media"===o||"script"===o)||"href"===d&&("base"===o||"link"===o)?US:lC}(d,h)(o)}function _v(){const o=wt();return o&&o[Xl].sanitizer}class Vi{constructor(d,h){this._desc=d,this.ngMetadataName="InjectionToken",this.\u0275prov=void 0,"number"==typeof h?this.__NG_ELEMENT_ID__=h:void 0!==h&&(this.\u0275prov=dn({token:this,providedIn:h.providedIn||"root",factory:h.factory}))}get multi(){return this}toString(){return`InjectionToken ${this._desc}`}}const Kp=new Vi("ENVIRONMENT_INITIALIZER"),jS=new Vi("INJECTOR",-1),GS=new Vi("INJECTOR_DEF_TYPES");class wb{get(d,h=Nt){if(h===Nt){const g=new Error(`NullInjectorError: No provider for ${He(d)}!`);throw g.name="NullInjectorError",g}return h}}function dC(o){return{\u0275providers:o}}function WS(...o){return{\u0275providers:$S(0,o),\u0275fromNgModule:!0}}function $S(o,...d){const h=[],g=new Set;let b;const E=k=>{h.push(k)};return hc(d,k=>{const B=k;bv(B,E,[],g)&&(b||=[],b.push(B))}),void 0!==b&&xb(b,E),h}function xb(o,d){for(let h=0;h<o.length;h++){const{ngModule:g,providers:b}=o[h];Cb(b,E=>{d(E,g)})}}function bv(o,d,h,g){if(!(o=xt(o)))return!1;let b=null,E=Xr(o);const k=!E&&Un(o);if(E||k){if(k&&!k.standalone)return!1;b=o}else{const z=o.ngModule;if(E=Xr(z),!E)return!1;b=z}const B=g.has(b);if(k){if(B)return!1;if(g.add(b),k.dependencies){const z="function"==typeof k.dependencies?k.dependencies():k.dependencies;for(const X of z)bv(X,d,h,g)}}else{if(!E)return!1;{if(null!=E.imports&&!B){let X;g.add(b);try{hc(E.imports,se=>{bv(se,d,h,g)&&(X||=[],X.push(se))})}finally{}void 0!==X&&xb(X,d)}if(!B){const X=fl(b)||(()=>new b);d({provide:b,useFactory:X,deps:J},b),d({provide:GS,useValue:b,multi:!0},b),d({provide:Kp,useValue:()=>Tn(b),multi:!0},b)}const z=E.providers;if(null!=z&&!B){const X=o;Cb(z,se=>{d(se,X)})}}}return b!==o&&void 0!==o.providers}function Cb(o,d){for(let h of o)me(h)&&(h=h.\u0275providers),Array.isArray(h)?Cb(h,d):d(h)}const IV=ye({provide:String,useValue:ye});function YS(o){return null!==o&&"object"==typeof o&&IV in o}function uf(o){return"function"==typeof o}const hC=new Vi("Set Injector scope."),Eb={},bP={};let fC;function wv(){return void 0===fC&&(fC=new wb),fC}class vc{}class pC extends vc{get destroyed(){return this._destroyed}constructor(d,h,g,b){super(),this.parent=h,this.source=g,this.scopes=b,this.records=new Map,this._ngOnDestroyHooks=new Set,this._onDestroyHooks=[],this._destroyed=!1,Il(d,k=>this.processProvider(k)),this.records.set(jS,Qp(void 0,this)),b.has("environment")&&this.records.set(vc,Qp(void 0,this));const E=this.records.get(hC);null!=E&&"string"==typeof E.value&&this.scopes.add(E.value),this.injectorDefTypes=new Set(this.get(GS.multi,J,yn.Self))}destroy(){this.assertNotDestroyed(),this._destroyed=!0;try{for(const h of this._ngOnDestroyHooks)h.ngOnDestroy();const d=this._onDestroyHooks;this._onDestroyHooks=[];for(const h of d)h()}finally{this.records.clear(),this._ngOnDestroyHooks.clear(),this.injectorDefTypes.clear()}}onDestroy(d){return this.assertNotDestroyed(),this._onDestroyHooks.push(d),()=>this.removeOnDestroy(d)}runInContext(d){this.assertNotDestroyed();const h=Kt(this),g=In(void 0);try{return d()}finally{Kt(h),In(g)}}get(d,h=Nt,g=yn.Default){if(this.assertNotDestroyed(),d.hasOwnProperty(w))return d[w](this);g=gr(g);const E=Kt(this),k=In(void 0);try{if(!(g&yn.SkipSelf)){let z=this.records.get(d);if(void 0===z){const X=function KS(o){return"function"==typeof o||"object"==typeof o&&o instanceof Vi}(d)&&Ui(d);z=X&&this.injectableDefInScope(X)?Qp(Db(d),Eb):null,this.records.set(d,z)}if(null!=z)return this.hydrate(d,z)}return(g&yn.Self?wv():this.parent).get(d,h=g&yn.Optional&&h===Nt?null:h)}catch(B){if("NullInjectorError"===B.name){if((B[mn]=B[mn]||[]).unshift(He(d)),E)throw B;return function Va(o,d,h,g){const b=o[mn];throw d[Fe]&&b.unshift(d[Fe]),o.message=function Lc(o,d,h,g=null){o=o&&"\n"===o.charAt(0)&&"\u0275"==o.charAt(1)?o.slice(2):o;let b=He(d);if(Array.isArray(d))b=d.map(He).join(" -> ");else if("object"==typeof d){let E=[];for(let k in d)if(d.hasOwnProperty(k)){let B=d[k];E.push(k+":"+("string"==typeof B?JSON.stringify(B):He(B)))}b=`{${E.join(", ")}}`}return`${h}${g?"("+g+")":""}[${b}]: ${o.replace(Ce,"\n  ")}`}("\n"+o.message,b,h,g),o.ngTokenPath=b,o[mn]=null,o}(B,d,"R3InjectorError",this.source)}throw B}finally{In(k),Kt(E)}}resolveInjectorInitializers(){const d=Kt(this),h=In(void 0);try{const b=this.get(Kp.multi,J,yn.Self);for(const E of b)E()}finally{Kt(d),In(h)}}toString(){const d=[],h=this.records;for(const g of h.keys())d.push(He(g));return`R3Injector[${d.join(", ")}]`}assertNotDestroyed(){if(this._destroyed)throw new _e(205,!1)}processProvider(d){let h=uf(d=xt(d))?d:xt(d&&d.provide);const g=function kV(o){return YS(o)?Qp(void 0,o.useValue):Qp(ZS(o),Eb)}(d);if(uf(d)||!0!==d.multi)this.records.get(h);else{let b=this.records.get(h);b||(b=Qp(void 0,Eb,!0),b.factory=()=>ci(b.multi),this.records.set(h,b)),h=d,b.multi.push(d)}this.records.set(h,g)}hydrate(d,h){return h.value===Eb&&(h.value=bP,h.value=h.factory()),"object"==typeof h.value&&h.value&&function XS(o){return null!==o&&"object"==typeof o&&"function"==typeof o.ngOnDestroy}(h.value)&&this._ngOnDestroyHooks.add(h.value),h.value}injectableDefInScope(d){if(!d.providedIn)return!1;const h=xt(d.providedIn);return"string"==typeof h?"any"===h||this.scopes.has(h):this.injectorDefTypes.has(h)}removeOnDestroy(d){const h=this._onDestroyHooks.indexOf(d);-1!==h&&this._onDestroyHooks.splice(h,1)}}function Db(o){const d=Ui(o),h=null!==d?d.factory:fl(o);if(null!==h)return h;if(o instanceof Vi)throw new _e(204,!1);if(o instanceof Function)return function MV(o){const d=o.length;if(d>0)throw Sl(d,"?"),new _e(204,!1);const h=function ds(o){return o&&(o[fr]||o[Eo])||null}(o);return null!==h?()=>h.factory(o):()=>new o}(o);throw new _e(204,!1)}function ZS(o,d,h){let g;if(uf(o)){const b=xt(o);return fl(b)||Db(b)}if(YS(o))g=()=>xt(o.useValue);else if(function qS(o){return!(!o||!o.useFactory)}(o))g=()=>o.useFactory(...ci(o.deps||[]));else if(function yP(o){return!(!o||!o.useExisting)}(o))g=()=>Tn(xt(o.useExisting));else{const b=xt(o&&(o.useClass||o.provide));if(!function Tb(o){return!!o.deps}(o))return fl(b)||Db(b);g=()=>new b(...ci(o.deps))}return g}function Qp(o,d,h=!1){return{factory:o,value:d,multi:h?[]:void 0}}function Il(o,d){for(const h of o)Array.isArray(h)?Il(h,d):h&&me(h)?Il(h.\u0275providers,d):d(h)}const gC=new Vi("AppId",{providedIn:"root",factory:()=>QS}),QS="ng",JS=new Vi("Platform Initializer"),mC=new Vi("Platform ID",{providedIn:"platform",factory:()=>"unknown"}),wP=new Vi("AnimationModuleType"),xP=new Vi("CSP nonce",{providedIn:"root",factory:()=>pu().body?.querySelector("[ngCspNonce]")?.getAttribute("ngCspNonce")||null});let TP=(o,d,h)=>null;function wC(o,d,h=!1){return TP(o,d,h)}class Mo{}class Ev{}class iA{resolveComponentFactory(d){throw function Xs(o){const d=Error(`No component factory found for ${He(o)}.`);return d.ngComponent=o,d}(d)}}let df=(()=>{class o{static#e=this.NULL=new iA}return o})();function rA(){return bs(rs(),wt())}function bs(o,d){return new Dv(gs(o,d))}let Dv=(()=>{class o{constructor(h){this.nativeElement=h}static#e=this.__NG_ELEMENT_ID__=rA}return o})();function Tv(o){return o instanceof Dv?o.nativeElement:o}class Sv{}let _c=(()=>{class o{constructor(){this.destroyNode=null}static#e=this.__NG_ELEMENT_ID__=()=>function TC(){const o=wt(),h=ms(rs().index,o);return(ts(h)?h:o)[On]}()}return o})(),SP=(()=>{class o{static#e=this.\u0275prov=dn({token:o,providedIn:"root",factory:()=>null})}return o})();class sA{constructor(d){this.full=d,this.major=d.split(".")[0],this.minor=d.split(".")[1],this.patch=d.split(".").slice(2).join(".")}}const hf=new sA("16.2.8"),Ob={};function tg(o,d=null,h=null,g){const b=uA(o,d,h,g);return b.resolveInjectorInitializers(),b}function uA(o,d=null,h=null,g,b=new Set){const E=[h||J,WS(o)];return g=g||("object"==typeof o?void 0:He(o)),new pC(E,d||wv(),g||null,b)}let Wo=(()=>{class o{static#e=this.THROW_IF_NOT_FOUND=Nt;static#t=this.NULL=new wb;static create(h,g){if(Array.isArray(h))return tg({name:""},g,h,"");{const b=h.name??"";return tg({name:b},h.parent,h.providers,b)}}static#n=this.\u0275prov=dn({token:o,providedIn:"any",factory:()=>Tn(jS)});static#i=this.__NG_ELEMENT_ID__=-1}return o})();function ng(o){return o.ngOriginalError}class bc{constructor(){this._console=console}handleError(d){const h=this._findOriginalError(d);this._console.error("ERROR",d),h&&this._console.error("ORIGINAL ERROR",h)}_findOriginalError(d){let h=d&&ng(d);for(;h&&ng(h);)h=ng(h);return h||null}}function ig(o){return d=>{setTimeout(o,void 0,d)}}const Qa=class fA extends a.x{constructor(d=!1){super(),this.__isAsync=d}emit(d){super.next(d)}subscribe(d,h,g){let b=d,E=h||(()=>null),k=g;if(d&&"object"==typeof d){const z=d;b=z.next?.bind(z),E=z.error?.bind(z),k=z.complete?.bind(z)}this.__isAsync&&(E=ig(E),b&&(b=ig(b)),k&&(k=ig(k)));const B=super.subscribe({next:b,error:E,complete:k});return d instanceof Le.w0&&d.add(B),B}};function Fb(...o){}class Vs{constructor({enableLongStackTrace:d=!1,shouldCoalesceEventChangeDetection:h=!1,shouldCoalesceRunChangeDetection:g=!1}){if(this.hasPendingMacrotasks=!1,this.hasPendingMicrotasks=!1,this.isStable=!0,this.onUnstable=new Qa(!1),this.onMicrotaskEmpty=new Qa(!1),this.onStable=new Qa(!1),this.onError=new Qa(!1),typeof Zone>"u")throw new _e(908,!1);Zone.assertZonePatched();const b=this;b._nesting=0,b._outer=b._inner=Zone.current,Zone.TaskTrackingZoneSpec&&(b._inner=b._inner.fork(new Zone.TaskTrackingZoneSpec)),d&&Zone.longStackTraceZoneSpec&&(b._inner=b._inner.fork(Zone.longStackTraceZoneSpec)),b.shouldCoalesceEventChangeDetection=!g&&h,b.shouldCoalesceRunChangeDetection=g,b.lastRequestAnimationFrameId=-1,b.nativeRequestAnimationFrame=function kC(){const o="function"==typeof di.requestAnimationFrame;let d=di[o?"requestAnimationFrame":"setTimeout"],h=di[o?"cancelAnimationFrame":"clearTimeout"];if(typeof Zone<"u"&&d&&h){const g=d[Zone.__symbol__("OriginalDelegate")];g&&(d=g);const b=h[Zone.__symbol__("OriginalDelegate")];b&&(h=b)}return{nativeRequestAnimationFrame:d,nativeCancelAnimationFrame:h}}().nativeRequestAnimationFrame,function vA(o){const d=()=>{!function mA(o){o.isCheckStableRunning||-1!==o.lastRequestAnimationFrameId||(o.lastRequestAnimationFrameId=o.nativeRequestAnimationFrame.call(di,()=>{o.fakeTopEventTask||(o.fakeTopEventTask=Zone.root.scheduleEventTask("fakeTopEventTask",()=>{o.lastRequestAnimationFrameId=-1,Av(o),o.isCheckStableRunning=!0,OC(o),o.isCheckStableRunning=!1},void 0,()=>{},()=>{})),o.fakeTopEventTask.invoke()}),Av(o))}(o)};o._inner=o._inner.fork({name:"angular",properties:{isAngularZone:!0},onInvokeTask:(h,g,b,E,k,B)=>{if(function Ks(o){return!(!Array.isArray(o)||1!==o.length)&&!0===o[0].data?.__ignore_ng_zone__}(B))return h.invokeTask(b,E,k,B);try{return NC(o),h.invokeTask(b,E,k,B)}finally{(o.shouldCoalesceEventChangeDetection&&"eventTask"===E.type||o.shouldCoalesceRunChangeDetection)&&d(),yA(o)}},onInvoke:(h,g,b,E,k,B,z)=>{try{return NC(o),h.invoke(b,E,k,B,z)}finally{o.shouldCoalesceRunChangeDetection&&d(),yA(o)}},onHasTask:(h,g,b,E)=>{h.hasTask(b,E),g===b&&("microTask"==E.change?(o._hasPendingMicrotasks=E.microTask,Av(o),OC(o)):"macroTask"==E.change&&(o.hasPendingMacrotasks=E.macroTask))},onHandleError:(h,g,b,E)=>(h.handleError(b,E),o.runOutsideAngular(()=>o.onError.emit(E)),!1)})}(b)}static isInAngularZone(){return typeof Zone<"u"&&!0===Zone.current.get("isAngularZone")}static assertInAngularZone(){if(!Vs.isInAngularZone())throw new _e(909,!1)}static assertNotInAngularZone(){if(Vs.isInAngularZone())throw new _e(909,!1)}run(d,h,g){return this._inner.run(d,h,g)}runTask(d,h,g,b){const E=this._inner,k=E.scheduleEventTask("NgZoneEvent: "+b,d,gA,Fb,Fb);try{return E.runTask(k,h,g)}finally{E.cancelTask(k)}}runGuarded(d,h,g){return this._inner.runGuarded(d,h,g)}runOutsideAngular(d){return this._outer.run(d)}}const gA={};function OC(o){if(0==o._nesting&&!o.hasPendingMicrotasks&&!o.isStable)try{o._nesting++,o.onMicrotaskEmpty.emit(null)}finally{if(o._nesting--,!o.hasPendingMicrotasks)try{o.runOutsideAngular(()=>o.onStable.emit(null))}finally{o.isStable=!0}}}function Av(o){o.hasPendingMicrotasks=!!(o._hasPendingMicrotasks||(o.shouldCoalesceEventChangeDetection||o.shouldCoalesceRunChangeDetection)&&-1!==o.lastRequestAnimationFrameId)}function NC(o){o._nesting++,o.isStable&&(o.isStable=!1,o.onUnstable.emit(null))}function yA(o){o._nesting--,OC(o)}class PC{constructor(){this.hasPendingMicrotasks=!1,this.hasPendingMacrotasks=!1,this.isStable=!0,this.onUnstable=new Qa,this.onMicrotaskEmpty=new Qa,this.onStable=new Qa,this.onError=new Qa}run(d,h,g){return d.apply(h,g)}runGuarded(d,h,g){return d.apply(h,g)}runOutsideAngular(d){return d()}runTask(d,h,g,b){return d.apply(h,g)}}const Lb=new Vi("",{providedIn:"root",factory:Bb});function Bb(){const o=Bn(Vs);let d=!0;const h=new re.y(b=>{d=o.isStable&&!o.hasPendingMacrotasks&&!o.hasPendingMicrotasks,o.runOutsideAngular(()=>{b.next(d),b.complete()})}),g=new re.y(b=>{let E;o.runOutsideAngular(()=>{E=o.onStable.subscribe(()=>{Vs.assertNotInAngularZone(),queueMicrotask(()=>{!d&&!o.hasPendingMacrotasks&&!o.hasPendingMicrotasks&&(d=!0,b.next(!0))})})});const k=o.onUnstable.subscribe(()=>{Vs.assertInAngularZone(),d&&(d=!1,o.runOutsideAngular(()=>{b.next(!1)}))});return()=>{E.unsubscribe(),k.unsubscribe()}});return(0,Oe.T)(h,g.pipe((0,ke.B)()))}function vu(o){return o instanceof Function?o():o}let ff=(()=>{class o{constructor(){this.renderDepth=0,this.handler=null}begin(){this.handler?.validateBegin(),this.renderDepth++}end(){this.renderDepth--,0===this.renderDepth&&this.handler?.execute()}ngOnDestroy(){this.handler?.destroy(),this.handler=null}static#e=this.\u0275prov=dn({token:o,providedIn:"root",factory:()=>new o})}return o})();function yu(o){for(;o;){o[Sn]|=64;const d=Ft(o);if(Ql(o)&&!d)return o;o=d}return null}const xA=new Vi("",{providedIn:"root",factory:()=>!1});let _u=null;function SA(o,d){return o[d]??BC()}function Nd(o,d){const h=BC();h.producerNode?.length&&(o[d]=_u,h.lView=o,_u=Mv())}const AA={...gl,consumerIsAlwaysLive:!0,consumerMarkedDirty:o=>{yu(o.lView)},lView:null};function Mv(){return Object.create(AA)}function BC(){return _u??=Mv(),_u}const zn={};function VC(o){ko(ni(),wt(),Bt()+o,!1)}function ko(o,d,h,g){if(!g)if(3==(3&d[Sn])){const E=o.preOrderCheckHooks;null!==E&&oc(d,E,h)}else{const E=o.preOrderHooks;null!==E&&ud(d,E,0,h)}Ea(h)}function pf(o,d=yn.Default){const h=wt();return null===h?Tn(o,d):El(rs(),h,xt(o),d)}function ag(){throw new Error("invalid")}function kv(o,d,h,g,b,E,k,B,z,X,se){const ve=d.blueprint.slice();return ve[ir]=b,ve[Sn]=140|g,(null!==X||o&&2048&o[Sn])&&(ve[Sn]|=2048),$m(ve),ve[rr]=ve[ba]=o,ve[Fi]=h,ve[Xl]=k||o&&o[Xl],ve[On]=B||o&&o[On],ve[_a]=z||o&&o[_a]||null,ve[zr]=E,ve[wa]=function sb(){return Cd++}(),ve[co]=se,ve[xa]=X,ve[sr]=2==d.type?o[sr]:ve,ve}function Pd(o,d,h,g,b){let E=o.data[d];if(null===E)E=Gb(o,d,h,g,b),function zh(){return Nn.lFrame.inI18n}()&&(E.flags|=32);else if(64&E.type){E.type=h,E.value=g,E.attrs=b;const k=sc();E.injectorIndex=null===k?-1:k.injectorIndex}return $a(E,!0),E}function Gb(o,d,h,g,b){const E=od(),k=wl(),z=o.data[d]=function OA(o,d,h,g,b,E){let k=d?d.injectorIndex:-1,B=0;return ra()&&(B|=128),{type:h,index:g,insertBeforeIndex:null,injectorIndex:k,directiveStart:-1,directiveEnd:-1,directiveStylingLast:-1,componentOffset:-1,propertyBindings:null,flags:B,providerIndexes:0,value:b,attrs:E,mergedAttrs:null,localNames:null,initialInputs:void 0,inputs:null,outputs:null,tView:null,next:null,prev:null,projectionNext:null,child:null,parent:d,projection:null,styles:null,stylesWithoutHost:null,residualStyles:void 0,classes:null,classesWithoutHost:null,residualClasses:void 0,classBindings:0,styleBindings:0}}(0,k?E:E&&E.parent,h,d,g,b);return null===o.firstChild&&(o.firstChild=z),null!==E&&(k?null==E.child&&null!==z.parent&&(E.child=z):null===E.next&&(E.next=z,z.prev=E)),z}function lg(o,d,h,g){if(0===h)return-1;const b=d.length;for(let E=0;E<h;E++)d.push(g),o.blueprint.push(g),o.data.push(null);return b}function cg(o,d,h,g,b){const E=SA(d,Hc),k=Bt(),B=2&g;try{Ea(-1),B&&d.length>$n&&ko(o,d,$n,!1),Fo(B?2:0,b);const X=B?E:null,se=pp(X);try{null!==X&&(X.dirty=!1),h(g,b)}finally{ns(X,se)}}finally{B&&null===d[Hc]&&Nd(d,Hc),Ea(k),Fo(B?3:1,b)}}function Ov(o,d,h){if(qu(d)){const g=Ws(null);try{const E=d.directiveEnd;for(let k=d.directiveStart;k<E;k++){const B=o.data[k];B.contentQueries&&B.contentQueries(1,h[k],k)}}finally{Ws(g)}}}function Nv(o,d,h){vs()&&(function vf(o,d,h,g){const b=h.directiveStart,E=h.directiveEnd;hl(h)&&function PP(o,d,h){const g=gs(d,o),b=Rv(h);let k=16;h.signals?k=4096:h.onPush&&(k=64);const B=Vv(o,kv(o,b,null,k,g,d,null,o[Xl].rendererFactory.createRenderer(g,h),null,null,null));o[d.index]=B}(d,h,o.data[b+h.componentOffset]),o.firstCreatePass||os(h,d),Ls(g,d);const k=h.initialInputs;for(let B=b;B<E;B++){const z=o.data[B],X=Dl(d,o,B,h);Ls(X,d),null!==k&&RP(0,B-b,X,z,0,k),Gs(z)&&(ms(h.index,d)[Fi]=Dl(d,o,B,h))}}(o,d,h,gs(h,d)),64==(64&h.flags)&&wc(o,d,h))}function Pv(o,d,h=gs){const g=d.localNames;if(null!==g){let b=d.index+1;for(let E=0;E<g.length;E+=2){const k=g[E+1],B=-1===k?h(d,o):o[k];o[b++]=B}}}function Rv(o){const d=o.tView;return null===d||d.incompleteFirstPass?o.tView=gf(1,null,o.template,o.decls,o.vars,o.directiveDefs,o.pipeDefs,o.viewQuery,o.schemas,o.consts,o.id):d}function gf(o,d,h,g,b,E,k,B,z,X,se){const ve=$n+g,Se=ve+b,Ue=function IA(o,d){const h=[];for(let g=0;g<d;g++)h.push(g<o?null:zn);return h}(ve,Se),ft="function"==typeof X?X():X;return Ue[en]={type:o,blueprint:Ue,template:h,queries:null,viewQuery:B,declTNode:d,data:Ue.slice().fill(null,ve),bindingStartIndex:ve,expandoStartIndex:Se,hostBindingOpCodes:null,firstCreatePass:!0,firstUpdatePass:!0,staticViewQueries:!1,staticContentQueries:!1,preOrderHooks:null,preOrderCheckHooks:null,contentHooks:null,contentCheckHooks:null,viewHooks:null,viewCheckHooks:null,destroyHooks:null,cleanup:null,contentQueries:null,components:null,directiveRegistry:"function"==typeof E?E():E,pipeRegistry:"function"==typeof k?k():k,firstChild:null,schemas:z,consts:ft,incompleteFirstPass:!1,ssrId:se}}let Fv=o=>null;function NA(o,d,h,g){for(let b in o)if(o.hasOwnProperty(b)){h=null===h?{}:h;const E=o[b];null===g?ug(h,d,b,E):g.hasOwnProperty(b)&&ug(h,d,g[b],E)}return h}function ug(o,d,h,g){o.hasOwnProperty(h)?o[h].push(d,g):o[h]=[d,g]}function vo(o,d,h,g,b,E,k,B){const z=gs(d,h);let se,X=d.inputs;!B&&null!=X&&(se=X[g])?(YC(o,h,se,g,b),hl(d)&&function mf(o,d){const h=ms(d,o);16&h[Sn]||(h[Sn]|=64)}(h,d.index)):3&d.type&&(g=function Wb(o){return"class"===o?"className":"for"===o?"htmlFor":"formaction"===o?"formAction":"innerHtml"===o?"innerHTML":"readonly"===o?"readOnly":"tabindex"===o?"tabIndex":o}(g),b=null!=k?k(b,d.value||"",g):b,E.setProperty(z,g,b))}function jC(o,d,h,g){if(vs()){const b=null===g?null:{"":-1},E=function Yb(o,d){const h=o.directiveRegistry;let g=null,b=null;if(h)for(let E=0;E<h.length;E++){const k=h[E];if($(d,k.selectors,!1))if(g||(g=[]),Gs(k))if(null!==k.findHostDirectiveDefs){const B=[];b=b||new Map,k.findHostDirectiveDefs(k,B,b),g.unshift(...B,k),qb(o,d,B.length)}else g.unshift(k),qb(o,d,0);else b=b||new Map,k.findHostDirectiveDefs?.(k,g,b),g.push(k)}return null===g?null:[g,b]}(o,h);let k,B;null===E?k=B=null:[k,B]=E,null!==k&&GC(o,d,h,k,b,B),b&&function wr(o,d,h){if(d){const g=o.localNames=[];for(let b=0;b<d.length;b+=2){const E=h[d[b+1]];if(null==E)throw new _e(-301,!1);g.push(d[b],E)}}}(h,g,b)}h.mergedAttrs=L(h.mergedAttrs,h.attrs)}function GC(o,d,h,g,b,E){for(let X=0;X<g.length;X++)cc(os(h,d),o,g[X].type);!function Lv(o,d,h){o.flags|=1,o.directiveStart=d,o.directiveEnd=d+h,o.providerIndexes=d}(h,o.data.length,g.length);for(let X=0;X<g.length;X++){const se=g[X];se.providersResolver&&se.providersResolver(se)}let k=!1,B=!1,z=lg(o,d,g.length,null);for(let X=0;X<g.length;X++){const se=g[X];h.mergedAttrs=L(h.mergedAttrs,se.hostAttrs),Bv(o,h,d,z,se),Zb(z,se,b),null!==se.contentQueries&&(h.flags|=4),(null!==se.hostBindings||null!==se.hostAttrs||0!==se.hostVars)&&(h.flags|=64);const ve=se.type.prototype;!k&&(ve.ngOnChanges||ve.ngOnInit||ve.ngDoCheck)&&((o.preOrderHooks??=[]).push(h.index),k=!0),!B&&(ve.ngOnChanges||ve.ngDoCheck)&&((o.preOrderCheckHooks??=[]).push(h.index),B=!0),z++}!function PA(o,d,h){const b=d.directiveEnd,E=o.data,k=d.attrs,B=[];let z=null,X=null;for(let se=d.directiveStart;se<b;se++){const ve=E[se],Se=h?h.get(ve):null,ft=Se?Se.outputs:null;z=NA(ve.inputs,se,z,Se?Se.inputs:null),X=NA(ve.outputs,se,X,ft);const kt=null===z||null===k||Q(d)?null:FP(z,se,k);B.push(kt)}null!==z&&(z.hasOwnProperty("class")&&(d.flags|=8),z.hasOwnProperty("style")&&(d.flags|=16)),d.initialInputs=B,d.inputs=z,d.outputs=X}(o,h,E)}function wc(o,d,h){const g=h.directiveStart,b=h.directiveEnd,E=h.index,k=function G_(){return Nn.lFrame.currentDirectiveIndex}();try{Ea(E);for(let B=g;B<b;B++){const z=o.data[B],X=d[B];ld(B),(null!==z.hostBindings||0!==z.hostVars||null!==z.hostAttrs)&&$b(z,X)}}finally{Ea(-1),ld(k)}}function $b(o,d){null!==o.hostBindings&&o.hostBindings(1,d)}function qb(o,d,h){d.componentOffset=h,(o.components??=[]).push(d.index)}function Zb(o,d,h){if(h){if(d.exportAs)for(let g=0;g<d.exportAs.length;g++)h[d.exportAs[g]]=o;Gs(d)&&(h[""]=o)}}function Bv(o,d,h,g,b){o.data[g]=b;const E=b.factory||(b.factory=fl(b.type)),k=new Qn(E,Gs(b),pf);o.blueprint[g]=k,h[g]=k,function RA(o,d,h,g,b){const E=b.hostBindings;if(E){let k=o.hostBindingOpCodes;null===k&&(k=o.hostBindingOpCodes=[]);const B=~d.index;(function NP(o){let d=o.length;for(;d>0;){const h=o[--d];if("number"==typeof h&&h<0)return h}return 0})(k)!=B&&k.push(B),k.push(h,g,E)}}(o,d,g,lg(o,h,b.hostVars,zn),b)}function kl(o,d,h,g,b,E){const k=gs(o,d);!function WC(o,d,h,g,b,E,k){if(null==E)o.removeAttribute(d,b,h);else{const B=null==k?Ge(E):k(E,g||"",b);o.setAttribute(d,b,B,h)}}(d[On],k,E,o.value,h,g,b)}function RP(o,d,h,g,b,E){const k=E[d];if(null!==k)for(let B=0;B<k.length;)FA(g,h,k[B++],k[B++],k[B++])}function FA(o,d,h,g,b){const E=Ws(null);try{const k=o.inputTransforms;null!==k&&k.hasOwnProperty(g)&&(b=k[g].call(d,b)),null!==o.setInput?o.setInput(d,b,h,g):d[g]=b}finally{Ws(E)}}function FP(o,d,h){let g=null,b=0;for(;b<h.length;){const E=h[b];if(0!==E)if(5!==E){if("number"==typeof E)break;if(o.hasOwnProperty(E)){null===g&&(g=[]);const k=o[E];for(let B=0;B<k.length;B+=2)if(k[B]===d){g.push(E,k[B+1],h[b+1]);break}}b+=2}else b+=2;else b+=4}return g}function dg(o,d,h,g){return[o,!0,!1,d,null,0,g,h,null,null,null]}function bu(o,d){const h=o.contentQueries;if(null!==h)for(let g=0;g<h.length;g+=2){const E=h[g+1];if(-1!==E){const k=o.data[E];Sp(h[g]),k.contentQueries(2,d[E],E)}}}function Vv(o,d){return o[fs]?o[wh][Ns]=d:o[fs]=d,o[wh]=d,d}function Xb(o,d,h){Sp(0);const g=Ws(null);try{d(o,h)}finally{Ws(g)}}function yf(o){return o[Vc]||(o[Vc]=[])}function LA(o){return o.cleanup||(o.cleanup=[])}function BA(o,d,h){return(null===o||Gs(o))&&(h=function Wa(o){for(;Array.isArray(o);){if("object"==typeof o[Kl])return o;o=o[ir]}return null}(h[d.index])),h[On]}function $C(o,d){const h=o[_a],g=h?h.get(bc,null):null;g&&g.handleError(d)}function YC(o,d,h,g,b){for(let E=0;E<h.length;){const k=h[E++],B=h[E++];FA(o.data[k],d[k],g,B,b)}}function xc(o,d,h){const g=_l(d,o);!function hv(o,d,h){o.setValue(d,h)}(o[On],g,h)}function VA(o,d){const h=ms(d,o),g=h[en];!function qC(o,d){for(let h=d.length;h<o.blueprint.length;h++)d.push(o.blueprint[h])}(g,h);const b=h[ir];null!==b&&null===h[co]&&(h[co]=wC(b,h[_a])),Hv(g,h,h[Fi])}function Hv(o,d,h){Ki(d);try{const g=o.viewQuery;null!==g&&Xb(1,g,h);const b=o.template;null!==b&&cg(o,d,b,1,h),o.firstCreatePass&&(o.firstCreatePass=!1),o.staticContentQueries&&bu(o,d),o.staticViewQueries&&Xb(2,o.viewQuery,h);const E=o.components;null!==E&&function HA(o,d){for(let h=0;h<d.length;h++)VA(o,d[h])}(d,E)}catch(g){throw o.firstCreatePass&&(o.incompleteFirstPass=!0,o.firstCreatePass=!1),g}finally{d[Sn]&=-5,ys()}}let ZC=(()=>{class o{constructor(){this.all=new Set,this.queue=new Map}create(h,g,b){const E=typeof Zone>"u"?null:Zone.current,k=function H_(o,d,h){const g=Object.create(Vm);h&&(g.consumerAllowSignalWrites=!0),g.fn=o,g.schedule=d;const b=k=>{g.cleanupFn=k};return g.ref={notify:()=>Gc(g),run:()=>{if(g.dirty=!1,g.hasRun&&!Ih(g))return;g.hasRun=!0;const k=pp(g);try{g.cleanupFn(),g.cleanupFn=Rh,g.fn(b)}finally{ns(g,k)}},cleanup:()=>g.cleanupFn()},g.ref}(h,X=>{this.all.has(X)&&this.queue.set(X,E)},b);let B;this.all.add(k),k.notify();const z=()=>{k.cleanup(),B?.(),this.all.delete(k),this.queue.delete(k)};return B=g?.onDestroy(z),{destroy:z}}flush(){if(0!==this.queue.size)for(const[h,g]of this.queue)this.queue.delete(h),g?g.run(()=>h.run()):h.run()}get isQueueEmpty(){return 0===this.queue.size}static#e=this.\u0275prov=dn({token:o,providedIn:"root",factory:()=>new o})}return o})();function Kb(o,d,h){let g=h?o.styles:null,b=h?o.classes:null,E=0;if(null!==d)for(let k=0;k<d.length;k++){const B=d[k];"number"==typeof B?E=B:1==E?b=St(b,B):2==E&&(g=St(g,B+": "+d[++k]+";"))}h?o.styles=g:o.stylesWithoutHost=g,h?o.classes=b:o.classesWithoutHost=b}function Uv(o,d,h,g,b=!1){for(;null!==h;){const E=d[h.index];null!==E&&g.push(Mi(E)),Ss(E)&&UA(E,g);const k=h.type;if(8&k)Uv(o,d,h.child,g);else if(32&k){const B=je(h,d);let z;for(;z=B();)g.push(z)}else if(16&k){const B=wS(d,h);if(Array.isArray(B))g.push(...B);else{const z=Ft(d[sr]);Uv(z[en],z,B,g,!0)}}h=b?h.projectionNext:h.next}return g}function UA(o,d){for(let h=ps;h<o.length;h++){const g=o[h],b=g[en].firstChild;null!==b&&Uv(g[en],g,b,d)}o[Jr]!==o[ir]&&d.push(o[Jr])}function _f(o,d,h,g=!0){const b=d[Xl],E=b.rendererFactory,k=b.afterRenderEventManager;E.begin?.(),k?.begin();try{e0(o,d,o.template,h)}catch(z){throw g&&$C(d,z),z}finally{E.end?.(),b.effectManager?.flush(),k?.end()}}function e0(o,d,h,g){const b=d[Sn];if(256!=(256&b)){d[Xl].effectManager?.flush(),Ki(d);try{$m(d),function Dp(o){return Nn.lFrame.bindingIndex=o}(o.bindingStartIndex),null!==h&&cg(o,d,h,2,g);const k=3==(3&b);if(k){const X=o.preOrderCheckHooks;null!==X&&oc(d,X,null)}else{const X=o.preOrderHooks;null!==X&&ud(d,X,0,null),Ta(d,0)}if(function zv(o){for(let d=_r(o);null!==d;d=Uo(d)){if(!d[Yu])continue;const h=d[es];for(let g=0;g<h.length;g++){Bh(h[g])}}}(d),XC(d,2),null!==o.contentQueries&&bu(o,d),k){const X=o.contentCheckHooks;null!==X&&oc(d,X)}else{const X=o.contentHooks;null!==X&&ud(d,X,1),Ta(d,1)}!function jb(o,d){const h=o.hostBindingOpCodes;if(null===h)return;const g=SA(d,za);try{for(let b=0;b<h.length;b++){const E=h[b];if(E<0)Ea(~E);else{const k=E,B=h[++b],z=h[++b];ad(B,k),g.dirty=!1;const X=pp(g);try{z(2,d[k])}finally{ns(g,X)}}}}finally{null===d[za]&&Nd(d,za),Ea(-1)}}(o,d);const B=o.components;null!==B&&$r(d,B,0);const z=o.viewQuery;if(null!==z&&Xb(2,z,g),k){const X=o.viewCheckHooks;null!==X&&oc(d,X)}else{const X=o.viewHooks;null!==X&&ud(d,X,2),Ta(d,2)}!0===o.firstUpdatePass&&(o.firstUpdatePass=!1),d[Sn]&=-73,ed(d)}finally{ys()}}}function XC(o,d){for(let h=_r(o);null!==h;h=Uo(h))for(let g=ps;g<h.length;g++)zA(h[g],d)}function jv(o,d,h){zA(ms(d,o),h)}function zA(o,d){if(!function rc(o){return 128==(128&o[Sn])}(o))return;const h=o[en],g=o[Sn];if(80&g&&0===d||1024&g||2===d)e0(h,o,h.template,o[Fi]);else if(o[cl]>0){XC(o,1);const b=h.components;null!==b&&$r(o,b,1)}}function $r(o,d,h){for(let g=0;g<d.length;g++)jv(o,d[g],h)}class hg{get rootNodes(){const d=this._lView,h=d[en];return Uv(h,d,h.firstChild,[])}constructor(d,h){this._lView=d,this._cdRefInjectingView=h,this._appRef=null,this._attachedToViewContainer=!1}get context(){return this._lView[Fi]}set context(d){this._lView[Fi]=d}get destroyed(){return 256==(256&this._lView[Sn])}destroy(){if(this._appRef)this._appRef.detachView(this);else if(this._attachedToViewContainer){const d=this._lView[rr];if(Ss(d)){const h=d[8],g=h?h.indexOf(this):-1;g>-1&&(Bs(d,g),qh(h,g))}this._attachedToViewContainer=!1}Gx(this._lView[en],this._lView)}onDestroy(d){!function Xi(o,d){if(256==(256&o[Sn]))throw new _e(911,!1);null===o[Ua]&&(o[Ua]=[]),o[Ua].push(d)}(this._lView,d)}markForCheck(){yu(this._cdRefInjectingView||this._lView)}detach(){this._lView[Sn]&=-129}reattach(){this._lView[Sn]|=128}detectChanges(){_f(this._lView[en],this._lView,this.context)}checkNoChanges(){}attachToViewContainerRef(){if(this._appRef)throw new _e(902,!1);this._attachedToViewContainer=!0}detachFromAppRef(){this._appRef=null,function pc(o,d){po(o,d,d[On],2,null,null)}(this._lView[en],this._lView)}attachToAppRef(d){if(this._attachedToViewContainer)throw new _e(902,!1);this._appRef=d}}class VP extends hg{constructor(d){super(d),this._view=d}detectChanges(){const d=this._view;_f(d[en],d,d[Fi],!1)}checkNoChanges(){}get context(){return null}}class jA extends df{constructor(d){super(),this.ngModule=d}resolveComponentFactory(d){const h=Un(d);return new fg(h,this.ngModule)}}function GA(o){const d=[];for(let h in o)o.hasOwnProperty(h)&&d.push({propName:o[h],templateName:h});return d}class $A{constructor(d,h){this.injector=d,this.parentInjector=h}get(d,h,g){g=gr(g);const b=this.injector.get(d,Ob,g);return b!==Ob||h===Ob?b:this.parentInjector.get(d,h,g)}}class fg extends Ev{get inputs(){const d=this.componentDef,h=d.inputTransforms,g=GA(d.inputs);if(null!==h)for(const b of g)h.hasOwnProperty(b.propName)&&(b.transform=h[b.propName]);return g}get outputs(){return GA(this.componentDef.outputs)}constructor(d,h){super(),this.componentDef=d,this.ngModule=h,this.componentType=d.type,this.selector=function yt(o){return o.map($e).join(",")}(d.selectors),this.ngContentSelectors=d.ngContentSelectors?d.ngContentSelectors:[],this.isBoundToModule=!!h}create(d,h,g,b){let E=(b=b||this.ngModule)instanceof vc?b:b?.injector;E&&null!==this.componentDef.getStandaloneInjector&&(E=this.componentDef.getStandaloneInjector(E)||E);const k=E?new $A(d,E):d,B=k.get(Sv,null);if(null===B)throw new _e(407,!1);const ve={rendererFactory:B,sanitizer:k.get(SP,null),effectManager:k.get(ZC,null),afterRenderEventManager:k.get(ff,null)},Se=B.createRenderer(null,this.componentDef),Ue=this.componentDef.selectors[0][0]||"div",ft=g?function OP(o,d,h,g){const E=g.get(xA,!1)||h===ks.ShadowDom,k=o.selectRootElement(d,E);return function HC(o){Fv(o)}(k),k}(Se,g,this.componentDef.encapsulation,k):Td(Se,Ue,function WA(o){const d=o.toLowerCase();return"svg"===d?bp:"math"===d?"math":null}(Ue)),xn=this.componentDef.signals?4608:this.componentDef.onPush?576:528;let Dt=null;null!==ft&&(Dt=wC(ft,k,!0));const Gn=gf(0,null,null,1,0,null,null,null,null,null,null),oi=kv(null,Gn,null,xn,null,null,ve,Se,k,null,Dt);let cr,pa;Ki(oi);try{const Pu=this.componentDef;let qf,Zf=null;Pu.findHostDirectiveDefs?(qf=[],Zf=new Map,Pu.findHostDirectiveDefs(Pu,qf,Zf),qf.push(Pu)):qf=[Pu];const p2=function YA(o,d){const h=o[en],g=$n;return o[g]=d,Pd(h,g,2,"#host",null)}(oi,ft),Ic=function Cc(o,d,h,g,b,E,k){const B=b[en];!function qA(o,d,h,g){for(const b of o)d.mergedAttrs=L(d.mergedAttrs,b.hostAttrs);null!==d.mergedAttrs&&(Kb(d,d.mergedAttrs,!0),null!==h&&DS(g,h,d))}(g,o,d,k);let z=null;null!==d&&(z=wC(d,b[_a]));const X=E.rendererFactory.createRenderer(d,h);let se=16;h.signals?se=4096:h.onPush&&(se=64);const ve=kv(b,Rv(h),null,se,b[o.index],o,E,X,null,null,z);return B.firstCreatePass&&qb(B,o,g.length-1),Vv(b,ve),b[o.index]=ve}(p2,ft,Pu,qf,oi,ve,Se);pa=Lh(Gn,$n),ft&&function ZA(o,d,h,g){if(g)I(o,h,["ng-version",hf.full]);else{const{attrs:b,classes:E}=function ot(o){const d=[],h=[];let g=1,b=2;for(;g<o.length;){let E=o[g];if("string"==typeof E)2===b?""!==E&&d.push(E,o[++g]):8===b&&h.push(E);else{if(!S(b))break;b=E}g++}return{attrs:d,classes:h}}(d.selectors[0]);b&&I(o,h,b),E&&E.length>0&&eC(o,h,E.join(" "))}}(Se,Pu,ft,g),void 0!==h&&function KC(o,d,h){const g=o.projection=[];for(let b=0;b<d.length;b++){const E=h[b];g.push(null!=E?Array.from(E):null)}}(pa,this.ngContentSelectors,h),cr=function HP(o,d,h,g,b,E){const k=rs(),B=b[en],z=gs(k,b);GC(B,b,k,h,null,g);for(let se=0;se<h.length;se++)Ls(Dl(b,B,k.directiveStart+se,k),b);wc(B,b,k),z&&Ls(z,b);const X=Dl(b,B,k.directiveStart+k.componentOffset,k);if(o[Fi]=b[Fi]=X,null!==E)for(const se of E)se(X,d);return Ov(B,k,o),X}(Ic,Pu,qf,Zf,oi,[Gv]),Hv(Gn,oi,null)}finally{ys()}return new t0(this.componentType,cr,bs(pa,oi),oi,pa)}}class t0 extends Mo{constructor(d,h,g,b,E){super(),this.location=g,this._rootLView=b,this._tNode=E,this.previousInputValues=null,this.instance=h,this.hostView=this.changeDetectorRef=new VP(b),this.componentType=d}setInput(d,h){const g=this._tNode.inputs;let b;if(null!==g&&(b=g[d])){if(this.previousInputValues??=new Map,this.previousInputValues.has(d)&&Object.is(this.previousInputValues.get(d),h))return;const E=this._rootLView;YC(E[en],E,b,d,h),this.previousInputValues.set(d,h),yu(ms(this._tNode.index,E))}}get injector(){return new ii(this._tNode,this._rootLView)}destroy(){this.hostView.destroy()}onDestroy(d){this.hostView.onDestroy(d)}}function Gv(){const o=rs();Da(wt()[en],o)}function Wv(o){let d=function QC(o){return Object.getPrototypeOf(o.prototype).constructor}(o.type),h=!0;const g=[o];for(;d;){let b;if(Gs(o))b=d.\u0275cmp||d.\u0275dir;else{if(d.\u0275cmp)throw new _e(903,!1);b=d.\u0275dir}if(b){if(h){g.push(b);const k=o;k.inputs=$v(o.inputs),k.inputTransforms=$v(o.inputTransforms),k.declaredInputs=$v(o.declaredInputs),k.outputs=$v(o.outputs);const B=b.hostBindings;B&&XA(o,B);const z=b.viewQuery,X=b.contentQueries;if(z&&r0(o,z),X&&UP(o,X),Ee(o.inputs,b.inputs),Ee(o.declaredInputs,b.declaredInputs),Ee(o.outputs,b.outputs),null!==b.inputTransforms&&(null===k.inputTransforms&&(k.inputTransforms={}),Ee(k.inputTransforms,b.inputTransforms)),Gs(b)&&b.data.animation){const se=o.data;se.animation=(se.animation||[]).concat(b.data.animation)}}const E=b.features;if(E)for(let k=0;k<E.length;k++){const B=E[k];B&&B.ngInherit&&B(o),B===Wv&&(h=!1)}}d=Object.getPrototypeOf(d)}!function n0(o){let d=0,h=null;for(let g=o.length-1;g>=0;g--){const b=o[g];b.hostVars=d+=b.hostVars,b.hostAttrs=L(b.hostAttrs,h=L(h,b.hostAttrs))}}(g)}function $v(o){return o===lo?{}:o===J?[]:o}function r0(o,d){const h=o.viewQuery;o.viewQuery=h?(g,b)=>{d(g,b),h(g,b)}:d}function UP(o,d){const h=o.contentQueries;o.contentQueries=h?(g,b,E)=>{d(g,b,E),h(g,b,E)}:d}function XA(o,d){const h=o.hostBindings;o.hostBindings=h?(g,b)=>{d(g,b),h(g,b)}:d}function s0(o){return d=>{d.findHostDirectiveDefs=o0,d.hostDirectives=(Array.isArray(o)?o:o()).map(h=>"function"==typeof h?{directive:xt(h),inputs:lo,outputs:lo}:{directive:xt(h.directive),inputs:JC(h.inputs),outputs:JC(h.outputs)})}}function o0(o,d,h){if(null!==o.hostDirectives)for(const g of o.hostDirectives){const b=Zi(g.directive);a0(b.declaredInputs,g.inputs),o0(b,d,h),h.set(b,g),d.push(b)}}function JC(o){if(void 0===o||0===o.length)return lo;const d={};for(let h=0;h<o.length;h+=2)d[o[h]]=o[h+1];return d}function a0(o,d){for(const h in d)d.hasOwnProperty(h)&&(o[d[h]]=o[h])}function Rd(o){const d=o.inputConfig,h={};for(const g in d)if(d.hasOwnProperty(g)){const b=d[g];Array.isArray(b)&&b[2]&&(h[g]=b[2])}o.inputTransforms=h}function qv(o){return!!pg(o)&&(Array.isArray(o)||!(o instanceof Map)&&Symbol.iterator in o)}function pg(o){return null!==o&&("function"==typeof o||"object"==typeof o)}function Ol(o,d,h){return o[d]=h}function gg(o,d){return o[d]}function ws(o,d,h){return!Object.is(o[d],h)&&(o[d]=h,!0)}function bf(o,d,h,g){const b=ws(o,d,h);return ws(o,d+1,g)||b}function ca(o,d,h,g,b){const E=bf(o,d,h,g);return ws(o,d+2,b)||E}function ua(o,d,h,g,b,E){const k=bf(o,d,h,g);return bf(o,d+2,b,E)||k}function Hi(o,d,h,g){const b=wt();return ws(b,xl(),d)&&(ni(),kl(Gi(),b,o,d,h,g)),Hi}function Fd(o,d,h,g){return ws(o,xl(),h)?d+Ge(h)+g:zn}function $o(o,d,h,g,b,E){const B=bf(o,function ho(){return Nn.lFrame.bindingIndex}(),h,b);return sa(2),B?d+Ge(h)+g+Ge(b)+E:zn}function rI(o,d,h,g,b,E,k,B){const z=wt(),X=ni(),se=o+$n,ve=X.firstCreatePass?function jV(o,d,h,g,b,E,k,B,z){const X=d.consts,se=Pd(d,o,4,k||null,$s(X,B));jC(d,h,se,$s(X,z)),Da(d,se);const ve=se.tView=gf(2,se,g,b,E,d.directiveRegistry,d.pipeRegistry,null,d.schemas,X,null);return null!==d.queries&&(d.queries.template(d,se),ve.queries=d.queries.embeddedTView(se)),se}(se,X,z,d,h,g,b,E,k):X.data[se];$a(ve,!1);const Se=c1(X,z,ve,o);Kn()&&hb(X,z,Se,ve),Ls(Se,z),Vv(z,z[se]=dg(Se,z,Se,ve)),uo(ve)&&Nv(X,z,ve),null!=k&&Pv(z,ve,B)}let c1=function jn(o,d,h,g){return Gr(!0),d[On].createComment("")};function bn(o){return bl(function Ym(){return Nn.lFrame.contextLView}(),$n+o)}function Ef(o,d,h){const g=wt();return ws(g,xl(),d)&&vo(ni(),Gi(),g,o,d,g[On],h,!1),Ef}function xi(o,d,h,g,b){const k=b?"class":"style";YC(o,h,d.inputs[k],k,g)}function Cr(o,d,h,g){const b=wt(),E=ni(),k=$n+o,B=b[On],z=E.firstCreatePass?function KP(o,d,h,g,b,E){const k=d.consts,z=Pd(d,o,2,g,$s(k,b));return jC(d,h,z,$s(k,E)),null!==z.attrs&&Kb(z,z.attrs,!1),null!==z.mergedAttrs&&Kb(z,z.mergedAttrs,!0),null!==d.queries&&d.queries.elementStart(d,z),z}(k,E,b,d,h,g):E.data[k],X=c0(E,b,z,B,d,o);b[k]=X;const se=uo(z);return $a(z,!0),DS(B,X,z),32!=(32&z.flags)&&Kn()&&hb(E,b,X,z),0===function td(){return Nn.lFrame.elementDepthCount}()&&Ls(X,b),function is(){Nn.lFrame.elementDepthCount++}(),se&&(Nv(E,b,z),Ov(E,z,b)),null!==g&&Pv(b,z),Cr}function qt(){let o=rs();wl()?Hh():(o=o.parent,$a(o,!1));const d=o;(function nd(o){return Nn.skipHydrationRootTNode===o})(d)&&function Vh(){Nn.skipHydrationRootTNode=null}(),function Ep(){Nn.lFrame.elementDepthCount--}();const h=ni();return h.firstCreatePass&&(Da(h,o),qu(o)&&h.queries.elementEnd(o)),null!=d.classesWithoutHost&&function Ip(o){return 0!=(8&o.flags)}(d)&&xi(h,d,wt(),d.classesWithoutHost,!0),null!=d.stylesWithoutHost&&function Mp(o){return 0!=(16&o.flags)}(d)&&xi(h,d,wt(),d.stylesWithoutHost,!1),qt}function bg(o,d,h,g){return Cr(o,d,h,g),qt(),bg}let c0=(o,d,h,g,b,E)=>(Gr(!0),Td(g,b,function Or(){return Nn.lFrame.currentNamespace}()));function d0(o,d,h){const g=wt(),b=ni(),E=o+$n,k=b.firstCreatePass?function u0(o,d,h,g,b){const E=d.consts,k=$s(E,g),B=Pd(d,o,8,"ng-container",k);return null!==k&&Kb(B,k,!0),jC(d,h,B,$s(E,b)),null!==d.queries&&d.queries.elementStart(d,B),B}(E,b,g,d,h):b.data[E];$a(k,!0);const B=u1(b,g,k,o);return g[E]=B,Kn()&&hb(b,g,B,k),Ls(B,g),uo(k)&&(Nv(b,g,k),Ov(b,k,g)),null!=h&&Pv(g,k),d0}function Hd(){let o=rs();const d=ni();return wl()?Hh():(o=o.parent,$a(o,!1)),d.firstCreatePass&&(Da(d,o),qu(o)&&d.queries.elementEnd(o)),Hd}function h0(o,d,h){return d0(o,d,h),Hd(),h0}let u1=(o,d,h,g)=>(Gr(!0),sf(d[On],""));function h1(){return wt()}function f0(o){return!!o&&"function"==typeof o.then}function wu(o){return!!o&&"function"==typeof o.subscribe}function ey(o,d,h,g){const b=wt(),E=ni(),k=rs();return function el(o,d,h,g,b,E,k){const B=uo(g),X=o.firstCreatePass&&LA(o),se=d[Fi],ve=yf(d);let Se=!0;if(3&g.type||k){const kt=gs(g,d),Qt=k?k(kt):kt,xn=ve.length,Dt=k?oi=>k(Mi(oi[g.index])):g.index;let Gn=null;if(!k&&B&&(Gn=function p0(o,d,h,g){const b=o.cleanup;if(null!=b)for(let E=0;E<b.length-1;E+=2){const k=b[E];if(k===h&&b[E+1]===g){const B=d[Vc],z=b[E+2];return B.length>z?B[z]:null}"string"==typeof k&&(E+=2)}return null}(o,d,b,g.index)),null!==Gn)(Gn.__ngLastListenerFn__||Gn).__ngNextListenerFn__=E,Gn.__ngLastListenerFn__=E,Se=!1;else{E=wg(g,d,se,E,!1);const oi=h.listen(Qt,b,E);ve.push(E,oi),X&&X.push(b,Dt,xn,xn+1)}}else E=wg(g,d,se,E,!1);const Ue=g.outputs;let ft;if(Se&&null!==Ue&&(ft=Ue[b])){const kt=ft.length;if(kt)for(let Qt=0;Qt<kt;Qt+=2){const cr=d[ft[Qt]][ft[Qt+1]].subscribe(E),pa=ve.length;ve.push(E,cr),X&&X.push(b,g.index,pa,-(pa+1))}}}(E,b,b[On],k,o,d,g),ey}function oI(o,d,h,g){try{return Fo(6,d,h),!1!==h(g)}catch(b){return $C(o,b),!1}finally{Fo(7,d,h)}}function wg(o,d,h,g,b){return function E(k){if(k===Function)return g;yu(o.componentOffset>-1?ms(o.index,d):d);let z=oI(d,h,g,k),X=E.__ngNextListenerFn__;for(;X;)z=oI(d,h,X,k)&&z,X=X.__ngNextListenerFn__;return b&&!1===z&&k.preventDefault(),z}}function xu(o=1){return function Cl(o){return(Nn.lFrame.contextLView=function Bi(o,d){for(;o>0;)d=d[ba],o--;return d}(o,Nn.lFrame.contextLView))[Fi]}(o)}function JP(o,d){let h=null;const g=function te(o){const d=o.attrs;if(null!=d){const h=d.indexOf(5);if(!(1&h))return d[h+1]}return null}(o);for(let b=0;b<d.length;b++){const E=d[b];if("*"!==E){if(null===g?$(o,E,!0):Ie(g,E))return b}else h=b}return h}function Ud(o){const d=wt()[sr][zr];if(!d.projection){const g=d.projection=Sl(o?o.length:1,null),b=g.slice();let E=d.child;for(;null!==E;){const k=o?JP(E,o):0;null!==k&&(b[k]?b[k].projectionNext=E:g[k]=E,b[k]=E),E=E.next}}}function f1(o,d=0,h){const g=wt(),b=ni(),E=Pd(b,$n+o,16,null,h||null);null===E.projection&&(E.projection=d),Hh(),(!g[co]||ra())&&32!=(32&E.flags)&&function Jx(o,d,h){pb(d[On],0,d,h,$x(o,h,d),Zx(h.parent||d[zr],h,d))}(b,g,E)}function ty(o,d,h){return g0(o,"",d,"",h),ty}function g0(o,d,h,g,b){const E=wt(),k=Fd(E,d,h,g);return k!==zn&&vo(ni(),Gi(),E,o,k,E[On],b,!1),g0}function Na(o,d){return o<<17|d<<2}function Cu(o){return o>>17&32767}function m1(o){return 2|o}function Tf(o){return(131068&o)>>2}function v1(o,d){return-131069&o|d<<2}function y1(o){return 1|o}function uI(o,d,h,g,b){const E=o[h+1],k=null===d;let B=g?Cu(E):Tf(E),z=!1;for(;0!==B&&(!1===z||k);){const se=o[B+1];iR(o[B],d)&&(z=!0,o[B+1]=g?y1(se):m1(se)),B=g?Cu(se):Tf(se)}z&&(o[h+1]=g?m1(E):y1(E))}function iR(o,d){return null===o||null==d||(Array.isArray(o)?o[1]:o)===d||!(!Array.isArray(o)||"string"!=typeof d)&&ou(o,d)>=0}const Hs={textEnd:0,key:0,keyEnd:0,value:0,valueEnd:0};function dI(o){return o.substring(Hs.key,Hs.keyEnd)}function _1(o,d){const h=Hs.textEnd;return h===d?-1:(d=Hs.keyEnd=function x1(o,d,h){for(;d<h&&o.charCodeAt(d)>32;)d++;return d}(o,Hs.key=d,h),Eg(o,d,h))}function Eg(o,d,h){for(;d<h&&o.charCodeAt(d)<=32;)d++;return d}function Dg(o,d,h){return tl(o,d,h,!1),Dg}function Us(o,d){return tl(o,d,null,!0),Us}function Sf(o){!function Pl(o,d,h,g){const b=ni(),E=sa(2);b.firstUpdatePass&&fI(b,null,E,g);const k=wt();if(h!==zn&&ws(k,E,h)){const B=b.data[Bt()];if(D1(B,g)&&!Is(b,E)){let z=g?B.classesWithoutHost:B.stylesWithoutHost;null!==z&&(h=St(z,h||"")),xi(b,B,k,h,g)}else!function y0(o,d,h,g,b,E,k,B){b===zn&&(b=J);let z=0,X=0,se=0<b.length?b[0]:null,ve=0<E.length?E[0]:null;for(;null!==se||null!==ve;){const Se=z<b.length?b[z+1]:void 0,Ue=X<E.length?E[X+1]:void 0;let kt,ft=null;se===ve?(z+=2,X+=2,Se!==Ue&&(ft=ve,kt=Ue)):null===ve||null!==se&&se<ve?(z+=2,ft=se):(X+=2,ft=ve,kt=Ue),null!==ft&&Su(o,d,h,g,ft,kt,k,B),se=z<b.length?b[z]:null,ve=X<E.length?E[X]:null}}(b,B,k,k[On],k[E+1],k[E+1]=function aR(o,d,h){if(null==h||""===h)return J;const g=[],b=Zs(h);if(Array.isArray(b))for(let E=0;E<b.length;E++)o(g,b[E],!0);else if("object"==typeof b)for(const E in b)b.hasOwnProperty(E)&&o(g,E,b[E]);else"string"==typeof b&&d(g,b);return g}(o,d,h),g,E)}}(Gd,Yr,o,!0)}function Yr(o,d){for(let h=function sR(o){return function w1(o){Hs.key=0,Hs.keyEnd=0,Hs.value=0,Hs.valueEnd=0,Hs.textEnd=o.length}(o),_1(o,Eg(o,0,Hs.textEnd))}(d);h>=0;h=_1(d,h))qs(o,dI(d),!0)}function tl(o,d,h,g){const b=wt(),E=ni(),k=sa(2);E.firstUpdatePass&&fI(E,o,k,g),d!==zn&&ws(b,k,d)&&Su(E,E.data[Bt()],b,b[On],o,b[k+1]=function $d(o,d){return null==o||""===o||("string"==typeof d?o+=d:"object"==typeof o&&(o=He(Zs(o)))),o}(d,h),g,k)}function Is(o,d){return d>=o.expandoStartIndex}function fI(o,d,h,g){const b=o.data;if(null===b[h+1]){const E=b[Bt()],k=Is(o,h);D1(E,g)&&null===d&&!k&&(d=!1),d=function jd(o,d,h,g){const b=Tp(o);let E=g?d.residualClasses:d.residualStyles;if(null===b)0===(g?d.classBindings:d.styleBindings)&&(h=Du(h=Tg(null,o,d,h,g),d.attrs,g),E=null);else{const k=d.directiveStylingLast;if(-1===k||o[k]!==b)if(h=Tg(b,o,d,h,g),null===E){let z=function ls(o,d,h){const g=h?d.classBindings:d.styleBindings;if(0!==Tf(g))return o[Cu(g)]}(o,d,g);void 0!==z&&Array.isArray(z)&&(z=Tg(null,o,d,z[1],g),z=Du(z,d.attrs,g),function Eu(o,d,h,g){o[Cu(h?d.classBindings:d.styleBindings)]=g}(o,d,g,z))}else E=function v0(o,d,h){let g;const b=d.directiveEnd;for(let E=1+d.directiveStylingLast;E<b;E++)g=Du(g,o[E].hostAttrs,h);return Du(g,d.attrs,h)}(o,d,g)}return void 0!==E&&(g?d.residualClasses=E:d.residualStyles=E),h}(b,E,d,g),function tR(o,d,h,g,b,E){let k=E?d.classBindings:d.styleBindings,B=Cu(k),z=Tf(k);o[g]=h;let se,X=!1;if(Array.isArray(h)?(se=h[1],(null===se||ou(h,se)>0)&&(X=!0)):se=h,b)if(0!==z){const Se=Cu(o[B+1]);o[g+1]=Na(Se,B),0!==Se&&(o[Se+1]=v1(o[Se+1],g)),o[B+1]=function cI(o,d){return 131071&o|d<<17}(o[B+1],g)}else o[g+1]=Na(B,0),0!==B&&(o[B+1]=v1(o[B+1],g)),B=g;else o[g+1]=Na(z,0),0===B?B=g:o[z+1]=v1(o[z+1],g),z=g;X&&(o[g+1]=m1(o[g+1])),uI(o,se,g,!0),uI(o,se,g,!1),function nR(o,d,h,g,b){const E=b?o.residualClasses:o.residualStyles;null!=E&&"string"==typeof d&&ou(E,d)>=0&&(h[g+1]=y1(h[g+1]))}(d,se,o,g,E),k=Na(B,z),E?d.classBindings=k:d.styleBindings=k}(b,E,d,h,k,g)}}function Tg(o,d,h,g,b){let E=null;const k=h.directiveEnd;let B=h.directiveStylingLast;for(-1===B?B=h.directiveStart:B++;B<k&&(E=d[B],g=Du(g,E.hostAttrs,b),E!==o);)B++;return null!==o&&(h.directiveStylingLast=B),g}function Du(o,d,h){const g=h?1:2;let b=-1;if(null!==d)for(let E=0;E<d.length;E++){const k=d[E];"number"==typeof k?b=k:b===g&&(Array.isArray(o)||(o=void 0===o?[]:["",o]),qs(o,k,!!h||d[++E]))}return void 0===o?null:o}function Gd(o,d,h){const g=String(d);""!==g&&!g.includes(" ")&&qs(o,g,h)}function Su(o,d,h,g,b,E,k,B){if(!(3&d.type))return;const z=o.data,X=z[B+1],se=function eR(o){return 1==(1&o)}(X)?Rl(z,d,h,b,Tf(X),k):void 0;Wd(se)||(Wd(E)||function m0(o){return 2==(2&o)}(X)&&(E=Rl(z,null,h,b,B,k)),function nP(o,d,h,g,b){if(d)b?o.addClass(h,g):o.removeClass(h,g);else{let E=-1===g.indexOf("-")?void 0:cu.DashCase;null==b?o.removeStyle(h,g,E):("string"==typeof b&&b.endsWith("!important")&&(b=b.slice(0,-10),E|=cu.Important),o.setStyle(h,g,b,E))}}(g,k,_l(Bt(),h),b,E))}function Rl(o,d,h,g,b,E){const k=null===d;let B;for(;b>0;){const z=o[b],X=Array.isArray(z),se=X?z[1]:z,ve=null===se;let Se=h[b+1];Se===zn&&(Se=ve?J:void 0);let Ue=ve?Zh(Se,g):se===g?Se:void 0;if(X&&!Wd(Ue)&&(Ue=Zh(z,g)),Wd(Ue)&&(B=Ue,k))return B;const ft=o[b+1];b=k?Cu(ft):Tf(ft)}if(null!==d){let z=E?d.residualClasses:d.residualStyles;null!=z&&(B=Zh(z,g))}return B}function Wd(o){return void 0!==o}function D1(o,d){return 0!=(o.flags&(d?8:16))}function Af(o,d=""){const h=wt(),g=ni(),b=o+$n,E=g.firstCreatePass?Pd(g,b,1,d,null):g.data[b],k=_0(g,h,E,d,o);h[b]=k,Kn()&&hb(g,h,k,E),$a(E,!1)}let _0=(o,d,h,g,b)=>(Gr(!0),Dd(d[On],g));function ny(o){return Yd("",o,""),ny}function Yd(o,d,h){const g=wt(),b=Fd(g,o,d,h);return b!==zn&&xc(g,Bt(),b),Yd}function w0(o,d,h,g,b){const E=wt(),k=$o(E,o,d,h,g,b);return k!==zn&&xc(E,Bt(),k),w0}function F1(o,d,h){const g=wt();return ws(g,xl(),d)&&vo(ni(),Gi(),g,o,d,g[On],h,!0),F1}function L1(o,d,h){const g=wt();if(ws(g,xl(),d)){const E=ni(),k=Gi();vo(E,k,g,o,d,BA(Tp(E.data),k,g),h,!0)}return L1}const Au=void 0;var ry=["en",[["a","p"],["AM","PM"],Au],[["AM","PM"],Au,Au],[["S","M","T","W","T","F","S"],["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],["Su","Mo","Tu","We","Th","Fr","Sa"]],Au,[["J","F","M","A","M","J","J","A","S","O","N","D"],["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],["January","February","March","April","May","June","July","August","September","October","November","December"]],Au,[["B","A"],["BC","AD"],["Before Christ","Anno Domini"]],0,[6,0],["M/d/yy","MMM d, y","MMMM d, y","EEEE, MMMM d, y"],["h:mm a","h:mm:ss a","h:mm:ss a z","h:mm:ss a zzzz"],["{1}, {0}",Au,"{1} 'at' {0}",Au],[".",",",";","%","+","-","E","\xd7","\u2030","\u221e","NaN",":"],["#,##0.###","#,##0%","\xa4#,##0.00","#E0"],"USD","$","US Dollar",{},"ltr",function Mf(o){const h=Math.floor(Math.abs(o)),g=o.toString().replace(/^[^.]*\.?/,"").length;return 1===h&&0===g?1:5}];let Iu={};function x0(o,d,h){"string"!=typeof d&&(h=d,d=o[kf.LocaleId]),d=d.toLowerCase().replace(/_/g,"-"),Iu[d]=o,h&&(Iu[d][kf.ExtraData]=h)}function C0(o){const d=function V1(o){return o.toLowerCase().replace(/_/g,"-")}(o);let h=B1(d);if(h)return h;const g=d.split("-")[0];if(h=B1(g),h)return h;if("en"===g)return ry;throw new _e(701,!1)}function Ec(o){return C0(o)[kf.PluralCase]}function B1(o){return o in Iu||(Iu[o]=di.ng&&di.ng.common&&di.ng.common.locales&&di.ng.common.locales[o]),Iu[o]}var kf=function(o){return o[o.LocaleId=0]="LocaleId",o[o.DayPeriodsFormat=1]="DayPeriodsFormat",o[o.DayPeriodsStandalone=2]="DayPeriodsStandalone",o[o.DaysFormat=3]="DaysFormat",o[o.DaysStandalone=4]="DaysStandalone",o[o.MonthsFormat=5]="MonthsFormat",o[o.MonthsStandalone=6]="MonthsStandalone",o[o.Eras=7]="Eras",o[o.FirstDayOfWeek=8]="FirstDayOfWeek",o[o.WeekendRange=9]="WeekendRange",o[o.DateFormat=10]="DateFormat",o[o.TimeFormat=11]="TimeFormat",o[o.DateTimeFormat=12]="DateTimeFormat",o[o.NumberSymbols=13]="NumberSymbols",o[o.NumberFormats=14]="NumberFormats",o[o.CurrencyCode=15]="CurrencyCode",o[o.CurrencySymbol=16]="CurrencySymbol",o[o.CurrencyName=17]="CurrencyName",o[o.Currencies=18]="Currencies",o[o.Directionality=19]="Directionality",o[o.PluralCase=20]="PluralCase",o[o.ExtraData=21]="ExtraData",o}(kf||{});const nl="en-US",Mg={marker:"element"},Of={marker:"ICU"};var to=function(o){return o[o.SHIFT=2]="SHIFT",o[o.APPEND_EAGERLY=1]="APPEND_EAGERLY",o[o.COMMENT=2]="COMMENT",o}(to||{});let D0=nl;function kg(o){(function Ot(o,d){null==o&&Rt(d,o,null,"!=")})(o,"Expected localeId to be defined"),"string"==typeof o&&(D0=o.toLowerCase().replace(/_/g,"-"))}function U1(o,d,h){const g=d.insertBeforeIndex,b=Array.isArray(g)?g[0]:g;return null===b?_S(o,0,h):Mi(h[b])}function II(o,d,h,g,b){const E=d.insertBeforeIndex;if(Array.isArray(E)){let k=g,B=null;if(3&d.type||(B=k,k=b),null!==k&&-1===d.componentOffset)for(let z=1;z<E.length;z++)gc(o,k,h[E[z]],B,!1)}}function Dc(o,d){if(o.push(d),o.length>1)for(let h=o.length-2;h>=0;h--){const g=o[h];MI(g)||fa(g,d)&&null===kI(g)&&oy(g,d.index)}}function MI(o){return!(64&o.type)}function fa(o,d){return MI(d)||o.index>d.index}function kI(o){const d=o.insertBeforeIndex;return Array.isArray(d)?d[0]:d}function oy(o,d){const h=o.insertBeforeIndex;Array.isArray(h)?h[0]=d:(bS(U1,II),o.insertBeforeIndex=d)}function ay(o,d,h){const g=Gb(o,h,64,null,null);return Dc(d,g),g}function LI(){const o=[];let h,g,d=-1;function E(B,z){d=0;const X=function T0(o,d){const h=d[o.currentCaseLViewIndex];return null===h?h:h<0?~h:h}(B,z);g=null!==X?B.remove[X]:J}function k(){if(d<g.length){const B=g[d++];return B>0?h[B]:(o.push(d,g),E(h[en].data[~B],h),k())}return 0===o.length?null:(g=o.pop(),d=o.pop(),k())}return function b(B,z){for(h=z;o.length;)o.pop();return E(B.value,z),k}}const I0=/\ufffd(\d+):?\d*\ufffd/gi,M0=/\ufffd(\d+)\ufffd/,cy=/^\s*(\ufffd\d+:?\d*\ufffd)\s*,\s*(select|plural)\s*,/,Rg="\ufffd",pR=/\ufffd\/?\*(\d+:\d+)\ufffd/gi,uy=/\ufffd(\/?[#*]\d+):?\d*\ufffd/gi,gR=/\uE500/g;function W1(o,d,h,g,b,E,k){const B=lg(o,g,1,null);let z=B<<to.SHIFT,X=sc();d===X&&(X=null),null===X&&(z|=to.APPEND_EAGERLY),k&&(z|=to.COMMENT,function Tt(o){void 0===Te&&(Te=o())}(LI)),b.push(z,null===E?"":E);const se=Gb(o,B,k?32:1,null===E?"":E,null);Dc(h,se);const ve=se.index;return $a(se,!1),null!==X&&d!==X&&function OI(o,d){let h=o.insertBeforeIndex;null===h?(bS(U1,II),h=o.insertBeforeIndex=[null,d]):(function Li(o,d,h){o!=d&&Rt(h,o,d,"==")}(Array.isArray(h),!0,"Expecting array here"),h.push(d))}(X,ve),se}function HI(o,d,h,g,b,E,k){const B=k.match(I0),z=W1(o,d,h,E,g,B?null:k,!1);B&&Sc(b,k,z.index,null,0,null)}function Sc(o,d,h,g,b,E){const k=o.length,B=k+1;o.push(null,null);const z=k+2,X=d.split(I0);let se=0;for(let ve=0;ve<X.length;ve++){const Se=X[ve];if(1&ve){const Ue=b+parseInt(Se,10);o.push(-1-Ue),se|=k0(Ue)}else""!==Se&&o.push(Se)}return o.push(h<<2|(g?1:0)),g&&o.push(g,E),o[k]=se,o[B]=o.length-z,se}function k0(o){return 1<<Math.min(o,31)}function O0(o){let d,E,h="",g=0,b=!1;for(;null!==(d=pR.exec(o));)b?d[0]===`${Rg}/*${E}${Rg}`&&(g=d.index,b=!1):(h+=o.substring(g,d.index+d[0].length),E=d[1],b=!0);return h+=o.slice(g),h}function zI(o,d,h,g,b,E){let k=0;const B={type:b.type,currentCaseLViewIndex:lg(o,d,1,null),anchorIdx:E,cases:[],create:[],remove:[],update:[]};(function GI(o,d,h){o.push(k0(d.mainBinding),2,-1-d.mainBinding,h<<2|2)})(h,b,E),function Tc(o,d,h){const g=o.data[d];null===g?o.data[d]=h:g.value=h}(o,E,B);const z=b.values;for(let X=0;X<z.length;X++){const se=z[X],ve=[];for(let Se=0;Se<se.length;Se++){const Ue=se[Se];if("string"!=typeof Ue){const ft=ve.push(Ue)-1;se[Se]=`\x3c!--\ufffd${ft}\ufffd--\x3e`}}k=jI(o,B,d,h,g,b.cases[X],se.join(""),ve)|k}k&&function vR(o,d,h){o.push(d,1,h<<2|3)}(h,k,E)}function Ms(o){const d=[],h=[];let g=1,b=0;const E=Ei(o=o.replace(cy,function(k,B,z){return g="select"===z?0:1,b=parseInt(B.slice(1),10),""}));for(let k=0;k<E.length;){let B=E[k++].trim();1===g&&(B=B.replace(/\s*(?:=)?(\w+)\s*/,"$1")),B.length&&d.push(B);const z=Ei(E[k++]);d.length>h.length&&h.push(z)}return{type:g,mainBinding:b,cases:d,values:h}}function Ei(o){if(!o)return[];let d=0;const h=[],g=[],b=/[{}]/g;let E;for(b.lastIndex=0;E=b.exec(o);){const B=E.index;if("}"==E[0]){if(h.pop(),0==h.length){const z=o.substring(d,B);cy.test(z)?g.push(Ms(z)):g.push(z),d=B+1}}else{if(0==h.length){const z=o.substring(d,B);g.push(z),d=B+1}h.push("{")}}const k=o.substring(d);return g.push(k),g}function jI(o,d,h,g,b,E,k,B){const z=[],X=[],se=[];d.cases.push(E),d.create.push(z),d.remove.push(X),d.update.push(se);const Se=OS(pu()).getInertBodyElement(k),Ue=aC(Se)||Se;return Ue?q1(o,d,h,g,z,X,se,Ue,b,B,0):0}function q1(o,d,h,g,b,E,k,B,z,X,se){let ve=0,Se=B.firstChild;for(;Se;){const Ue=lg(o,h,1,null);switch(Se.nodeType){case Node.ELEMENT_NODE:const ft=Se,kt=ft.tagName.toLowerCase();if(oC.hasOwnProperty(kt)){R0(b,Mg,kt,z,Ue),o.data[Ue]=kt;const Gn=ft.attributes;for(let oi=0;oi<Gn.length;oi++){const cr=Gn.item(oi),pa=cr.name.toLowerCase();cr.value.match(I0)?cf.hasOwnProperty(pa)&&Sc(k,cr.value,Ue,cr.name,0,go[pa]?yb:null):WI(b,Ue,cr)}ve=q1(o,d,h,g,b,E,k,Se,Ue,X,se+1)|ve,N0(E,Ue,se)}break;case Node.TEXT_NODE:const Qt=Se.textContent||"",xn=Qt.match(I0);R0(b,null,xn?"":Qt,z,Ue),N0(E,Ue,se),xn&&(ve=Sc(k,Qt,Ue,null,0,null)|ve);break;case Node.COMMENT_NODE:const Dt=M0.exec(Se.textContent||"");if(Dt){const oi=X[parseInt(Dt[1],10)];R0(b,Of,"",z,Ue),zI(o,h,g,z,oi,Ue),P0(E,Ue,se)}}Se=Se.nextSibling}return ve}function N0(o,d,h){0===h&&o.push(d)}function P0(o,d,h){0===h&&(o.push(~d),o.push(d))}function R0(o,d,h,g,b){null!==d&&o.push(d),o.push(h,b,function z1(o,d,h){return o|d<<17|h<<1}(0,g,b))}function WI(o,d,h){o.push(d<<1|1,h.name,h.value)}function Z1(o,d,h=-1){const g=ni(),b=wt(),E=$n+o,k=$s(g.consts,d),B=sc();g.firstCreatePass&&function Mu(o,d,h,g,b,E){const k=sc(),B=[],z=[],X=[[]];b=function mR(o,d){if(function Y1(o){return-1===o}(d))return O0(o);{const h=o.indexOf(`:${d}${Rg}`)+2+d.toString().length,g=o.search(new RegExp(`${Rg}\\/\\*\\d+:${d}${Rg}`));return O0(o.substring(h,g))}}(b,E);const se=function VI(o){return o.replace(gR," ")}(b).split(uy);for(let ve=0;ve<se.length;ve++){let Se=se[ve];if(1&ve){const Ue=47===Se.charCodeAt(0),kt=(Se.charCodeAt(Ue?1:0),$n+Number.parseInt(Se.substring(Ue?2:1)));if(Ue)X.shift(),$a(sc(),!1);else{const Qt=ay(o,X[0],kt);X.unshift([]),$a(Qt,!0)}}else{const Ue=Ei(Se);for(let ft=0;ft<Ue.length;ft++){let kt=Ue[ft];if(1&ft){const Qt=kt;if("object"!=typeof Qt)throw new Error(`Unable to parse ICU expression in "${b}" message.`);zI(o,h,z,d,Qt,W1(o,k,X[0],h,B,"",!0).index)}else""!==kt&&HI(o,k,X[0],B,z,h,kt)}}}o.data[g]={create:B,update:z}}(g,null===B?0:B.index,b,E,k,h),2===g.type?b[sr][Sn]|=32:b[Sn]|=32;const z=g.data[E],se=yS(g,B===b[zr]?null:B,b);(function dR(o,d,h,g){const b=o[On];for(let E=0;E<d.length;E++){const k=d[E++],B=d[E],X=(k&to.APPEND_EAGERLY)===to.APPEND_EAGERLY,se=k>>>to.SHIFT;let ve=o[se];null===ve&&(ve=o[se]=(k&to.COMMENT)===to.COMMENT?b.createComment(B):Dd(b,B)),X&&null!==h&&gc(b,h,ve,g,!1)}})(b,z.create,se,B&&8&B.type?b[B.index]:null),jh(!0)}function ZI(o,d,h){Z1(o,d,h),function X1(){jh(!1)}()}function Q1(o,d,h,g,b){if(o=xt(o),Array.isArray(o))for(let E=0;E<o.length;E++)Q1(o[E],d,h,g,b);else{const E=ni(),k=wt(),B=rs();let z=uf(o)?o:xt(o.provide);const X=ZS(o),se=1048575&B.providerIndexes,ve=B.directiveStart,Se=B.providerIndexes>>20;if(uf(o)||!o.multi){const Ue=new Qn(X,b,pf),ft=V0(z,d,b?se:se+Se,ve);-1===ft?(cc(os(B,k),E,z),qr(E,o,d.length),d.push(z),B.directiveStart++,B.directiveEnd++,b&&(B.providerIndexes+=1048576),h.push(Ue),k.push(Ue)):(h[ft]=Ue,k[ft]=Ue)}else{const Ue=V0(z,d,se+Se,ve),ft=V0(z,d,se,se+Se),Qt=ft>=0&&h[ft];if(b&&!Qt||!b&&!(Ue>=0&&h[Ue])){cc(os(B,k),E,z);const xn=function QI(o,d,h,g,b){const E=new Qn(o,h,pf);return E.multi=[],E.index=d,E.componentProviders=0,B0(E,b,g&&!h),E}(b?Ac:gy,h.length,b,g,X);!b&&Qt&&(h[ft].providerFactory=xn),qr(E,o,d.length,0),d.push(z),B.directiveStart++,B.directiveEnd++,b&&(B.providerIndexes+=1048576),h.push(xn),k.push(xn)}else qr(E,o,Ue>-1?Ue:ft,B0(h[b?ft:Ue],X,!b&&g));!b&&g&&Qt&&h[ft].componentProviders++}}}function qr(o,d,h,g){const b=uf(d),E=function _P(o){return!!o.useClass}(d);if(b||E){const z=(E?xt(d.useClass):d).prototype.ngOnDestroy;if(z){const X=o.destroyHooks||(o.destroyHooks=[]);if(!b&&d.multi){const se=X.indexOf(h);-1===se?X.push(h,[g,z]):X[se+1].push(g,z)}else X.push(h,z)}}}function B0(o,d,h){return h&&o.componentProviders++,o.multi.push(d)-1}function V0(o,d,h,g){for(let b=h;b<g;b++)if(d[b]===o)return b;return-1}function gy(o,d,h,g){return my(this.multi,[])}function Ac(o,d,h,g){const b=this.multi;let E;if(this.providerFactory){const k=this.providerFactory.componentProviders,B=Dl(h,h[en],this.providerFactory.index,g);E=B.slice(0,k),my(b,E);for(let z=k;z<B.length;z++)E.push(B[z])}else E=[],my(b,E);return E}function my(o,d){for(let h=0;h<o.length;h++)d.push((0,o[h])());return d}function Lg(o,d=[]){return h=>{h.providersResolver=(g,b)=>function KI(o,d,h){const g=ni();if(g.firstCreatePass){const b=Gs(o);Q1(h,g.data,g.blueprint,b,!0),Q1(d,g.data,g.blueprint,b,!1)}}(g,b?b(o):o,d)}}class Zd{}class J1{}function JI(o,d){return new eE(o,d??null,[])}class eE extends Zd{constructor(d,h,g){super(),this._parent=h,this._bootstrapComponents=[],this.destroyCbs=[],this.componentFactoryResolver=new jA(this);const b=_i(d);this._bootstrapComponents=vu(b.bootstrap),this._r3Injector=uA(d,h,[{provide:Zd,useValue:this},{provide:df,useValue:this.componentFactoryResolver},...g],He(d),new Set(["environment"])),this._r3Injector.resolveInjectorInitializers(),this.instance=this._r3Injector.get(d)}get injector(){return this._r3Injector}destroy(){const d=this._r3Injector;!d.destroyed&&d.destroy(),this.destroyCbs.forEach(h=>h()),this.destroyCbs=null}onDestroy(d){this.destroyCbs.push(d)}}class Ff extends J1{constructor(d){super(),this.moduleType=d}create(d){return new eE(this.moduleType,d,[])}}class eM extends Zd{constructor(d){super(),this.componentFactoryResolver=new jA(this),this.instance=null;const h=new pC([...d.providers,{provide:Zd,useValue:this},{provide:df,useValue:this.componentFactoryResolver}],d.parent||wv(),d.debugName,new Set(["environment"]));this.injector=h,d.runEnvironmentInitializers&&h.resolveInjectorInitializers()}destroy(){this.injector.destroy()}onDestroy(d){this.injector.onDestroy(d)}}function nE(o,d,h=null){return new eM({providers:o,parent:d,debugName:h,runEnvironmentInitializers:!0}).injector}let iE=(()=>{class o{constructor(h){this._injector=h,this.cachedInjectors=new Map}getOrCreateStandaloneInjector(h){if(!h.standalone)return null;if(!this.cachedInjectors.has(h)){const g=$S(0,h.type),b=g.length>0?nE([g],this._injector,`Standalone[${h.type.name}]`):null;this.cachedInjectors.set(h,b)}return this.cachedInjectors.get(h)}ngOnDestroy(){try{for(const h of this.cachedInjectors.values())null!==h&&h.destroy()}finally{this.cachedInjectors.clear()}}static#e=this.\u0275prov=dn({token:o,providedIn:"environment",factory:()=>new o(Tn(vc))})}return o})();function rE(o){o.getStandaloneInjector=d=>d.get(iE).getOrCreateStandaloneInjector(o)}function Qd(o,d,h){const g=Ys()+o,b=wt();return b[g]===zn?Ol(b,g,h?d.call(h):d()):gg(b,g)}function Vg(o,d,h,g){return Hg(wt(),Ys(),o,d,h,g)}function uE(o,d,h,g,b){return eh(wt(),Ys(),o,d,h,g,b)}function H0(o,d,h,g,b,E){return lM(wt(),Ys(),o,d,h,g,b,E)}function U0(o,d,h,g,b,E,k){return function pE(o,d,h,g,b,E,k,B,z){const X=d+h;return ua(o,X,b,E,k,B)?Ol(o,X+4,z?g.call(z,b,E,k,B):g(b,E,k,B)):Jd(o,X+4)}(wt(),Ys(),o,d,h,g,b,E,k)}function dE(o,d,h,g,b,E,k,B){const z=Ys()+o,X=wt(),se=ua(X,z,h,g,b,E);return ws(X,z+4,k)||se?Ol(X,z+5,B?d.call(B,h,g,b,E,k):d(h,g,b,E,k)):gg(X,z+5)}function hE(o,d,h,g,b,E,k,B,z){const X=Ys()+o,se=wt(),ve=ua(se,X,h,g,b,E);return bf(se,X+4,k,B)||ve?Ol(se,X+6,z?d.call(z,h,g,b,E,k,B):d(h,g,b,E,k,B)):gg(se,X+6)}function oM(o,d,h,g,b,E,k,B,z,X){const se=Ys()+o,ve=wt();let Se=ua(ve,se,h,g,b,E);return ca(ve,se+4,k,B,z)||Se?Ol(ve,se+7,X?d.call(X,h,g,b,E,k,B,z):d(h,g,b,E,k,B,z)):gg(ve,se+7)}function fE(o,d,h,g){return function cM(o,d,h,g,b,E){let k=d+h,B=!1;for(let z=0;z<b.length;z++)ws(o,k++,b[z])&&(B=!0);return B?Ol(o,k,g.apply(E,b)):Jd(o,k)}(wt(),Ys(),o,d,h,g)}function Jd(o,d){const h=o[d];return h===zn?void 0:h}function Hg(o,d,h,g,b,E){const k=d+h;return ws(o,k,b)?Ol(o,k+1,E?g.call(E,b):g(b)):Jd(o,k+1)}function eh(o,d,h,g,b,E,k){const B=d+h;return bf(o,B,b,E)?Ol(o,B+2,k?g.call(k,b,E):g(b,E)):Jd(o,B+2)}function lM(o,d,h,g,b,E,k,B){const z=d+h;return ca(o,z,b,E,k)?Ol(o,z+3,B?g.call(B,b,E,k):g(b,E,k)):Jd(o,z+3)}function uM(o,d){const h=ni();let g;const b=o+$n;h.firstCreatePass?(g=function CR(o,d){if(d)for(let h=d.length-1;h>=0;h--){const g=d[h];if(o===g.name)return g}}(d,h.pipeRegistry),h.data[b]=g,g.onDestroy&&(h.destroyHooks??=[]).push(b,g.onDestroy)):g=h.data[b];const E=g.factory||(g.factory=fl(g.type)),B=In(pf);try{const z=Gh(!1),X=E();return Gh(z),function Pr(o,d,h,g){h>=o.data.length&&(o.data[h]=null,o.blueprint[h]=null),d[h]=g}(h,wt(),b,X),X}finally{In(B)}}function ku(o,d,h){const g=o+$n,b=wt(),E=bl(b,g);return Vf(b,g)?Hg(b,Ys(),d,E.transform,h,E):E.transform(h)}function gE(o,d,h,g){const b=o+$n,E=wt(),k=bl(E,b);return Vf(E,b)?eh(E,Ys(),d,k.transform,h,g,k):k.transform(h,g)}function dM(o,d,h,g,b){const E=o+$n,k=wt(),B=bl(k,E);return Vf(k,E)?lM(k,Ys(),d,B.transform,h,g,b,B):B.transform(h,g,b)}function Vf(o,d){return o[en].data[d].pure}function mE(){return this._results[Symbol.iterator]()}class j0{static#e=Symbol.iterator;get changes(){return this._changes||(this._changes=new Qa)}constructor(d=!1){this._emitDistinctChangesOnly=d,this.dirty=!0,this._results=[],this._changesDetected=!1,this._changes=null,this.length=0,this.first=void 0,this.last=void 0;const h=j0.prototype;h[Symbol.iterator]||(h[Symbol.iterator]=mE)}get(d){return this._results[d]}map(d){return this._results.map(d)}filter(d){return this._results.filter(d)}find(d){return this._results.find(d)}reduce(d,h){return this._results.reduce(d,h)}forEach(d){this._results.forEach(d)}some(d){return this._results.some(d)}toArray(){return this._results.slice()}toString(){return this._results.toString()}reset(d,h){const g=this;g.dirty=!1;const b=function Fs(o){return o.flat(Number.POSITIVE_INFINITY)}(d);(this._changesDetected=!function Vo(o,d,h){if(o.length!==d.length)return!1;for(let g=0;g<o.length;g++){let b=o[g],E=d[g];if(h&&(b=h(b),E=h(E)),E!==b)return!1}return!0}(g._results,b,h))&&(g._results=b,g.length=b.length,g.last=b[this.length-1],g.first=b[0])}notifyOnChanges(){this._changes&&(this._changesDetected||!this._emitDistinctChangesOnly)&&this._changes.emit(this)}setDirty(){this.dirty=!0}destroy(){this.changes.complete(),this.changes.unsubscribe()}}function pM(o,d,h,g=!0){const b=d[en];if(function ub(o,d,h,g){const b=ps+g,E=h.length;g>0&&(h[b-1][Ns]=d),g<E-ps?(d[Ns]=h[b],Fp(h,ps+g,d)):(h.push(d),d[Ns]=null),d[rr]=h;const k=d[xh];null!==k&&h!==k&&function fu(o,d){const h=o[es];d[sr]!==d[rr][rr][sr]&&(o[Yu]=!0),null===h?o[es]=[d]:h.push(d)}(k,d);const B=d[Qr];null!==B&&B.insertView(o),d[Sn]|=128}(b,d,o,h),g){const E=Kx(h,o),k=d[On],B=pv(k,o[Jr]);null!==B&&function cb(o,d,h,g,b,E){g[ir]=b,g[zr]=d,po(o,g,h,1,b,E)}(b,o[zr],k,d,B,E)}}let vy=(()=>{class o{static#e=this.__NG_ELEMENT_ID__=DR}return o})();const _E=vy,G0=class extends _E{constructor(d,h,g){super(),this._declarationLView=d,this._declarationTContainer=h,this.elementRef=g}get ssrId(){return this._declarationTContainer.tView?.ssrId||null}createEmbeddedView(d,h){return this.createEmbeddedViewImpl(d,h)}createEmbeddedViewImpl(d,h,g){const b=function vE(o,d,h,g){const b=d.tView,B=kv(o,b,h,4096&o[Sn]?4096:16,null,d,null,null,null,g?.injector??null,g?.hydrationInfo??null);B[xh]=o[d.index];const X=o[Qr];return null!==X&&(B[Qr]=X.createEmbeddedView(b)),Hv(b,B,h),B}(this._declarationLView,this._declarationTContainer,d,{injector:h,hydrationInfo:g});return new hg(b)}};function DR(){return yy(rs(),wt())}function yy(o,d){return 4&o.type?new G0(d,o,bs(o,d)):null}let Fl=(()=>{class o{static#e=this.__NG_ELEMENT_ID__=Gg}return o})();function Gg(){return xE(rs(),wt())}const mM=Fl,th=class extends mM{constructor(d,h,g){super(),this._lContainer=d,this._hostTNode=h,this._hostLView=g}get element(){return bs(this._hostTNode,this._hostLView)}get injector(){return new ii(this._hostTNode,this._hostLView)}get parentInjector(){const d=aa(this._hostTNode,this._hostLView);if(eu(d)){const h=lc(d,this._hostLView),g=ac(d);return new ii(h[en].data[g+8],h)}return new ii(null,this._hostLView)}clear(){for(;this.length>0;)this.remove(this.length-1)}get(d){const h=vM(this._lContainer);return null!==h&&h[d]||null}get length(){return this._lContainer.length-ps}createEmbeddedView(d,h,g){let b,E;"number"==typeof g?b=g:null!=g&&(b=g.index,E=g.injector);const B=d.createEmbeddedViewImpl(h||{},E,null);return this.insertImpl(B,b,false),B}createComponent(d,h,g,b,E){const k=d&&!function Rs(o){return"function"==typeof o}(d);let B;if(k)B=h;else{const kt=h||{};B=kt.index,g=kt.injector,b=kt.projectableNodes,E=kt.environmentInjector||kt.ngModuleRef}const z=k?d:new fg(Un(d)),X=g||this.parentInjector;if(!E&&null==z.ngModule){const Qt=(k?X:this.parentInjector).get(vc,null);Qt&&(E=Qt)}Un(z.componentType??{});const Ue=z.create(X,b,null,E);return this.insertImpl(Ue.hostView,B,false),Ue}insert(d,h){return this.insertImpl(d,h,!1)}insertImpl(d,h,g){const b=d._lView;if(function Wm(o){return Ss(o[rr])}(b)){const z=this.indexOf(d);if(-1!==z)this.detach(z);else{const X=b[rr],se=new th(X,X[zr],X[rr]);se.detach(se.indexOf(d))}}const k=this._adjustIndex(h),B=this._lContainer;return pM(B,b,k,!g),d.attachToViewContainerRef(),Fp(nh(B),k,d),d}move(d,h){return this.insert(d,h)}indexOf(d){const h=vM(this._lContainer);return null!==h?h.indexOf(d):-1}remove(d){const h=this._adjustIndex(d,-1),g=Bs(this._lContainer,h);g&&(qh(nh(this._lContainer),h),Gx(g[en],g))}detach(d){const h=this._adjustIndex(d,-1),g=Bs(this._lContainer,h);return g&&null!=qh(nh(this._lContainer),h)?new hg(g):null}_adjustIndex(d,h=0){return d??this.length+h}};function vM(o){return o[8]}function nh(o){return o[8]||(o[8]=[])}function xE(o,d){let h;const g=d[o.index];return Ss(g)?h=g:(h=dg(g,d,null,o),d[o.index]=h,Vv(d,h)),CE(h,d,o,g),new th(h,o,d)}let CE=function yM(o,d,h,g){if(o[Jr])return;let b;b=8&h.type?Mi(g):function ih(o,d){const h=o[On],g=h.createComment(""),b=gs(d,o);return gc(h,pv(h,b),g,function qp(o,d){return o.nextSibling(d)}(h,b),!1),g}(d,h),o[Jr]=b};class q0{constructor(d){this.queryList=d,this.matches=null}clone(){return new q0(this.queryList)}setDirty(){this.queryList.setDirty()}}class EE{constructor(d=[]){this.queries=d}createEmbeddedView(d){const h=d.queries;if(null!==h){const g=null!==d.contentQueries?d.contentQueries[0]:h.length,b=[];for(let E=0;E<g;E++){const k=h.getByIndex(E);b.push(this.queries[k.indexInDeclarationView].clone())}return new EE(b)}return null}insertView(d){this.dirtyQueriesWithMatches(d)}detachView(d){this.dirtyQueriesWithMatches(d)}dirtyQueriesWithMatches(d){for(let h=0;h<this.queries.length;h++)null!==EM(d,h).matches&&this.queries[h].setDirty()}}class by{constructor(d,h,g=null){this.predicate=d,this.flags=h,this.read=g}}class Z0{constructor(d=[]){this.queries=d}elementStart(d,h){for(let g=0;g<this.queries.length;g++)this.queries[g].elementStart(d,h)}elementEnd(d){for(let h=0;h<this.queries.length;h++)this.queries[h].elementEnd(d)}embeddedTView(d){let h=null;for(let g=0;g<this.length;g++){const b=null!==h?h.length:0,E=this.getByIndex(g).embeddedTView(d,b);E&&(E.indexInDeclarationView=g,null!==h?h.push(E):h=[E])}return null!==h?new Z0(h):null}template(d,h){for(let g=0;g<this.queries.length;g++)this.queries[g].template(d,h)}getByIndex(d){return this.queries[d]}get length(){return this.queries.length}track(d){this.queries.push(d)}}class DE{constructor(d,h=-1){this.metadata=d,this.matches=null,this.indexInDeclarationView=-1,this.crossesNgTemplate=!1,this._appliesToNextNode=!0,this._declarationNodeIndex=h}elementStart(d,h){this.isApplyingToNode(h)&&this.matchTNode(d,h)}elementEnd(d){this._declarationNodeIndex===d.index&&(this._appliesToNextNode=!1)}template(d,h){this.elementStart(d,h)}embeddedTView(d,h){return this.isApplyingToNode(d)?(this.crossesNgTemplate=!0,this.addMatch(-d.index,h),new DE(this.metadata)):null}isApplyingToNode(d){if(this._appliesToNextNode&&1!=(1&this.metadata.flags)){const h=this._declarationNodeIndex;let g=d.parent;for(;null!==g&&8&g.type&&g.index!==h;)g=g.parent;return h===(null!==g?g.index:-1)}return this._appliesToNextNode}matchTNode(d,h){const g=this.metadata.predicate;if(Array.isArray(g))for(let b=0;b<g.length;b++){const E=g[b];this.matchTNodeWithReadOption(d,h,bM(h,E)),this.matchTNodeWithReadOption(d,h,Wh(h,d,E,!1,!1))}else g===vy?4&h.type&&this.matchTNodeWithReadOption(d,h,-1):this.matchTNodeWithReadOption(d,h,Wh(h,d,g,!1,!1))}matchTNodeWithReadOption(d,h,g){if(null!==g){const b=this.metadata.read;if(null!==b)if(b===Dv||b===Fl||b===vy&&4&h.type)this.addMatch(h.index,-2);else{const E=Wh(h,d,b,!1,!1);null!==E&&this.addMatch(h.index,E)}else this.addMatch(h.index,g)}}addMatch(d,h){null===this.matches?this.matches=[d,h]:this.matches.push(d,h)}}function bM(o,d){const h=o.localNames;if(null!==h)for(let g=0;g<h.length;g+=2)if(h[g]===d)return h[g+1];return null}function wM(o,d,h,g){return-1===h?function SR(o,d){return 11&o.type?bs(o,d):4&o.type?yy(o,d):null}(d,o):-2===h?function Hf(o,d,h){return h===Dv?bs(d,o):h===vy?yy(d,o):h===Fl?xE(d,o):void 0}(o,d,g):Dl(o,o[en],h,d)}function Wg(o,d,h,g){const b=d[Qr].queries[g];if(null===b.matches){const E=o.data,k=h.matches,B=[];for(let z=0;z<k.length;z+=2){const X=k[z];B.push(X<0?null:wM(d,E[X],k[z+1],h.metadata.read))}b.matches=B}return b.matches}function X0(o,d,h,g){const b=o.queries.getByIndex(h),E=b.matches;if(null!==E){const k=Wg(o,d,b,h);for(let B=0;B<E.length;B+=2){const z=E[B];if(z>0)g.push(k[B/2]);else{const X=E[B+1],se=d[-z];for(let ve=ps;ve<se.length;ve++){const Se=se[ve];Se[xh]===Se[rr]&&X0(Se[en],Se,X,g)}if(null!==se[es]){const ve=se[es];for(let Se=0;Se<ve.length;Se++){const Ue=ve[Se];X0(Ue[en],Ue,X,g)}}}}}return g}function TE(o){const d=wt(),h=ni(),g=cd();Sp(g+1);const b=EM(h,g);if(o.dirty&&function Gm(o){return 4==(4&o[Sn])}(d)===(2==(2&b.metadata.flags))){if(null===b.matches)o.reset([]);else{const E=b.crossesNgTemplate?X0(h,d,g,[]):Wg(h,d,b,g);o.reset(E,Tv),o.notifyOnChanges()}return!0}return!1}function xM(o,d,h){const g=ni();g.firstCreatePass&&(zs(g,new by(o,d,h),-1),2==(2&d)&&(g.staticViewQueries=!0)),K0(g,wt(),d)}function SE(o,d,h,g){const b=ni();if(b.firstCreatePass){const E=rs();zs(b,new by(d,h,g),E.index),function IR(o,d){const h=o.contentQueries||(o.contentQueries=[]);d!==(h.length?h[h.length-1]:-1)&&h.push(o.queries.length-1,d)}(b,o),2==(2&h)&&(b.staticContentQueries=!0)}K0(b,wt(),h)}function CM(){return function AR(o,d){return o[Qr].queries[d].queryList}(wt(),cd())}function K0(o,d,h){const g=new j0(4==(4&h));(function kA(o,d,h,g){const b=yf(d);b.push(h),o.firstCreatePass&&LA(o).push(g,b.length-1)})(o,d,g,g.destroy),null===d[Qr]&&(d[Qr]=new EE),d[Qr].queries.push(new q0(g))}function zs(o,d,h){null===o.queries&&(o.queries=new Z0),o.queries.track(new DE(d,h))}function EM(o,d){return o.queries.getByIndex(d)}function DM(o,d){return yy(o,d)}function wy(o){return!!_i(o)}const qg=new Vi("Application Initializer");let Dy=(()=>{class o{constructor(){this.initialized=!1,this.done=!1,this.donePromise=new Promise((h,g)=>{this.resolve=h,this.reject=g}),this.appInits=Bn(qg,{optional:!0})??[]}runInitializers(){if(this.initialized)return;const h=[];for(const b of this.appInits){const E=b();if(f0(E))h.push(E);else if(wu(E)){const k=new Promise((B,z)=>{E.subscribe({complete:B,error:z})});h.push(k)}}const g=()=>{this.done=!0,this.resolve()};Promise.all(h).then(()=>{g()}).catch(b=>{this.reject(b)}),0===h.length&&g(),this.initialized=!0}static#e=this.\u0275fac=function(g){return new(g||o)};static#t=this.\u0275prov=dn({token:o,factory:o.\u0275fac,providedIn:"root"})}return o})(),jf=(()=>{class o{log(h){console.log(h)}warn(h){console.warn(h)}static#e=this.\u0275fac=function(g){return new(g||o)};static#t=this.\u0275prov=dn({token:o,factory:o.\u0275fac,providedIn:"platform"})}return o})();const Gf=new Vi("LocaleId",{providedIn:"root",factory:()=>Bn(Gf,yn.Optional|yn.SkipSelf)||function HE(){return typeof $localize<"u"&&$localize.locale||nl}()}),Ty=new Vi("DefaultCurrencyCode",{providedIn:"root",factory:()=>"USD"});let uw=(()=>{class o{constructor(){this.taskId=0,this.pendingTasks=new Set,this.hasPendingTasks=new xe.X(!1)}add(){this.hasPendingTasks.next(!0);const h=this.taskId++;return this.pendingTasks.add(h),h}remove(h){this.pendingTasks.delete(h),0===this.pendingTasks.size&&this.hasPendingTasks.next(!1)}ngOnDestroy(){this.pendingTasks.clear(),this.hasPendingTasks.next(!1)}static#e=this.\u0275fac=function(g){return new(g||o)};static#t=this.\u0275prov=dn({token:o,factory:o.\u0275fac,providedIn:"root"})}return o})();class oh{constructor(d,h){this.ngModuleFactory=d,this.componentFactories=h}}let HM=(()=>{class o{compileModuleSync(h){return new Ff(h)}compileModuleAsync(h){return Promise.resolve(this.compileModuleSync(h))}compileModuleAndAllComponentsSync(h){const g=this.compileModuleSync(h),E=vu(_i(h).declarations).reduce((k,B)=>{const z=Un(B);return z&&k.push(new fg(z)),k},[]);return new oh(g,E)}compileModuleAndAllComponentsAsync(h){return Promise.resolve(this.compileModuleAndAllComponentsSync(h))}clearCache(){}clearCacheFor(h){}getModuleId(h){}static#e=this.\u0275fac=function(g){return new(g||o)};static#t=this.\u0275prov=dn({token:o,factory:o.\u0275fac,providedIn:"root"})}return o})();const gw=new Vi(""),$f=new Vi("");let KE,Xg=(()=>{class o{constructor(h,g,b){this._ngZone=h,this.registry=g,this._pendingCount=0,this._isZoneStable=!0,this._didWork=!1,this._callbacks=[],this.taskTrackingZone=null,KE||(function Kg(o){KE=o}(b),b.addToWindow(g)),this._watchAngularEvents(),h.run(()=>{this.taskTrackingZone=typeof Zone>"u"?null:Zone.current.get("TaskTrackingZone")})}_watchAngularEvents(){this._ngZone.onUnstable.subscribe({next:()=>{this._didWork=!0,this._isZoneStable=!1}}),this._ngZone.runOutsideAngular(()=>{this._ngZone.onStable.subscribe({next:()=>{Vs.assertNotInAngularZone(),queueMicrotask(()=>{this._isZoneStable=!0,this._runCallbacksIfReady()})}})})}increasePendingRequestCount(){return this._pendingCount+=1,this._didWork=!0,this._pendingCount}decreasePendingRequestCount(){if(this._pendingCount-=1,this._pendingCount<0)throw new Error("pending async requests below zero");return this._runCallbacksIfReady(),this._pendingCount}isStable(){return this._isZoneStable&&0===this._pendingCount&&!this._ngZone.hasPendingMacrotasks}_runCallbacksIfReady(){if(this.isStable())queueMicrotask(()=>{for(;0!==this._callbacks.length;){let h=this._callbacks.pop();clearTimeout(h.timeoutId),h.doneCb(this._didWork)}this._didWork=!1});else{let h=this.getPendingTasks();this._callbacks=this._callbacks.filter(g=>!g.updateCb||!g.updateCb(h)||(clearTimeout(g.timeoutId),!1)),this._didWork=!0}}getPendingTasks(){return this.taskTrackingZone?this.taskTrackingZone.macroTasks.map(h=>({source:h.source,creationLocation:h.creationLocation,data:h.data})):[]}addCallback(h,g,b){let E=-1;g&&g>0&&(E=setTimeout(()=>{this._callbacks=this._callbacks.filter(k=>k.timeoutId!==E),h(this._didWork,this.getPendingTasks())},g)),this._callbacks.push({doneCb:h,timeoutId:E,updateCb:b})}whenStable(h,g,b){if(b&&!this.taskTrackingZone)throw new Error('Task tracking zone is required when passing an update callback to whenStable(). Is "zone.js/plugins/task-tracking" loaded?');this.addCallback(h,g,b),this._runCallbacksIfReady()}getPendingRequestCount(){return this._pendingCount}registerApplication(h){this.registry.registerApplication(h,this)}unregisterApplication(h){this.registry.unregisterApplication(h)}findProviders(h,g,b){return[]}static#e=this.\u0275fac=function(g){return new(g||o)(Tn(Vs),Tn(XE),Tn($f))};static#t=this.\u0275prov=dn({token:o,factory:o.\u0275fac})}return o})(),XE=(()=>{class o{constructor(){this._applications=new Map}registerApplication(h,g){this._applications.set(h,g)}unregisterApplication(h){this._applications.delete(h)}unregisterAllApplications(){this._applications.clear()}getTestability(h){return this._applications.get(h)||null}getAllTestabilities(){return Array.from(this._applications.values())}getAllRootElements(){return Array.from(this._applications.keys())}findTestabilityInTree(h,g=!0){return KE?.findTestabilityInTree(this,h,g)??null}static#e=this.\u0275fac=function(g){return new(g||o)};static#t=this.\u0275prov=dn({token:o,factory:o.\u0275fac,providedIn:"platform"})}return o})(),ah=null;const mw=new Vi("AllowMultipleToken"),Iy=new Vi("PlatformDestroyListeners"),My=new Vi("appBootstrapListener");class eD{constructor(d,h){this.name=d,this.token=h}}function tD(o,d,h=[]){const g=`Platform: ${d}`,b=new Vi(g);return(E=[])=>{let k=iD();if(!k||k.injector.get(mw,!1)){const B=[...h,...E,{provide:b,useValue:!0}];o?o(B):function GR(o){if(ah&&!ah.get(mw,!1))throw new _e(400,!1);(function YM(){!function Lm(o){vp=o}(()=>{throw new _e(600,!1)})})(),ah=o;const d=o.get(KM);(function ZM(o){o.get(JS,null)?.forEach(h=>h())})(o)}(function nD(o=[],d){return Wo.create({name:d,providers:[{provide:hC,useValue:"platform"},{provide:Iy,useValue:new Set([()=>ah=null])},...o]})}(B,g))}return function XM(o){const d=iD();if(!d)throw new _e(401,!1);return d}()}}function iD(){return ah?.get(KM)??null}let KM=(()=>{class o{constructor(h){this._injector=h,this._modules=[],this._destroyListeners=[],this._destroyed=!1}bootstrapModuleFactory(h,g){const b=function rD(o="zone.js",d){return"noop"===o?new PC:"zone.js"===o?new Vs(d):o}(g?.ngZone,function QM(o){return{enableLongStackTrace:!1,shouldCoalesceEventChangeDetection:o?.eventCoalescing??!1,shouldCoalesceRunChangeDetection:o?.runCoalescing??!1}}({eventCoalescing:g?.ngZoneEventCoalescing,runCoalescing:g?.ngZoneRunCoalescing}));return b.run(()=>{const E=function tE(o,d,h){return new eE(o,d,h)}(h.moduleType,this.injector,function tk(o){return[{provide:Vs,useFactory:o},{provide:Kp,multi:!0,useFactory:()=>{const d=Bn(sD,{optional:!0});return()=>d.initialize()}},{provide:_w,useFactory:ek},{provide:Lb,useFactory:Bb}]}(()=>b)),k=E.injector.get(bc,null);return b.runOutsideAngular(()=>{const B=b.onError.subscribe({next:z=>{k.handleError(z)}});E.onDestroy(()=>{Jg(this._modules,E),B.unsubscribe()})}),function vw(o,d,h){try{const g=h();return f0(g)?g.catch(b=>{throw d.runOutsideAngular(()=>o.handleError(b)),b}):g}catch(g){throw d.runOutsideAngular(()=>o.handleError(g)),g}}(k,b,()=>{const B=E.injector.get(Dy);return B.runInitializers(),B.donePromise.then(()=>(kg(E.injector.get(Gf,nl)||nl),this._moduleDoBootstrap(E),E))})})}bootstrapModule(h,g=[]){const b=yw({},g);return function QE(o,d,h){const g=new Ff(h);return Promise.resolve(g)}(0,0,h).then(E=>this.bootstrapModuleFactory(E,b))}_moduleDoBootstrap(h){const g=h.injector.get(Qg);if(h._bootstrapComponents.length>0)h._bootstrapComponents.forEach(b=>g.bootstrap(b));else{if(!h.instance.ngDoBootstrap)throw new _e(-403,!1);h.instance.ngDoBootstrap(g)}this._modules.push(h)}onDestroy(h){this._destroyListeners.push(h)}get injector(){return this._injector}destroy(){if(this._destroyed)throw new _e(404,!1);this._modules.slice().forEach(g=>g.destroy()),this._destroyListeners.forEach(g=>g());const h=this._injector.get(Iy,null);h&&(h.forEach(g=>g()),h.clear()),this._destroyed=!0}get destroyed(){return this._destroyed}static#e=this.\u0275fac=function(g){return new(g||o)(Tn(Wo))};static#t=this.\u0275prov=dn({token:o,factory:o.\u0275fac,providedIn:"platform"})}return o})();function yw(o,d){return Array.isArray(d)?d.reduce(yw,o):{...o,...d}}let Qg=(()=>{class o{constructor(){this._bootstrapListeners=[],this._runningTick=!1,this._destroyed=!1,this._destroyListeners=[],this._views=[],this.internalErrorHandler=Bn(_w),this.zoneIsStable=Bn(Lb),this.componentTypes=[],this.components=[],this.isStable=Bn(uw).hasPendingTasks.pipe((0,gt.w)(h=>h?(0,Ye.of)(!1):this.zoneIsStable),(0,Qe.x)(),(0,ke.B)()),this._injector=Bn(vc)}get destroyed(){return this._destroyed}get injector(){return this._injector}bootstrap(h,g){const b=h instanceof Ev;if(!this._injector.get(Dy).done)throw!b&&mr(h),new _e(405,!1);let k;k=b?h:this._injector.get(df).resolveComponentFactory(h),this.componentTypes.push(k.componentType);const B=function JE(o){return o.isBoundToModule}(k)?void 0:this._injector.get(Zd),X=k.create(Wo.NULL,[],g||k.selector,B),se=X.location.nativeElement,ve=X.injector.get(gw,null);return ve?.registerApplication(se),X.onDestroy(()=>{this.detachView(X.hostView),Jg(this.components,X),ve?.unregisterApplication(se)}),this._loadComponent(X),X}tick(){if(this._runningTick)throw new _e(101,!1);try{this._runningTick=!0;for(let h of this._views)h.detectChanges()}catch(h){this.internalErrorHandler(h)}finally{this._runningTick=!1}}attachView(h){const g=h;this._views.push(g),g.attachToAppRef(this)}detachView(h){const g=h;Jg(this._views,g),g.detachFromAppRef()}_loadComponent(h){this.attachView(h.hostView),this.tick(),this.components.push(h);const g=this._injector.get(My,[]);g.push(...this._bootstrapListeners),g.forEach(b=>b(h))}ngOnDestroy(){if(!this._destroyed)try{this._destroyListeners.forEach(h=>h()),this._views.slice().forEach(h=>h.destroy())}finally{this._destroyed=!0,this._views=[],this._bootstrapListeners=[],this._destroyListeners=[]}}onDestroy(h){return this._destroyListeners.push(h),()=>Jg(this._destroyListeners,h)}destroy(){if(this._destroyed)throw new _e(406,!1);const h=this._injector;h.destroy&&!h.destroyed&&h.destroy()}get viewCount(){return this._views.length}warnIfDestroyed(){}static#e=this.\u0275fac=function(g){return new(g||o)};static#t=this.\u0275prov=dn({token:o,factory:o.\u0275fac,providedIn:"root"})}return o})();function Jg(o,d){const h=o.indexOf(d);h>-1&&o.splice(h,1)}const _w=new Vi("",{providedIn:"root",factory:()=>Bn(bc).handleError.bind(void 0)});function ek(){const o=Bn(Vs),d=Bn(bc);return h=>o.runOutsideAngular(()=>d.handleError(h))}let sD=(()=>{class o{constructor(){this.zone=Bn(Vs),this.applicationRef=Bn(Qg)}initialize(){this._onMicrotaskEmptySubscription||(this._onMicrotaskEmptySubscription=this.zone.onMicrotaskEmpty.subscribe({next:()=>{this.zone.run(()=>{this.applicationRef.tick()})}}))}ngOnDestroy(){this._onMicrotaskEmptySubscription?.unsubscribe()}static#e=this.\u0275fac=function(g){return new(g||o)};static#t=this.\u0275prov=dn({token:o,factory:o.\u0275fac,providedIn:"root"})}return o})();function YR(){return!1}let aD=(()=>{class o{static#e=this.__NG_ELEMENT_ID__=lD}return o})();function lD(o){return function cD(o,d,h){if(hl(o)&&!h){const g=ms(o.index,d);return new hg(g,g)}return 47&o.type?new hg(d[sr],d):null}(rs(),wt(),16==(16&o))}class ck{constructor(){}supports(d){return qv(d)}create(d){return new fD(d)}}const JR=(o,d)=>d;class fD{constructor(d){this.length=0,this._linkedRecords=null,this._unlinkedRecords=null,this._previousItHead=null,this._itHead=null,this._itTail=null,this._additionsHead=null,this._additionsTail=null,this._movesHead=null,this._movesTail=null,this._removalsHead=null,this._removalsTail=null,this._identityChangesHead=null,this._identityChangesTail=null,this._trackByFn=d||JR}forEachItem(d){let h;for(h=this._itHead;null!==h;h=h._next)d(h)}forEachOperation(d){let h=this._itHead,g=this._removalsHead,b=0,E=null;for(;h||g;){const k=!g||h&&h.currentIndex<xw(g,b,E)?h:g,B=xw(k,b,E),z=k.currentIndex;if(k===g)b--,g=g._nextRemoved;else if(h=h._next,null==k.previousIndex)b++;else{E||(E=[]);const X=B-b,se=z-b;if(X!=se){for(let Se=0;Se<X;Se++){const Ue=Se<E.length?E[Se]:E[Se]=0,ft=Ue+Se;se<=ft&&ft<X&&(E[Se]=Ue+1)}E[k.previousIndex]=se-X}}B!==z&&d(k,B,z)}}forEachPreviousItem(d){let h;for(h=this._previousItHead;null!==h;h=h._nextPrevious)d(h)}forEachAddedItem(d){let h;for(h=this._additionsHead;null!==h;h=h._nextAdded)d(h)}forEachMovedItem(d){let h;for(h=this._movesHead;null!==h;h=h._nextMoved)d(h)}forEachRemovedItem(d){let h;for(h=this._removalsHead;null!==h;h=h._nextRemoved)d(h)}forEachIdentityChange(d){let h;for(h=this._identityChangesHead;null!==h;h=h._nextIdentityChange)d(h)}diff(d){if(null==d&&(d=[]),!qv(d))throw new _e(900,!1);return this.check(d)?this:null}onDestroy(){}check(d){this._reset();let b,E,k,h=this._itHead,g=!1;if(Array.isArray(d)){this.length=d.length;for(let B=0;B<this.length;B++)E=d[B],k=this._trackByFn(B,E),null!==h&&Object.is(h.trackById,k)?(g&&(h=this._verifyReinsertion(h,E,k,B)),Object.is(h.item,E)||this._addIdentityChange(h,E)):(h=this._mismatch(h,E,k,B),g=!0),h=h._next}else b=0,function eI(o,d){if(Array.isArray(o))for(let h=0;h<o.length;h++)d(o[h]);else{const h=o[Symbol.iterator]();let g;for(;!(g=h.next()).done;)d(g.value)}}(d,B=>{k=this._trackByFn(b,B),null!==h&&Object.is(h.trackById,k)?(g&&(h=this._verifyReinsertion(h,B,k,b)),Object.is(h.item,B)||this._addIdentityChange(h,B)):(h=this._mismatch(h,B,k,b),g=!0),h=h._next,b++}),this.length=b;return this._truncate(h),this.collection=d,this.isDirty}get isDirty(){return null!==this._additionsHead||null!==this._movesHead||null!==this._removalsHead||null!==this._identityChangesHead}_reset(){if(this.isDirty){let d;for(d=this._previousItHead=this._itHead;null!==d;d=d._next)d._nextPrevious=d._next;for(d=this._additionsHead;null!==d;d=d._nextAdded)d.previousIndex=d.currentIndex;for(this._additionsHead=this._additionsTail=null,d=this._movesHead;null!==d;d=d._nextMoved)d.previousIndex=d.currentIndex;this._movesHead=this._movesTail=null,this._removalsHead=this._removalsTail=null,this._identityChangesHead=this._identityChangesTail=null}}_mismatch(d,h,g,b){let E;return null===d?E=this._itTail:(E=d._prev,this._remove(d)),null!==(d=null===this._unlinkedRecords?null:this._unlinkedRecords.get(g,null))?(Object.is(d.item,h)||this._addIdentityChange(d,h),this._reinsertAfter(d,E,b)):null!==(d=null===this._linkedRecords?null:this._linkedRecords.get(g,b))?(Object.is(d.item,h)||this._addIdentityChange(d,h),this._moveAfter(d,E,b)):d=this._addAfter(new e2(h,g),E,b),d}_verifyReinsertion(d,h,g,b){let E=null===this._unlinkedRecords?null:this._unlinkedRecords.get(g,null);return null!==E?d=this._reinsertAfter(E,d._prev,b):d.currentIndex!=b&&(d.currentIndex=b,this._addToMoves(d,b)),d}_truncate(d){for(;null!==d;){const h=d._next;this._addToRemovals(this._unlink(d)),d=h}null!==this._unlinkedRecords&&this._unlinkedRecords.clear(),null!==this._additionsTail&&(this._additionsTail._nextAdded=null),null!==this._movesTail&&(this._movesTail._nextMoved=null),null!==this._itTail&&(this._itTail._next=null),null!==this._removalsTail&&(this._removalsTail._nextRemoved=null),null!==this._identityChangesTail&&(this._identityChangesTail._nextIdentityChange=null)}_reinsertAfter(d,h,g){null!==this._unlinkedRecords&&this._unlinkedRecords.remove(d);const b=d._prevRemoved,E=d._nextRemoved;return null===b?this._removalsHead=E:b._nextRemoved=E,null===E?this._removalsTail=b:E._prevRemoved=b,this._insertAfter(d,h,g),this._addToMoves(d,g),d}_moveAfter(d,h,g){return this._unlink(d),this._insertAfter(d,h,g),this._addToMoves(d,g),d}_addAfter(d,h,g){return this._insertAfter(d,h,g),this._additionsTail=null===this._additionsTail?this._additionsHead=d:this._additionsTail._nextAdded=d,d}_insertAfter(d,h,g){const b=null===h?this._itHead:h._next;return d._next=b,d._prev=h,null===b?this._itTail=d:b._prev=d,null===h?this._itHead=d:h._next=d,null===this._linkedRecords&&(this._linkedRecords=new ww),this._linkedRecords.put(d),d.currentIndex=g,d}_remove(d){return this._addToRemovals(this._unlink(d))}_unlink(d){null!==this._linkedRecords&&this._linkedRecords.remove(d);const h=d._prev,g=d._next;return null===h?this._itHead=g:h._next=g,null===g?this._itTail=h:g._prev=h,d}_addToMoves(d,h){return d.previousIndex===h||(this._movesTail=null===this._movesTail?this._movesHead=d:this._movesTail._nextMoved=d),d}_addToRemovals(d){return null===this._unlinkedRecords&&(this._unlinkedRecords=new ww),this._unlinkedRecords.put(d),d.currentIndex=null,d._nextRemoved=null,null===this._removalsTail?(this._removalsTail=this._removalsHead=d,d._prevRemoved=null):(d._prevRemoved=this._removalsTail,this._removalsTail=this._removalsTail._nextRemoved=d),d}_addIdentityChange(d,h){return d.item=h,this._identityChangesTail=null===this._identityChangesTail?this._identityChangesHead=d:this._identityChangesTail._nextIdentityChange=d,d}}class e2{constructor(d,h){this.item=d,this.trackById=h,this.currentIndex=null,this.previousIndex=null,this._nextPrevious=null,this._prev=null,this._next=null,this._prevDup=null,this._nextDup=null,this._prevRemoved=null,this._nextRemoved=null,this._nextAdded=null,this._nextMoved=null,this._nextIdentityChange=null}}class pD{constructor(){this._head=null,this._tail=null}add(d){null===this._head?(this._head=this._tail=d,d._nextDup=null,d._prevDup=null):(this._tail._nextDup=d,d._prevDup=this._tail,d._nextDup=null,this._tail=d)}get(d,h){let g;for(g=this._head;null!==g;g=g._nextDup)if((null===h||h<=g.currentIndex)&&Object.is(g.trackById,d))return g;return null}remove(d){const h=d._prevDup,g=d._nextDup;return null===h?this._head=g:h._nextDup=g,null===g?this._tail=h:g._prevDup=h,null===this._head}}class ww{constructor(){this.map=new Map}put(d){const h=d.trackById;let g=this.map.get(h);g||(g=new pD,this.map.set(h,g)),g.add(d)}get(d,h){const b=this.map.get(d);return b?b.get(d,h):null}remove(d){const h=d.trackById;return this.map.get(h).remove(d)&&this.map.delete(h),d}get isEmpty(){return 0===this.map.size}clear(){this.map.clear()}}function xw(o,d,h){const g=o.previousIndex;if(null===g)return g;let b=0;return h&&g<h.length&&(b=h[g]),g+d+b}class uk{constructor(){}supports(d){return d instanceof Map||pg(d)}create(){return new Py}}class Py{constructor(){this._records=new Map,this._mapHead=null,this._appendAfter=null,this._previousMapHead=null,this._changesHead=null,this._changesTail=null,this._additionsHead=null,this._additionsTail=null,this._removalsHead=null,this._removalsTail=null}get isDirty(){return null!==this._additionsHead||null!==this._changesHead||null!==this._removalsHead}forEachItem(d){let h;for(h=this._mapHead;null!==h;h=h._next)d(h)}forEachPreviousItem(d){let h;for(h=this._previousMapHead;null!==h;h=h._nextPrevious)d(h)}forEachChangedItem(d){let h;for(h=this._changesHead;null!==h;h=h._nextChanged)d(h)}forEachAddedItem(d){let h;for(h=this._additionsHead;null!==h;h=h._nextAdded)d(h)}forEachRemovedItem(d){let h;for(h=this._removalsHead;null!==h;h=h._nextRemoved)d(h)}diff(d){if(d){if(!(d instanceof Map||pg(d)))throw new _e(900,!1)}else d=new Map;return this.check(d)?this:null}onDestroy(){}check(d){this._reset();let h=this._mapHead;if(this._appendAfter=null,this._forEach(d,(g,b)=>{if(h&&h.key===b)this._maybeAddToChanges(h,g),this._appendAfter=h,h=h._next;else{const E=this._getOrCreateRecordForKey(b,g);h=this._insertBeforeOrAppend(h,E)}}),h){h._prev&&(h._prev._next=null),this._removalsHead=h;for(let g=h;null!==g;g=g._nextRemoved)g===this._mapHead&&(this._mapHead=null),this._records.delete(g.key),g._nextRemoved=g._next,g.previousValue=g.currentValue,g.currentValue=null,g._prev=null,g._next=null}return this._changesTail&&(this._changesTail._nextChanged=null),this._additionsTail&&(this._additionsTail._nextAdded=null),this.isDirty}_insertBeforeOrAppend(d,h){if(d){const g=d._prev;return h._next=d,h._prev=g,d._prev=h,g&&(g._next=h),d===this._mapHead&&(this._mapHead=h),this._appendAfter=d,d}return this._appendAfter?(this._appendAfter._next=h,h._prev=this._appendAfter):this._mapHead=h,this._appendAfter=h,null}_getOrCreateRecordForKey(d,h){if(this._records.has(d)){const b=this._records.get(d);this._maybeAddToChanges(b,h);const E=b._prev,k=b._next;return E&&(E._next=k),k&&(k._prev=E),b._next=null,b._prev=null,b}const g=new t2(d);return this._records.set(d,g),g.currentValue=h,this._addToAdditions(g),g}_reset(){if(this.isDirty){let d;for(this._previousMapHead=this._mapHead,d=this._previousMapHead;null!==d;d=d._next)d._nextPrevious=d._next;for(d=this._changesHead;null!==d;d=d._nextChanged)d.previousValue=d.currentValue;for(d=this._additionsHead;null!=d;d=d._nextAdded)d.previousValue=d.currentValue;this._changesHead=this._changesTail=null,this._additionsHead=this._additionsTail=null,this._removalsHead=null}}_maybeAddToChanges(d,h){Object.is(h,d.currentValue)||(d.previousValue=d.currentValue,d.currentValue=h,this._addToChanges(d))}_addToAdditions(d){null===this._additionsHead?this._additionsHead=this._additionsTail=d:(this._additionsTail._nextAdded=d,this._additionsTail=d)}_addToChanges(d){null===this._changesHead?this._changesHead=this._changesTail=d:(this._changesTail._nextChanged=d,this._changesTail=d)}_forEach(d,h){d instanceof Map?d.forEach(h):Object.keys(d).forEach(g=>h(d[g],g))}}class t2{constructor(d){this.key=d,this.previousValue=null,this.currentValue=null,this._nextPrevious=null,this._next=null,this._prev=null,this._nextAdded=null,this._nextRemoved=null,this._nextChanged=null}}function Cw(){return new Ew([new ck])}let Ew=(()=>{class o{static#e=this.\u0275prov=dn({token:o,providedIn:"root",factory:Cw});constructor(h){this.factories=h}static create(h,g){if(null!=g){const b=g.factories.slice();h=h.concat(b)}return new o(h)}static extend(h){return{provide:o,useFactory:g=>o.create(h,g||Cw()),deps:[[o,new gd,new Up]]}}find(h){const g=this.factories.find(b=>b.supports(h));if(null!=g)return g;throw new _e(901,!1)}}return o})();function gD(){return new nm([new uk])}let nm=(()=>{class o{static#e=this.\u0275prov=dn({token:o,providedIn:"root",factory:gD});constructor(h){this.factories=h}static create(h,g){if(g){const b=g.factories.slice();h=h.concat(b)}return new o(h)}static extend(h){return{provide:o,useFactory:g=>o.create(h,g||gD()),deps:[[o,new gd,new Up]]}}find(h){const g=this.factories.find(b=>b.supports(h));if(g)return g;throw new _e(901,!1)}}return o})();const Dw=tD(null,"core",[]);let mD=(()=>{class o{constructor(h){}static#e=this.\u0275fac=function(g){return new(g||o)(Tn(Qg))};static#t=this.\u0275mod=Zn({type:o});static#n=this.\u0275inj=Oi({})}return o})();function pk(o){return"boolean"==typeof o?o:null!=o&&"false"!==o}function Tr(o,d){const h=Un(o),g=d.elementInjector||wv();return new fg(h).create(g,d.projectableNodes,d.hostElement,d.environmentInjector)}function wo(o){const d=Un(o);if(!d)return null;const h=new fg(d);return{get selector(){return h.selector},get type(){return h.componentType},get inputs(){return h.inputs},get outputs(){return h.outputs},get ngContentSelectors(){return h.ngContentSelectors},get isStandalone(){return d.standalone},get isSignal(){return d.signals}}}},3399:(nn,ct,ce)=>{ce.d(ct,{Z:()=>At});var a=ce(9058),Le=ce(4537),re=ce(7592),Oe=ce(7879);class xe{constructor(Ut,me){this._delegate=Ut,this.firebase=me,(0,re._addComponent)(Ut,new Le.wA("app-compat",()=>this,"PUBLIC")),this.container=Ut.container}get automaticDataCollectionEnabled(){return this._delegate.automaticDataCollectionEnabled}set automaticDataCollectionEnabled(Ut){this._delegate.automaticDataCollectionEnabled=Ut}get name(){return this._delegate.name}get options(){return this._delegate.options}delete(){return new Promise(Ut=>{this._delegate.checkDestroyed(),Ut()}).then(()=>(this.firebase.INTERNAL.removeApp(this.name),(0,re.deleteApp)(this._delegate)))}_getService(Ut,me=re._DEFAULT_ENTRY_NAME){var on;this._delegate.checkDestroyed();const $t=this._delegate.container.getProvider(Ut);return!$t.isInitialized()&&"EXPLICIT"===(null===(on=$t.getComponent())||void 0===on?void 0:on.instantiationMode)&&$t.initialize(),$t.getImmediate({identifier:me})}_removeServiceInstance(Ut,me=re._DEFAULT_ENTRY_NAME){this._delegate.container.getProvider(Ut).clearInstance(me)}_addComponent(Ut){(0,re._addComponent)(this._delegate,Ut)}_addOrOverwriteComponent(Ut){(0,re._addOrOverwriteComponent)(this._delegate,Ut)}toJSON(){return{name:this.name,automaticDataCollectionEnabled:this.automaticDataCollectionEnabled,options:this.options}}}const ke=new a.LL("app-compat","Firebase",{"no-app":"No Firebase App '{$appName}' has been created - call Firebase App.initializeApp()","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance."}),ye=function Qe(){const xt=function gt(xt){const Ut={},me={__esModule:!0,initializeApp:function _e(Et,Ze={}){const Ne=re.initializeApp(Et,Ze);if((0,a.r3)(Ut,Ne.name))return Ut[Ne.name];const It=new xt(Ne,me);return Ut[Ne.name]=It,It},app:$t,registerVersion:re.registerVersion,setLogLevel:re.setLogLevel,onLog:re.onLog,apps:null,SDK_VERSION:re.SDK_VERSION,INTERNAL:{registerComponent:function Ge(Et){const Ze=Et.name,Ne=Ze.replace("-compat","");if(re._registerComponent(Et)&&"PUBLIC"===Et.type){const It=(gn=$t())=>{if("function"!=typeof gn[Ne])throw ke.create("invalid-app-argument",{appName:Ze});return gn[Ne]()};void 0!==Et.serviceProps&&(0,a.ZB)(It,Et.serviceProps),me[Ne]=It,xt.prototype[Ne]=function(...gn){return this._getService.bind(this,Ze).apply(this,Et.multipleInstances?gn:[])}}return"PUBLIC"===Et.type?me[Ne]:null},removeApp:function on(Et){delete Ut[Et]},useAsService:function ht(Et,Ze){return"serverAuth"===Ze?null:Ze},modularAPIs:re}};function $t(Et){if(!(0,a.r3)(Ut,Et=Et||re._DEFAULT_ENTRY_NAME))throw ke.create("no-app",{appName:Et});return Ut[Et]}return me.default=me,Object.defineProperty(me,"apps",{get:function et(){return Object.keys(Ut).map(Et=>Ut[Et])}}),$t.App=xt,me}(xe);return xt.INTERNAL=Object.assign(Object.assign({},xt.INTERNAL),{createFirebaseNamespace:Qe,extendNamespace:function Ut(me){(0,a.ZB)(xt,me)},createSubscribe:a.ne,ErrorFactory:a.LL,deepExtend:a.ZB}),xt}(),Ee=new Oe.Yd("@firebase/app-compat");if((0,a.jU)()&&void 0!==self.firebase){Ee.warn("\n    Warning: Firebase is already defined in the global scope. Please make sure\n    Firebase library is only loaded once.\n  ");const xt=self.firebase.SDK_VERSION;xt&&xt.indexOf("LITE")>=0&&Ee.warn("\n    Warning: You are trying to load Firebase while using Firebase Performance standalone script.\n    You should load Firebase Performance with this instance of Firebase to avoid loading duplicate code.\n    ")}const At=ye;!function _t(xt){(0,re.registerVersion)("@firebase/app-compat","0.2.13",xt)}()},7592:(nn,ct,ce)=>{ce.r(ct),ce.d(ct,{FirebaseError:()=>Oe.ZR,SDK_VERSION:()=>Oi,_DEFAULT_ENTRY_NAME:()=>qe,_addComponent:()=>dt,_addOrOverwriteComponent:()=>vt,_apps:()=>Je,_clearComponents:()=>pn,_components:()=>rt,_getProvider:()=>Rt,_registerComponent:()=>Ot,_removeServiceInstance:()=>yi,deleteApp:()=>ds,getApp:()=>fi,getApps:()=>Mr,initializeApp:()=>Ui,onLog:()=>hs,registerVersion:()=>fr,setLogLevel:()=>Eo});var a=ce(5861),Le=ce(4537),re=ce(7879),Oe=ce(9058),xe=ce(1878);class Ye{constructor(Ae){this.container=Ae}getPlatformInfoString(){return this.container.getProviders().map(at=>{if(function ke(st){const Ae=st.getComponent();return"VERSION"===Ae?.type}(at)){const Nt=at.getImmediate();return`${Nt.library}/${Nt.version}`}return null}).filter(at=>at).join(" ")}}const gt="@firebase/app",ye=new re.Yd("@firebase/app"),qe="[DEFAULT]",nt={[gt]:"fire-core","@firebase/app-compat":"fire-core-compat","@firebase/analytics":"fire-analytics","@firebase/analytics-compat":"fire-analytics-compat","@firebase/app-check":"fire-app-check","@firebase/app-check-compat":"fire-app-check-compat","@firebase/auth":"fire-auth","@firebase/auth-compat":"fire-auth-compat","@firebase/database":"fire-rtdb","@firebase/database-compat":"fire-rtdb-compat","@firebase/functions":"fire-fn","@firebase/functions-compat":"fire-fn-compat","@firebase/installations":"fire-iid","@firebase/installations-compat":"fire-iid-compat","@firebase/messaging":"fire-fcm","@firebase/messaging-compat":"fire-fcm-compat","@firebase/performance":"fire-perf","@firebase/performance-compat":"fire-perf-compat","@firebase/remote-config":"fire-rc","@firebase/remote-config-compat":"fire-rc-compat","@firebase/storage":"fire-gcs","@firebase/storage-compat":"fire-gcs-compat","@firebase/firestore":"fire-fst","@firebase/firestore-compat":"fire-fst-compat","fire-js":"fire-js",firebase:"fire-js-all"},Je=new Map,rt=new Map;function dt(st,Ae){try{st.container.addComponent(Ae)}catch(at){ye.debug(`Component ${Ae.name} failed to register with FirebaseApp ${st.name}`,at)}}function vt(st,Ae){st.container.addOrOverwriteComponent(Ae)}function Ot(st){const Ae=st.name;if(rt.has(Ae))return ye.debug(`There were multiple attempts to register component ${Ae}.`),!1;rt.set(Ae,st);for(const at of Je.values())dt(at,st);return!0}function Rt(st,Ae){const at=st.container.getProvider("heartbeat").getImmediate({optional:!0});return at&&at.triggerHeartbeat(),st.container.getProvider(Ae)}function yi(st,Ae,at=qe){Rt(st,Ae).clearInstance(at)}function pn(){rt.clear()}const dn=new Oe.LL("app","Firebase",{"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}."});class hi{constructor(Ae,at,Nt){this._isDeleted=!1,this._options=Object.assign({},Ae),this._config=Object.assign({},at),this._name=at.name,this._automaticDataCollectionEnabled=at.automaticDataCollectionEnabled,this._container=Nt,this.container.addComponent(new Le.wA("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(Ae){this.checkDestroyed(),this._automaticDataCollectionEnabled=Ae}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(Ae){this._isDeleted=Ae}checkDestroyed(){if(this.isDeleted)throw dn.create("app-deleted",{appName:this._name})}}const Oi="9.23.0";function Ui(st,Ae={}){let at=st;"object"!=typeof Ae&&(Ae={name:Ae});const Nt=Object.assign({name:qe,automaticDataCollectionEnabled:!1},Ae),Wt=Nt.name;if("string"!=typeof Wt||!Wt)throw dn.create("bad-app-name",{appName:String(Wt)});if(at||(at=(0,Oe.aH)()),!at)throw dn.create("no-options");const mn=Je.get(Wt);if(mn){if((0,Oe.vZ)(at,mn.options)&&(0,Oe.vZ)(Nt,mn.config))return mn;throw dn.create("duplicate-app",{appName:Wt})}const li=new Le.H0(Wt);for(const we of rt.values())li.addComponent(we);const Ce=new hi(at,Nt,li);return Je.set(Wt,Ce),Ce}function fi(st=qe){const Ae=Je.get(st);if(!Ae&&st===qe&&(0,Oe.aH)())return Ui();if(!Ae)throw dn.create("no-app",{appName:st});return Ae}function Mr(){return Array.from(Je.values())}function ds(st){return Xr.apply(this,arguments)}function Xr(){return(Xr=(0,a.Z)(function*(st){const Ae=st.name;Je.has(Ae)&&(Je.delete(Ae),yield Promise.all(st.container.getProviders().map(at=>at.delete())),st.isDeleted=!0)})).apply(this,arguments)}function fr(st,Ae,at){var Nt;let Wt=null!==(Nt=nt[st])&&void 0!==Nt?Nt:st;at&&(Wt+=`-${at}`);const mn=Wt.match(/\s|\//),li=Ae.match(/\s|\//);if(mn||li){const Ce=[`Unable to register library "${Wt}" with version "${Ae}":`];return mn&&Ce.push(`library name "${Wt}" contains illegal characters (whitespace or "/")`),mn&&li&&Ce.push("and"),li&&Ce.push(`version name "${Ae}" contains illegal characters (whitespace or "/")`),void ye.warn(Ce.join(" "))}Ot(new Le.wA(`${Wt}-version`,()=>({library:Wt,version:Ae}),"VERSION"))}function hs(st,Ae){if(null!==st&&"function"!=typeof st)throw dn.create("invalid-log-argument");(0,re.Am)(st,Ae)}function Eo(st){(0,re.Ub)(st)}const ya="firebase-heartbeat-database",yn=1,An="firebase-heartbeat-store";let Fn=null;function In(){return Fn||(Fn=(0,xe.X3)(ya,yn,{upgrade:(st,Ae)=>{0===Ae&&st.createObjectStore(An)}}).catch(st=>{throw dn.create("idb-open",{originalErrorMessage:st.message})})),Fn}function pr(){return(pr=(0,a.Z)(function*(st){try{return yield(yield In()).transaction(An).objectStore(An).get(oo(st))}catch(Ae){if(Ae instanceof Oe.ZR)ye.warn(Ae.message);else{const at=dn.create("idb-get",{originalErrorMessage:Ae?.message});ye.warn(at.message)}}})).apply(this,arguments)}function di(st,Ae){return nr.apply(this,arguments)}function nr(){return(nr=(0,a.Z)(function*(st,Ae){try{const Nt=(yield In()).transaction(An,"readwrite");yield Nt.objectStore(An).put(Ae,oo(st)),yield Nt.done}catch(at){if(at instanceof Oe.ZR)ye.warn(at.message);else{const Nt=dn.create("idb-set",{originalErrorMessage:at?.message});ye.warn(Nt.message)}}})).apply(this,arguments)}function oo(st){return`${st.name}!${st.options.appId}`}class si{constructor(Ae){this.container=Ae,this._heartbeatsCache=null;const at=this.container.getProvider("app").getImmediate();this._storage=new To(at),this._heartbeatsCachePromise=this._storage.read().then(Nt=>(this._heartbeatsCache=Nt,Nt))}triggerHeartbeat(){var Ae=this;return(0,a.Z)(function*(){const Nt=Ae.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),Wt=Ts();if(null===Ae._heartbeatsCache&&(Ae._heartbeatsCache=yield Ae._heartbeatsCachePromise),Ae._heartbeatsCache.lastSentHeartbeatDate!==Wt&&!Ae._heartbeatsCache.heartbeats.some(mn=>mn.date===Wt))return Ae._heartbeatsCache.heartbeats.push({date:Wt,agent:Nt}),Ae._heartbeatsCache.heartbeats=Ae._heartbeatsCache.heartbeats.filter(mn=>{const li=new Date(mn.date).valueOf();return Date.now()-li<=2592e6}),Ae._storage.overwrite(Ae._heartbeatsCache)})()}getHeartbeatsHeader(){var Ae=this;return(0,a.Z)(function*(){if(null===Ae._heartbeatsCache&&(yield Ae._heartbeatsCachePromise),null===Ae._heartbeatsCache||0===Ae._heartbeatsCache.heartbeats.length)return"";const at=Ts(),{heartbeatsToSend:Nt,unsentEntries:Wt}=function Do(st,Ae=1024){const at=[];let Nt=st.slice();for(const Wt of st){const mn=at.find(li=>li.agent===Wt.agent);if(mn){if(mn.dates.push(Wt.date),Kr(at)>Ae){mn.dates.pop();break}}else if(at.push({agent:Wt.agent,dates:[Wt.date]}),Kr(at)>Ae){at.pop();break}Nt=Nt.slice(1)}return{heartbeatsToSend:at,unsentEntries:Nt}}(Ae._heartbeatsCache.heartbeats),mn=(0,Oe.L)(JSON.stringify({version:2,heartbeats:Nt}));return Ae._heartbeatsCache.lastSentHeartbeatDate=at,Wt.length>0?(Ae._heartbeatsCache.heartbeats=Wt,yield Ae._storage.overwrite(Ae._heartbeatsCache)):(Ae._heartbeatsCache.heartbeats=[],Ae._storage.overwrite(Ae._heartbeatsCache)),mn})()}}function Ts(){return(new Date).toISOString().substring(0,10)}class To{constructor(Ae){this.app=Ae,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}runIndexedDBEnvironmentCheck(){return(0,a.Z)(function*(){return!!(0,Oe.hl)()&&(0,Oe.eu)().then(()=>!0).catch(()=>!1)})()}read(){var Ae=this;return(0,a.Z)(function*(){return(yield Ae._canUseIndexedDBPromise)&&(yield function zi(st){return pr.apply(this,arguments)}(Ae.app))||{heartbeats:[]}})()}overwrite(Ae){var at=this;return(0,a.Z)(function*(){var Nt;if(yield at._canUseIndexedDBPromise){const mn=yield at.read();return di(at.app,{lastSentHeartbeatDate:null!==(Nt=Ae.lastSentHeartbeatDate)&&void 0!==Nt?Nt:mn.lastSentHeartbeatDate,heartbeats:Ae.heartbeats})}})()}add(Ae){var at=this;return(0,a.Z)(function*(){var Nt;if(yield at._canUseIndexedDBPromise){const mn=yield at.read();return di(at.app,{lastSentHeartbeatDate:null!==(Nt=Ae.lastSentHeartbeatDate)&&void 0!==Nt?Nt:mn.lastSentHeartbeatDate,heartbeats:[...mn.heartbeats,...Ae.heartbeats]})}})()}}function Kr(st){return(0,Oe.L)(JSON.stringify({version:2,heartbeats:st})).length}!function So(st){Ot(new Le.wA("platform-logger",Ae=>new Ye(Ae),"PRIVATE")),Ot(new Le.wA("heartbeat",Ae=>new si(Ae),"PRIVATE")),fr(gt,"0.9.13",st),fr(gt,"0.9.13","esm2017"),fr("fire-js","")}("")},4097:(nn,ct,ce)=>{ce.d(ct,{C6:()=>a.getApps,Mq:()=>a.getApp});var a=ce(7592);(0,a.registerVersion)("firebase","9.23.0","app")},120:(nn,ct,ce)=>{ce.d(ct,{Z:()=>a.Z});var a=ce(3399);a.Z.registerVersion("firebase","9.23.0","app-compat")},8977:(nn,ct,ce)=>{ce.r(ct);var a=ce(5861),Le=ce(3399),re=ce(9058),Oe=ce(7592),xe=ce(7582),Ye=ce(7879),ke=ce(4537);const Qe={FACEBOOK:"facebook.com",GITHUB:"github.com",GOOGLE:"google.com",PASSWORD:"password",PHONE:"phone",TWITTER:"twitter.com"};const At=function St(){return{"admin-restricted-operation":"This operation is restricted to administrators only.","argument-error":"","app-not-authorized":"This app, identified by the domain where it's hosted, is not authorized to use Firebase Authentication with the provided API key. Review your key configuration in the Google API console.","app-not-installed":"The requested mobile application corresponding to the identifier (Android package name or iOS bundle ID) provided is not installed on this device.","captcha-check-failed":"The reCAPTCHA response token provided is either invalid, expired, already used or the domain associated with it does not match the list of whitelisted domains.","code-expired":"The SMS code has expired. Please re-send the verification code to try again.","cordova-not-ready":"Cordova framework is not ready.","cors-unsupported":"This browser is not supported.","credential-already-in-use":"This credential is already associated with a different user account.","custom-token-mismatch":"The custom token corresponds to a different audience.","requires-recent-login":"This operation is sensitive and requires recent authentication. Log in again before retrying this request.","dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK.","dynamic-link-not-activated":"Please activate Dynamic Links in the Firebase Console and agree to the terms and conditions.","email-change-needs-verification":"Multi-factor users must always have a verified email.","email-already-in-use":"The email address is already in use by another account.","emulator-config-failed":'Auth instance has already been used to make a network call. Auth can no longer be configured to use the emulator. Try calling "connectAuthEmulator()" sooner.',"expired-action-code":"The action code has expired.","cancelled-popup-request":"This operation has been cancelled due to another conflicting popup being opened.","internal-error":"An internal AuthError has occurred.","invalid-app-credential":"The phone verification request contains an invalid application verifier. The reCAPTCHA token response is either invalid or expired.","invalid-app-id":"The mobile app identifier is not registed for the current project.","invalid-user-token":"This user's credential isn't valid for this project. This can happen if the user's token has been tampered with, or if the user isn't for the project associated with this API key.","invalid-auth-event":"An internal AuthError has occurred.","invalid-verification-code":"The SMS verification code used to create the phone auth credential is invalid. Please resend the verification code sms and be sure to use the verification code provided by the user.","invalid-continue-uri":"The continue URL provided in the request is invalid.","invalid-cordova-configuration":"The following Cordova plugins must be installed to enable OAuth sign-in: cordova-plugin-buildinfo, cordova-universal-links-plugin, cordova-plugin-browsertab, cordova-plugin-inappbrowser and cordova-plugin-customurlscheme.","invalid-custom-token":"The custom token format is incorrect. Please check the documentation.","invalid-dynamic-link-domain":"The provided dynamic link domain is not configured or authorized for the current project.","invalid-email":"The email address is badly formatted.","invalid-emulator-scheme":"Emulator URL must start with a valid scheme (http:// or https://).","invalid-api-key":"Your API key is invalid, please check you have copied it correctly.","invalid-cert-hash":"The SHA-1 certificate hash provided is invalid.","invalid-credential":"The supplied auth credential is malformed or has expired.","invalid-message-payload":"The email template corresponding to this action contains invalid characters in its message. Please fix by going to the Auth email templates section in the Firebase Console.","invalid-multi-factor-session":"The request does not contain a valid proof of first factor successful sign-in.","invalid-oauth-provider":"EmailAuthProvider is not supported for this operation. This operation only supports OAuth providers.","invalid-oauth-client-id":"The OAuth client ID provided is either invalid or does not match the specified API key.","unauthorized-domain":"This domain is not authorized for OAuth operations for your Firebase project. Edit the list of authorized domains from the Firebase console.","invalid-action-code":"The action code is invalid. This can happen if the code is malformed, expired, or has already been used.","wrong-password":"The password is invalid or the user does not have a password.","invalid-persistence-type":"The specified persistence type is invalid. It can only be local, session or none.","invalid-phone-number":"The format of the phone number provided is incorrect. Please enter the phone number in a format that can be parsed into E.164 format. E.164 phone numbers are written in the format [+][country code][subscriber number including area code].","invalid-provider-id":"The specified provider ID is invalid.","invalid-recipient-email":"The email corresponding to this action failed to send as the provided recipient email address is invalid.","invalid-sender":"The email template corresponding to this action contains an invalid sender email or name. Please fix by going to the Auth email templates section in the Firebase Console.","invalid-verification-id":"The verification ID used to create the phone auth credential is invalid.","invalid-tenant-id":"The Auth instance's tenant ID is invalid.","login-blocked":"Login blocked by user-provided method: {$originalMessage}","missing-android-pkg-name":"An Android Package Name must be provided if the Android App is required to be installed.","auth-domain-config-required":"Be sure to include authDomain when calling firebase.initializeApp(), by following the instructions in the Firebase console.","missing-app-credential":"The phone verification request is missing an application verifier assertion. A reCAPTCHA response token needs to be provided.","missing-verification-code":"The phone auth credential was created with an empty SMS verification code.","missing-continue-uri":"A continue URL must be provided in the request.","missing-iframe-start":"An internal AuthError has occurred.","missing-ios-bundle-id":"An iOS Bundle ID must be provided if an App Store ID is provided.","missing-or-invalid-nonce":"The request does not contain a valid nonce. This can occur if the SHA-256 hash of the provided raw nonce does not match the hashed nonce in the ID token payload.","missing-password":"A non-empty password must be provided","missing-multi-factor-info":"No second factor identifier is provided.","missing-multi-factor-session":"The request is missing proof of first factor successful sign-in.","missing-phone-number":"To send verification codes, provide a phone number for the recipient.","missing-verification-id":"The phone auth credential was created with an empty verification ID.","app-deleted":"This instance of FirebaseApp has been deleted.","multi-factor-info-not-found":"The user does not have a second factor matching the identifier provided.","multi-factor-auth-required":"Proof of ownership of a second factor is required to complete sign-in.","account-exists-with-different-credential":"An account already exists with the same email address but different sign-in credentials. Sign in using a provider associated with this email address.","network-request-failed":"A network AuthError (such as timeout, interrupted connection or unreachable host) has occurred.","no-auth-event":"An internal AuthError has occurred.","no-such-provider":"User was not linked to an account with the given provider.","null-user":"A null user object was provided as the argument for an operation which requires a non-null user object.","operation-not-allowed":"The given sign-in provider is disabled for this Firebase project. Enable it in the Firebase console, under the sign-in method tab of the Auth section.","operation-not-supported-in-this-environment":'This operation is not supported in the environment this application is running on. "location.protocol" must be http, https or chrome-extension and web storage must be enabled.',"popup-blocked":"Unable to establish a connection with the popup. It may have been blocked by the browser.","popup-closed-by-user":"The popup has been closed by the user before finalizing the operation.","provider-already-linked":"User can only be linked to one identity for the given provider.","quota-exceeded":"The project's quota for this operation has been exceeded.","redirect-cancelled-by-user":"The redirect operation has been cancelled by the user before finalizing.","redirect-operation-pending":"A redirect sign-in operation is already pending.","rejected-credential":"The request contains malformed or mismatching credentials.","second-factor-already-in-use":"The second factor is already enrolled on this account.","maximum-second-factor-count-exceeded":"The maximum allowed number of second factors on a user has been exceeded.","tenant-id-mismatch":"The provided tenant ID does not match the Auth instance's tenant ID",timeout:"The operation has timed out.","user-token-expired":"The user's credential is no longer valid. The user must sign in again.","too-many-requests":"We have blocked all requests from this device due to unusual activity. Try again later.","unauthorized-continue-uri":"The domain of the continue URL is not whitelisted.  Please whitelist the domain in the Firebase console.","unsupported-first-factor":"Enrolling a second factor or signing in with a multi-factor account requires sign-in with a supported first factor.","unsupported-persistence-type":"The current environment does not support the specified persistence type.","unsupported-tenant-operation":"This operation is not supported in a multi-tenant context.","unverified-email":"The operation requires a verified email.","user-cancelled":"The user did not grant your application the permissions it requested.","user-not-found":"There is no user record corresponding to this identifier. The user may have been deleted.","user-disabled":"The user account has been disabled by an administrator.","user-mismatch":"The supplied credentials do not correspond to the previously signed in user.","user-signed-out":"","weak-password":"The password must be 6 characters long or more.","web-storage-unsupported":"This browser is not supported or 3rd party cookies and data may be disabled.","already-initialized":"initializeAuth() has already been called with different options. To avoid this error, call initializeAuth() with the same options as when it was originally called, or call getAuth() to return the already initialized instance.","missing-recaptcha-token":"The reCAPTCHA token is missing when sending request to the backend.","invalid-recaptcha-token":"The reCAPTCHA token is invalid when sending request to the backend.","invalid-recaptcha-action":"The reCAPTCHA action is invalid when sending request to the backend.","recaptcha-not-enabled":"reCAPTCHA Enterprise integration is not enabled for this project.","missing-client-type":"The reCAPTCHA client type is missing when sending request to the backend.","missing-recaptcha-version":"The reCAPTCHA version is missing when sending request to the backend.","invalid-req-type":"Invalid request parameters.","invalid-recaptcha-version":"The reCAPTCHA version is invalid when sending request to the backend."}},xt=function _t(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}},Ut=new re.LL("auth","Firebase",{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}),on=new Ye.Yd("@firebase/auth");function _e(N,...x){on.logLevel<=Ye.in.ERROR&&on.error(`Auth (${Oe.SDK_VERSION}): ${N}`,...x)}function et(N,...x){throw Ze(N,...x)}function Ge(N,...x){return Ze(N,...x)}function ht(N,x,T){const F=Object.assign(Object.assign({},xt()),{[x]:T});return new re.LL("auth","Firebase",F).create(x,{appName:N.name})}function Et(N,x,T){if(!(x instanceof T))throw T.name!==x.constructor.name&&et(N,"argument-error"),ht(N,"argument-error",`Type of ${x.constructor.name} does not match expected instance.Did you pass a reference from a different Auth SDK?`)}function Ze(N,...x){if("string"!=typeof N){const T=x[0],F=[...x.slice(1)];return F[0]&&(F[0].appName=N.name),N._errorFactory.create(T,...F)}return Ut.create(N,...x)}function Ne(N,x,...T){if(!N)throw Ze(x,...T)}function It(N){const x="INTERNAL ASSERTION FAILED: "+N;throw _e(x),new Error(x)}function gn(N,x){N||It(x)}function kn(){var N;return typeof self<"u"&&(null===(N=self.location)||void 0===N?void 0:N.href)||""}function vi(){return"http:"===Ai()||"https:"===Ai()}function Ai(){var N;return typeof self<"u"&&(null===(N=self.location)||void 0===N?void 0:N.protocol)||null}class tr{constructor(x,T){this.shortDelay=x,this.longDelay=T,gn(T>x,"Short delay should be less than long delay!"),this.isMobile=(0,re.uI)()||(0,re.b$)()}get(){return function Li(){return!(typeof navigator<"u"&&navigator&&"onLine"in navigator&&"boolean"==typeof navigator.onLine&&(vi()||(0,re.ru)()||"connection"in navigator))||navigator.onLine}()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}function qe(N,x){gn(N.emulator,"Emulator should always be set here");const{url:T}=N.emulator;return x?`${T}${x.startsWith("/")?x.slice(1):x}`:T}class nt{static initialize(x,T,F){this.fetchImpl=x,T&&(this.headersImpl=T),F&&(this.responseImpl=F)}static fetch(){return this.fetchImpl?this.fetchImpl:typeof self<"u"&&"fetch"in self?self.fetch:void It("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){return this.headersImpl?this.headersImpl:typeof self<"u"&&"Headers"in self?self.Headers:void It("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){return this.responseImpl?this.responseImpl:typeof self<"u"&&"Response"in self?self.Response:void It("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}const Je={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"},rt=new tr(3e4,6e4);function dt(N,x){return N.tenantId&&!x.tenantId?Object.assign(Object.assign({},x),{tenantId:N.tenantId}):x}function vt(N,x,T,F){return Ot.apply(this,arguments)}function Ot(){return(Ot=(0,a.Z)(function*(N,x,T,F,q={}){return Rt(N,q,(0,a.Z)(function*(){let ne={},Te={};F&&("GET"===x?Te=F:ne={body:JSON.stringify(F)});const je=(0,re.xO)(Object.assign({key:N.config.apiKey},Te)).slice(1),Tt=yield N._getAdditionalHeaders();return Tt["Content-Type"]="application/json",N.languageCode&&(Tt["X-Firebase-Locale"]=N.languageCode),nt.fetch()(dn(N,N.config.apiHost,T,je),Object.assign({method:x,headers:Tt,referrerPolicy:"no-referrer"},ne))}))})).apply(this,arguments)}function Rt(N,x,T){return yi.apply(this,arguments)}function yi(){return(yi=(0,a.Z)(function*(N,x,T){N._canInitEmulator=!1;const F=Object.assign(Object.assign({},Je),x);try{const q=new hi(N),ne=yield Promise.race([T(),q.promise]);q.clearNetworkTimeout();const Te=yield ne.json();if("needConfirmation"in Te)throw Oi(N,"account-exists-with-different-credential",Te);if(ne.ok&&!("errorMessage"in Te))return Te;{const je=ne.ok?Te.errorMessage:Te.error.message,[Tt,Ft]=je.split(" : ");if("FEDERATED_USER_ID_ALREADY_LINKED"===Tt)throw Oi(N,"credential-already-in-use",Te);if("EMAIL_EXISTS"===Tt)throw Oi(N,"email-already-in-use",Te);if("USER_DISABLED"===Tt)throw Oi(N,"user-disabled",Te);const an=F[Tt]||Tt.toLowerCase().replace(/[_\s]+/g,"-");if(Ft)throw ht(N,an,Ft);et(N,an)}}catch(q){if(q instanceof re.ZR)throw q;et(N,"network-request-failed",{message:String(q)})}})).apply(this,arguments)}function pn(N,x,T,F){return Yn.apply(this,arguments)}function Yn(){return(Yn=(0,a.Z)(function*(N,x,T,F,q={}){const ne=yield vt(N,x,T,F,q);return"mfaPendingCredential"in ne&&et(N,"multi-factor-auth-required",{_serverResponse:ne}),ne})).apply(this,arguments)}function dn(N,x,T,F){const q=`${x}${T}?${F}`;return N.config.emulator?qe(N.config,q):`${N.config.apiScheme}://${q}`}class hi{constructor(x){this.auth=x,this.timer=null,this.promise=new Promise((T,F)=>{this.timer=setTimeout(()=>F(Ge(this.auth,"network-request-failed")),rt.get())})}clearNetworkTimeout(){clearTimeout(this.timer)}}function Oi(N,x,T){const F={appName:N.name};T.email&&(F.email=T.email),T.phoneNumber&&(F.phoneNumber=T.phoneNumber);const q=Ge(N,x,F);return q.customData._tokenResponse=T,q}function fi(){return(fi=(0,a.Z)(function*(N,x){return vt(N,"POST","/v1/accounts:delete",x)})).apply(this,arguments)}function ds(){return(ds=(0,a.Z)(function*(N,x){return vt(N,"POST","/v1/accounts:update",x)})).apply(this,arguments)}function fr(){return(fr=(0,a.Z)(function*(N,x){return vt(N,"POST","/v1/accounts:lookup",x)})).apply(this,arguments)}function hs(N){if(N)try{const x=new Date(Number(N));if(!isNaN(x.getTime()))return x.toUTCString()}catch{}}function yn(){return(yn=(0,a.Z)(function*(N,x=!1){const T=(0,re.m9)(N),F=yield T.getIdToken(x),q=Fn(F);Ne(q&&q.exp&&q.auth_time&&q.iat,T.auth,"internal-error");const ne="object"==typeof q.firebase?q.firebase:void 0,Te=ne?.sign_in_provider;return{claims:q,token:F,authTime:hs(An(q.auth_time)),issuedAtTime:hs(An(q.iat)),expirationTime:hs(An(q.exp)),signInProvider:Te||null,signInSecondFactor:ne?.sign_in_second_factor||null}})).apply(this,arguments)}function An(N){return 1e3*Number(N)}function Fn(N){const[x,T,F]=N.split(".");if(void 0===x||void 0===T||void 0===F)return _e("JWT malformed, contained fewer than 3 sections"),null;try{const q=(0,re.tV)(T);return q?JSON.parse(q):(_e("Failed to decode base64 JWT payload"),null)}catch(q){return _e("Caught error parsing JWT payload as JSON",q?.toString()),null}}function zi(N,x){return pr.apply(this,arguments)}function pr(){return(pr=(0,a.Z)(function*(N,x,T=!1){if(T)return x;try{return yield x}catch(F){throw F instanceof re.ZR&&function di({code:N}){return"auth/user-disabled"===N||"auth/user-token-expired"===N}(F)&&N.auth.currentUser===N&&(yield N.auth.signOut()),F}})).apply(this,arguments)}class nr{constructor(x){this.user=x,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,null!==this.timerId&&clearTimeout(this.timerId))}getInterval(x){var T;if(x){const F=this.errorBackoff;return this.errorBackoff=Math.min(2*this.errorBackoff,96e4),F}{this.errorBackoff=3e4;const q=(null!==(T=this.user.stsTokenManager.expirationTime)&&void 0!==T?T:0)-Date.now()-3e5;return Math.max(0,q)}}schedule(x=!1){var T=this;if(!this.isRunning)return;const F=this.getInterval(x);this.timerId=setTimeout((0,a.Z)(function*(){yield T.iteration()}),F)}iteration(){var x=this;return(0,a.Z)(function*(){try{yield x.user.getIdToken(!0)}catch(T){return void("auth/network-request-failed"===T?.code&&x.schedule(!0))}x.schedule()})()}}class oo{constructor(x,T){this.createdAt=x,this.lastLoginAt=T,this._initializeTime()}_initializeTime(){this.lastSignInTime=hs(this.lastLoginAt),this.creationTime=hs(this.createdAt)}_copy(x){this.createdAt=x.createdAt,this.lastLoginAt=x.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}function ti(N){return Vr.apply(this,arguments)}function Vr(){return Vr=(0,a.Z)(function*(N){var x;const T=N.auth,F=yield N.getIdToken(),q=yield zi(N,function Xr(N,x){return fr.apply(this,arguments)}(T,{idToken:F}));Ne(q?.users.length,T,"internal-error");const ne=q.users[0];N._notifyReloadListener(ne);const Te=null!==(x=ne.providerUserInfo)&&void 0!==x&&x.length?function To(N){return N.map(x=>{var{providerId:T}=x,F=(0,xe._T)(x,["providerId"]);return{providerId:T,uid:F.rawId||"",displayName:F.displayName||null,email:F.email||null,phoneNumber:F.phoneNumber||null,photoURL:F.photoUrl||null}})}(ne.providerUserInfo):[],je=function Do(N,x){return[...N.filter(F=>!x.some(q=>q.providerId===F.providerId)),...x]}(N.providerData,Te),an=!!N.isAnonymous&&!(N.email&&ne.passwordHash||je?.length),cn={uid:ne.localId,displayName:ne.displayName||null,photoURL:ne.photoUrl||null,email:ne.email||null,emailVerified:ne.emailVerified||!1,phoneNumber:ne.phoneNumber||null,tenantId:ne.tenantId||null,providerData:je,metadata:new oo(ne.createdAt,ne.lastLoginAt),isAnonymous:an};Object.assign(N,cn)}),Vr.apply(this,arguments)}function Ts(){return(Ts=(0,a.Z)(function*(N){const x=(0,re.m9)(N);yield ti(x),yield x.auth._persistUserIfCurrent(x),x.auth._notifyListenersIfCurrent(x)})).apply(this,arguments)}function So(){return(So=(0,a.Z)(function*(N,x){const T=yield Rt(N,{},(0,a.Z)(function*(){const F=(0,re.xO)({grant_type:"refresh_token",refresh_token:x}).slice(1),{tokenApiHost:q,apiKey:ne}=N.config,Te=dn(N,q,"/v1/token",`key=${ne}`),je=yield N._getAdditionalHeaders();return je["Content-Type"]="application/x-www-form-urlencoded",nt.fetch()(Te,{method:"POST",headers:je,body:F})}));return{accessToken:T.access_token,expiresIn:T.expires_in,refreshToken:T.refresh_token}})).apply(this,arguments)}class st{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(x){Ne(x.idToken,"internal-error"),Ne(typeof x.idToken<"u","internal-error"),Ne(typeof x.refreshToken<"u","internal-error");const T="expiresIn"in x&&typeof x.expiresIn<"u"?Number(x.expiresIn):function In(N){const x=Fn(N);return Ne(x,"internal-error"),Ne(typeof x.exp<"u","internal-error"),Ne(typeof x.iat<"u","internal-error"),Number(x.exp)-Number(x.iat)}(x.idToken);this.updateTokensAndExpiration(x.idToken,x.refreshToken,T)}getToken(x,T=!1){var F=this;return(0,a.Z)(function*(){return Ne(!F.accessToken||F.refreshToken,x,"user-token-expired"),T||!F.accessToken||F.isExpired?F.refreshToken?(yield F.refresh(x,F.refreshToken),F.accessToken):null:F.accessToken})()}clearRefreshToken(){this.refreshToken=null}refresh(x,T){var F=this;return(0,a.Z)(function*(){const{accessToken:q,refreshToken:ne,expiresIn:Te}=yield function Kr(N,x){return So.apply(this,arguments)}(x,T);F.updateTokensAndExpiration(q,ne,Number(Te))})()}updateTokensAndExpiration(x,T,F){this.refreshToken=T||null,this.accessToken=x||null,this.expirationTime=Date.now()+1e3*F}static fromJSON(x,T){const{refreshToken:F,accessToken:q,expirationTime:ne}=T,Te=new st;return F&&(Ne("string"==typeof F,"internal-error",{appName:x}),Te.refreshToken=F),q&&(Ne("string"==typeof q,"internal-error",{appName:x}),Te.accessToken=q),ne&&(Ne("number"==typeof ne,"internal-error",{appName:x}),Te.expirationTime=ne),Te}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(x){this.accessToken=x.accessToken,this.refreshToken=x.refreshToken,this.expirationTime=x.expirationTime}_clone(){return Object.assign(new st,this.toJSON())}_performRefresh(){return It("not implemented")}}function Ae(N,x){Ne("string"==typeof N||typeof N>"u","internal-error",{appName:x})}class at{constructor(x){var{uid:T,auth:F,stsTokenManager:q}=x,ne=(0,xe._T)(x,["uid","auth","stsTokenManager"]);this.providerId="firebase",this.proactiveRefresh=new nr(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=T,this.auth=F,this.stsTokenManager=q,this.accessToken=q.accessToken,this.displayName=ne.displayName||null,this.email=ne.email||null,this.emailVerified=ne.emailVerified||!1,this.phoneNumber=ne.phoneNumber||null,this.photoURL=ne.photoURL||null,this.isAnonymous=ne.isAnonymous||!1,this.tenantId=ne.tenantId||null,this.providerData=ne.providerData?[...ne.providerData]:[],this.metadata=new oo(ne.createdAt||void 0,ne.lastLoginAt||void 0)}getIdToken(x){var T=this;return(0,a.Z)(function*(){const F=yield zi(T,T.stsTokenManager.getToken(T.auth,x));return Ne(F,T.auth,"internal-error"),T.accessToken!==F&&(T.accessToken=F,yield T.auth._persistUserIfCurrent(T),T.auth._notifyListenersIfCurrent(T)),F})()}getIdTokenResult(x){return function ya(N){return yn.apply(this,arguments)}(this,x)}reload(){return function si(N){return Ts.apply(this,arguments)}(this)}_assign(x){this!==x&&(Ne(this.uid===x.uid,this.auth,"internal-error"),this.displayName=x.displayName,this.photoURL=x.photoURL,this.email=x.email,this.emailVerified=x.emailVerified,this.phoneNumber=x.phoneNumber,this.isAnonymous=x.isAnonymous,this.tenantId=x.tenantId,this.providerData=x.providerData.map(T=>Object.assign({},T)),this.metadata._copy(x.metadata),this.stsTokenManager._assign(x.stsTokenManager))}_clone(x){const T=new at(Object.assign(Object.assign({},this),{auth:x,stsTokenManager:this.stsTokenManager._clone()}));return T.metadata._copy(this.metadata),T}_onReload(x){Ne(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=x,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(x){this.reloadListener?this.reloadListener(x):this.reloadUserInfo=x}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}_updateTokensIfNecessary(x,T=!1){var F=this;return(0,a.Z)(function*(){let q=!1;x.idToken&&x.idToken!==F.stsTokenManager.accessToken&&(F.stsTokenManager.updateFromServerResponse(x),q=!0),T&&(yield ti(F)),yield F.auth._persistUserIfCurrent(F),q&&F.auth._notifyListenersIfCurrent(F)})()}delete(){var x=this;return(0,a.Z)(function*(){const T=yield x.getIdToken();return yield zi(x,function Ui(N,x){return fi.apply(this,arguments)}(x.auth,{idToken:T})),x.stsTokenManager.clearRefreshToken(),x.auth.signOut()})()}toJSON(){return Object.assign(Object.assign({uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(x=>Object.assign({},x)),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId},this.metadata.toJSON()),{apiKey:this.auth.config.apiKey,appName:this.auth.name})}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(x,T){var F,q,ne,Te,je,Tt,Ft,an;const cn=null!==(F=T.displayName)&&void 0!==F?F:void 0,_r=null!==(q=T.email)&&void 0!==q?q:void 0,Uo=null!==(ne=T.phoneNumber)&&void 0!==ne?ne:void 0,Ed=null!==(Te=T.photoURL)&&void 0!==Te?Te:void 0,hu=null!==(je=T.tenantId)&&void 0!==je?je:void 0,Dd=null!==(Tt=T._redirectEventId)&&void 0!==Tt?Tt:void 0,hv=null!==(Ft=T.createdAt)&&void 0!==Ft?Ft:void 0,sf=null!==(an=T.lastLoginAt)&&void 0!==an?an:void 0,{uid:Td,emailVerified:lb,isAnonymous:cb,providerData:pc,stsTokenManager:fv}=T;Ne(Td&&fv,x,"internal-error");const ub=st.fromJSON(this.name,fv);Ne("string"==typeof Td,x,"internal-error"),Ae(cn,x.name),Ae(_r,x.name),Ne("boolean"==typeof lb,x,"internal-error"),Ne("boolean"==typeof cb,x,"internal-error"),Ae(Uo,x.name),Ae(Ed,x.name),Ae(hu,x.name),Ae(Dd,x.name),Ae(hv,x.name),Ae(sf,x.name);const fu=new at({uid:Td,auth:x,email:_r,emailVerified:lb,displayName:cn,isAnonymous:cb,photoURL:Ed,phoneNumber:Uo,tenantId:hu,stsTokenManager:ub,createdAt:hv,lastLoginAt:sf});return pc&&Array.isArray(pc)&&(fu.providerData=pc.map(Sd=>Object.assign({},Sd))),Dd&&(fu._redirectEventId=Dd),fu}static _fromIdTokenResponse(x,T,F=!1){return(0,a.Z)(function*(){const q=new st;q.updateFromServerResponse(T);const ne=new at({uid:T.localId,auth:x,stsTokenManager:q,isAnonymous:F});return yield ti(ne),ne})()}}const Nt=new Map;function Wt(N){gn(N instanceof Function,"Expected a class definition");let x=Nt.get(N);return x?(gn(x instanceof N,"Instance stored in cache mismatched with class"),x):(x=new N,Nt.set(N,x),x)}const li=(()=>{class N{constructor(){this.type="NONE",this.storage={}}_isAvailable(){return(0,a.Z)(function*(){return!0})()}_set(T,F){var q=this;return(0,a.Z)(function*(){q.storage[T]=F})()}_get(T){var F=this;return(0,a.Z)(function*(){const q=F.storage[T];return void 0===q?null:q})()}_remove(T){var F=this;return(0,a.Z)(function*(){delete F.storage[T]})()}_addListener(T,F){}_removeListener(T,F){}}return N.type="NONE",N})();function Ce(N,x,T){return`firebase:${N}:${x}:${T}`}class we{constructor(x,T,F){this.persistence=x,this.auth=T,this.userKey=F;const{config:q,name:ne}=this.auth;this.fullUserKey=Ce(this.userKey,q.apiKey,ne),this.fullPersistenceKey=Ce("persistence",q.apiKey,ne),this.boundEventHandler=T._onStorageEvent.bind(T),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(x){return this.persistence._set(this.fullUserKey,x.toJSON())}getCurrentUser(){var x=this;return(0,a.Z)(function*(){const T=yield x.persistence._get(x.fullUserKey);return T?at._fromJSON(x.auth,T):null})()}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}setPersistence(x){var T=this;return(0,a.Z)(function*(){if(T.persistence===x)return;const F=yield T.getCurrentUser();return yield T.removeCurrentUser(),T.persistence=x,F?T.setCurrentUser(F):void 0})()}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static create(x,T,F="authUser"){return(0,a.Z)(function*(){if(!T.length)return new we(Wt(li),x,F);const q=(yield Promise.all(T.map(function(){var Ft=(0,a.Z)(function*(an){if(yield an._isAvailable())return an});return function(an){return Ft.apply(this,arguments)}}()))).filter(Ft=>Ft);let ne=q[0]||Wt(li);const Te=Ce(F,x.config.apiKey,x.name);let je=null;for(const Ft of T)try{const an=yield Ft._get(Te);if(an){const cn=at._fromJSON(x,an);Ft!==ne&&(je=cn),ne=Ft;break}}catch{}const Tt=q.filter(Ft=>Ft._shouldAllowMigration);return ne._shouldAllowMigration&&Tt.length?(ne=Tt[0],je&&(yield ne._set(Te,je.toJSON())),yield Promise.all(T.map(function(){var Ft=(0,a.Z)(function*(an){if(an!==ne)try{yield an._remove(Te)}catch{}});return function(an){return Ft.apply(this,arguments)}}())),new we(ne,x,F)):new we(ne,x,F)})()}}function Fe(N){const x=N.toLowerCase();if(x.includes("opera/")||x.includes("opr/")||x.includes("opios/"))return"Opera";if(Ln(x))return"IEMobile";if(x.includes("msie")||x.includes("trident/"))return"IE";if(x.includes("edge/"))return"Edge";if(mt(x))return"Firefox";if(x.includes("silk/"))return"Silk";if(kr(x))return"Blackberry";if(Bn(x))return"Webos";if(Ke(x))return"Safari";if((x.includes("chrome/")||Kt(x))&&!x.includes("edge/"))return"Chrome";if(Tn(x))return"Android";{const F=N.match(/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/);if(2===F?.length)return F[1]}return"Other"}function mt(N=(0,re.z$)()){return/firefox\//i.test(N)}function Ke(N=(0,re.z$)()){const x=N.toLowerCase();return x.includes("safari/")&&!x.includes("chrome/")&&!x.includes("crios/")&&!x.includes("android")}function Kt(N=(0,re.z$)()){return/crios\//i.test(N)}function Ln(N=(0,re.z$)()){return/iemobile/i.test(N)}function Tn(N=(0,re.z$)()){return/android/i.test(N)}function kr(N=(0,re.z$)()){return/blackberry/i.test(N)}function Bn(N=(0,re.z$)()){return/webos/i.test(N)}function gr(N=(0,re.z$)()){return/iphone|ipad|ipod/i.test(N)||/macintosh/i.test(N)&&/mobile/i.test(N)}function Va(N=(0,re.z$)()){return gr(N)||Tn(N)||Bn(N)||kr(N)||/windows phone/i.test(N)||Ln(N)}function ao(N,x=[]){let T;switch(N){case"Browser":T=Fe((0,re.z$)());break;case"Worker":T=`${Fe((0,re.z$)())}-${N}`;break;default:T=N}const F=x.length?x.join(","):"FirebaseCore-web";return`${T}/JsCore/${Oe.SDK_VERSION}/${F}`}function ks(){return(ks=(0,a.Z)(function*(N){return(yield vt(N,"GET","/v1/recaptchaParams")).recaptchaSiteKey||""})).apply(this,arguments)}function lo(N,x){return J.apply(this,arguments)}function J(){return(J=(0,a.Z)(function*(N,x){return vt(N,"GET","/v2/recaptchaConfig",dt(N,x))})).apply(this,arguments)}function l(N){return void 0!==N&&void 0!==N.getResponse}function u(N){return void 0!==N&&void 0!==N.enterprise}class f{constructor(x){if(this.siteKey="",this.emailPasswordEnabled=!1,void 0===x.recaptchaKey)throw new Error("recaptchaKey undefined");this.siteKey=x.recaptchaKey.split("/")[3],this.emailPasswordEnabled=x.recaptchaEnforcementState.some(T=>"EMAIL_PASSWORD_PROVIDER"===T.provider&&"OFF"!==T.enforcementState)}}function v(N){return new Promise((x,T)=>{const F=document.createElement("script");F.setAttribute("src",N),F.onload=x,F.onerror=q=>{const ne=Ge("internal-error");ne.customData=q,T(ne)},F.type="text/javascript",F.charset="UTF-8",function m(){var N,x;return null!==(x=null===(N=document.getElementsByTagName("head"))||void 0===N?void 0:N[0])&&void 0!==x?x:document}().appendChild(F)})}function y(N){return`__${N}${Math.floor(1e6*Math.random())}`}class O{constructor(x){this.type="recaptcha-enterprise",this.auth=Y(x)}verify(x="verify",T=!1){var F=this;return(0,a.Z)(function*(){function ne(){return ne=(0,a.Z)(function*(je){if(!T){if(null==je.tenantId&&null!=je._agentRecaptchaConfig)return je._agentRecaptchaConfig.siteKey;if(null!=je.tenantId&&void 0!==je._tenantRecaptchaConfigs[je.tenantId])return je._tenantRecaptchaConfigs[je.tenantId].siteKey}return new Promise(function(){var Tt=(0,a.Z)(function*(Ft,an){lo(je,{clientType:"CLIENT_TYPE_WEB",version:"RECAPTCHA_ENTERPRISE"}).then(cn=>{if(void 0!==cn.recaptchaKey){const _r=new f(cn);return null==je.tenantId?je._agentRecaptchaConfig=_r:je._tenantRecaptchaConfigs[je.tenantId]=_r,Ft(_r.siteKey)}an(new Error("recaptcha Enterprise site key undefined"))}).catch(cn=>{an(cn)})});return function(Ft,an){return Tt.apply(this,arguments)}}())}),ne.apply(this,arguments)}function Te(je,Tt,Ft){const an=window.grecaptcha;u(an)?an.enterprise.ready(()=>{an.enterprise.execute(je,{action:x}).then(cn=>{Tt(cn)}).catch(()=>{Tt("NO_RECAPTCHA")})}):Ft(Error("No reCAPTCHA enterprise script loaded."))}return new Promise((je,Tt)=>{(function q(je){return ne.apply(this,arguments)})(F.auth).then(Ft=>{if(!T&&u(window.grecaptcha))Te(Ft,je,Tt);else{if(typeof window>"u")return void Tt(new Error("RecaptchaVerifier is only supported in browser"));v("https://www.google.com/recaptcha/enterprise.js?render="+Ft).then(()=>{Te(Ft,je,Tt)}).catch(an=>{Tt(an)})}}).catch(Ft=>{Tt(Ft)})})})()}}function P(N,x,T){return L.apply(this,arguments)}function L(){return(L=(0,a.Z)(function*(N,x,T,F=!1){const q=new O(N);let ne;try{ne=yield q.verify(T)}catch{ne=yield q.verify(T,!0)}const Te=Object.assign({},x);return Object.assign(Te,F?{captchaResp:ne}:{captchaResponse:ne}),Object.assign(Te,{clientType:"CLIENT_TYPE_WEB"}),Object.assign(Te,{recaptchaVersion:"RECAPTCHA_ENTERPRISE"}),Te})).apply(this,arguments)}class U{constructor(x){this.auth=x,this.queue=[]}pushCallback(x,T){const F=ne=>new Promise((Te,je)=>{try{Te(x(ne))}catch(Tt){je(Tt)}});F.onAbort=T,this.queue.push(F);const q=this.queue.length-1;return()=>{this.queue[q]=()=>Promise.resolve()}}runMiddleware(x){var T=this;return(0,a.Z)(function*(){if(T.auth.currentUser===x)return;const F=[];try{for(const q of T.queue)yield q(x),q.onAbort&&F.push(q.onAbort)}catch(q){F.reverse();for(const ne of F)try{ne()}catch{}throw T.auth._errorFactory.create("login-blocked",{originalMessage:q?.message})}})()}}class G{constructor(x,T,F,q){this.app=x,this.heartbeatServiceProvider=T,this.appCheckServiceProvider=F,this.config=q,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new Q(this),this.idTokenSubscription=new Q(this),this.beforeStateQueue=new U(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=Ut,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=x.name,this.clientVersion=q.sdkClientVersion}_initializeWithPersistence(x,T){var F=this;return T&&(this._popupRedirectResolver=Wt(T)),this._initializationPromise=this.queue((0,a.Z)(function*(){var q,ne;if(!F._deleted&&(F.persistenceManager=yield we.create(F,x),!F._deleted)){if(null!==(q=F._popupRedirectResolver)&&void 0!==q&&q._shouldInitProactively)try{yield F._popupRedirectResolver._initialize(F)}catch{}yield F.initializeCurrentUser(T),F.lastNotifiedUid=(null===(ne=F.currentUser)||void 0===ne?void 0:ne.uid)||null,!F._deleted&&(F._isInitialized=!0)}})),this._initializationPromise}_onStorageEvent(){var x=this;return(0,a.Z)(function*(){if(x._deleted)return;const T=yield x.assertedPersistence.getCurrentUser();if(x.currentUser||T){if(x.currentUser&&T&&x.currentUser.uid===T.uid)return x._currentUser._assign(T),void(yield x.currentUser.getIdToken());yield x._updateCurrentUser(T,!0)}})()}initializeCurrentUser(x){var T=this;return(0,a.Z)(function*(){var F;const q=yield T.assertedPersistence.getCurrentUser();let ne=q,Te=!1;if(x&&T.config.authDomain){yield T.getOrInitRedirectPersistenceManager();const je=null===(F=T.redirectUser)||void 0===F?void 0:F._redirectEventId,Tt=ne?._redirectEventId,Ft=yield T.tryRedirectSignIn(x);(!je||je===Tt)&&Ft?.user&&(ne=Ft.user,Te=!0)}if(!ne)return T.directlySetCurrentUser(null);if(!ne._redirectEventId){if(Te)try{yield T.beforeStateQueue.runMiddleware(ne)}catch(je){ne=q,T._popupRedirectResolver._overrideRedirectResult(T,()=>Promise.reject(je))}return ne?T.reloadAndSetCurrentUserOrClear(ne):T.directlySetCurrentUser(null)}return Ne(T._popupRedirectResolver,T,"argument-error"),yield T.getOrInitRedirectPersistenceManager(),T.redirectUser&&T.redirectUser._redirectEventId===ne._redirectEventId?T.directlySetCurrentUser(ne):T.reloadAndSetCurrentUserOrClear(ne)})()}tryRedirectSignIn(x){var T=this;return(0,a.Z)(function*(){let F=null;try{F=yield T._popupRedirectResolver._completeRedirectFn(T,x,!0)}catch{yield T._setRedirectUser(null)}return F})()}reloadAndSetCurrentUserOrClear(x){var T=this;return(0,a.Z)(function*(){try{yield ti(x)}catch(F){if("auth/network-request-failed"!==F?.code)return T.directlySetCurrentUser(null)}return T.directlySetCurrentUser(x)})()}useDeviceLanguage(){this.languageCode=function ki(){if(typeof navigator>"u")return null;const N=navigator;return N.languages&&N.languages[0]||N.language||null}()}_delete(){var x=this;return(0,a.Z)(function*(){x._deleted=!0})()}updateCurrentUser(x){var T=this;return(0,a.Z)(function*(){const F=x?(0,re.m9)(x):null;return F&&Ne(F.auth.config.apiKey===T.config.apiKey,T,"invalid-user-token"),T._updateCurrentUser(F&&F._clone(T))})()}_updateCurrentUser(x,T=!1){var F=this;return(0,a.Z)(function*(){if(!F._deleted)return x&&Ne(F.tenantId===x.tenantId,F,"tenant-id-mismatch"),T||(yield F.beforeStateQueue.runMiddleware(x)),F.queue((0,a.Z)(function*(){yield F.directlySetCurrentUser(x),F.notifyAuthListeners()}))})()}signOut(){var x=this;return(0,a.Z)(function*(){return yield x.beforeStateQueue.runMiddleware(null),(x.redirectPersistenceManager||x._popupRedirectResolver)&&(yield x._setRedirectUser(null)),x._updateCurrentUser(null,!0)})()}setPersistence(x){var T=this;return this.queue((0,a.Z)(function*(){yield T.assertedPersistence.setPersistence(Wt(x))}))}initializeRecaptchaConfig(){var x=this;return(0,a.Z)(function*(){const T=yield lo(x,{clientType:"CLIENT_TYPE_WEB",version:"RECAPTCHA_ENTERPRISE"}),F=new f(T);null==x.tenantId?x._agentRecaptchaConfig=F:x._tenantRecaptchaConfigs[x.tenantId]=F,F.emailPasswordEnabled&&new O(x).verify()})()}_getRecaptchaConfig(){return null==this.tenantId?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}_getPersistence(){return this.assertedPersistence.persistence.type}_updateErrorMap(x){this._errorFactory=new re.LL("auth","Firebase",x())}onAuthStateChanged(x,T,F){return this.registerStateListener(this.authStateSubscription,x,T,F)}beforeAuthStateChanged(x,T){return this.beforeStateQueue.pushCallback(x,T)}onIdTokenChanged(x,T,F){return this.registerStateListener(this.idTokenSubscription,x,T,F)}toJSON(){var x;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:null===(x=this._currentUser)||void 0===x?void 0:x.toJSON()}}_setRedirectUser(x,T){var F=this;return(0,a.Z)(function*(){const q=yield F.getOrInitRedirectPersistenceManager(T);return null===x?q.removeCurrentUser():q.setCurrentUser(x)})()}getOrInitRedirectPersistenceManager(x){var T=this;return(0,a.Z)(function*(){if(!T.redirectPersistenceManager){const F=x&&Wt(x)||T._popupRedirectResolver;Ne(F,T,"argument-error"),T.redirectPersistenceManager=yield we.create(T,[Wt(F._redirectPersistence)],"redirectUser"),T.redirectUser=yield T.redirectPersistenceManager.getCurrentUser()}return T.redirectPersistenceManager})()}_redirectUserForId(x){var T=this;return(0,a.Z)(function*(){var F,q;return T._isInitialized&&(yield T.queue((0,a.Z)(function*(){}))),(null===(F=T._currentUser)||void 0===F?void 0:F._redirectEventId)===x?T._currentUser:(null===(q=T.redirectUser)||void 0===q?void 0:q._redirectEventId)===x?T.redirectUser:null})()}_persistUserIfCurrent(x){var T=this;return(0,a.Z)(function*(){if(x===T.currentUser)return T.queue((0,a.Z)(function*(){return T.directlySetCurrentUser(x)}))})()}_notifyListenersIfCurrent(x){x===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){var x,T;if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const F=null!==(T=null===(x=this.currentUser)||void 0===x?void 0:x.uid)&&void 0!==T?T:null;this.lastNotifiedUid!==F&&(this.lastNotifiedUid=F,this.authStateSubscription.next(this.currentUser))}registerStateListener(x,T,F,q){if(this._deleted)return()=>{};const ne="function"==typeof T?T:T.next.bind(T),Te=this._isInitialized?Promise.resolve():this._initializationPromise;return Ne(Te,this,"internal-error"),Te.then(()=>ne(this.currentUser)),"function"==typeof T?x.addObserver(T,F,q):x.addObserver(T)}directlySetCurrentUser(x){var T=this;return(0,a.Z)(function*(){T.currentUser&&T.currentUser!==x&&T._currentUser._stopProactiveRefresh(),x&&T.isProactiveRefreshEnabled&&x._startProactiveRefresh(),T.currentUser=x,x?yield T.assertedPersistence.setCurrentUser(x):yield T.assertedPersistence.removeCurrentUser()})()}queue(x){return this.operations=this.operations.then(x,x),this.operations}get assertedPersistence(){return Ne(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(x){!x||this.frameworks.includes(x)||(this.frameworks.push(x),this.frameworks.sort(),this.clientVersion=ao(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}_getAdditionalHeaders(){var x=this;return(0,a.Z)(function*(){var T;const F={"X-Client-Version":x.clientVersion};x.app.options.appId&&(F["X-Firebase-gmpid"]=x.app.options.appId);const q=yield null===(T=x.heartbeatServiceProvider.getImmediate({optional:!0}))||void 0===T?void 0:T.getHeartbeatsHeader();q&&(F["X-Firebase-Client"]=q);const ne=yield x._getAppCheckToken();return ne&&(F["X-Firebase-AppCheck"]=ne),F})()}_getAppCheckToken(){var x=this;return(0,a.Z)(function*(){var T;const F=yield null===(T=x.appCheckServiceProvider.getImmediate({optional:!0}))||void 0===T?void 0:T.getToken();return F?.error&&function $t(N,...x){on.logLevel<=Ye.in.WARN&&on.warn(`Auth (${Oe.SDK_VERSION}): ${N}`,...x)}(`Error while retrieving App Check token: ${F.error}`),F?.token})()}}function Y(N){return(0,re.m9)(N)}class Q{constructor(x){this.auth=x,this.observer=null,this.addObserver=(0,re.ne)(T=>this.observer=T)}get next(){return Ne(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}function R(N){const x=N.indexOf(":");return x<0?"":N.substr(0,x+1)}function te(N){if(!N)return null;const x=Number(N);return isNaN(x)?null:x}class he{constructor(x,T){this.providerId=x,this.signInMethod=T}toJSON(){return It("not implemented")}_getIdTokenResponse(x){return It("not implemented")}_linkToIdToken(x,T){return It("not implemented")}_getReauthenticationResolver(x){return It("not implemented")}}function Ie(N,x){return De.apply(this,arguments)}function De(){return(De=(0,a.Z)(function*(N,x){return vt(N,"POST","/v1/accounts:resetPassword",dt(N,x))})).apply(this,arguments)}function $e(N,x){return yt.apply(this,arguments)}function yt(){return(yt=(0,a.Z)(function*(N,x){return vt(N,"POST","/v1/accounts:update",x)})).apply(this,arguments)}function Lt(){return(Lt=(0,a.Z)(function*(N,x){return vt(N,"POST","/v1/accounts:update",dt(N,x))})).apply(this,arguments)}function Pt(N,x){return Mn.apply(this,arguments)}function Mn(){return(Mn=(0,a.Z)(function*(N,x){return pn(N,"POST","/v1/accounts:signInWithPassword",dt(N,x))})).apply(this,arguments)}function Wn(N,x){return Zn.apply(this,arguments)}function Zn(){return(Zn=(0,a.Z)(function*(N,x){return vt(N,"POST","/v1/accounts:sendOobCode",dt(N,x))})).apply(this,arguments)}function Ii(){return(Ii=(0,a.Z)(function*(N,x){return Wn(N,x)})).apply(this,arguments)}function Ri(N,x){return Os.apply(this,arguments)}function Os(){return(Os=(0,a.Z)(function*(N,x){return Wn(N,x)})).apply(this,arguments)}function Un(N,x){return Zi.apply(this,arguments)}function Zi(){return(Zi=(0,a.Z)(function*(N,x){return Wn(N,x)})).apply(this,arguments)}function mr(){return(mr=(0,a.Z)(function*(N,x){return Wn(N,x)})).apply(this,arguments)}function Ha(){return(Ha=(0,a.Z)(function*(N,x){return pn(N,"POST","/v1/accounts:signInWithEmailLink",dt(N,x))})).apply(this,arguments)}function Bc(){return(Bc=(0,a.Z)(function*(N,x){return pn(N,"POST","/v1/accounts:signInWithEmailLink",dt(N,x))})).apply(this,arguments)}class $u extends he{constructor(x,T,F,q=null){super("password",F),this._email=x,this._password=T,this._tenantId=q}static _fromEmailAndPassword(x,T){return new $u(x,T,"password")}static _fromEmailAndCode(x,T,F=null){return new $u(x,T,"emailLink",F)}toJSON(){return{email:this._email,password:this._password,signInMethod:this.signInMethod,tenantId:this._tenantId}}static fromJSON(x){const T="string"==typeof x?JSON.parse(x):x;if(T?.email&&T?.password){if("password"===T.signInMethod)return this._fromEmailAndPassword(T.email,T.password);if("emailLink"===T.signInMethod)return this._fromEmailAndCode(T.email,T.password,T.tenantId)}return null}_getIdTokenResponse(x){var T=this;return(0,a.Z)(function*(){var F;switch(T.signInMethod){case"password":const q={returnSecureToken:!0,email:T._email,password:T._password,clientType:"CLIENT_TYPE_WEB"};if(null!==(F=x._getRecaptchaConfig())&&void 0!==F&&F.emailPasswordEnabled){const ne=yield P(x,q,"signInWithPassword");return Pt(x,ne)}return Pt(x,q).catch(function(){var ne=(0,a.Z)(function*(Te){if("auth/missing-recaptcha-token"===Te.code){console.log("Sign-in with email address and password is protected by reCAPTCHA for this project. Automatically triggering the reCAPTCHA flow and restarting the sign-in flow.");const je=yield P(x,q,"signInWithPassword");return Pt(x,je)}return Promise.reject(Te)});return function(Te){return ne.apply(this,arguments)}}());case"emailLink":return function _i(N,x){return Ha.apply(this,arguments)}(x,{email:T._email,oobCode:T._password});default:et(x,"internal-error")}})()}_linkToIdToken(x,T){var F=this;return(0,a.Z)(function*(){switch(F.signInMethod){case"password":return $e(x,{idToken:T,returnSecureToken:!0,email:F._email,password:F._password});case"emailLink":return function Nm(N,x){return Bc.apply(this,arguments)}(x,{idToken:T,email:F._email,oobCode:F._password});default:et(x,"internal-error")}})()}_getReauthenticationResolver(x){return this._getIdTokenResponse(x)}}function Ao(N,x){return ir.apply(this,arguments)}function ir(){return(ir=(0,a.Z)(function*(N,x){return pn(N,"POST","/v1/accounts:signInWithIdp",dt(N,x))})).apply(this,arguments)}class Sn extends he{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(x){const T=new Sn(x.providerId,x.signInMethod);return x.idToken||x.accessToken?(x.idToken&&(T.idToken=x.idToken),x.accessToken&&(T.accessToken=x.accessToken),x.nonce&&!x.pendingToken&&(T.nonce=x.nonce),x.pendingToken&&(T.pendingToken=x.pendingToken)):x.oauthToken&&x.oauthTokenSecret?(T.accessToken=x.oauthToken,T.secret=x.oauthTokenSecret):et("argument-error"),T}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(x){const T="string"==typeof x?JSON.parse(x):x,{providerId:F,signInMethod:q}=T,ne=(0,xe._T)(T,["providerId","signInMethod"]);if(!F||!q)return null;const Te=new Sn(F,q);return Te.idToken=ne.idToken||void 0,Te.accessToken=ne.accessToken||void 0,Te.secret=ne.secret,Te.nonce=ne.nonce,Te.pendingToken=ne.pendingToken||null,Te}_getIdTokenResponse(x){return Ao(x,this.buildRequest())}_linkToIdToken(x,T){const F=this.buildRequest();return F.idToken=T,Ao(x,F)}_getReauthenticationResolver(x){const T=this.buildRequest();return T.autoCreate=!1,Ao(x,T)}buildRequest(){const x={requestUri:"http://localhost",returnSecureToken:!0};if(this.pendingToken)x.pendingToken=this.pendingToken;else{const T={};this.idToken&&(T.id_token=this.idToken),this.accessToken&&(T.access_token=this.accessToken),this.secret&&(T.oauth_token_secret=this.secret),T.providerId=this.providerId,this.nonce&&!this.pendingToken&&(T.nonce=this.nonce),x.postBody=(0,re.xO)(T)}return x}}function Ns(){return(Ns=(0,a.Z)(function*(N,x){return vt(N,"POST","/v1/accounts:sendVerificationCode",dt(N,x))})).apply(this,arguments)}function zr(){return(zr=(0,a.Z)(function*(N,x){return pn(N,"POST","/v1/accounts:signInWithPhoneNumber",dt(N,x))})).apply(this,arguments)}function Fi(){return(Fi=(0,a.Z)(function*(N,x){const T=yield pn(N,"POST","/v1/accounts:signInWithPhoneNumber",dt(N,x));if(T.temporaryProof)throw Oi(N,"account-exists-with-different-credential",T);return T})).apply(this,arguments)}const _a={USER_NOT_FOUND:"user-not-found"};function On(){return(On=(0,a.Z)(function*(N,x){return pn(N,"POST","/v1/accounts:signInWithPhoneNumber",dt(N,Object.assign(Object.assign({},x),{operation:"REAUTH"})),_a)})).apply(this,arguments)}class fs extends he{constructor(x){super("phone","phone"),this.params=x}static _fromVerification(x,T){return new fs({verificationId:x,verificationCode:T})}static _fromTokenResponse(x,T){return new fs({phoneNumber:x,temporaryProof:T})}_getIdTokenResponse(x){return function cl(N,x){return zr.apply(this,arguments)}(x,this._makeVerificationRequest())}_linkToIdToken(x,T){return function Vc(N,x){return Fi.apply(this,arguments)}(x,Object.assign({idToken:T},this._makeVerificationRequest()))}_getReauthenticationResolver(x){return function Xl(N,x){return On.apply(this,arguments)}(x,this._makeVerificationRequest())}_makeVerificationRequest(){const{temporaryProof:x,phoneNumber:T,verificationId:F,verificationCode:q}=this.params;return x&&T?{temporaryProof:x,phoneNumber:T}:{sessionInfo:F,code:q}}toJSON(){const x={providerId:this.providerId};return this.params.phoneNumber&&(x.phoneNumber=this.params.phoneNumber),this.params.temporaryProof&&(x.temporaryProof=this.params.temporaryProof),this.params.verificationCode&&(x.verificationCode=this.params.verificationCode),this.params.verificationId&&(x.verificationId=this.params.verificationId),x}static fromJSON(x){"string"==typeof x&&(x=JSON.parse(x));const{verificationId:T,verificationCode:F,phoneNumber:q,temporaryProof:ne}=x;return F||T||q||ne?new fs({verificationId:T,verificationCode:F,phoneNumber:q,temporaryProof:ne}):null}}class sr{constructor(x){var T,F,q,ne,Te,je;const Tt=(0,re.zd)((0,re.pd)(x)),Ft=null!==(T=Tt.apiKey)&&void 0!==T?T:null,an=null!==(F=Tt.oobCode)&&void 0!==F?F:null,cn=function wh(N){switch(N){case"recoverEmail":return"RECOVER_EMAIL";case"resetPassword":return"PASSWORD_RESET";case"signIn":return"EMAIL_SIGNIN";case"verifyEmail":return"VERIFY_EMAIL";case"verifyAndChangeEmail":return"VERIFY_AND_CHANGE_EMAIL";case"revertSecondFactorAddition":return"REVERT_SECOND_FACTOR_ADDITION";default:return null}}(null!==(q=Tt.mode)&&void 0!==q?q:null);Ne(Ft&&an&&cn,"argument-error"),this.apiKey=Ft,this.operation=cn,this.code=an,this.continueUrl=null!==(ne=Tt.continueUrl)&&void 0!==ne?ne:null,this.languageCode=null!==(Te=Tt.languageCode)&&void 0!==Te?Te:null,this.tenantId=null!==(je=Tt.tenantId)&&void 0!==je?je:null}static parseLink(x){const T=function ba(N){const x=(0,re.zd)((0,re.pd)(N)).link,T=x?(0,re.zd)((0,re.pd)(x)).deep_link_id:null,F=(0,re.zd)((0,re.pd)(N)).deep_link_id;return(F?(0,re.zd)((0,re.pd)(F)).link:null)||F||T||x||N}(x);try{return new sr(T)}catch{return null}}}let ul=(()=>{class N{constructor(){this.providerId=N.PROVIDER_ID}static credential(T,F){return $u._fromEmailAndPassword(T,F)}static credentialWithLink(T,F){const q=sr.parseLink(F);return Ne(q,"argument-error"),$u._fromEmailAndCode(T,q.code,q.tenantId)}}return N.PROVIDER_ID="password",N.EMAIL_PASSWORD_SIGN_IN_METHOD="password",N.EMAIL_LINK_SIGN_IN_METHOD="emailLink",N})();class Qr{constructor(x){this.providerId=x,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(x){this.defaultLanguageCode=x}setCustomParameters(x){return this.customParameters=x,this}getCustomParameters(){return this.customParameters}}class wa extends Qr{constructor(){super(...arguments),this.scopes=[]}addScope(x){return this.scopes.includes(x)||this.scopes.push(x),this}getScopes(){return[...this.scopes]}}class xa extends wa{static credentialFromJSON(x){const T="string"==typeof x?JSON.parse(x):x;return Ne("providerId"in T&&"signInMethod"in T,"argument-error"),Sn._fromParams(T)}credential(x){return this._credential(Object.assign(Object.assign({},x),{nonce:x.rawNonce}))}_credential(x){return Ne(x.idToken||x.accessToken,"argument-error"),Sn._fromParams(Object.assign(Object.assign({},x),{providerId:this.providerId,signInMethod:this.providerId}))}static credentialFromResult(x){return xa.oauthCredentialFromTaggedObject(x)}static credentialFromError(x){return xa.oauthCredentialFromTaggedObject(x.customData||{})}static oauthCredentialFromTaggedObject({_tokenResponse:x}){if(!x)return null;const{oauthIdToken:T,oauthAccessToken:F,oauthTokenSecret:q,pendingToken:ne,nonce:Te,providerId:je}=x;if(!F&&!q&&!T&&!ne||!je)return null;try{return new xa(je)._credential({idToken:T,accessToken:F,nonce:Te,pendingToken:ne})}catch{return null}}}let Ua=(()=>{class N extends wa{constructor(){super("facebook.com")}static credential(T){return Sn._fromParams({providerId:N.PROVIDER_ID,signInMethod:N.FACEBOOK_SIGN_IN_METHOD,accessToken:T})}static credentialFromResult(T){return N.credentialFromTaggedObject(T)}static credentialFromError(T){return N.credentialFromTaggedObject(T.customData||{})}static credentialFromTaggedObject({_tokenResponse:T}){if(!T||!("oauthAccessToken"in T)||!T.oauthAccessToken)return null;try{return N.credential(T.oauthAccessToken)}catch{return null}}}return N.FACEBOOK_SIGN_IN_METHOD="facebook.com",N.PROVIDER_ID="facebook.com",N})(),co=(()=>{class N extends wa{constructor(){super("google.com"),this.addScope("profile")}static credential(T,F){return Sn._fromParams({providerId:N.PROVIDER_ID,signInMethod:N.GOOGLE_SIGN_IN_METHOD,idToken:T,accessToken:F})}static credentialFromResult(T){return N.credentialFromTaggedObject(T)}static credentialFromError(T){return N.credentialFromTaggedObject(T.customData||{})}static credentialFromTaggedObject({_tokenResponse:T}){if(!T)return null;const{oauthIdToken:F,oauthAccessToken:q}=T;if(!F&&!q)return null;try{return N.credential(F,q)}catch{return null}}}return N.GOOGLE_SIGN_IN_METHOD="google.com",N.PROVIDER_ID="google.com",N})(),Hc=(()=>{class N extends wa{constructor(){super("github.com")}static credential(T){return Sn._fromParams({providerId:N.PROVIDER_ID,signInMethod:N.GITHUB_SIGN_IN_METHOD,accessToken:T})}static credentialFromResult(T){return N.credentialFromTaggedObject(T)}static credentialFromError(T){return N.credentialFromTaggedObject(T.customData||{})}static credentialFromTaggedObject({_tokenResponse:T}){if(!T||!("oauthAccessToken"in T)||!T.oauthAccessToken)return null;try{return N.credential(T.oauthAccessToken)}catch{return null}}}return N.GITHUB_SIGN_IN_METHOD="github.com",N.PROVIDER_ID="github.com",N})();class $n extends he{constructor(x,T){super(x,x),this.pendingToken=T}_getIdTokenResponse(x){return Ao(x,this.buildRequest())}_linkToIdToken(x,T){const F=this.buildRequest();return F.idToken=T,Ao(x,F)}_getReauthenticationResolver(x){const T=this.buildRequest();return T.autoCreate=!1,Ao(x,T)}toJSON(){return{signInMethod:this.signInMethod,providerId:this.providerId,pendingToken:this.pendingToken}}static fromJSON(x){const T="string"==typeof x?JSON.parse(x):x,{providerId:F,signInMethod:q,pendingToken:ne}=T;return F&&q&&ne&&F===q?new $n(F,ne):null}static _create(x,T){return new $n(x,T)}buildRequest(){return{requestUri:"http://localhost",returnSecureToken:!0,pendingToken:this.pendingToken}}}class Kl extends Qr{constructor(x){Ne(x.startsWith("saml."),"argument-error"),super(x)}static credentialFromResult(x){return Kl.samlCredentialFromTaggedObject(x)}static credentialFromError(x){return Kl.samlCredentialFromTaggedObject(x.customData||{})}static credentialFromJSON(x){const T=$n.fromJSON(x);return Ne(T,"argument-error"),T}static samlCredentialFromTaggedObject({_tokenResponse:x}){if(!x)return null;const{pendingToken:T,providerId:F}=x;if(!T||!F)return null;try{return $n._create(F,T)}catch{return null}}}let Yu=(()=>{class N extends wa{constructor(){super("twitter.com")}static credential(T,F){return Sn._fromParams({providerId:N.PROVIDER_ID,signInMethod:N.TWITTER_SIGN_IN_METHOD,oauthToken:T,oauthTokenSecret:F})}static credentialFromResult(T){return N.credentialFromTaggedObject(T)}static credentialFromError(T){return N.credentialFromTaggedObject(T.customData||{})}static credentialFromTaggedObject({_tokenResponse:T}){if(!T)return null;const{oauthAccessToken:F,oauthTokenSecret:q}=T;if(!F||!q)return null;try{return N.credential(F,q)}catch{return null}}}return N.TWITTER_SIGN_IN_METHOD="twitter.com",N.PROVIDER_ID="twitter.com",N})();function Jr(N,x){return dl.apply(this,arguments)}function dl(){return(dl=(0,a.Z)(function*(N,x){return pn(N,"POST","/v1/accounts:signUp",dt(N,x))})).apply(this,arguments)}class es{constructor(x){this.user=x.user,this.providerId=x.providerId,this._tokenResponse=x._tokenResponse,this.operationType=x.operationType}static _fromIdTokenResponse(x,T,F,q=!1){return(0,a.Z)(function*(){const ne=yield at._fromIdTokenResponse(x,F,q),Te=ja(F);return new es({user:ne,providerId:Te,_tokenResponse:F,operationType:T})})()}static _forOperation(x,T,F){return(0,a.Z)(function*(){yield x._updateTokensIfNecessary(F,!0);const q=ja(F);return new es({user:x,providerId:q,_tokenResponse:F,operationType:T})})()}}function ja(N){return N.providerId?N.providerId:"phoneNumber"in N?"phone":null}function Pm(){return(Pm=(0,a.Z)(function*(N){var x;const T=Y(N);if(yield T._initializationPromise,null!==(x=T.currentUser)&&void 0!==x&&x.isAnonymous)return new es({user:T.currentUser,providerId:null,operationType:"signIn"});const F=yield Jr(T,{returnSecureToken:!0}),q=yield es._fromIdTokenResponse(T,"signIn",F,!0);return yield T._updateCurrentUser(q.user),q})).apply(this,arguments)}class ts extends re.ZR{constructor(x,T,F,q){var ne;super(T.code,T.message),this.operationType=F,this.user=q,Object.setPrototypeOf(this,ts.prototype),this.customData={appName:x.name,tenantId:null!==(ne=x.tenantId)&&void 0!==ne?ne:void 0,_serverResponse:T.customData._serverResponse,operationType:F}}static _fromErrorAndOperation(x,T,F,q){return new ts(x,T,F,q)}}function Ss(N,x,T,F){return("reauthenticate"===x?T._getReauthenticationResolver(N):T._getIdTokenResponse(N)).catch(ne=>{throw"auth/multi-factor-auth-required"===ne.code?ts._fromErrorAndOperation(N,ne,x,F):ne})}function qu(N){return new Set(N.map(({providerId:x})=>x).filter(x=>!!x))}function uo(){return uo=(0,a.Z)(function*(N,x){const T=(0,re.m9)(N);yield Jl(!0,T,x);const{providerUserInfo:F}=yield function Mr(N,x){return ds.apply(this,arguments)}(T.auth,{idToken:yield T.getIdToken(),deleteProvider:[x]}),q=qu(F||[]);return T.providerData=T.providerData.filter(ne=>q.has(ne.providerId)),q.has("phone")||(T.phoneNumber=null),yield T.auth._persistUserIfCurrent(T),T}),uo.apply(this,arguments)}function Gs(N,x){return Ql.apply(this,arguments)}function Ql(){return(Ql=(0,a.Z)(function*(N,x,T=!1){const F=yield zi(N,x._linkToIdToken(N.auth,yield N.getIdToken()),T);return es._forOperation(N,"link",F)})).apply(this,arguments)}function Jl(N,x,T){return Ch.apply(this,arguments)}function Ch(){return(Ch=(0,a.Z)(function*(N,x,T){yield ti(x);const q=!1===N?"provider-already-linked":"no-such-provider";Ne(qu(x.providerData).has(T)===N,x.auth,q)})).apply(this,arguments)}function P_(N,x){return Zu.apply(this,arguments)}function Zu(){return(Zu=(0,a.Z)(function*(N,x,T=!1){const{auth:F}=N,q="reauthenticate";try{const ne=yield zi(N,Ss(F,q,x,N),T);Ne(ne.idToken,F,"internal-error");const Te=Fn(ne.idToken);Ne(Te,F,"internal-error");const{sub:je}=Te;return Ne(N.uid===je,F,"user-mismatch"),es._forOperation(N,q,ne)}catch(ne){throw"auth/user-not-found"===ne?.code&&et(F,"user-mismatch"),ne}})).apply(this,arguments)}function Eh(N,x){return cp.apply(this,arguments)}function cp(){return(cp=(0,a.Z)(function*(N,x,T=!1){const F="signIn",q=yield Ss(N,F,x),ne=yield es._fromIdTokenResponse(N,F,q);return T||(yield N._updateCurrentUser(ne.user)),ne})).apply(this,arguments)}function Dh(N,x){return up.apply(this,arguments)}function up(){return(up=(0,a.Z)(function*(N,x){return Eh(Y(N),x)})).apply(this,arguments)}function R_(N,x){return or.apply(this,arguments)}function or(){return(or=(0,a.Z)(function*(N,x){const T=(0,re.m9)(N);return yield Jl(!1,T,x.providerId),Gs(T,x)})).apply(this,arguments)}function F_(N,x){return Rm.apply(this,arguments)}function Rm(){return(Rm=(0,a.Z)(function*(N,x){return P_((0,re.m9)(N),x)})).apply(this,arguments)}function Fm(){return(Fm=(0,a.Z)(function*(N,x){return pn(N,"POST","/v1/accounts:signInWithCustomToken",dt(N,x))})).apply(this,arguments)}function Ca(){return Ca=(0,a.Z)(function*(N,x){const T=Y(N),F=yield function Ax(N,x){return Fm.apply(this,arguments)}(T,{token:x,returnSecureToken:!0}),q=yield es._fromIdTokenResponse(T,"signIn",F);return yield T._updateCurrentUser(q.user),q}),Ca.apply(this,arguments)}class Th{constructor(x,T){this.factorId=x,this.uid=T.mfaEnrollmentId,this.enrollmentTime=new Date(T.enrolledAt).toUTCString(),this.displayName=T.displayName}static _fromServerResponse(x,T){return"phoneInfo"in T?ec._fromServerResponse(x,T):"totpInfo"in T?Sh._fromServerResponse(x,T):et(x,"internal-error")}}class ec extends Th{constructor(x){super("phone",x),this.phoneNumber=x.phoneInfo}static _fromServerResponse(x,T){return new ec(T)}}class Sh extends Th{constructor(x){super("totp",x)}static _fromServerResponse(x,T){return new Sh(T)}}function Uc(N,x,T){var F;Ne((null===(F=T.url)||void 0===F?void 0:F.length)>0,N,"invalid-continue-uri"),Ne(typeof T.dynamicLinkDomain>"u"||T.dynamicLinkDomain.length>0,N,"invalid-dynamic-link-domain"),x.continueUrl=T.url,x.dynamicLinkDomain=T.dynamicLinkDomain,x.canHandleCodeInApp=T.handleCodeInApp,T.iOS&&(Ne(T.iOS.bundleId.length>0,N,"missing-ios-bundle-id"),x.iOSBundleId=T.iOS.bundleId),T.android&&(Ne(T.android.packageName.length>0,N,"missing-android-pkg-name"),x.androidInstallApp=T.android.installApp,x.androidMinimumVersionCode=T.android.minimumVersion,x.androidPackageName=T.android.packageName)}function zc(){return zc=(0,a.Z)(function*(N,x,T){var F;const q=Y(N),ne={requestType:"PASSWORD_RESET",email:x,clientType:"CLIENT_TYPE_WEB"};if(null!==(F=q._getRecaptchaConfig())&&void 0!==F&&F.emailPasswordEnabled){const Te=yield P(q,ne,"getOobCode",!0);T&&Uc(q,Te,T),yield Ri(q,Te)}else T&&Uc(q,ne,T),yield Ri(q,ne).catch(function(){var Te=(0,a.Z)(function*(je){if("auth/missing-recaptcha-token"!==je.code)return Promise.reject(je);{console.log("Password resets are protected by reCAPTCHA for this project. Automatically triggering the reCAPTCHA flow and restarting the password reset flow.");const Tt=yield P(q,ne,"getOobCode",!0);T&&Uc(q,Tt,T),yield Ri(q,Tt)}});return function(je){return Te.apply(this,arguments)}}())}),zc.apply(this,arguments)}function na(){return(na=(0,a.Z)(function*(N,x,T){yield Ie((0,re.m9)(N),{oobCode:x,newPassword:T})})).apply(this,arguments)}function Io(){return Io=(0,a.Z)(function*(N,x){yield function ot(N,x){return Lt.apply(this,arguments)}((0,re.m9)(N),{oobCode:x})}),Io.apply(this,arguments)}function jr(N,x){return pl.apply(this,arguments)}function pl(){return(pl=(0,a.Z)(function*(N,x){const T=(0,re.m9)(N),F=yield Ie(T,{oobCode:x}),q=F.requestType;switch(Ne(q,T,"internal-error"),q){case"EMAIL_SIGNIN":break;case"VERIFY_AND_CHANGE_EMAIL":Ne(F.newEmail,T,"internal-error");break;case"REVERT_SECOND_FACTOR_ADDITION":Ne(F.mfaInfo,T,"internal-error");default:Ne(F.email,T,"internal-error")}let ne=null;return F.mfaInfo&&(ne=Th._fromServerResponse(Y(T),F.mfaInfo)),{data:{email:("VERIFY_AND_CHANGE_EMAIL"===F.requestType?F.newEmail:F.email)||null,previousEmail:("VERIFY_AND_CHANGE_EMAIL"===F.requestType?F.email:F.newEmail)||null,multiFactorInfo:ne},operation:q}})).apply(this,arguments)}function gl(){return(gl=(0,a.Z)(function*(N,x){const{data:T}=yield jr((0,re.m9)(N),x);return T.email})).apply(this,arguments)}function jc(){return jc=(0,a.Z)(function*(N,x,T){var F;const q=Y(N),ne={returnSecureToken:!0,email:x,password:T,clientType:"CLIENT_TYPE_WEB"};let Te;if(null!==(F=q._getRecaptchaConfig())&&void 0!==F&&F.emailPasswordEnabled){const Ft=yield P(q,ne,"signUpPassword");Te=Jr(q,Ft)}else Te=Jr(q,ne).catch(function(){var Ft=(0,a.Z)(function*(an){if("auth/missing-recaptcha-token"===an.code){console.log("Sign-up is protected by reCAPTCHA for this project. Automatically triggering the reCAPTCHA flow and restarting the sign-up flow.");const cn=yield P(q,ne,"signUpPassword");return Jr(q,cn)}return Promise.reject(an)});return function(an){return Ft.apply(this,arguments)}}());const je=yield Te.catch(Ft=>Promise.reject(Ft)),Tt=yield es._fromIdTokenResponse(q,"signIn",je);return yield q._updateCurrentUser(Tt.user),Tt}),jc.apply(this,arguments)}function Gc(){return Gc=(0,a.Z)(function*(N,x,T){var F;const q=Y(N),ne={requestType:"EMAIL_SIGNIN",email:x,clientType:"CLIENT_TYPE_WEB"};function Te(je,Tt){Ne(Tt.handleCodeInApp,q,"argument-error"),Tt&&Uc(q,je,Tt)}if(null!==(F=q._getRecaptchaConfig())&&void 0!==F&&F.emailPasswordEnabled){const je=yield P(q,ne,"getOobCode",!0);Te(je,T),yield Un(q,je)}else Te(ne,T),yield Un(q,ne).catch(function(){var je=(0,a.Z)(function*(Tt){if("auth/missing-recaptcha-token"!==Tt.code)return Promise.reject(Tt);{console.log("Email link sign-in is protected by reCAPTCHA for this project. Automatically triggering the reCAPTCHA flow and restarting the sign-in flow.");const Ft=yield P(q,ne,"getOobCode",!0);Te(Ft,T),yield Un(q,Ft)}});return function(Tt){return je.apply(this,arguments)}}())}),Gc.apply(this,arguments)}function Ih(){return(Ih=(0,a.Z)(function*(N,x,T){const F=(0,re.m9)(N),q=ul.credentialWithLink(x,T||kn());return Ne(q._tenantId===(F.tenantId||null),F,"tenant-id-mismatch"),Dh(F,q)})).apply(this,arguments)}function kh(){return(kh=(0,a.Z)(function*(N,x){return vt(N,"POST","/v1/accounts:createAuthUri",dt(N,x))})).apply(this,arguments)}function ml(){return ml=(0,a.Z)(function*(N,x){const F={identifier:x,continueUri:vi()?kn():"http://localhost"},{signinMethods:q}=yield function Mh(N,x){return kh.apply(this,arguments)}((0,re.m9)(N),F);return q||[]}),ml.apply(this,arguments)}function $c(){return $c=(0,a.Z)(function*(N,x){const T=(0,re.m9)(N),q={requestType:"VERIFY_EMAIL",idToken:yield N.getIdToken()};x&&Uc(T.auth,q,x);const{email:ne}=yield function ji(N,x){return Ii.apply(this,arguments)}(T.auth,q);ne!==N.email&&(yield N.reload())}),$c.apply(this,arguments)}function Xu(){return Xu=(0,a.Z)(function*(N,x,T){const F=(0,re.m9)(N),ne={requestType:"VERIFY_AND_CHANGE_EMAIL",idToken:yield N.getIdToken(),newEmail:x};T&&Uc(F.auth,ne,T);const{email:Te}=yield function Ur(N,x){return mr.apply(this,arguments)}(F.auth,ne);Te!==N.email&&(yield N.reload())}),Xu.apply(this,arguments)}function mp(){return(mp=(0,a.Z)(function*(N,x){return vt(N,"POST","/v1/accounts:update",x)})).apply(this,arguments)}function Oh(){return Oh=(0,a.Z)(function*(N,{displayName:x,photoURL:T}){if(void 0===x&&void 0===T)return;const F=(0,re.m9)(N),ne={idToken:yield F.getIdToken(),displayName:x,photoUrl:T,returnSecureToken:!0},Te=yield zi(F,function L_(N,x){return mp.apply(this,arguments)}(F.auth,ne));F.displayName=Te.displayName||null,F.photoURL=Te.photoUrl||null;const je=F.providerData.find(({providerId:Tt})=>"password"===Tt);je&&(je.displayName=F.displayName,je.photoURL=F.photoURL),yield F._updateTokensIfNecessary(Te)}),Oh.apply(this,arguments)}function Lm(N,x,T){return nc.apply(this,arguments)}function nc(){return(nc=(0,a.Z)(function*(N,x,T){const{auth:F}=N,ne={idToken:yield N.getIdToken(),returnSecureToken:!0};x&&(ne.email=x),T&&(ne.password=T);const Te=yield zi(N,$e(F,ne));yield N._updateTokensIfNecessary(Te,!0)})).apply(this,arguments)}class ic{constructor(x,T,F={}){this.isNewUser=x,this.providerId=T,this.profile=F}}class Yc extends ic{constructor(x,T,F,q){super(x,T,F),this.username=q}}class Nh extends ic{constructor(x,T){super(x,"facebook.com",T)}}class yp extends Yc{constructor(x,T){super(x,"github.com",T,"string"==typeof T?.login?T?.login:null)}}class Qu extends ic{constructor(x,T){super(x,"google.com",T)}}class qc extends Yc{constructor(x,T,F){super(x,"twitter.com",T,F)}}function Bm(N){const{user:x,_tokenResponse:T}=N;return x.isAnonymous&&!T?{providerId:null,isNewUser:!1,profile:null}:function V_(N){var x,T;if(!N)return null;const{providerId:F}=N,q=N.rawUserInfo?JSON.parse(N.rawUserInfo):{},ne=N.isNewUser||"identitytoolkit#SignupNewUserResponse"===N.kind;if(!F&&N?.idToken){const Te=null===(T=null===(x=Fn(N.idToken))||void 0===x?void 0:x.firebase)||void 0===T?void 0:T.sign_in_provider;if(Te)return new ic(ne,"anonymous"!==Te&&"custom"!==Te?Te:null)}if(!F)return null;switch(F){case"facebook.com":return new Nh(ne,q);case"github.com":return new yp(ne,q);case"google.com":return new Qu(ne,q);case"twitter.com":return new qc(ne,q,N.screenName||null);case"custom":case"anonymous":return new ic(ne,null);default:return new ic(ne,F,q)}}(T)}class ia{constructor(x,T,F){this.type=x,this.credential=T,this.auth=F}static _fromIdtoken(x,T){return new ia("enroll",x,T)}static _fromMfaPendingCredential(x){return new ia("signin",x)}toJSON(){return{multiFactorSession:{["enroll"===this.type?"idToken":"pendingCredential"]:this.credential}}}static fromJSON(x){var T,F;if(x?.multiFactorSession){if(null!==(T=x.multiFactorSession)&&void 0!==T&&T.pendingCredential)return ia._fromMfaPendingCredential(x.multiFactorSession.pendingCredential);if(null!==(F=x.multiFactorSession)&&void 0!==F&&F.idToken)return ia._fromIdtoken(x.multiFactorSession.idToken)}return null}}class yl{constructor(x,T,F){this.session=x,this.hints=T,this.signInResolver=F}static _fromError(x,T){const F=Y(x),q=T.customData._serverResponse,ne=(q.mfaInfo||[]).map(je=>Th._fromServerResponse(F,je));Ne(q.mfaPendingCredential,F,"internal-error");const Te=ia._fromMfaPendingCredential(q.mfaPendingCredential);return new yl(Te,ne,function(){var je=(0,a.Z)(function*(Tt){const Ft=yield Tt._process(F,Te);delete q.mfaInfo,delete q.mfaPendingCredential;const an=Object.assign(Object.assign({},q),{idToken:Ft.idToken,refreshToken:Ft.refreshToken});switch(T.operationType){case"signIn":const cn=yield es._fromIdTokenResponse(F,T.operationType,an);return yield F._updateCurrentUser(cn.user),cn;case"reauthenticate":return Ne(T.user,F,"internal-error"),es._forOperation(T.user,T.operationType,an);default:et(F,"internal-error")}});return function(Tt){return je.apply(this,arguments)}}())}resolveSignIn(x){var T=this;return(0,a.Z)(function*(){return T.signInResolver(x)})()}}class Mi{constructor(x){this.user=x,this.enrolledFactors=[],x._onReload(T=>{T.mfaInfo&&(this.enrolledFactors=T.mfaInfo.map(F=>Th._fromServerResponse(x.auth,F)))})}static _fromUser(x){return new Mi(x)}getSession(){var x=this;return(0,a.Z)(function*(){return ia._fromIdtoken(yield x.user.getIdToken(),x.user.auth)})()}enroll(x,T){var F=this;return(0,a.Z)(function*(){const q=x,ne=yield F.getSession(),Te=yield zi(F.user,q._process(F.user.auth,ne,T));return yield F.user._updateTokensIfNecessary(Te),F.user.reload()})()}unenroll(x){var T=this;return(0,a.Z)(function*(){const F="string"==typeof x?x:x.uid,q=yield T.user.getIdToken();try{const ne=yield zi(T.user,function wp(N,x){return vt(N,"POST","/v2/accounts/mfaEnrollment:withdraw",dt(N,x))}(T.user.auth,{idToken:q,mfaEnrollmentId:F}));T.enrolledFactors=T.enrolledFactors.filter(({uid:Te})=>Te!==F),yield T.user._updateTokensIfNecessary(ne),yield T.user.reload()}catch(ne){throw ne}})()}}const Wa=new WeakMap,gs="__sak";class jm{constructor(x,T){this.storageRetriever=x,this.type=T}_isAvailable(){try{return this.storage?(this.storage.setItem(gs,"1"),this.storage.removeItem(gs),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(x,T){return this.storage.setItem(x,JSON.stringify(T)),Promise.resolve()}_get(x){const T=this.storage.getItem(x);return Promise.resolve(T?JSON.parse(T):null)}_remove(x){return this.storage.removeItem(x),Promise.resolve()}get storage(){return this.storageRetriever()}}const rc=(()=>{class N extends jm{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(T,F)=>this.onStorageEvent(T,F),this.listeners={},this.localCache={},this.pollTimer=null,this.safariLocalStorageNotSynced=function Lh(){const N=(0,re.z$)();return Ke(N)||gr(N)}()&&function Lc(){try{return!(!window||window===window.top)}catch{return!1}}(),this.fallbackToPolling=Va(),this._shouldAllowMigration=!0}forAllChangedKeys(T){for(const F of Object.keys(this.listeners)){const q=this.storage.getItem(F),ne=this.localCache[F];q!==ne&&T(F,ne,q)}}onStorageEvent(T,F=!1){if(!T.key)return void this.forAllChangedKeys((je,Tt,Ft)=>{this.notifyListeners(je,Ft)});const q=T.key;if(F?this.detachListener():this.stopPolling(),this.safariLocalStorageNotSynced){const je=this.storage.getItem(q);if(T.newValue!==je)null!==T.newValue?this.storage.setItem(q,T.newValue):this.storage.removeItem(q);else if(this.localCache[q]===T.newValue&&!F)return}const ne=()=>{const je=this.storage.getItem(q);!F&&this.localCache[q]===je||this.notifyListeners(q,je)},Te=this.storage.getItem(q);!function ta(){return(0,re.w1)()&&10===document.documentMode}()||Te===T.newValue||T.newValue===T.oldValue?ne():setTimeout(ne,10)}notifyListeners(T,F){this.localCache[T]=F;const q=this.listeners[T];if(q)for(const ne of Array.from(q))ne(F&&JSON.parse(F))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((T,F,q)=>{this.onStorageEvent(new StorageEvent("storage",{key:T,oldValue:F,newValue:q}),!0)})},1e3)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(T,F){0===Object.keys(this.listeners).length&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[T]||(this.listeners[T]=new Set,this.localCache[T]=this.storage.getItem(T)),this.listeners[T].add(F)}_removeListener(T,F){this.listeners[T]&&(this.listeners[T].delete(F),0===this.listeners[T].size&&delete this.listeners[T]),0===Object.keys(this.listeners).length&&(this.detachListener(),this.stopPolling())}_set(T,F){var q=()=>super._set,ne=this;return(0,a.Z)(function*(){yield q().call(ne,T,F),ne.localCache[T]=JSON.stringify(F)})()}_get(T){var F=()=>super._get,q=this;return(0,a.Z)(function*(){const ne=yield F().call(q,T);return q.localCache[T]=JSON.stringify(ne),ne})()}_remove(T){var F=()=>super._remove,q=this;return(0,a.Z)(function*(){yield F().call(q,T),delete q.localCache[T]})()}}return N.type="LOCAL",N})(),$s=(()=>{class N extends jm{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(T,F){}_removeListener(T,F){}}return N.type="SESSION",N})();let Bh=(()=>{class N{constructor(T){this.eventTarget=T,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(T){const F=this.receivers.find(ne=>ne.isListeningto(T));if(F)return F;const q=new N(T);return this.receivers.push(q),q}isListeningto(T){return this.eventTarget===T}handleEvent(T){var F=this;return(0,a.Z)(function*(){const q=T,{eventId:ne,eventType:Te,data:je}=q.data,Tt=F.handlersMap[Te];if(!Tt?.size)return;q.ports[0].postMessage({status:"ack",eventId:ne,eventType:Te});const Ft=Array.from(Tt).map(function(){var cn=(0,a.Z)(function*(_r){return _r(q.origin,je)});return function(_r){return cn.apply(this,arguments)}}()),an=yield function $m(N){return Promise.all(N.map(function(){var x=(0,a.Z)(function*(T){try{return{fulfilled:!0,value:yield T}}catch(F){return{fulfilled:!1,reason:F}}});return function(T){return x.apply(this,arguments)}}()))}(Ft);q.ports[0].postMessage({status:"done",eventId:ne,eventType:Te,response:an})})()}_subscribe(T,F){0===Object.keys(this.handlersMap).length&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[T]||(this.handlersMap[T]=new Set),this.handlersMap[T].add(F)}_unsubscribe(T,F){this.handlersMap[T]&&F&&this.handlersMap[T].delete(F),(!F||0===this.handlersMap[T].size)&&delete this.handlersMap[T],0===Object.keys(this.handlersMap).length&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}return N.receivers=[],N})();function ed(N="",x=10){let T="";for(let F=0;F<x;F++)T+=Math.floor(10*Math.random());return N+T}class U_{constructor(x){this.target=x,this.handlers=new Set}removeMessageHandler(x){x.messageChannel&&(x.messageChannel.port1.removeEventListener("message",x.onMessage),x.messageChannel.port1.close()),this.handlers.delete(x)}_send(x,T,F=50){var q=this;return(0,a.Z)(function*(){const ne=typeof MessageChannel<"u"?new MessageChannel:null;if(!ne)throw new Error("connection_unavailable");let Te,je;return new Promise((Tt,Ft)=>{const an=ed("",20);ne.port1.start();const cn=setTimeout(()=>{Ft(new Error("unsupported_event"))},F);je={messageChannel:ne,onMessage(_r){const Uo=_r;if(Uo.data.eventId===an)switch(Uo.data.status){case"ack":clearTimeout(cn),Te=setTimeout(()=>{Ft(new Error("timeout"))},3e3);break;case"done":clearTimeout(Te),Tt(Uo.data.response);break;default:clearTimeout(cn),clearTimeout(Te),Ft(new Error("invalid_response"))}}},q.handlers.add(je),ne.port1.addEventListener("message",je.onMessage),q.target.postMessage({eventType:x,eventId:an,data:T},[ne.port2])}).finally(()=>{je&&q.removeMessageHandler(je)})})()}}function Xi(){return window}function Nn(){return typeof Xi().WorkerGlobalScope<"u"&&"function"==typeof Xi().importScripts}function Cp(){return(Cp=(0,a.Z)(function*(){if(!navigator?.serviceWorker)return null;try{return(yield navigator.serviceWorker.ready).active}catch{return null}})).apply(this,arguments)}const Ep="firebaseLocalStorageDb",ra="firebaseLocalStorage",nd="fbase_key";class id{constructor(x){this.request=x}toPromise(){return new Promise((x,T)=>{this.request.addEventListener("success",()=>{x(this.request.result)}),this.request.addEventListener("error",()=>{T(this.request.error)})})}}function rd(N,x){return N.transaction([ra],x?"readwrite":"readonly").objectStore(ra)}function Vh(){const N=indexedDB.open(Ep,1);return new Promise((x,T)=>{N.addEventListener("error",()=>{T(N.error)}),N.addEventListener("upgradeneeded",()=>{const F=N.result;try{F.createObjectStore(ra,{keyPath:nd})}catch(q){T(q)}}),N.addEventListener("success",(0,a.Z)(function*(){const F=N.result;F.objectStoreNames.contains(ra)?x(F):(F.close(),yield function j_(){const N=indexedDB.deleteDatabase(Ep);return new id(N).toPromise()}(),x(yield Vh()))}))})}function wt(N,x,T){return ni.apply(this,arguments)}function ni(){return(ni=(0,a.Z)(function*(N,x,T){const F=rd(N,!0).put({[nd]:x,value:T});return new id(F).toPromise()})).apply(this,arguments)}function sd(){return(sd=(0,a.Z)(function*(N,x){const T=rd(N,!1).get(x),F=yield new id(T).toPromise();return void 0===F?null:F.value})).apply(this,arguments)}function rs(N,x){const T=rd(N,!0).delete(x);return new id(T).toPromise()}const wl=(()=>{class N{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}_openDb(){var T=this;return(0,a.Z)(function*(){return T.db||(T.db=yield Vh()),T.db})()}_withRetries(T){var F=this;return(0,a.Z)(function*(){let q=0;for(;;)try{const ne=yield F._openDb();return yield T(ne)}catch(ne){if(q++>3)throw ne;F.db&&(F.db.close(),F.db=void 0)}})()}initializeServiceWorkerMessaging(){var T=this;return(0,a.Z)(function*(){return Nn()?T.initializeReceiver():T.initializeSender()})()}initializeReceiver(){var T=this;return(0,a.Z)(function*(){T.receiver=Bh._getInstance(function is(){return Nn()?self:null}()),T.receiver._subscribe("keyChanged",function(){var F=(0,a.Z)(function*(q,ne){return{keyProcessed:(yield T._poll()).includes(ne.key)}});return function(q,ne){return F.apply(this,arguments)}}()),T.receiver._subscribe("ping",function(){var F=(0,a.Z)(function*(q,ne){return["keyChanged"]});return function(q,ne){return F.apply(this,arguments)}}())})()}initializeSender(){var T=this;return(0,a.Z)(function*(){var F,q;if(T.activeServiceWorker=yield function xp(){return Cp.apply(this,arguments)}(),!T.activeServiceWorker)return;T.sender=new U_(T.activeServiceWorker);const ne=yield T.sender._send("ping",{},800);ne&&null!==(F=ne[0])&&void 0!==F&&F.fulfilled&&null!==(q=ne[0])&&void 0!==q&&q.value.includes("keyChanged")&&(T.serviceWorkerReceiverAvailable=!0)})()}notifyServiceWorker(T){var F=this;return(0,a.Z)(function*(){if(F.sender&&F.activeServiceWorker&&function td(){var N;return(null===(N=navigator?.serviceWorker)||void 0===N?void 0:N.controller)||null}()===F.activeServiceWorker)try{yield F.sender._send("keyChanged",{key:T},F.serviceWorkerReceiverAvailable?800:50)}catch{}})()}_isAvailable(){return(0,a.Z)(function*(){try{if(!indexedDB)return!1;const T=yield Vh();return yield wt(T,gs,"1"),yield rs(T,gs),!0}catch{}return!1})()}_withPendingWrite(T){var F=this;return(0,a.Z)(function*(){F.pendingWrites++;try{yield T()}finally{F.pendingWrites--}})()}_set(T,F){var q=this;return(0,a.Z)(function*(){return q._withPendingWrite((0,a.Z)(function*(){return yield q._withRetries(ne=>wt(ne,T,F)),q.localCache[T]=F,q.notifyServiceWorker(T)}))})()}_get(T){var F=this;return(0,a.Z)(function*(){const q=yield F._withRetries(ne=>function Lo(N,x){return sd.apply(this,arguments)}(ne,T));return F.localCache[T]=q,q})()}_remove(T){var F=this;return(0,a.Z)(function*(){return F._withPendingWrite((0,a.Z)(function*(){return yield F._withRetries(q=>rs(q,T)),delete F.localCache[T],F.notifyServiceWorker(T)}))})()}_poll(){var T=this;return(0,a.Z)(function*(){const F=yield T._withRetries(Te=>{const je=rd(Te,!1).getAll();return new id(je).toPromise()});if(!F)return[];if(0!==T.pendingWrites)return[];const q=[],ne=new Set;for(const{fbase_key:Te,value:je}of F)ne.add(Te),JSON.stringify(T.localCache[Te])!==JSON.stringify(je)&&(T.notifyListeners(Te,je),q.push(Te));for(const Te of Object.keys(T.localCache))T.localCache[Te]&&!ne.has(Te)&&(T.notifyListeners(Te,null),q.push(Te));return q})()}notifyListeners(T,F){this.localCache[T]=F;const q=this.listeners[T];if(q)for(const ne of Array.from(q))ne(F)}startPolling(){var T=this;this.stopPolling(),this.pollTimer=setInterval((0,a.Z)(function*(){return T._poll()}),800)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(T,F){0===Object.keys(this.listeners).length&&this.startPolling(),this.listeners[T]||(this.listeners[T]=new Set,this._get(T)),this.listeners[T].add(F)}_removeListener(T,F){this.listeners[T]&&(this.listeners[T].delete(F),0===this.listeners[T].size&&delete this.listeners[T]),0===Object.keys(this.listeners).length&&this.stopPolling()}}return N.type="LOCAL",N})(),ho=1e12;class Dp{constructor(x){this.auth=x,this.counter=ho,this._widgets=new Map}render(x,T){const F=this.counter;return this._widgets.set(F,new xl(x,this.auth.name,T||{})),this.counter++,F}reset(x){var T;const F=x||ho;null===(T=this._widgets.get(F))||void 0===T||T.delete(),this._widgets.delete(F)}getResponse(x){var T;return(null===(T=this._widgets.get(x||ho))||void 0===T?void 0:T.getResponse())||""}execute(x){var T=this;return(0,a.Z)(function*(){var F;return null===(F=T._widgets.get(x||ho))||void 0===F||F.execute(),""})()}}class xl{constructor(x,T,F){this.params=F,this.timerId=null,this.deleted=!1,this.responseToken=null,this.clickHandler=()=>{this.execute()};const q="string"==typeof x?document.getElementById(x):x;Ne(q,"argument-error",{appName:T}),this.container=q,this.isVisible="invisible"!==this.params.size,this.isVisible?this.execute():this.container.addEventListener("click",this.clickHandler)}getResponse(){return this.checkIfDeleted(),this.responseToken}delete(){this.checkIfDeleted(),this.deleted=!0,this.timerId&&(clearTimeout(this.timerId),this.timerId=null),this.container.removeEventListener("click",this.clickHandler)}execute(){this.checkIfDeleted(),!this.timerId&&(this.timerId=window.setTimeout(()=>{this.responseToken=function sa(N){const x=[],T="1234567890abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ";for(let F=0;F<N;F++)x.push(T.charAt(Math.floor(62*Math.random())));return x.join("")}(50);const{callback:x,"expired-callback":T}=this.params;if(x)try{x(this.responseToken)}catch{}this.timerId=window.setTimeout(()=>{if(this.timerId=null,this.responseToken=null,T)try{T()}catch{}this.isVisible&&this.execute()},6e4)},500))}checkIfDeleted(){if(this.deleted)throw new Error("reCAPTCHA mock was already deleted!")}}const zh=y("rcb"),jh=new tr(3e4,6e4);class G_{constructor(){var x;this.hostLanguage="",this.counter=0,this.librarySeparatelyLoaded=!(null===(x=Xi().grecaptcha)||void 0===x||!x.render)}load(x,T=""){return Ne(function ld(N){return N.length<=6&&/^\s*[a-zA-Z0-9\-]*\s*$/.test(N)}(T),x,"argument-error"),this.shouldResolveImmediately(T)&&l(Xi().grecaptcha)?Promise.resolve(Xi().grecaptcha):new Promise((F,q)=>{const ne=Xi().setTimeout(()=>{q(Ge(x,"network-request-failed"))},jh.get());Xi()[zh]=()=>{Xi().clearTimeout(ne),delete Xi()[zh];const je=Xi().grecaptcha;if(!je||!l(je))return void q(Ge(x,"internal-error"));const Tt=je.render;je.render=(Ft,an)=>{const cn=Tt(Ft,an);return this.counter++,cn},this.hostLanguage=T,F(je)},v(`https://www.google.com/recaptcha/api.js??${(0,re.xO)({onload:zh,render:"explicit",hl:T})}`).catch(()=>{clearTimeout(ne),q(Ge(x,"internal-error"))})})}clearedOneInstance(){this.counter--}shouldResolveImmediately(x){var T;return!(null===(T=Xi().grecaptcha)||void 0===T||!T.render)&&(x===this.hostLanguage||this.counter>0||this.librarySeparatelyLoaded)}}class Tp{load(x){return(0,a.Z)(function*(){return new Dp(x)})()}clearedOneInstance(){}}const cd="recaptcha",Sp={theme:"light",type:"image"};class Ap{constructor(x,T=Object.assign({},Sp),F){this.parameters=T,this.type=cd,this.destroyed=!1,this.widgetId=null,this.tokenChangeListeners=new Set,this.renderPromise=null,this.recaptcha=null,this.auth=Y(F),this.isInvisible="invisible"===this.parameters.size,Ne(typeof document<"u",this.auth,"operation-not-supported-in-this-environment");const q="string"==typeof x?document.getElementById(x):x;Ne(q,this.auth,"argument-error"),this.container=q,this.parameters.callback=this.makeTokenCallback(this.parameters.callback),this._recaptchaLoader=this.auth.settings.appVerificationDisabledForTesting?new Tp:new G_,this.validateStartingState()}verify(){var x=this;return(0,a.Z)(function*(){x.assertNotDestroyed();const T=yield x.render(),F=x.getAssertedRecaptcha();return F.getResponse(T)||new Promise(ne=>{const Te=je=>{je&&(x.tokenChangeListeners.delete(Te),ne(je))};x.tokenChangeListeners.add(Te),x.isInvisible&&F.execute(T)})})()}render(){try{this.assertNotDestroyed()}catch(x){return Promise.reject(x)}return this.renderPromise||(this.renderPromise=this.makeRenderPromise().catch(x=>{throw this.renderPromise=null,x})),this.renderPromise}_reset(){this.assertNotDestroyed(),null!==this.widgetId&&this.getAssertedRecaptcha().reset(this.widgetId)}clear(){this.assertNotDestroyed(),this.destroyed=!0,this._recaptchaLoader.clearedOneInstance(),this.isInvisible||this.container.childNodes.forEach(x=>{this.container.removeChild(x)})}validateStartingState(){Ne(!this.parameters.sitekey,this.auth,"argument-error"),Ne(this.isInvisible||!this.container.hasChildNodes(),this.auth,"argument-error"),Ne(typeof document<"u",this.auth,"operation-not-supported-in-this-environment")}makeTokenCallback(x){return T=>{if(this.tokenChangeListeners.forEach(F=>F(T)),"function"==typeof x)x(T);else if("string"==typeof x){const F=Xi()[x];"function"==typeof F&&F(T)}}}assertNotDestroyed(){Ne(!this.destroyed,this.auth,"internal-error")}makeRenderPromise(){var x=this;return(0,a.Z)(function*(){if(yield x.init(),!x.widgetId){let T=x.container;if(!x.isInvisible){const F=document.createElement("div");T.appendChild(F),T=F}x.widgetId=x.getAssertedRecaptcha().render(T,x.parameters)}return x.widgetId})()}init(){var x=this;return(0,a.Z)(function*(){Ne(vi()&&!Nn(),x.auth,"internal-error"),yield function qm(){let N=null;return new Promise(x=>{"complete"!==document.readyState?(N=()=>x(),window.addEventListener("load",N)):x()}).catch(x=>{throw N&&window.removeEventListener("load",N),x})}(),x.recaptcha=yield x._recaptchaLoader.load(x.auth,x.auth.languageCode||void 0);const T=yield function Ro(N){return ks.apply(this,arguments)}(x.auth);Ne(T,x.auth,"internal-error"),x.parameters.sitekey=T})()}getAssertedRecaptcha(){return Ne(this.recaptcha,this.auth,"internal-error"),this.recaptcha}}class Ki{constructor(x,T){this.verificationId=x,this.onConfirmation=T}confirm(x){const T=fs._fromVerification(this.verificationId,x);return this.onConfirmation(T)}}function hn(){return(hn=(0,a.Z)(function*(N,x,T){const F=Y(N),q=yield Bi(F,x,(0,re.m9)(T));return new Ki(q,ne=>Dh(F,ne))})).apply(this,arguments)}function bi(){return(bi=(0,a.Z)(function*(N,x,T){const F=(0,re.m9)(N);yield Jl(!1,F,"phone");const q=yield Bi(F.auth,x,(0,re.m9)(T));return new Ki(q,ne=>R_(F,ne))})).apply(this,arguments)}function Cl(){return(Cl=(0,a.Z)(function*(N,x,T){const F=(0,re.m9)(N),q=yield Bi(F.auth,x,(0,re.m9)(T));return new Ki(q,ne=>F_(F,ne))})).apply(this,arguments)}function Bi(N,x,T){return Bt.apply(this,arguments)}function Bt(){return Bt=(0,a.Z)(function*(N,x,T){var F;const q=yield T.verify();try{let ne;if(Ne("string"==typeof q,N,"argument-error"),Ne(T.type===cd,N,"argument-error"),ne="string"==typeof x?{phoneNumber:x}:x,"session"in ne){const Te=ne.session;if("phoneNumber"in ne)return Ne("enroll"===Te.type,N,"internal-error"),(yield function Xc(N,x){return vt(N,"POST","/v2/accounts/mfaEnrollment:start",dt(N,x))}(N,{idToken:Te.credential,phoneEnrollmentInfo:{phoneNumber:ne.phoneNumber,recaptchaToken:q}})).phoneSessionInfo.sessionInfo;{Ne("signin"===Te.type,N,"internal-error");const je=(null===(F=ne.multiFactorHint)||void 0===F?void 0:F.uid)||ne.multiFactorUid;return Ne(je,N,"missing-multi-factor-info"),(yield function Hh(N,x){return vt(N,"POST","/v2/accounts/mfaSignIn:start",dt(N,x))}(N,{mfaPendingCredential:Te.credential,mfaEnrollmentId:je,phoneSignInInfo:{recaptchaToken:q}})).phoneResponseInfo.sessionInfo}}{const{sessionInfo:Te}=yield function rr(N,x){return Ns.apply(this,arguments)}(N,{phoneNumber:ne.phoneNumber,recaptchaToken:q});return Te}}finally{T._reset()}}),Bt.apply(this,arguments)}function Gi(){return(Gi=(0,a.Z)(function*(N,x){yield Gs((0,re.m9)(N),x)})).apply(this,arguments)}let ss=(()=>{class N{constructor(T){this.providerId=N.PROVIDER_ID,this.auth=Y(T)}verifyPhoneNumber(T,F){return Bi(this.auth,T,(0,re.m9)(F))}static credential(T,F){return fs._fromVerification(T,F)}static credentialFromResult(T){return N.credentialFromTaggedObject(T)}static credentialFromError(T){return N.credentialFromTaggedObject(T.customData||{})}static credentialFromTaggedObject({_tokenResponse:T}){if(!T)return null;const{phoneNumber:F,temporaryProof:q}=T;return F&&q?fs._fromTokenResponse(F,q):null}}return N.PROVIDER_ID="phone",N.PHONE_SIGN_IN_METHOD="phone",N})();function Ya(N,x){return x?Wt(x):(Ne(N._popupRedirectResolver,N,"argument-error"),N._popupRedirectResolver)}class fo extends he{constructor(x){super("custom","custom"),this.params=x}_getIdTokenResponse(x){return Ao(x,this._buildIdpRequest())}_linkToIdToken(x,T){return Ao(x,this._buildIdpRequest(T))}_getReauthenticationResolver(x){return Ao(x,this._buildIdpRequest())}_buildIdpRequest(x){const T={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return x&&(T.idToken=x),T}}function Kc(N){return Eh(N.auth,new fo(N),N.bypassAuthState)}function Or(N){const{auth:x,user:T}=N;return Ne(T,x,"internal-error"),P_(T,new fo(N),N.bypassAuthState)}function lr(N){return Kn.apply(this,arguments)}function Kn(){return(Kn=(0,a.Z)(function*(N){const{auth:x,user:T}=N;return Ne(T,x,"internal-error"),Gs(T,new fo(N),N.bypassAuthState)})).apply(this,arguments)}class Gr{constructor(x,T,F,q,ne=!1){this.auth=x,this.resolver=F,this.user=q,this.bypassAuthState=ne,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(T)?T:[T]}execute(){var x=this;return new Promise(function(){var T=(0,a.Z)(function*(F,q){x.pendingPromise={resolve:F,reject:q};try{x.eventManager=yield x.resolver._initialize(x.auth),yield x.onExecution(),x.eventManager.registerConsumer(x)}catch(ne){x.reject(ne)}});return function(F,q){return T.apply(this,arguments)}}())}onAuthEvent(x){var T=this;return(0,a.Z)(function*(){const{urlResponse:F,sessionId:q,postBody:ne,tenantId:Te,error:je,type:Tt}=x;if(je)return void T.reject(je);const Ft={auth:T.auth,requestUri:F,sessionId:q,tenantId:Te||void 0,postBody:ne||void 0,user:T.user,bypassAuthState:T.bypassAuthState};try{T.resolve(yield T.getIdpTask(Tt)(Ft))}catch(an){T.reject(an)}})()}onError(x){this.reject(x)}getIdpTask(x){switch(x){case"signInViaPopup":case"signInViaRedirect":return Kc;case"linkViaPopup":case"linkViaRedirect":return lr;case"reauthViaPopup":case"reauthViaRedirect":return Or;default:et(this.auth,"internal-error")}}resolve(x){gn(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(x),this.unregisterAndCleanUp()}reject(x){gn(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(x),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}const wi=new tr(2e3,1e4);function oc(){return(oc=(0,a.Z)(function*(N,x,T){const F=Y(N);Et(N,x,Qr);const q=Ya(F,T);return new Qc(F,"signInViaPopup",x,q).executeNotNull()})).apply(this,arguments)}function Ta(){return(Ta=(0,a.Z)(function*(N,x,T){const F=(0,re.m9)(N);Et(F.auth,x,Qr);const q=Ya(F.auth,T);return new Qc(F.auth,"reauthViaPopup",x,q,F).executeNotNull()})).apply(this,arguments)}function Ps(){return(Ps=(0,a.Z)(function*(N,x,T){const F=(0,re.m9)(N);Et(F.auth,x,Qr);const q=Ya(F.auth,T);return new Qc(F.auth,"linkViaPopup",x,q,F).executeNotNull()})).apply(this,arguments)}let Qc=(()=>{class N extends Gr{constructor(T,F,q,ne,Te){super(T,F,ne,Te),this.provider=q,this.authWindow=null,this.pollId=null,N.currentPopupAction&&N.currentPopupAction.cancel(),N.currentPopupAction=this}executeNotNull(){var T=this;return(0,a.Z)(function*(){const F=yield T.execute();return Ne(F,T.auth,"internal-error"),F})()}onExecution(){var T=this;return(0,a.Z)(function*(){gn(1===T.filter.length,"Popup operations only handle one event");const F=ed();T.authWindow=yield T.resolver._openPopup(T.auth,T.provider,T.filter[0],F),T.authWindow.associatedEvent=F,T.resolver._originValidation(T.auth).catch(q=>{T.reject(q)}),T.resolver._isIframeWebStorageSupported(T.auth,q=>{q||T.reject(Ge(T.auth,"web-storage-unsupported"))}),T.pollUserCancellation()})()}get eventId(){var T;return(null===(T=this.authWindow)||void 0===T?void 0:T.associatedEvent)||null}cancel(){this.reject(Ge(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,N.currentPopupAction=null}pollUserCancellation(){const T=()=>{var F,q;this.pollId=null!==(q=null===(F=this.authWindow)||void 0===F?void 0:F.window)&&void 0!==q&&q.closed?window.setTimeout(()=>{this.pollId=null,this.reject(Ge(this.auth,"popup-closed-by-user"))},8e3):window.setTimeout(T,wi.get())};T()}}return N.currentPopupAction=null,N})();const oa="pendingRedirect",Qn=new Map;class Zm extends Gr{constructor(x,T,F=!1){super(x,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],T,void 0,F),this.eventId=null}execute(){var x=()=>super.execute,T=this;return(0,a.Z)(function*(){let F=Qn.get(T.auth._key());if(!F){try{const ne=(yield function Jc(N,x){return dd.apply(this,arguments)}(T.resolver,T.auth))?yield x().call(T):null;F=()=>Promise.resolve(ne)}catch(q){F=()=>Promise.reject(q)}Qn.set(T.auth._key(),F)}return T.bypassAuthState||Qn.set(T.auth._key(),()=>Promise.resolve(null)),F()})()}onAuthEvent(x){var T=()=>super.onAuthEvent,F=this;return(0,a.Z)(function*(){if("signInViaRedirect"===x.type)return T().call(F,x);if("unknown"!==x.type){if(x.eventId){const q=yield F.auth._redirectUserForId(x.eventId);if(q)return F.user=q,T().call(F,x);F.resolve(null)}}else F.resolve(null)})()}onExecution(){return(0,a.Z)(function*(){})()}cleanUp(){}}function dd(){return(dd=(0,a.Z)(function*(N,x){const T=eu(x),F=kx(N);if(!(yield F._isAvailable()))return!1;const q="true"===(yield F._get(T));return yield F._remove(T),q})).apply(this,arguments)}function W_(N,x){return Ip.apply(this,arguments)}function Ip(){return(Ip=(0,a.Z)(function*(N,x){return kx(N)._set(eu(x),"true")})).apply(this,arguments)}function Xm(N,x){Qn.set(N._key(),x)}function kx(N){return Wt(N._redirectPersistence)}function eu(N){return Ce(oa,N.config.apiKey,N.name)}function ac(N,x,T){return function $_(N,x,T){return lc.apply(this,arguments)}(N,x,T)}function lc(){return(lc=(0,a.Z)(function*(N,x,T){const F=Y(N);Et(N,x,Qr),yield F._initializationPromise;const q=Ya(F,T);return yield W_(q,F),q._openRedirect(F,x,"signInViaRedirect")})).apply(this,arguments)}function kp(N,x,T){return function Gh(N,x,T){return Km.apply(this,arguments)}(N,x,T)}function Km(){return(Km=(0,a.Z)(function*(N,x,T){const F=(0,re.m9)(N);Et(F.auth,x,Qr),yield F.auth._initializationPromise;const q=Ya(F.auth,T);yield W_(q,F.auth);const ne=yield As(F);return q._openRedirect(F.auth,x,"reauthViaRedirect",ne)})).apply(this,arguments)}function Qm(N,x,T){return function Y_(N,x,T){return Op.apply(this,arguments)}(N,x,T)}function Op(){return(Op=(0,a.Z)(function*(N,x,T){const F=(0,re.m9)(N);Et(F.auth,x,Qr),yield F.auth._initializationPromise;const q=Ya(F.auth,T);yield Jl(!1,F,x.providerId),yield W_(q,F.auth);const ne=yield As(F);return q._openRedirect(F.auth,x,"linkViaRedirect",ne)})).apply(this,arguments)}function Qi(){return(Qi=(0,a.Z)(function*(N,x){return yield Y(N)._initializationPromise,os(N,x,!1)})).apply(this,arguments)}function os(N,x){return ue.apply(this,arguments)}function ue(){return(ue=(0,a.Z)(function*(N,x,T=!1){const F=Y(N),q=Ya(F,x),Te=yield new Zm(F,q,T).execute();return Te&&!T&&(delete Te.user._redirectEventId,yield F._persistUserIfCurrent(Te.user),yield F._setRedirectUser(null,x)),Te})).apply(this,arguments)}function As(N){return aa.apply(this,arguments)}function aa(){return(aa=(0,a.Z)(function*(N){const x=ed(`${N.uid}:::`);return N._redirectEventId=x,yield N.auth._setRedirectUser(N),yield N.auth._persistUserIfCurrent(N),x})).apply(this,arguments)}class hd{constructor(x){this.auth=x,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(x){this.consumers.add(x),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,x)&&(this.sendToConsumer(this.queuedRedirectEvent,x),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(x){this.consumers.delete(x)}onEvent(x){if(this.hasEventBeenHandled(x))return!1;let T=!1;return this.consumers.forEach(F=>{this.isEventForConsumer(x,F)&&(T=!0,this.sendToConsumer(x,F),this.saveEventToCache(x))}),this.hasHandledPotentialRedirect||!function El(N){switch(N.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return tu(N);default:return!1}}(x)||(this.hasHandledPotentialRedirect=!0,T||(this.queuedRedirectEvent=x,T=!0)),T}sendToConsumer(x,T){var F;if(x.error&&!tu(x)){const q=(null===(F=x.error.code)||void 0===F?void 0:F.split("auth/")[1])||"internal-error";T.onError(Ge(this.auth,q))}else T.onAuthEvent(x)}isEventForConsumer(x,T){const F=null===T.eventId||!!x.eventId&&x.eventId===T.eventId;return T.filter.includes(x.type)&&F}hasEventBeenHandled(x){return Date.now()-this.lastProcessedEventTime>=6e5&&this.cachedEventUids.clear(),this.cachedEventUids.has(Wi(x))}saveEventToCache(x){this.cachedEventUids.add(Wi(x)),this.lastProcessedEventTime=Date.now()}}function Wi(N){return[N.type,N.eventId,N.sessionId,N.tenantId].filter(x=>x).join("-")}function tu({type:N,error:x}){return"unknown"===N&&"auth/no-auth-event"===x?.code}function fd(N){return Np.apply(this,arguments)}function Np(){return(Np=(0,a.Z)(function*(N,x={}){return vt(N,"GET","/v1/projects",x)})).apply(this,arguments)}const Wh=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,Dl=/^https?/;function Sa(){return(Sa=(0,a.Z)(function*(N){if(N.config.emulator)return;const{authorizedDomains:x}=yield fd(N);for(const T of x)try{if($h(T))return}catch{}et(N,"unauthorized-domain")})).apply(this,arguments)}function $h(N){const x=kn(),{protocol:T,hostname:F}=new URL(x);if(N.startsWith("chrome-extension://")){const Te=new URL(N);return""===Te.hostname&&""===F?"chrome-extension:"===T&&N.replace("chrome-extension://","")===x.replace("chrome-extension://",""):"chrome-extension:"===T&&Te.hostname===F}if(!Dl.test(T))return!1;if(Wh.test(N))return F===N;const q=N.replace(/\./g,"\\.");return new RegExp("^(.+\\."+q+"|"+q+")$","i").test(F)}const nu=new tr(3e4,6e4);function Rp(){const N=Xi().___jsl;if(N?.H)for(const x of Object.keys(N.H))if(N.H[x].r=N.H[x].r||[],N.H[x].L=N.H[x].L||[],N.H[x].r=[...N.H[x].L],N.CP)for(let T=0;T<N.CP.length;T++)N.CP[T]=null}let Tl=null;const iu=new tr(5e3,15e3),Yh="__/auth/iframe",uc="emulator/auth/iframe",ru={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},dc=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function su(N){const x=N.config;Ne(x.authDomain,N,"auth-domain-config-required");const T=x.emulator?qe(x,uc):`https://${N.config.authDomain}/${Yh}`,F={apiKey:x.apiKey,appName:N.name,v:Oe.SDK_VERSION},q=dc.get(N.config.apiHost);q&&(F.eid=q);const ne=N._getFrameworks();return ne.length&&(F.fw=ne.join(",")),`${T}?${(0,re.xO)(F).slice(1)}`}function j(){return j=(0,a.Z)(function*(N){const x=yield function la(N){return Tl=Tl||function ii(N){return new Promise((x,T)=>{var F,q,ne;function Te(){Rp(),gapi.load("gapi.iframes",{callback:()=>{x(gapi.iframes.getContext())},ontimeout:()=>{Rp(),T(Ge(N,"network-request-failed"))},timeout:nu.get()})}if(null!==(q=null===(F=Xi().gapi)||void 0===F?void 0:F.iframes)&&void 0!==q&&q.Iframe)x(gapi.iframes.getContext());else{if(null===(ne=Xi().gapi)||void 0===ne||!ne.load){const je=y("iframefcb");return Xi()[je]=()=>{gapi.load?Te():T(Ge(N,"network-request-failed"))},v(`https://apis.google.com/js/api.js?onload=${je}`).catch(Tt=>T(Tt))}Te()}}).catch(x=>{throw Tl=null,x})}(N),Tl}(N),T=Xi().gapi;return Ne(T,N,"internal-error"),x.open({where:document.body,url:su(N),messageHandlersFilter:T.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:ru,dontclear:!0},F=>new Promise(function(){var q=(0,a.Z)(function*(ne,Te){yield F.restyle({setHideOnLeave:!1});const je=Ge(N,"network-request-failed"),Tt=Xi().setTimeout(()=>{Te(je)},iu.get());function Ft(){Xi().clearTimeout(Tt),ne(F)}F.ping(Ft).then(Ft,()=>{Te(je)})});return function(ne,Te){return q.apply(this,arguments)}}()))}),j.apply(this,arguments)}const ee={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"};class Yt{constructor(x){this.window=x,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}}const Vn="__/auth/handler",Hn="emulator/auth/handler",Wr=encodeURIComponent("fac");function Nr(N,x,T,F,q,ne){return Za.apply(this,arguments)}function Za(){return(Za=(0,a.Z)(function*(N,x,T,F,q,ne){Ne(N.config.authDomain,N,"auth-domain-config-required"),Ne(N.config.apiKey,N,"invalid-api-key");const Te={apiKey:N.config.apiKey,appName:N.name,authType:T,redirectUrl:F,v:Oe.SDK_VERSION,eventId:q};if(x instanceof Qr){x.setDefaultLanguage(N.languageCode),Te.providerId=x.providerId||"",(0,re.xb)(x.getCustomParameters())||(Te.customParameters=JSON.stringify(x.getCustomParameters()));for(const[an,cn]of Object.entries(ne||{}))Te[an]=cn}if(x instanceof wa){const an=x.getScopes().filter(cn=>""!==cn);an.length>0&&(Te.scopes=an.join(","))}N.tenantId&&(Te.tid=N.tenantId);const je=Te;for(const an of Object.keys(je))void 0===je[an]&&delete je[an];const Tt=yield N._getAppCheckToken(),Ft=Tt?`#${Wr}=${encodeURIComponent(Tt)}`:"";return`${function yr({config:N}){return N.emulator?qe(N,Hn):`https://${N.authDomain}/${Vn}`}(N)}?${(0,re.xO)(je).slice(1)}${Ft}`})).apply(this,arguments)}const Bo="webStorageSupport",Vo=class Rs{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=$s,this._completeRedirectFn=os,this._overrideRedirectResult=Xm}_openPopup(x,T,F,q){var ne=this;return(0,a.Z)(function*(){var Te;gn(null===(Te=ne.eventManagers[x._key()])||void 0===Te?void 0:Te.manager,"_initialize() not called before _openPopup()");const je=yield Nr(x,T,F,kn(),q);return function Gt(N,x,T,F=500,q=600){const ne=Math.max((window.screen.availHeight-q)/2,0).toString(),Te=Math.max((window.screen.availWidth-F)/2,0).toString();let je="";const Tt=Object.assign(Object.assign({},ee),{width:F.toString(),height:q.toString(),top:ne,left:Te}),Ft=(0,re.z$)().toLowerCase();T&&(je=Kt(Ft)?"_blank":T),mt(Ft)&&(x=x||"http://localhost",Tt.scrollbars="yes");const an=Object.entries(Tt).reduce((_r,[Uo,Ed])=>`${_r}${Uo}=${Ed},`,"");if(function Hr(N=(0,re.z$)()){var x;return gr(N)&&!(null===(x=window.navigator)||void 0===x||!x.standalone)}(Ft)&&"_self"!==je)return function vn(N,x){const T=document.createElement("a");T.href=N,T.target=x;const F=document.createEvent("MouseEvent");F.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),T.dispatchEvent(F)}(x||"",je),new Yt(null);const cn=window.open(x||"",je,an);Ne(cn,N,"popup-blocked");try{cn.focus()}catch{}return new Yt(cn)}(x,je,ed())})()}_openRedirect(x,T,F,q){var ne=this;return(0,a.Z)(function*(){return yield ne._originValidation(x),function z_(N){Xi().location.href=N}(yield Nr(x,T,F,kn(),q)),new Promise(()=>{})})()}_initialize(x){const T=x._key();if(this.eventManagers[T]){const{manager:q,promise:ne}=this.eventManagers[T];return q?Promise.resolve(q):(gn(ne,"If manager is not set, promise should be"),ne)}const F=this.initAndGetManager(x);return this.eventManagers[T]={promise:F},F.catch(()=>{delete this.eventManagers[T]}),F}initAndGetManager(x){var T=this;return(0,a.Z)(function*(){const F=yield function H(N){return j.apply(this,arguments)}(x),q=new hd(x);return F.register("authEvent",ne=>(Ne(ne?.authEvent,x,"invalid-auth-event"),{status:q.onEvent(ne.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),T.eventManagers[x._key()]={manager:q},T.iframes[x._key()]=F,q})()}_isIframeWebStorageSupported(x,T){this.iframes[x._key()].send(Bo,{type:Bo},q=>{var ne;const Te=null===(ne=q?.[0])||void 0===ne?void 0:ne[Bo];void 0!==Te&&T(!!Te),et(x,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(x){const T=x._key();return this.originValidationPromises[T]||(this.originValidationPromises[T]=function Pp(N){return Sa.apply(this,arguments)}(x)),this.originValidationPromises[T]}get _shouldInitProactively(){return Va()||Ke()||gr()}};class Fs{constructor(x){this.factorId=x}_process(x,T,F){switch(T.type){case"enroll":return this._finalizeEnroll(x,T.credential,F);case"signin":return this._finalizeSignIn(x,T.credential);default:return It("unexpected MultiFactorSessionType")}}}class hc extends Fs{constructor(x){super("phone"),this.credential=x}static _fromCredential(x){return new hc(x)}_finalizeEnroll(x,T,F){return function zm(N,x){return vt(N,"POST","/v2/accounts/mfaEnrollment:finalize",dt(N,x))}(x,{idToken:T,displayName:F,phoneVerificationInfo:this.credential._makeVerificationRequest()})}_finalizeSignIn(x,T){return function Ym(N,x){return vt(N,"POST","/v2/accounts/mfaSignIn:finalize",dt(N,x))}(x,{mfaPendingCredential:T,phoneVerificationInfo:this.credential._makeVerificationRequest()})}}let Fp=(()=>{class N{constructor(){}static assertion(T){return hc._fromCredential(T)}}return N.FACTOR_ID="phone",N})();var q_="@firebase/auth";class qs{constructor(x){this.auth=x,this.internalListeners=new Map}getUid(){var x;return this.assertAuthConfigured(),(null===(x=this.auth.currentUser)||void 0===x?void 0:x.uid)||null}getToken(x){var T=this;return(0,a.Z)(function*(){return T.assertAuthConfigured(),yield T.auth._initializationPromise,T.auth.currentUser?{accessToken:yield T.auth.currentUser.getIdToken(x)}:null})()}addAuthTokenListener(x){if(this.assertAuthConfigured(),this.internalListeners.has(x))return;const T=this.auth.onIdTokenChanged(F=>{x(F?.stsTokenManager.accessToken||null)});this.internalListeners.set(x,T),this.updateProactiveRefresh()}removeAuthTokenListener(x){this.assertAuthConfigured();const T=this.internalListeners.get(x);T&&(this.internalListeners.delete(x),T(),this.updateProactiveRefresh())}assertAuthConfigured(){Ne(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}function fc(){return window}(0,re.Pz)("authIdTokenMaxAge"),function ou(N){(0,Oe._registerComponent)(new ke.wA("auth",(x,{options:T})=>{const F=x.getProvider("app").getImmediate(),q=x.getProvider("heartbeat"),ne=x.getProvider("app-check-internal"),{apiKey:Te,authDomain:je}=F.options;Ne(Te&&!Te.includes(":"),"invalid-api-key",{appName:F.name});const Tt={apiKey:Te,authDomain:je,clientPlatform:N,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:ao(N)},Ft=new G(F,q,ne,Tt);return function le(N,x){const T=x?.persistence||[],F=(Array.isArray(T)?T:[T]).map(Wt);x?.errorMap&&N._updateErrorMap(x.errorMap),N._initializeWithPersistence(F,x?.popupRedirectResolver)}(Ft,T),Ft},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((x,T,F)=>{x.getProvider("auth-internal").initialize()})),(0,Oe._registerComponent)(new ke.wA("auth-internal",x=>{const T=Y(x.getProvider("auth").getImmediate());return new qs(T)},"PRIVATE").setInstantiationMode("EXPLICIT")),(0,Oe.registerVersion)(q_,"0.23.2",function Zh(N){switch(N){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";default:return}}(N)),(0,Oe.registerVersion)(q_,"0.23.2","esm2017")}("Browser");function Xh(){return Xh=(0,a.Z)(function*(N,x,T){var F;const{BuildInfo:q}=fc();gn(x.sessionId,"AuthEvent did not contain a session ID");const ne=yield function Q_(N){return Kh.apply(this,arguments)}(x.sessionId),Te={};return gr()?Te.ibi=q.packageName:Tn()?Te.apn=q.packageName:et(N,"operation-not-supported-in-this-environment"),q.displayName&&(Te.appDisplayName=q.displayName),Te.sessionId=ne,Nr(N,T,x.type,void 0,null!==(F=x.eventId)&&void 0!==F?F:void 0,Te)}),Xh.apply(this,arguments)}function ev(){return(ev=(0,a.Z)(function*(N){const{BuildInfo:x}=fc(),T={};gr()?T.iosBundleId=x.packageName:Tn()?T.androidPackageName=x.packageName:et(N,"operation-not-supported-in-this-environment"),yield fd(N,T)})).apply(this,arguments)}function gd(){return(gd=(0,a.Z)(function*(N,x,T){const{cordova:F}=fc();let q=()=>{};try{yield new Promise((ne,Te)=>{let je=null;function Tt(){var cn;ne();const _r=null===(cn=F.plugins.browsertab)||void 0===cn?void 0:cn.close;"function"==typeof _r&&_r(),"function"==typeof T?.close&&T.close()}function Ft(){je||(je=window.setTimeout(()=>{Te(Ge(N,"redirect-cancelled-by-user"))},2e3))}function an(){"visible"===document?.visibilityState&&Ft()}x.addPassiveListener(Tt),document.addEventListener("resume",Ft,!1),Tn()&&document.addEventListener("visibilitychange",an,!1),q=()=>{x.removePassiveListener(Tt),document.removeEventListener("resume",Ft,!1),document.removeEventListener("visibilitychange",an,!1),je&&window.clearTimeout(je)}})}finally{q()}})).apply(this,arguments)}function Kh(){return(Kh=(0,a.Z)(function*(N){const x=function au(N){if(gn(/[0-9a-zA-Z]+/.test(N),"Can only convert alpha-numeric strings"),typeof TextEncoder<"u")return(new TextEncoder).encode(N);const x=new ArrayBuffer(N.length),T=new Uint8Array(x);for(let F=0;F<N.length;F++)T[F]=N.charCodeAt(F);return T}(N),T=yield crypto.subtle.digest("SHA-256",x);return Array.from(new Uint8Array(T)).map(q=>q.toString(16).padStart(2,"0")).join("")})).apply(this,arguments)}class J_ extends hd{constructor(){super(...arguments),this.passiveListeners=new Set,this.initPromise=new Promise(x=>{this.resolveInialized=x})}addPassiveListener(x){this.passiveListeners.add(x)}removePassiveListener(x){this.passiveListeners.delete(x)}resetRedirect(){this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1}onEvent(x){return this.resolveInialized(),this.passiveListeners.forEach(T=>T(x)),super.onEvent(x)}initialized(){var x=this;return(0,a.Z)(function*(){yield x.initPromise})()}}function vd(N){return iv.apply(this,arguments)}function iv(){return(iv=(0,a.Z)(function*(N){const x=yield zp()._get(sv(N));return x&&(yield zp()._remove(sv(N))),x})).apply(this,arguments)}function rv(){const N=[];for(let T=0;T<20;T++){const F=Math.floor(62*Math.random());N.push("1234567890abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ".charAt(F))}return N.join("")}function zp(){return Wt(rc)}function sv(N){return Ce("authEvent",N.config.apiKey,N.name)}function jp(N){if(!N?.includes("?"))return{};const[x,...T]=N.split("?");return(0,re.zd)(T.join("?"))}const av=class Fx{constructor(){this._redirectPersistence=$s,this._shouldInitProactively=!0,this.eventManagers=new Map,this.originValidationPromises={},this._completeRedirectFn=os,this._overrideRedirectResult=Xm}_initialize(x){var T=this;return(0,a.Z)(function*(){const F=x._key();let q=T.eventManagers.get(F);return q||(q=new J_(x),T.eventManagers.set(F,q),T.attachCallbackListeners(x,q)),q})()}_openPopup(x){et(x,"operation-not-supported-in-this-environment")}_openRedirect(x,T,F,q){var ne=this;return(0,a.Z)(function*(){!function Px(N){var x,T,F,q,ne,Te,je,Tt,Ft,an;const cn=fc();Ne("function"==typeof(null===(x=cn?.universalLinks)||void 0===x?void 0:x.subscribe),N,"invalid-cordova-configuration",{missingPlugin:"cordova-universal-links-plugin-fix"}),Ne(typeof(null===(T=cn?.BuildInfo)||void 0===T?void 0:T.packageName)<"u",N,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-buildInfo"}),Ne("function"==typeof(null===(ne=null===(q=null===(F=cn?.cordova)||void 0===F?void 0:F.plugins)||void 0===q?void 0:q.browsertab)||void 0===ne?void 0:ne.openUrl),N,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-browsertab"}),Ne("function"==typeof(null===(Tt=null===(je=null===(Te=cn?.cordova)||void 0===Te?void 0:Te.plugins)||void 0===je?void 0:je.browsertab)||void 0===Tt?void 0:Tt.isAvailable),N,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-browsertab"}),Ne("function"==typeof(null===(an=null===(Ft=cn?.cordova)||void 0===Ft?void 0:Ft.InAppBrowser)||void 0===an?void 0:an.open),N,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-inappbrowser"})}(x);const Te=yield ne._initialize(x);yield Te.initialized(),Te.resetRedirect(),function Mp(){Qn.clear()}(),yield ne._originValidation(x);const je=function nv(N,x,T=null){return{type:x,eventId:T,urlResponse:null,sessionId:rv(),postBody:null,tenantId:N.tenantId,error:Ge(N,"no-auth-event")}}(x,F,q);yield function md(N,x){return zp()._set(sv(N),x)}(x,je);const Tt=yield function K_(N,x,T){return Xh.apply(this,arguments)}(x,je,T),Ft=yield function Up(N){const{cordova:x}=fc();return new Promise(T=>{x.plugins.browsertab.isAvailable(F=>{let q=null;F?x.plugins.browsertab.openUrl(N):q=x.InAppBrowser.open(N,function ci(N=(0,re.z$)()){return/(iPad|iPhone|iPod).*OS 7_\d/i.test(N)||/(iPad|iPhone|iPod).*OS 8_\d/i.test(N)}()?"_blank":"_system","location=yes"),T(q)})})}(Tt);return function Nx(N,x,T){return gd.apply(this,arguments)}(x,Te,Ft)})()}_isIframeWebStorageSupported(x,T){throw new Error("Method not implemented.")}_originValidation(x){const T=x._key();return this.originValidationPromises[T]||(this.originValidationPromises[T]=function Hp(N){return ev.apply(this,arguments)}(x)),this.originValidationPromises[T]}attachCallbackListeners(x,T){const{universalLinks:F,handleOpenURL:q,BuildInfo:ne}=fc(),Te=setTimeout((0,a.Z)(function*(){yield vd(x),T.onEvent(tb())}),500),je=function(){var an=(0,a.Z)(function*(cn){clearTimeout(Te);const _r=yield vd(x);let Uo=null;_r&&cn?.url&&(Uo=function Rx(N,x){var T,F;const q=function gS(N){const x=jp(N),T=x.link?decodeURIComponent(x.link):void 0,F=jp(T).link,q=x.deep_link_id?decodeURIComponent(x.deep_link_id):void 0;return jp(q).link||q||F||T||N}(x);if(q.includes("/__/auth/callback")){const ne=jp(q),Te=ne.firebaseError?function eb(N){try{return JSON.parse(N)}catch{return null}}(decodeURIComponent(ne.firebaseError)):null,je=null===(F=null===(T=Te?.code)||void 0===T?void 0:T.split("auth/"))||void 0===F?void 0:F[1],Tt=je?Ge(je):null;return Tt?{type:N.type,eventId:N.eventId,tenantId:N.tenantId,error:Tt,urlResponse:null,sessionId:null,postBody:null}:{type:N.type,eventId:N.eventId,tenantId:N.tenantId,sessionId:N.sessionId,urlResponse:q,postBody:null}}return null}(_r,cn.url)),T.onEvent(Uo||tb())});return function(_r){return an.apply(this,arguments)}}();typeof F<"u"&&"function"==typeof F.subscribe&&F.subscribe(null,je);const Tt=q,Ft=`${ne.packageName.toLowerCase()}://`;fc().handleOpenURL=function(){var an=(0,a.Z)(function*(cn){if(cn.toLowerCase().startsWith(Ft)&&je({url:cn}),"function"==typeof Tt)try{Tt(cn)}catch(_r){console.error(_r)}});return function(cn){return an.apply(this,arguments)}}()}};function tb(){return{type:"unknown",eventId:null,sessionId:null,urlResponse:null,postBody:null,tenantId:null,error:Ge("no-auth-event")}}function yd(){var N;return(null===(N=self?.location)||void 0===N?void 0:N.protocol)||null}function Jh(N=(0,re.z$)()){return!("file:"!==yd()&&"ionic:"!==yd()&&"capacitor:"!==yd()||!N.toLowerCase().match(/iphone|ipad|ipod|android/))}function vS(){try{const N=self.localStorage,x=ed();if(N)return N.setItem(x,"1"),N.removeItem(x),!function mS(N=(0,re.z$)()){return function ef(){return(0,re.w1)()&&11===document?.documentMode}()||function JN(N=(0,re.z$)()){return/Edge\/\d+/.test(N)}(N)}()||(0,re.hl)()}catch{return ib()&&(0,re.hl)()}return!1}function ib(){return typeof global<"u"&&"WorkerGlobalScope"in global&&"importScripts"in global}function rb(){return(function Qh(){return"http:"===yd()||"https:"===yd()}()||(0,re.ru)()||Jh())&&!function QN(){return(0,re.b$)()||(0,re.UG)()}()&&vS()&&!ib()}function Vx(){return Jh()&&typeof document<"u"}function _d(){return(_d=(0,a.Z)(function*(){return!!Vx()&&new Promise(N=>{const x=setTimeout(()=>{N(!1)},1e3);document.addEventListener("deviceready",()=>{clearTimeout(x),N(!0)})})})).apply(this,arguments)}const Ho={LOCAL:"local",NONE:"none",SESSION:"session"},tf=Ne,bd="persistence";function lu(N){return wd.apply(this,arguments)}function wd(){return(wd=(0,a.Z)(function*(N){yield N._initializationPromise;const x=cu(),T=Ce(bd,N.config.apiKey,N.name);x&&x.setItem(T,N._getPersistence())})).apply(this,arguments)}function cu(){var N;try{return(null===(N=function Hx(){return typeof window<"u"?window:null}())||void 0===N?void 0:N.sessionStorage)||null}catch{return null}}const cv=Ne;class Xa{constructor(){this.browserResolver=Wt(Vo),this.cordovaResolver=Wt(av),this.underlyingResolver=null,this._redirectPersistence=$s,this._completeRedirectFn=os,this._overrideRedirectResult=Xm}_initialize(x){var T=this;return(0,a.Z)(function*(){return yield T.selectUnderlyingResolver(),T.assertedUnderlyingResolver._initialize(x)})()}_openPopup(x,T,F,q){var ne=this;return(0,a.Z)(function*(){return yield ne.selectUnderlyingResolver(),ne.assertedUnderlyingResolver._openPopup(x,T,F,q)})()}_openRedirect(x,T,F,q){var ne=this;return(0,a.Z)(function*(){return yield ne.selectUnderlyingResolver(),ne.assertedUnderlyingResolver._openRedirect(x,T,F,q)})()}_isIframeWebStorageSupported(x,T){this.assertedUnderlyingResolver._isIframeWebStorageSupported(x,T)}_originValidation(x){return this.assertedUnderlyingResolver._originValidation(x)}get _shouldInitProactively(){return Vx()||this.browserResolver._shouldInitProactively}get assertedUnderlyingResolver(){return cv(this.underlyingResolver,"internal-error"),this.underlyingResolver}selectUnderlyingResolver(){var x=this;return(0,a.Z)(function*(){if(x.underlyingResolver)return;const T=yield function lv(){return _d.apply(this,arguments)}();x.underlyingResolver=T?x.cordovaResolver:x.browserResolver})()}}function Gp(N){return N.unwrap()}function nf(N){return sb(N)}function sb(N){const{_tokenResponse:x}=N instanceof re.ZR?N.customData:N;if(!x)return null;if(!(N instanceof re.ZR)&&"temporaryProof"in x&&"phoneNumber"in x)return ss.credentialFromResult(N);const T=x.providerId;if(!T||T===Qe.PASSWORD)return null;let F;switch(T){case Qe.GOOGLE:F=co;break;case Qe.FACEBOOK:F=Ua;break;case Qe.GITHUB:F=Hc;break;case Qe.TWITTER:F=Yu;break;default:const{oauthIdToken:q,oauthAccessToken:ne,oauthTokenSecret:Te,pendingToken:je,nonce:Tt}=x;return ne||Te||q||je?je?T.startsWith("saml.")?$n._create(T,je):Sn._fromParams({providerId:T,signInMethod:T,pendingToken:je,idToken:q,accessToken:ne}):new xa(T).credential({idToken:q,accessToken:ne,rawNonce:Tt}):null}return N instanceof re.ZR?F.credentialFromError(N):F.credentialFromResult(N)}function _s(N,x){return x.catch(T=>{throw T instanceof re.ZR&&function Cd(N,x){var T;const F=null===(T=x.customData)||void 0===T?void 0:T._tokenResponse;if("auth/multi-factor-auth-required"===x?.code)x.resolver=new zx(N,function _p(N,x){var T;const F=(0,re.m9)(N),q=x;return Ne(x.customData.operationType,F,"argument-error"),Ne(null===(T=q.customData._serverResponse)||void 0===T?void 0:T.mfaPendingCredential,F,"argument-error"),yl._fromError(F,q)}(N,x));else if(F){const q=sb(x),ne=x;q&&(ne.credential=q,ne.tenantId=F.tenantId||void 0,ne.email=F.email||void 0,ne.phoneNumber=F.phoneNumber||void 0)}}(N,T),T}).then(T=>{const q=T.user;return{operationType:T.operationType,credential:nf(T),additionalUserInfo:Bm(T),user:br.getOrCreate(q)}})}function rf(N,x){return uv.apply(this,arguments)}function uv(){return(uv=(0,a.Z)(function*(N,x){const T=yield x;return{verificationId:T.verificationId,confirm:F=>_s(N,T.confirm(F))}})).apply(this,arguments)}class zx{constructor(x,T){this.resolver=T,this.auth=function Wp(N){return N.wrapped()}(x)}get session(){return this.resolver.session}get hints(){return this.resolver.hints}resolveSignIn(x){return _s(Gp(this.auth),this.resolver.resolveSignIn(x))}}class br{constructor(x){this._delegate=x,this.multiFactor=function _l(N){const x=(0,re.m9)(N);return Wa.has(x)||Wa.set(x,Mi._fromUser(x)),Wa.get(x)}(x)}static getOrCreate(x){return br.USER_MAP.has(x)||br.USER_MAP.set(x,new br(x)),br.USER_MAP.get(x)}delete(){return this._delegate.delete()}reload(){return this._delegate.reload()}toJSON(){return this._delegate.toJSON()}getIdTokenResult(x){return this._delegate.getIdTokenResult(x)}getIdToken(x){return this._delegate.getIdToken(x)}linkAndRetrieveDataWithCredential(x){return this.linkWithCredential(x)}linkWithCredential(x){var T=this;return(0,a.Z)(function*(){return _s(T.auth,R_(T._delegate,x))})()}linkWithPhoneNumber(x,T){var F=this;return(0,a.Z)(function*(){return rf(F.auth,function ar(N,x,T){return bi.apply(this,arguments)}(F._delegate,x,T))})()}linkWithPopup(x){var T=this;return(0,a.Z)(function*(){return _s(T.auth,function qa(N,x,T){return Ps.apply(this,arguments)}(T._delegate,x,Xa))})()}linkWithRedirect(x){var T=this;return(0,a.Z)(function*(){return yield lu(Y(T.auth)),Qm(T._delegate,x,Xa)})()}reauthenticateAndRetrieveDataWithCredential(x){return this.reauthenticateWithCredential(x)}reauthenticateWithCredential(x){var T=this;return(0,a.Z)(function*(){return _s(T.auth,F_(T._delegate,x))})()}reauthenticateWithPhoneNumber(x,T){return rf(this.auth,function ys(N,x,T){return Cl.apply(this,arguments)}(this._delegate,x,T))}reauthenticateWithPopup(x){return _s(this.auth,function ud(N,x,T){return Ta.apply(this,arguments)}(this._delegate,x,Xa))}reauthenticateWithRedirect(x){var T=this;return(0,a.Z)(function*(){return yield lu(Y(T.auth)),kp(T._delegate,x,Xa)})()}sendEmailVerification(x){return function Ga(N,x){return $c.apply(this,arguments)}(this._delegate,x)}unlink(x){var T=this;return(0,a.Z)(function*(){return yield function hl(N,x){return uo.apply(this,arguments)}(T._delegate,x),T})()}updateEmail(x){return function vp(N,x){return Lm((0,re.m9)(N),x,null)}(this._delegate,x)}updatePassword(x){return function Ku(N,x){return Lm((0,re.m9)(N),null,x)}(this._delegate,x)}updatePhoneNumber(x){return function Ea(N,x){return Gi.apply(this,arguments)}(this._delegate,x)}updateProfile(x){return function B_(N,x){return Oh.apply(this,arguments)}(this._delegate,x)}verifyBeforeUpdateEmail(x,T){return function gp(N,x,T){return Xu.apply(this,arguments)}(this._delegate,x,T)}get emailVerified(){return this._delegate.emailVerified}get isAnonymous(){return this._delegate.isAnonymous}get metadata(){return this._delegate.metadata}get phoneNumber(){return this._delegate.phoneNumber}get providerData(){return this._delegate.providerData}get refreshToken(){return this._delegate.refreshToken}get tenantId(){return this._delegate.tenantId}get displayName(){return this._delegate.displayName}get email(){return this._delegate.email}get photoURL(){return this._delegate.photoURL}get providerId(){return this._delegate.providerId}get uid(){return this._delegate.uid}get auth(){return this._delegate.auth}}br.USER_MAP=new WeakMap;const uu=Ne;let $p=(()=>{class N{constructor(T,F){if(this.app=T,F.isInitialized())return this._delegate=F.getImmediate(),void this.linkUnderlyingAuth();const{apiKey:q}=T.options;uu(q,"invalid-api-key",{appName:T.name}),uu(q,"invalid-api-key",{appName:T.name});const ne=typeof window<"u"?Xa:void 0;this._delegate=F.initialize({options:{persistence:Ls(q,T.name),popupRedirectResolver:ne}}),this._delegate._updateErrorMap(At),this.linkUnderlyingAuth()}get emulatorConfig(){return this._delegate.emulatorConfig}get currentUser(){return this._delegate.currentUser?br.getOrCreate(this._delegate.currentUser):null}get languageCode(){return this._delegate.languageCode}set languageCode(T){this._delegate.languageCode=T}get settings(){return this._delegate.settings}get tenantId(){return this._delegate.tenantId}set tenantId(T){this._delegate.tenantId=T}useDeviceLanguage(){this._delegate.useDeviceLanguage()}signOut(){return this._delegate.signOut()}useEmulator(T,F){!function S(N,x,T){const F=Y(N);Ne(F._canInitEmulator,F,"emulator-config-failed"),Ne(/^https?:\/\//.test(x),F,"invalid-emulator-scheme");const q=!!T?.disableWarnings,ne=R(x),{host:Te,port:je}=function $(N){const x=R(N),T=/(\/\/)?([^?#/]+)/.exec(N.substr(x.length));if(!T)return{host:"",port:null};const F=T[2].split("@").pop()||"",q=/^(\[[^\]]+\])(:|$)/.exec(F);if(q){const ne=q[1];return{host:ne,port:te(F.substr(ne.length+1))}}{const[ne,Te]=F.split(":");return{host:ne,port:te(Te)}}}(x);F.config.emulator={url:`${ne}//${Te}${null===je?"":`:${je}`}/`},F.settings.appVerificationDisabledForTesting=!0,F.emulatorConfig=Object.freeze({host:Te,port:je,protocol:ne.replace(":",""),options:Object.freeze({disableWarnings:q})}),q||function de(){function N(){const x=document.createElement("p"),T=x.style;x.innerText="Running in emulator mode. Do not use with production credentials.",T.position="fixed",T.width="100%",T.backgroundColor="#ffffff",T.border=".1em solid #000000",T.color="#b50000",T.bottom="0px",T.left="0px",T.margin="0px",T.zIndex="10000",T.textAlign="center",x.classList.add("firebase-emulator-warning"),document.body.appendChild(x)}typeof console<"u"&&"function"==typeof console.info&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&("loading"===document.readyState?window.addEventListener("DOMContentLoaded",N):N())}()}(this._delegate,T,F)}applyActionCode(T){return function hp(N,x){return Io.apply(this,arguments)}(this._delegate,T)}checkActionCode(T){return jr(this._delegate,T)}confirmPasswordReset(T,F){return function fl(N,x,T){return na.apply(this,arguments)}(this._delegate,T,F)}createUserWithEmailAndPassword(T,F){var q=this;return(0,a.Z)(function*(){return _s(q._delegate,function Ah(N,x,T){return jc.apply(this,arguments)}(q._delegate,T,F))})()}fetchProvidersForEmail(T){return this.fetchSignInMethodsForEmail(T)}fetchSignInMethodsForEmail(T){return function Wc(N,x){return ml.apply(this,arguments)}(this._delegate,T)}isSignInWithEmailLink(T){return function pp(N,x){const T=sr.parseLink(x);return"EMAIL_SIGNIN"===T?.operation}(0,T)}getRedirectResult(){var T=this;return(0,a.Z)(function*(){uu(rb(),T._delegate,"operation-not-supported-in-this-environment");const F=yield function it(N,x){return Qi.apply(this,arguments)}(T._delegate,Xa);return F?_s(T._delegate,Promise.resolve(F)):{credential:null,user:null}})()}addFrameworkForLogging(T){!function KN(N,x){Y(N)._logFramework(x)}(this._delegate,T)}onAuthStateChanged(T,F,q){const{next:ne,error:Te,complete:je}=Yp(T,F,q);return this._delegate.onAuthStateChanged(ne,Te,je)}onIdTokenChanged(T,F,q){const{next:ne,error:Te,complete:je}=Yp(T,F,q);return this._delegate.onIdTokenChanged(ne,Te,je)}sendSignInLinkToEmail(T,F){return function tc(N,x,T){return Gc.apply(this,arguments)}(this._delegate,T,F)}sendPasswordResetEmail(T,F){return function Ix(N,x,T){return zc.apply(this,arguments)}(this._delegate,T,F||void 0)}setPersistence(T){var F=this;return(0,a.Z)(function*(){let q;switch(function Ux(N,x){tf(Object.values(Ho).includes(x),N,"invalid-persistence-type"),(0,re.b$)()?tf(x!==Ho.SESSION,N,"unsupported-persistence-type"):(0,re.UG)()?tf(x===Ho.NONE,N,"unsupported-persistence-type"):ib()?tf(x===Ho.NONE||x===Ho.LOCAL&&(0,re.hl)(),N,"unsupported-persistence-type"):tf(x===Ho.NONE||vS(),N,"unsupported-persistence-type")}(F._delegate,T),T){case Ho.SESSION:q=$s;break;case Ho.LOCAL:q=(yield Wt(wl)._isAvailable())?wl:rc;break;case Ho.NONE:q=li;break;default:return et("argument-error",{appName:F._delegate.name})}return F._delegate.setPersistence(q)})()}signInAndRetrieveDataWithCredential(T){return this.signInWithCredential(T)}signInAnonymously(){return _s(this._delegate,function ps(N){return Pm.apply(this,arguments)}(this._delegate))}signInWithCredential(T){return _s(this._delegate,Dh(this._delegate,T))}signInWithCustomToken(T){return _s(this._delegate,function dp(N,x){return Ca.apply(this,arguments)}(this._delegate,T))}signInWithEmailAndPassword(T,F){return _s(this._delegate,function fp(N,x,T){return Dh((0,re.m9)(N),ul.credential(x,T))}(this._delegate,T,F))}signInWithEmailLink(T,F){return _s(this._delegate,function ns(N,x,T){return Ih.apply(this,arguments)}(this._delegate,T,F))}signInWithPhoneNumber(T,F){return rf(this._delegate,function Pn(N,x,T){return hn.apply(this,arguments)}(this._delegate,T,F))}signInWithPopup(T){var F=this;return(0,a.Z)(function*(){return uu(rb(),F._delegate,"operation-not-supported-in-this-environment"),_s(F._delegate,function Da(N,x,T){return oc.apply(this,arguments)}(F._delegate,T,Xa))})()}signInWithRedirect(T){var F=this;return(0,a.Z)(function*(){return uu(rb(),F._delegate,"operation-not-supported-in-this-environment"),yield lu(F._delegate),ac(F._delegate,T,Xa)})()}updateCurrentUser(T){return this._delegate.updateCurrentUser(T)}verifyPasswordResetCode(T){return function Ws(N,x){return gl.apply(this,arguments)}(this._delegate,T)}unwrap(){return this._delegate}_delete(){return this._delegate._delete()}linkUnderlyingAuth(){this._delegate.wrapped=()=>this}}return N.Persistence=Ho,N})();function Yp(N,x,T){let F=N;"function"!=typeof N&&({next:F,error:x,complete:T}=N);const q=F;return{next:Te=>q(Te&&br.getOrCreate(Te)),error:x,complete:T}}function Ls(N,x){const T=function xd(N,x){const T=cu();if(!T)return[];const F=Ce(bd,N,x);switch(T.getItem(F)){case Ho.NONE:return[li];case Ho.LOCAL:return[wl,$s];case Ho.SESSION:return[$s];default:return[]}}(N,x);if(typeof self<"u"&&!T.includes(wl)&&T.push(wl),typeof window<"u")for(const F of[rc,$s])T.includes(F)||T.push(F);return T.includes(li)||T.push(li),T}class du{constructor(){this.providerId="phone",this._delegate=new ss(Gp(Le.Z.auth()))}static credential(x,T){return ss.credential(x,T)}verifyPhoneNumber(x,T){return this._delegate.verifyPhoneNumber(x,T)}unwrap(){return this._delegate}}du.PHONE_SIGN_IN_METHOD=ss.PHONE_SIGN_IN_METHOD,du.PROVIDER_ID=ss.PROVIDER_ID;const ob=Ne;class ab{constructor(x,T,F=Le.Z.app()){var q;ob(null===(q=F.options)||void 0===q?void 0:q.apiKey,"invalid-api-key",{appName:F.name}),this._delegate=new Ap(x,T,F.auth()),this.type=this._delegate.type}clear(){this._delegate.clear()}render(){return this._delegate.render()}verify(){return this._delegate.verify()}}!function dv(N){N.INTERNAL.registerComponent(new ke.wA("auth-compat",x=>{const T=x.getProvider("app-compat").getImmediate(),F=x.getProvider("auth");return new $p(T,F)},"PUBLIC").setServiceProps({ActionCodeInfo:{Operation:{EMAIL_SIGNIN:"EMAIL_SIGNIN",PASSWORD_RESET:"PASSWORD_RESET",RECOVER_EMAIL:"RECOVER_EMAIL",REVERT_SECOND_FACTOR_ADDITION:"REVERT_SECOND_FACTOR_ADDITION",VERIFY_AND_CHANGE_EMAIL:"VERIFY_AND_CHANGE_EMAIL",VERIFY_EMAIL:"VERIFY_EMAIL"}},EmailAuthProvider:ul,FacebookAuthProvider:Ua,GithubAuthProvider:Hc,GoogleAuthProvider:co,OAuthProvider:xa,SAMLAuthProvider:Kl,PhoneAuthProvider:du,PhoneMultiFactorGenerator:Fp,RecaptchaVerifier:ab,TwitterAuthProvider:Yu,Auth:$p,AuthCredential:he,Error:re.ZR}).setInstantiationMode("LAZY").setMultipleInstances(!1)),N.registerVersion("@firebase/auth-compat","0.4.2")}(Le.Z)},4303:(nn,ct,ce)=>{ce.r(ct),ce.d(ct,{FirebaseError:()=>Oe.ZR,SDK_VERSION:()=>Oi,_DEFAULT_ENTRY_NAME:()=>qe,_addComponent:()=>dt,_addOrOverwriteComponent:()=>vt,_apps:()=>Je,_clearComponents:()=>pn,_components:()=>rt,_getProvider:()=>Rt,_registerComponent:()=>Ot,_removeServiceInstance:()=>yi,deleteApp:()=>ds,getApp:()=>fi,getApps:()=>Mr,initializeApp:()=>Ui,onLog:()=>hs,registerVersion:()=>fr,setLogLevel:()=>Eo});var a=ce(5861),Le=ce(4537),re=ce(7879),Oe=ce(9058),xe=ce(1878);class Ye{constructor(Ae){this.container=Ae}getPlatformInfoString(){return this.container.getProviders().map(at=>{if(function ke(st){const Ae=st.getComponent();return"VERSION"===Ae?.type}(at)){const Nt=at.getImmediate();return`${Nt.library}/${Nt.version}`}return null}).filter(at=>at).join(" ")}}const gt="@firebase/app",ye=new re.Yd("@firebase/app"),qe="[DEFAULT]",nt={[gt]:"fire-core","@firebase/app-compat":"fire-core-compat","@firebase/analytics":"fire-analytics","@firebase/analytics-compat":"fire-analytics-compat","@firebase/app-check":"fire-app-check","@firebase/app-check-compat":"fire-app-check-compat","@firebase/auth":"fire-auth","@firebase/auth-compat":"fire-auth-compat","@firebase/database":"fire-rtdb","@firebase/database-compat":"fire-rtdb-compat","@firebase/functions":"fire-fn","@firebase/functions-compat":"fire-fn-compat","@firebase/installations":"fire-iid","@firebase/installations-compat":"fire-iid-compat","@firebase/messaging":"fire-fcm","@firebase/messaging-compat":"fire-fcm-compat","@firebase/performance":"fire-perf","@firebase/performance-compat":"fire-perf-compat","@firebase/remote-config":"fire-rc","@firebase/remote-config-compat":"fire-rc-compat","@firebase/storage":"fire-gcs","@firebase/storage-compat":"fire-gcs-compat","@firebase/firestore":"fire-fst","@firebase/firestore-compat":"fire-fst-compat","fire-js":"fire-js",firebase:"fire-js-all"},Je=new Map,rt=new Map;function dt(st,Ae){try{st.container.addComponent(Ae)}catch(at){ye.debug(`Component ${Ae.name} failed to register with FirebaseApp ${st.name}`,at)}}function vt(st,Ae){st.container.addOrOverwriteComponent(Ae)}function Ot(st){const Ae=st.name;if(rt.has(Ae))return ye.debug(`There were multiple attempts to register component ${Ae}.`),!1;rt.set(Ae,st);for(const at of Je.values())dt(at,st);return!0}function Rt(st,Ae){const at=st.container.getProvider("heartbeat").getImmediate({optional:!0});return at&&at.triggerHeartbeat(),st.container.getProvider(Ae)}function yi(st,Ae,at=qe){Rt(st,Ae).clearInstance(at)}function pn(){rt.clear()}const dn=new Oe.LL("app","Firebase",{"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}."});class hi{constructor(Ae,at,Nt){this._isDeleted=!1,this._options=Object.assign({},Ae),this._config=Object.assign({},at),this._name=at.name,this._automaticDataCollectionEnabled=at.automaticDataCollectionEnabled,this._container=Nt,this.container.addComponent(new Le.wA("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(Ae){this.checkDestroyed(),this._automaticDataCollectionEnabled=Ae}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(Ae){this._isDeleted=Ae}checkDestroyed(){if(this.isDeleted)throw dn.create("app-deleted",{appName:this._name})}}const Oi="10.4.0";function Ui(st,Ae={}){let at=st;"object"!=typeof Ae&&(Ae={name:Ae});const Nt=Object.assign({name:qe,automaticDataCollectionEnabled:!1},Ae),Wt=Nt.name;if("string"!=typeof Wt||!Wt)throw dn.create("bad-app-name",{appName:String(Wt)});if(at||(at=(0,Oe.aH)()),!at)throw dn.create("no-options");const mn=Je.get(Wt);if(mn){if((0,Oe.vZ)(at,mn.options)&&(0,Oe.vZ)(Nt,mn.config))return mn;throw dn.create("duplicate-app",{appName:Wt})}const li=new Le.H0(Wt);for(const we of rt.values())li.addComponent(we);const Ce=new hi(at,Nt,li);return Je.set(Wt,Ce),Ce}function fi(st=qe){const Ae=Je.get(st);if(!Ae&&st===qe&&(0,Oe.aH)())return Ui();if(!Ae)throw dn.create("no-app",{appName:st});return Ae}function Mr(){return Array.from(Je.values())}function ds(st){return Xr.apply(this,arguments)}function Xr(){return(Xr=(0,a.Z)(function*(st){const Ae=st.name;Je.has(Ae)&&(Je.delete(Ae),yield Promise.all(st.container.getProviders().map(at=>at.delete())),st.isDeleted=!0)})).apply(this,arguments)}function fr(st,Ae,at){var Nt;let Wt=null!==(Nt=nt[st])&&void 0!==Nt?Nt:st;at&&(Wt+=`-${at}`);const mn=Wt.match(/\s|\//),li=Ae.match(/\s|\//);if(mn||li){const Ce=[`Unable to register library "${Wt}" with version "${Ae}":`];return mn&&Ce.push(`library name "${Wt}" contains illegal characters (whitespace or "/")`),mn&&li&&Ce.push("and"),li&&Ce.push(`version name "${Ae}" contains illegal characters (whitespace or "/")`),void ye.warn(Ce.join(" "))}Ot(new Le.wA(`${Wt}-version`,()=>({library:Wt,version:Ae}),"VERSION"))}function hs(st,Ae){if(null!==st&&"function"!=typeof st)throw dn.create("invalid-log-argument");(0,re.Am)(st,Ae)}function Eo(st){(0,re.Ub)(st)}const ya="firebase-heartbeat-database",yn=1,An="firebase-heartbeat-store";let Fn=null;function In(){return Fn||(Fn=(0,xe.X3)(ya,yn,{upgrade:(st,Ae)=>{0===Ae&&st.createObjectStore(An)}}).catch(st=>{throw dn.create("idb-open",{originalErrorMessage:st.message})})),Fn}function pr(){return(pr=(0,a.Z)(function*(st){try{return yield(yield In()).transaction(An).objectStore(An).get(oo(st))}catch(Ae){if(Ae instanceof Oe.ZR)ye.warn(Ae.message);else{const at=dn.create("idb-get",{originalErrorMessage:Ae?.message});ye.warn(at.message)}}})).apply(this,arguments)}function di(st,Ae){return nr.apply(this,arguments)}function nr(){return(nr=(0,a.Z)(function*(st,Ae){try{const Nt=(yield In()).transaction(An,"readwrite");yield Nt.objectStore(An).put(Ae,oo(st)),yield Nt.done}catch(at){if(at instanceof Oe.ZR)ye.warn(at.message);else{const Nt=dn.create("idb-set",{originalErrorMessage:at?.message});ye.warn(Nt.message)}}})).apply(this,arguments)}function oo(st){return`${st.name}!${st.options.appId}`}class si{constructor(Ae){this.container=Ae,this._heartbeatsCache=null;const at=this.container.getProvider("app").getImmediate();this._storage=new To(at),this._heartbeatsCachePromise=this._storage.read().then(Nt=>(this._heartbeatsCache=Nt,Nt))}triggerHeartbeat(){var Ae=this;return(0,a.Z)(function*(){const Nt=Ae.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),Wt=Ts();if(null===Ae._heartbeatsCache&&(Ae._heartbeatsCache=yield Ae._heartbeatsCachePromise),Ae._heartbeatsCache.lastSentHeartbeatDate!==Wt&&!Ae._heartbeatsCache.heartbeats.some(mn=>mn.date===Wt))return Ae._heartbeatsCache.heartbeats.push({date:Wt,agent:Nt}),Ae._heartbeatsCache.heartbeats=Ae._heartbeatsCache.heartbeats.filter(mn=>{const li=new Date(mn.date).valueOf();return Date.now()-li<=2592e6}),Ae._storage.overwrite(Ae._heartbeatsCache)})()}getHeartbeatsHeader(){var Ae=this;return(0,a.Z)(function*(){if(null===Ae._heartbeatsCache&&(yield Ae._heartbeatsCachePromise),null===Ae._heartbeatsCache||0===Ae._heartbeatsCache.heartbeats.length)return"";const at=Ts(),{heartbeatsToSend:Nt,unsentEntries:Wt}=function Do(st,Ae=1024){const at=[];let Nt=st.slice();for(const Wt of st){const mn=at.find(li=>li.agent===Wt.agent);if(mn){if(mn.dates.push(Wt.date),Kr(at)>Ae){mn.dates.pop();break}}else if(at.push({agent:Wt.agent,dates:[Wt.date]}),Kr(at)>Ae){at.pop();break}Nt=Nt.slice(1)}return{heartbeatsToSend:at,unsentEntries:Nt}}(Ae._heartbeatsCache.heartbeats),mn=(0,Oe.L)(JSON.stringify({version:2,heartbeats:Nt}));return Ae._heartbeatsCache.lastSentHeartbeatDate=at,Wt.length>0?(Ae._heartbeatsCache.heartbeats=Wt,yield Ae._storage.overwrite(Ae._heartbeatsCache)):(Ae._heartbeatsCache.heartbeats=[],Ae._storage.overwrite(Ae._heartbeatsCache)),mn})()}}function Ts(){return(new Date).toISOString().substring(0,10)}class To{constructor(Ae){this.app=Ae,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}runIndexedDBEnvironmentCheck(){return(0,a.Z)(function*(){return!!(0,Oe.hl)()&&(0,Oe.eu)().then(()=>!0).catch(()=>!1)})()}read(){var Ae=this;return(0,a.Z)(function*(){return(yield Ae._canUseIndexedDBPromise)&&(yield function zi(st){return pr.apply(this,arguments)}(Ae.app))||{heartbeats:[]}})()}overwrite(Ae){var at=this;return(0,a.Z)(function*(){var Nt;if(yield at._canUseIndexedDBPromise){const mn=yield at.read();return di(at.app,{lastSentHeartbeatDate:null!==(Nt=Ae.lastSentHeartbeatDate)&&void 0!==Nt?Nt:mn.lastSentHeartbeatDate,heartbeats:Ae.heartbeats})}})()}add(Ae){var at=this;return(0,a.Z)(function*(){var Nt;if(yield at._canUseIndexedDBPromise){const mn=yield at.read();return di(at.app,{lastSentHeartbeatDate:null!==(Nt=Ae.lastSentHeartbeatDate)&&void 0!==Nt?Nt:mn.lastSentHeartbeatDate,heartbeats:[...mn.heartbeats,...Ae.heartbeats]})}})()}}function Kr(st){return(0,Oe.L)(JSON.stringify({version:2,heartbeats:st})).length}!function So(st){Ot(new Le.wA("platform-logger",Ae=>new Ye(Ae),"PRIVATE")),Ot(new Le.wA("heartbeat",Ae=>new si(Ae),"PRIVATE")),fr(gt,"0.9.19",st),fr(gt,"0.9.19","esm2017"),fr("fire-js","")}("")},4537:(nn,ct,ce)=>{ce.d(ct,{H0:()=>gt,wA:()=>re,zt:()=>xe});var a=ce(5861),Le=ce(9058);class re{constructor(ye,Ee,He){this.name=ye,this.instanceFactory=Ee,this.type=He,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(ye){return this.instantiationMode=ye,this}setMultipleInstances(ye){return this.multipleInstances=ye,this}setServiceProps(ye){return this.serviceProps=ye,this}setInstanceCreatedCallback(ye){return this.onInstanceCreated=ye,this}}const Oe="[DEFAULT]";class xe{constructor(ye,Ee){this.name=ye,this.container=Ee,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(ye){const Ee=this.normalizeInstanceIdentifier(ye);if(!this.instancesDeferred.has(Ee)){const He=new Le.BH;if(this.instancesDeferred.set(Ee,He),this.isInitialized(Ee)||this.shouldAutoInitialize())try{const St=this.getOrInitializeService({instanceIdentifier:Ee});St&&He.resolve(St)}catch{}}return this.instancesDeferred.get(Ee).promise}getImmediate(ye){var Ee;const He=this.normalizeInstanceIdentifier(ye?.identifier),St=null!==(Ee=ye?.optional)&&void 0!==Ee&&Ee;if(!this.isInitialized(He)&&!this.shouldAutoInitialize()){if(St)return null;throw Error(`Service ${this.name} is not available`)}try{return this.getOrInitializeService({instanceIdentifier:He})}catch(_t){if(St)return null;throw _t}}getComponent(){return this.component}setComponent(ye){if(ye.name!==this.name)throw Error(`Mismatching Component ${ye.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=ye,this.shouldAutoInitialize()){if(function ke(Qe){return"EAGER"===Qe.instantiationMode}(ye))try{this.getOrInitializeService({instanceIdentifier:Oe})}catch{}for(const[Ee,He]of this.instancesDeferred.entries()){const St=this.normalizeInstanceIdentifier(Ee);try{const _t=this.getOrInitializeService({instanceIdentifier:St});He.resolve(_t)}catch{}}}}clearInstance(ye=Oe){this.instancesDeferred.delete(ye),this.instancesOptions.delete(ye),this.instances.delete(ye)}delete(){var ye=this;return(0,a.Z)(function*(){const Ee=Array.from(ye.instances.values());yield Promise.all([...Ee.filter(He=>"INTERNAL"in He).map(He=>He.INTERNAL.delete()),...Ee.filter(He=>"_delete"in He).map(He=>He._delete())])})()}isComponentSet(){return null!=this.component}isInitialized(ye=Oe){return this.instances.has(ye)}getOptions(ye=Oe){return this.instancesOptions.get(ye)||{}}initialize(ye={}){const{options:Ee={}}=ye,He=this.normalizeInstanceIdentifier(ye.instanceIdentifier);if(this.isInitialized(He))throw Error(`${this.name}(${He}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const St=this.getOrInitializeService({instanceIdentifier:He,options:Ee});for(const[_t,At]of this.instancesDeferred.entries())He===this.normalizeInstanceIdentifier(_t)&&At.resolve(St);return St}onInit(ye,Ee){var He;const St=this.normalizeInstanceIdentifier(Ee),_t=null!==(He=this.onInitCallbacks.get(St))&&void 0!==He?He:new Set;_t.add(ye),this.onInitCallbacks.set(St,_t);const At=this.instances.get(St);return At&&ye(At,St),()=>{_t.delete(ye)}}invokeOnInitCallbacks(ye,Ee){const He=this.onInitCallbacks.get(Ee);if(He)for(const St of He)try{St(ye,Ee)}catch{}}getOrInitializeService({instanceIdentifier:ye,options:Ee={}}){let He=this.instances.get(ye);if(!He&&this.component&&(He=this.component.instanceFactory(this.container,{instanceIdentifier:(Qe=ye,Qe===Oe?void 0:Qe),options:Ee}),this.instances.set(ye,He),this.instancesOptions.set(ye,Ee),this.invokeOnInitCallbacks(He,ye),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,ye,He)}catch{}var Qe;return He||null}normalizeInstanceIdentifier(ye=Oe){return this.component?this.component.multipleInstances?ye:Oe:ye}shouldAutoInitialize(){return!!this.component&&"EXPLICIT"!==this.component.instantiationMode}}class gt{constructor(ye){this.name=ye,this.providers=new Map}addComponent(ye){const Ee=this.getProvider(ye.name);if(Ee.isComponentSet())throw new Error(`Component ${ye.name} has already been registered with ${this.name}`);Ee.setComponent(ye)}addOrOverwriteComponent(ye){this.getProvider(ye.name).isComponentSet()&&this.providers.delete(ye.name),this.addComponent(ye)}getProvider(ye){if(this.providers.has(ye))return this.providers.get(ye);const Ee=new xe(ye,this);return this.providers.set(ye,Ee),Ee}getProviders(){return Array.from(this.providers.values())}}},7879:(nn,ct,ce)=>{ce.d(ct,{Am:()=>Qe,Ub:()=>gt,Yd:()=>ke,in:()=>Le});const a=[];var Le=function(ye){return ye[ye.DEBUG=0]="DEBUG",ye[ye.VERBOSE=1]="VERBOSE",ye[ye.INFO=2]="INFO",ye[ye.WARN=3]="WARN",ye[ye.ERROR=4]="ERROR",ye[ye.SILENT=5]="SILENT",ye}(Le||{});const re={debug:Le.DEBUG,verbose:Le.VERBOSE,info:Le.INFO,warn:Le.WARN,error:Le.ERROR,silent:Le.SILENT},Oe=Le.INFO,xe={[Le.DEBUG]:"log",[Le.VERBOSE]:"log",[Le.INFO]:"info",[Le.WARN]:"warn",[Le.ERROR]:"error"},Ye=(ye,Ee,...He)=>{if(Ee<ye.logLevel)return;const St=(new Date).toISOString(),_t=xe[Ee];if(!_t)throw new Error(`Attempted to log a message with an invalid logType (value: ${Ee})`);console[_t](`[${St}]  ${ye.name}:`,...He)};class ke{constructor(Ee){this.name=Ee,this._logLevel=Oe,this._logHandler=Ye,this._userLogHandler=null,a.push(this)}get logLevel(){return this._logLevel}set logLevel(Ee){if(!(Ee in Le))throw new TypeError(`Invalid value "${Ee}" assigned to \`logLevel\``);this._logLevel=Ee}setLogLevel(Ee){this._logLevel="string"==typeof Ee?re[Ee]:Ee}get logHandler(){return this._logHandler}set logHandler(Ee){if("function"!=typeof Ee)throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=Ee}get userLogHandler(){return this._userLogHandler}set userLogHandler(Ee){this._userLogHandler=Ee}debug(...Ee){this._userLogHandler&&this._userLogHandler(this,Le.DEBUG,...Ee),this._logHandler(this,Le.DEBUG,...Ee)}log(...Ee){this._userLogHandler&&this._userLogHandler(this,Le.VERBOSE,...Ee),this._logHandler(this,Le.VERBOSE,...Ee)}info(...Ee){this._userLogHandler&&this._userLogHandler(this,Le.INFO,...Ee),this._logHandler(this,Le.INFO,...Ee)}warn(...Ee){this._userLogHandler&&this._userLogHandler(this,Le.WARN,...Ee),this._logHandler(this,Le.WARN,...Ee)}error(...Ee){this._userLogHandler&&this._userLogHandler(this,Le.ERROR,...Ee),this._logHandler(this,Le.ERROR,...Ee)}}function gt(ye){a.forEach(Ee=>{Ee.setLogLevel(ye)})}function Qe(ye,Ee){for(const He of a){let St=null;Ee&&Ee.level&&(St=re[Ee.level]),He.userLogHandler=null===ye?null:(_t,At,...xt)=>{const Ut=xt.map(me=>{if(null==me)return null;if("string"==typeof me)return me;if("number"==typeof me||"boolean"==typeof me)return me.toString();if(me instanceof Error)return me.message;try{return JSON.stringify(me)}catch{return null}}).filter(me=>me).join(" ");At>=(St??_t.logLevel)&&ye({level:Le[At].toLowerCase(),message:Ut,args:xt,type:_t.name})}}}},1878:(nn,ct,ce)=>{ce.d(ct,{X3:()=>$t});var a=ce(5861);const Le=(Ze,Ne)=>Ne.some(It=>Ze instanceof It);let re,Oe;const ke=new WeakMap,gt=new WeakMap,Qe=new WeakMap,ye=new WeakMap,Ee=new WeakMap;let _t={get(Ze,Ne,It){if(Ze instanceof IDBTransaction){if("done"===Ne)return gt.get(Ze);if("objectStoreNames"===Ne)return Ze.objectStoreNames||Qe.get(Ze);if("store"===Ne)return It.objectStoreNames[1]?void 0:It.objectStore(It.objectStoreNames[0])}return me(Ze[Ne])},set:(Ze,Ne,It)=>(Ze[Ne]=It,!0),has:(Ze,Ne)=>Ze instanceof IDBTransaction&&("done"===Ne||"store"===Ne)||Ne in Ze};function Ut(Ze){return"function"==typeof Ze?function xt(Ze){return Ze!==IDBDatabase.prototype.transaction||"objectStoreNames"in IDBTransaction.prototype?function Ye(){return Oe||(Oe=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}().includes(Ze)?function(...Ne){return Ze.apply(on(this),Ne),me(ke.get(this))}:function(...Ne){return me(Ze.apply(on(this),Ne))}:function(Ne,...It){const gn=Ze.call(on(this),Ne,...It);return Qe.set(gn,Ne.sort?Ne.sort():[Ne]),me(gn)}}(Ze):(Ze instanceof IDBTransaction&&function St(Ze){if(gt.has(Ze))return;const Ne=new Promise((It,gn)=>{const kn=()=>{Ze.removeEventListener("complete",vi),Ze.removeEventListener("error",Ai),Ze.removeEventListener("abort",Ai)},vi=()=>{It(),kn()},Ai=()=>{gn(Ze.error||new DOMException("AbortError","AbortError")),kn()};Ze.addEventListener("complete",vi),Ze.addEventListener("error",Ai),Ze.addEventListener("abort",Ai)});gt.set(Ze,Ne)}(Ze),Le(Ze,function xe(){return re||(re=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}())?new Proxy(Ze,_t):Ze)}function me(Ze){if(Ze instanceof IDBRequest)return function He(Ze){const Ne=new Promise((It,gn)=>{const kn=()=>{Ze.removeEventListener("success",vi),Ze.removeEventListener("error",Ai)},vi=()=>{It(me(Ze.result)),kn()},Ai=()=>{gn(Ze.error),kn()};Ze.addEventListener("success",vi),Ze.addEventListener("error",Ai)});return Ne.then(It=>{It instanceof IDBCursor&&ke.set(It,Ze)}).catch(()=>{}),Ee.set(Ne,Ze),Ne}(Ze);if(ye.has(Ze))return ye.get(Ze);const Ne=Ut(Ze);return Ne!==Ze&&(ye.set(Ze,Ne),Ee.set(Ne,Ze)),Ne}const on=Ze=>Ee.get(Ze);function $t(Ze,Ne,{blocked:It,upgrade:gn,blocking:kn,terminated:vi}={}){const Ai=indexedDB.open(Ze,Ne),Li=me(Ai);return gn&&Ai.addEventListener("upgradeneeded",ki=>{gn(me(Ai.result),ki.oldVersion,ki.newVersion,me(Ai.transaction),ki)}),It&&Ai.addEventListener("blocked",ki=>It(ki.oldVersion,ki.newVersion,ki)),Li.then(ki=>{vi&&ki.addEventListener("close",()=>vi()),kn&&ki.addEventListener("versionchange",tr=>kn(tr.oldVersion,tr.newVersion,tr))}).catch(()=>{}),Li}const et=["get","getKey","getAll","getAllKeys","count"],Ge=["put","add","delete","clear"],ht=new Map;function Et(Ze,Ne){if(!(Ze instanceof IDBDatabase)||Ne in Ze||"string"!=typeof Ne)return;if(ht.get(Ne))return ht.get(Ne);const It=Ne.replace(/FromIndex$/,""),gn=Ne!==It,kn=Ge.includes(It);if(!(It in(gn?IDBIndex:IDBObjectStore).prototype)||!kn&&!et.includes(It))return;const vi=function(){var Ai=(0,a.Z)(function*(Li,...ki){const tr=this.transaction(Li,kn?"readwrite":"readonly");let qe=tr.store;return gn&&(qe=qe.index(ki.shift())),(yield Promise.all([qe[It](...ki),kn&&tr.done]))[0]});return function(ki){return Ai.apply(this,arguments)}}();return ht.set(Ne,vi),vi}!function At(Ze){_t=Ze(_t)}(Ze=>({...Ze,get:(Ne,It,gn)=>Et(Ne,It)||Ze.get(Ne,It,gn),has:(Ne,It)=>!!Et(Ne,It)||Ze.has(Ne,It)}))},5861:(nn,ct,ce)=>{function a(re,Oe,xe,Ye,ke,gt,Qe){try{var ye=re[gt](Qe),Ee=ye.value}catch(He){return void xe(He)}ye.done?Oe(Ee):Promise.resolve(Ee).then(Ye,ke)}function Le(re){return function(){var Oe=this,xe=arguments;return new Promise(function(Ye,ke){var gt=re.apply(Oe,xe);function Qe(Ee){a(gt,Ye,ke,Qe,ye,"next",Ee)}function ye(Ee){a(gt,Ye,ke,Qe,ye,"throw",Ee)}Qe(void 0)})}}ce.d(ct,{Z:()=>Le})},7582:(nn,ct,ce)=>{ce.d(ct,{FC:()=>et,KL:()=>ht,_T:()=>Oe,mG:()=>He,pi:()=>re,qq:()=>_e});var re=function(){return re=Object.assign||function(nt){for(var Je,rt=1,dt=arguments.length;rt<dt;rt++)for(var vt in Je=arguments[rt])Object.prototype.hasOwnProperty.call(Je,vt)&&(nt[vt]=Je[vt]);return nt},re.apply(this,arguments)};function Oe(qe,nt){var Je={};for(var rt in qe)Object.prototype.hasOwnProperty.call(qe,rt)&&nt.indexOf(rt)<0&&(Je[rt]=qe[rt]);if(null!=qe&&"function"==typeof Object.getOwnPropertySymbols){var dt=0;for(rt=Object.getOwnPropertySymbols(qe);dt<rt.length;dt++)nt.indexOf(rt[dt])<0&&Object.prototype.propertyIsEnumerable.call(qe,rt[dt])&&(Je[rt[dt]]=qe[rt[dt]])}return Je}function He(qe,nt,Je,rt){return new(Je||(Je=Promise))(function(vt,Ot){function Rt(Yn){try{pn(rt.next(Yn))}catch(dn){Ot(dn)}}function yi(Yn){try{pn(rt.throw(Yn))}catch(dn){Ot(dn)}}function pn(Yn){Yn.done?vt(Yn.value):function dt(vt){return vt instanceof Je?vt:new Je(function(Ot){Ot(vt)})}(Yn.value).then(Rt,yi)}pn((rt=rt.apply(qe,nt||[])).next())})}function _e(qe){return this instanceof _e?(this.v=qe,this):new _e(qe)}function et(qe,nt,Je){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var dt,rt=Je.apply(qe,nt||[]),vt=[];return dt={},Ot("next"),Ot("throw"),Ot("return"),dt[Symbol.asyncIterator]=function(){return this},dt;function Ot(hi){rt[hi]&&(dt[hi]=function(Oi){return new Promise(function(Ui,fi){vt.push([hi,Oi,Ui,fi])>1||Rt(hi,Oi)})})}function Rt(hi,Oi){try{!function yi(hi){hi.value instanceof _e?Promise.resolve(hi.value.v).then(pn,Yn):dn(vt[0][2],hi)}(rt[hi](Oi))}catch(Ui){dn(vt[0][3],Ui)}}function pn(hi){Rt("next",hi)}function Yn(hi){Rt("throw",hi)}function dn(hi,Oi){hi(Oi),vt.shift(),vt.length&&Rt(vt[0][0],vt[0][1])}}function ht(qe){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var Je,nt=qe[Symbol.asyncIterator];return nt?nt.call(qe):(qe=function xt(qe){var nt="function"==typeof Symbol&&Symbol.iterator,Je=nt&&qe[nt],rt=0;if(Je)return Je.call(qe);if(qe&&"number"==typeof qe.length)return{next:function(){return qe&&rt>=qe.length&&(qe=void 0),{value:qe&&qe[rt++],done:!qe}}};throw new TypeError(nt?"Object is not iterable.":"Symbol.iterator is not defined.")}(qe),Je={},rt("next"),rt("throw"),rt("return"),Je[Symbol.asyncIterator]=function(){return this},Je);function rt(vt){Je[vt]=qe[vt]&&function(Ot){return new Promise(function(Rt,yi){!function dt(vt,Ot,Rt,yi){Promise.resolve(yi).then(function(pn){vt({value:pn,done:Rt})},Ot)}(Rt,yi,(Ot=qe[vt](Ot)).done,Ot.value)})}}}"function"==typeof SuppressedError&&SuppressedError}},nn=>{nn(nn.s=7122)}]);